var J2=Object.defineProperty;var G2=(e,t,n)=>t in e?J2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var va=(e,t,n)=>G2(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Af={exports:{}},io={},Df={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function Y2(){if(Sv)return Ve;Sv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(D){return D===null||typeof D!="object"?null:(D=g&&D[g]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function C(D,z,R){this.props=D,this.context=z,this.refs=_,this.updater=R||x}C.prototype.isReactComponent={},C.prototype.setState=function(D,z){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,z,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=C.prototype;function I(D,z,R){this.props=D,this.context=z,this.refs=_,this.updater=R||x}var N=I.prototype=new k;N.constructor=I,S(N,C.prototype),N.isPureReactComponent=!0;var j=Array.isArray,L=Object.prototype.hasOwnProperty,A={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function X(D,z,R){var ve,me={},be=null,Be=null;if(z!=null)for(ve in z.ref!==void 0&&(Be=z.ref),z.key!==void 0&&(be=""+z.key),z)L.call(z,ve)&&!U.hasOwnProperty(ve)&&(me[ve]=z[ve]);var De=arguments.length-2;if(De===1)me.children=R;else if(1<De){for(var He=Array(De),ot=0;ot<De;ot++)He[ot]=arguments[ot+2];me.children=He}if(D&&D.defaultProps)for(ve in De=D.defaultProps,De)me[ve]===void 0&&(me[ve]=De[ve]);return{$$typeof:e,type:D,key:be,ref:Be,props:me,_owner:A.current}}function W(D,z){return{$$typeof:e,type:D.type,key:z,ref:D.ref,props:D.props,_owner:D._owner}}function Q(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function K(D){var z={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(R){return z[R]})}var J=/\/+/g;function ee(D,z){return typeof D=="object"&&D!==null&&D.key!=null?K(""+D.key):z.toString(36)}function G(D,z,R,ve,me){var be=typeof D;(be==="undefined"||be==="boolean")&&(D=null);var Be=!1;if(D===null)Be=!0;else switch(be){case"string":case"number":Be=!0;break;case"object":switch(D.$$typeof){case e:case t:Be=!0}}if(Be)return Be=D,me=me(Be),D=ve===""?"."+ee(Be,0):ve,j(me)?(R="",D!=null&&(R=D.replace(J,"$&/")+"/"),G(me,z,R,"",function(ot){return ot})):me!=null&&(Q(me)&&(me=W(me,R+(!me.key||Be&&Be.key===me.key?"":(""+me.key).replace(J,"$&/")+"/")+D)),z.push(me)),1;if(Be=0,ve=ve===""?".":ve+":",j(D))for(var De=0;De<D.length;De++){be=D[De];var He=ve+ee(be,De);Be+=G(be,z,R,He,me)}else if(He=v(D),typeof He=="function")for(D=He.call(D),De=0;!(be=D.next()).done;)be=be.value,He=ve+ee(be,De++),Be+=G(be,z,R,He,me);else if(be==="object")throw z=String(D),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Be}function re(D,z,R){if(D==null)return D;var ve=[],me=0;return G(D,ve,"","",function(be){return z.call(R,be,me++)}),ve}function de(D){if(D._status===-1){var z=D._result;z=z(),z.then(function(R){(D._status===0||D._status===-1)&&(D._status=1,D._result=R)},function(R){(D._status===0||D._status===-1)&&(D._status=2,D._result=R)}),D._status===-1&&(D._status=0,D._result=z)}if(D._status===1)return D._result.default;throw D._result}var V={current:null},q={transition:null},Y={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:q,ReactCurrentOwner:A};function E(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:re,forEach:function(D,z,R){re(D,function(){z.apply(this,arguments)},R)},count:function(D){var z=0;return re(D,function(){z++}),z},toArray:function(D){return re(D,function(z){return z})||[]},only:function(D){if(!Q(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ve.Component=C,Ve.Fragment=n,Ve.Profiler=s,Ve.PureComponent=I,Ve.StrictMode=r,Ve.Suspense=d,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ve.act=E,Ve.cloneElement=function(D,z,R){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ve=S({},D.props),me=D.key,be=D.ref,Be=D._owner;if(z!=null){if(z.ref!==void 0&&(be=z.ref,Be=A.current),z.key!==void 0&&(me=""+z.key),D.type&&D.type.defaultProps)var De=D.type.defaultProps;for(He in z)L.call(z,He)&&!U.hasOwnProperty(He)&&(ve[He]=z[He]===void 0&&De!==void 0?De[He]:z[He])}var He=arguments.length-2;if(He===1)ve.children=R;else if(1<He){De=Array(He);for(var ot=0;ot<He;ot++)De[ot]=arguments[ot+2];ve.children=De}return{$$typeof:e,type:D.type,key:me,ref:be,props:ve,_owner:Be}},Ve.createContext=function(D){return D={$$typeof:l,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:i,_context:D},D.Consumer=D},Ve.createElement=X,Ve.createFactory=function(D){var z=X.bind(null,D);return z.type=D,z},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(D){return{$$typeof:u,render:D}},Ve.isValidElement=Q,Ve.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:de}},Ve.memo=function(D,z){return{$$typeof:f,type:D,compare:z===void 0?null:z}},Ve.startTransition=function(D){var z=q.transition;q.transition={};try{D()}finally{q.transition=z}},Ve.unstable_act=E,Ve.useCallback=function(D,z){return V.current.useCallback(D,z)},Ve.useContext=function(D){return V.current.useContext(D)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(D){return V.current.useDeferredValue(D)},Ve.useEffect=function(D,z){return V.current.useEffect(D,z)},Ve.useId=function(){return V.current.useId()},Ve.useImperativeHandle=function(D,z,R){return V.current.useImperativeHandle(D,z,R)},Ve.useInsertionEffect=function(D,z){return V.current.useInsertionEffect(D,z)},Ve.useLayoutEffect=function(D,z){return V.current.useLayoutEffect(D,z)},Ve.useMemo=function(D,z){return V.current.useMemo(D,z)},Ve.useReducer=function(D,z,R){return V.current.useReducer(D,z,R)},Ve.useRef=function(D){return V.current.useRef(D)},Ve.useState=function(D){return V.current.useState(D)},Ve.useSyncExternalStore=function(D,z,R){return V.current.useSyncExternalStore(D,z,R)},Ve.useTransition=function(){return V.current.useTransition()},Ve.version="18.3.1",Ve}var kv;function Bh(){return kv||(kv=1,Df.exports=Y2()),Df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function K2(){if(_v)return io;_v=1;var e=Bh(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var h,g={},v=null,x=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(x=d.ref);for(h in d)r.call(d,h)&&!i.hasOwnProperty(h)&&(g[h]=d[h]);if(u&&u.defaultProps)for(h in d=u.defaultProps,d)g[h]===void 0&&(g[h]=d[h]);return{$$typeof:t,type:u,key:v,ref:x,props:g,_owner:s.current}}return io.Fragment=n,io.jsx=l,io.jsxs=l,io}var Cv;function X2(){return Cv||(Cv=1,Af.exports=K2()),Af.exports}var y=X2(),O=Bh();const er=yi(O);var Mu={},Mf={exports:{}},pn={},Lf={exports:{}},Ff={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function Q2(){return Tv||(Tv=1,function(e){function t(q,Y){var E=q.length;q.push(Y);e:for(;0<E;){var D=E-1>>>1,z=q[D];if(0<s(z,Y))q[D]=Y,q[E]=z,E=D;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Y=q[0],E=q.pop();if(E!==Y){q[0]=E;e:for(var D=0,z=q.length,R=z>>>1;D<R;){var ve=2*(D+1)-1,me=q[ve],be=ve+1,Be=q[be];if(0>s(me,E))be<z&&0>s(Be,me)?(q[D]=Be,q[be]=E,D=be):(q[D]=me,q[ve]=E,D=ve);else if(be<z&&0>s(Be,E))q[D]=Be,q[be]=E,D=be;else break e}}return Y}function s(q,Y){var E=q.sortIndex-Y.sortIndex;return E!==0?E:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],h=1,g=null,v=3,x=!1,S=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(q){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=q)r(f),Y.sortIndex=Y.expirationTime,t(d,Y);else break;Y=n(f)}}function j(q){if(_=!1,N(q),!S)if(n(d)!==null)S=!0,de(L);else{var Y=n(f);Y!==null&&V(j,Y.startTime-q)}}function L(q,Y){S=!1,_&&(_=!1,k(X),X=-1),x=!0;var E=v;try{for(N(Y),g=n(d);g!==null&&(!(g.expirationTime>Y)||q&&!K());){var D=g.callback;if(typeof D=="function"){g.callback=null,v=g.priorityLevel;var z=D(g.expirationTime<=Y);Y=e.unstable_now(),typeof z=="function"?g.callback=z:g===n(d)&&r(d),N(Y)}else r(d);g=n(d)}if(g!==null)var R=!0;else{var ve=n(f);ve!==null&&V(j,ve.startTime-Y),R=!1}return R}finally{g=null,v=E,x=!1}}var A=!1,U=null,X=-1,W=5,Q=-1;function K(){return!(e.unstable_now()-Q<W)}function J(){if(U!==null){var q=e.unstable_now();Q=q;var Y=!0;try{Y=U(!0,q)}finally{Y?ee():(A=!1,U=null)}}else A=!1}var ee;if(typeof I=="function")ee=function(){I(J)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,re=G.port2;G.port1.onmessage=J,ee=function(){re.postMessage(null)}}else ee=function(){C(J,0)};function de(q){U=q,A||(A=!0,ee())}function V(q,Y){X=C(function(){q(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){S||x||(S=!0,de(L))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(q){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var E=v;v=Y;try{return q()}finally{v=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var E=v;v=q;try{return Y()}finally{v=E}},e.unstable_scheduleCallback=function(q,Y,E){var D=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?D+E:D):E=D,q){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=E+z,q={id:h++,callback:Y,priorityLevel:q,startTime:E,expirationTime:z,sortIndex:-1},E>D?(q.sortIndex=E,t(f,q),n(d)===null&&q===n(f)&&(_?(k(X),X=-1):_=!0,V(j,E-D))):(q.sortIndex=z,t(d,q),S||x||(S=!0,de(L))),q},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(q){var Y=v;return function(){var E=v;v=Y;try{return q.apply(this,arguments)}finally{v=E}}}}(Ff)),Ff}var Ev;function eC(){return Ev||(Ev=1,Lf.exports=Q2()),Lf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function tC(){if(Iv)return pn;Iv=1;var e=Bh(),t=eC();function n(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,o){l(a,o),l(a+"Capture",o)}function l(a,o){for(s[a]=o,a=0;a<o.length;a++)r.add(o[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function v(a){return d.call(g,a)?!0:d.call(h,a)?!1:f.test(a)?g[a]=!0:(h[a]=!0,!1)}function x(a,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,o,c,p){if(o===null||typeof o>"u"||x(a,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(a,o,c,p,m,b,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=a,this.type=o,this.sanitizeURL=b,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];C[o]=new _(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function I(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(k,I);C[o]=new _(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(k,I);C[o]=new _(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(k,I);C[o]=new _(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function N(a,o,c,p){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,m,p)&&(c=null),p||m===null?v(o)&&(c===null?a.removeAttribute(o):a.setAttribute(o,""+c)):m.mustUseProperty?a[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,p=m.attributeNamespace,c===null?a.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,p?a.setAttributeNS(p,o,c):a.setAttribute(o,c))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),A=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),K=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),q=Symbol.iterator;function Y(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var E=Object.assign,D;function z(a){if(D===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);D=o&&o[1]||""}return`
`+D+a}var R=!1;function ve(a,o){if(!a||R)return"";R=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var p=H}Reflect.construct(a,[],o)}else{try{o.call()}catch(H){p=H}a.call(o.prototype)}else{try{throw Error()}catch(H){p=H}a()}}catch(H){if(H&&p&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),b=p.stack.split(`
`),T=m.length-1,P=b.length-1;1<=T&&0<=P&&m[T]!==b[P];)P--;for(;1<=T&&0<=P;T--,P--)if(m[T]!==b[P]){if(T!==1||P!==1)do if(T--,P--,0>P||m[T]!==b[P]){var M=`
`+m[T].replace(" at new "," at ");return a.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",a.displayName)),M}while(1<=T&&0<=P);break}}}finally{R=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?z(a):""}function me(a){switch(a.tag){case 5:return z(a.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return a=ve(a.type,!1),a;case 11:return a=ve(a.type.render,!1),a;case 1:return a=ve(a.type,!0),a;default:return""}}function be(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case U:return"Fragment";case A:return"Portal";case W:return"Profiler";case X:return"StrictMode";case ee:return"Suspense";case G:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case K:return(a.displayName||"Context")+".Consumer";case Q:return(a._context.displayName||"Context")+".Provider";case J:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case re:return o=a.displayName||null,o!==null?o:be(a.type)||"Memo";case de:o=a._payload,a=a._init;try{return be(a(o))}catch{}}return null}function Be(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(o);case 8:return o===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function He(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ot(a){var o=He(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),p=""+a[o];if(!a.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){p=""+T,b.call(this,T)}}),Object.defineProperty(a,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function qe(a){a._valueTracker||(a._valueTracker=ot(a))}function Ae(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return a&&(p=He(a)?a.checked?"true":"false":a.value),a=p,a!==c?(o.setValue(a),!0):!1}function rt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ot(a,o){var c=o.checked;return E({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??a._wrapperState.initialChecked})}function ge(a,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=De(o.value!=null?o.value:c),a._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Qe(a,o){o=o.checked,o!=null&&N(a,"checked",o,!1)}function Ft(a,o){Qe(a,o);var c=De(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?Bn(a,o.type,c):o.hasOwnProperty("defaultValue")&&Bn(a,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function St(a,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,c||o===a.value||(a.value=o),a.defaultValue=o}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function Bn(a,o,c){(o!=="number"||rt(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var ir=Array.isArray;function gn(a,o,c,p){if(a=a.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<a.length;c++)m=o.hasOwnProperty("$"+a[c].value),a[c].selected!==m&&(a[c].selected=m),m&&p&&(a[c].defaultSelected=!0)}else{for(c=""+De(c),o=null,m=0;m<a.length;m++){if(a[m].value===c){a[m].selected=!0,p&&(a[m].defaultSelected=!0);return}o!==null||a[m].disabled||(o=a[m])}o!==null&&(o.selected=!0)}}function Yr(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return E({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Kr(a,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(ir(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}a._wrapperState={initialValue:De(c)}}function La(a,o){var c=De(o.value),p=De(o.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),o.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),p!=null&&(a.defaultValue=""+p)}function Fa(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function Z(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?Z(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ce,Me=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,m){MSApp.execUnsafeLocalFunction(function(){return a(o,c,p,m)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ce.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function Ze(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tn=["Webkit","ms","Moz","O"];Object.keys(ht).forEach(function(a){Tn.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),ht[o]=ht[a]})});function an(a,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||ht.hasOwnProperty(a)&&ht[a]?(""+o).trim():o+"px"}function Hn(a,o){a=a.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,m=an(c,o[c],p);c==="float"&&(c="cssFloat"),p?a.setProperty(c,m):a[c]=m}}var Kt=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(a,o){if(o){if(Kt[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Pt(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=null;function za(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ss=null,En=null,Xr=null;function _i(a){if(a=Vi(a)){if(typeof Ss!="function")throw Error(n(280));var o=a.stateNode;o&&(o=Kl(o),Ss(a.stateNode,a.type,o))}}function ks(a){En?Xr?Xr.push(a):Xr=[a]:En=a}function sn(){if(En){var a=En,o=Xr;if(Xr=En=null,_i(a),o)for(a=0;a<o.length;a++)_i(o[a])}}function Nr(a,o){return a(o)}function Ci(){}var _s=!1;function Ti(a,o,c){if(_s)return a(o,c);_s=!0;try{return Nr(a,o,c)}finally{_s=!1,(En!==null||Xr!==null)&&(Ci(),sn())}}function Or(a,o){var c=a.stateNode;if(c===null)return null;var p=Kl(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Je=!1;if(u)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Je=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Je=!1}function In(a,o,c,p,m,b,T,P,M){var H=Array.prototype.slice.call(arguments,3);try{o.apply(c,H)}catch(ne){this.onError(ne)}}var qn=!1,Nn=null,$a=!1,on=null,Cs={onError:function(a){qn=!0,Nn=a}};function n_(a,o,c,p,m,b,T,P,M){qn=!1,Nn=null,In.apply(Cs,arguments)}function r_(a,o,c,p,m,b,T,P,M){if(n_.apply(this,arguments),qn){if(qn){var H=Nn;qn=!1,Nn=null}else throw Error(n(198));$a||($a=!0,on=H)}}function Ua(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function Vm(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function Wm(a){if(Ua(a)!==a)throw Error(n(188))}function a_(a){var o=a.alternate;if(!o){if(o=Ua(a),o===null)throw Error(n(188));return o!==a?null:a}for(var c=a,p=o;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(p=m.return,p!==null){c=p;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return Wm(m),a;if(b===p)return Wm(m),o;b=b.sibling}throw Error(n(188))}if(c.return!==p.return)c=m,p=b;else{for(var T=!1,P=m.child;P;){if(P===c){T=!0,c=m,p=b;break}if(P===p){T=!0,p=m,c=b;break}P=P.sibling}if(!T){for(P=b.child;P;){if(P===c){T=!0,c=b,p=m;break}if(P===p){T=!0,p=b,c=m;break}P=P.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:o}function Zm(a){return a=a_(a),a!==null?Jm(a):null}function Jm(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=Jm(a);if(o!==null)return o;a=a.sibling}return null}var Gm=t.unstable_scheduleCallback,Ym=t.unstable_cancelCallback,s_=t.unstable_shouldYield,i_=t.unstable_requestPaint,Tt=t.unstable_now,o_=t.unstable_getCurrentPriorityLevel,Qc=t.unstable_ImmediatePriority,Km=t.unstable_UserBlockingPriority,jl=t.unstable_NormalPriority,l_=t.unstable_LowPriority,Xm=t.unstable_IdlePriority,Rl=null,or=null;function u_(a){if(or&&typeof or.onCommitFiberRoot=="function")try{or.onCommitFiberRoot(Rl,a,void 0,(a.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:f_,c_=Math.log,d_=Math.LN2;function f_(a){return a>>>=0,a===0?32:31-(c_(a)/d_|0)|0}var Pl=64,Al=4194304;function Ei(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Dl(a,o){var c=a.pendingLanes;if(c===0)return 0;var p=0,m=a.suspendedLanes,b=a.pingedLanes,T=c&268435455;if(T!==0){var P=T&~m;P!==0?p=Ei(P):(b&=T,b!==0&&(p=Ei(b)))}else T=c&~m,T!==0?p=Ei(T):b!==0&&(p=Ei(b));if(p===0)return 0;if(o!==0&&o!==p&&!(o&m)&&(m=p&-p,b=o&-o,m>=b||m===16&&(b&4194240)!==0))return o;if(p&4&&(p|=c&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=p;0<o;)c=31-Vn(o),m=1<<c,p|=a[c],o&=~m;return p}function p_(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function h_(a,o){for(var c=a.suspendedLanes,p=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes;0<b;){var T=31-Vn(b),P=1<<T,M=m[T];M===-1?(!(P&c)||P&p)&&(m[T]=p_(P,o)):M<=o&&(a.expiredLanes|=P),b&=~P}}function ed(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Qm(){var a=Pl;return Pl<<=1,!(Pl&4194240)&&(Pl=64),a}function td(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function Ii(a,o,c){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Vn(o),a[o]=c}function m_(a,o){var c=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<c;){var m=31-Vn(c),b=1<<m;o[m]=0,p[m]=-1,a[m]=-1,c&=~b}}function nd(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var p=31-Vn(c),m=1<<p;m&o|a[p]&o&&(a[p]|=o),c&=~m}}var tt=0;function eg(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var tg,rd,ng,rg,ag,ad=!1,Ml=[],Qr=null,ea=null,ta=null,Ni=new Map,Oi=new Map,na=[],g_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sg(a,o){switch(a){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Ni.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(o.pointerId)}}function ji(a,o,c,p,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Vi(o),o!==null&&rd(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),a)}function y_(a,o,c,p,m){switch(o){case"focusin":return Qr=ji(Qr,a,o,c,p,m),!0;case"dragenter":return ea=ji(ea,a,o,c,p,m),!0;case"mouseover":return ta=ji(ta,a,o,c,p,m),!0;case"pointerover":var b=m.pointerId;return Ni.set(b,ji(Ni.get(b)||null,a,o,c,p,m)),!0;case"gotpointercapture":return b=m.pointerId,Oi.set(b,ji(Oi.get(b)||null,a,o,c,p,m)),!0}return!1}function ig(a){var o=Ba(a.target);if(o!==null){var c=Ua(o);if(c!==null){if(o=c.tag,o===13){if(o=Vm(c),o!==null){a.blockedOn=o,ag(a.priority,function(){ng(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ll(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=id(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);kt=p,c.target.dispatchEvent(p),kt=null}else return o=Vi(c),o!==null&&rd(o),a.blockedOn=c,!1;o.shift()}return!0}function og(a,o,c){Ll(a)&&c.delete(o)}function v_(){ad=!1,Qr!==null&&Ll(Qr)&&(Qr=null),ea!==null&&Ll(ea)&&(ea=null),ta!==null&&Ll(ta)&&(ta=null),Ni.forEach(og),Oi.forEach(og)}function Ri(a,o){a.blockedOn===o&&(a.blockedOn=null,ad||(ad=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v_)))}function Pi(a){function o(m){return Ri(m,a)}if(0<Ml.length){Ri(Ml[0],a);for(var c=1;c<Ml.length;c++){var p=Ml[c];p.blockedOn===a&&(p.blockedOn=null)}}for(Qr!==null&&Ri(Qr,a),ea!==null&&Ri(ea,a),ta!==null&&Ri(ta,a),Ni.forEach(o),Oi.forEach(o),c=0;c<na.length;c++)p=na[c],p.blockedOn===a&&(p.blockedOn=null);for(;0<na.length&&(c=na[0],c.blockedOn===null);)ig(c),c.blockedOn===null&&na.shift()}var Ts=j.ReactCurrentBatchConfig,Fl=!0;function x_(a,o,c,p){var m=tt,b=Ts.transition;Ts.transition=null;try{tt=1,sd(a,o,c,p)}finally{tt=m,Ts.transition=b}}function w_(a,o,c,p){var m=tt,b=Ts.transition;Ts.transition=null;try{tt=4,sd(a,o,c,p)}finally{tt=m,Ts.transition=b}}function sd(a,o,c,p){if(Fl){var m=id(a,o,c,p);if(m===null)kd(a,o,p,zl,c),sg(a,p);else if(y_(m,a,o,c,p))p.stopPropagation();else if(sg(a,p),o&4&&-1<g_.indexOf(a)){for(;m!==null;){var b=Vi(m);if(b!==null&&tg(b),b=id(a,o,c,p),b===null&&kd(a,o,p,zl,c),b===m)break;m=b}m!==null&&p.stopPropagation()}else kd(a,o,p,null,c)}}var zl=null;function id(a,o,c,p){if(zl=null,a=za(p),a=Ba(a),a!==null)if(o=Ua(a),o===null)a=null;else if(c=o.tag,c===13){if(a=Vm(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return zl=a,null}function lg(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(o_()){case Qc:return 1;case Km:return 4;case jl:case l_:return 16;case Xm:return 536870912;default:return 16}default:return 16}}var ra=null,od=null,$l=null;function ug(){if($l)return $l;var a,o=od,c=o.length,p,m="value"in ra?ra.value:ra.textContent,b=m.length;for(a=0;a<c&&o[a]===m[a];a++);var T=c-a;for(p=1;p<=T&&o[c-p]===m[b-p];p++);return $l=m.slice(a,1<p?1-p:void 0)}function Ul(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Bl(){return!0}function cg(){return!1}function yn(a){function o(c,p,m,b,T){this._reactName=c,this._targetInst=m,this.type=p,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(c=a[P],this[P]=c?c(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Bl:cg,this.isPropagationStopped=cg,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),o}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ld=yn(Es),Ai=E({},Es,{view:0,detail:0}),b_=yn(Ai),ud,cd,Di,Hl=E({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fd,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Di&&(Di&&a.type==="mousemove"?(ud=a.screenX-Di.screenX,cd=a.screenY-Di.screenY):cd=ud=0,Di=a),ud)},movementY:function(a){return"movementY"in a?a.movementY:cd}}),dg=yn(Hl),S_=E({},Hl,{dataTransfer:0}),k_=yn(S_),__=E({},Ai,{relatedTarget:0}),dd=yn(__),C_=E({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),T_=yn(C_),E_=E({},Es,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),I_=yn(E_),N_=E({},Es,{data:0}),fg=yn(N_),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},j_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P_(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=R_[a])?!!o[a]:!1}function fd(){return P_}var A_=E({},Ai,{key:function(a){if(a.key){var o=O_[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Ul(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?j_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fd,charCode:function(a){return a.type==="keypress"?Ul(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ul(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),D_=yn(A_),M_=E({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pg=yn(M_),L_=E({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fd}),F_=yn(L_),z_=E({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),$_=yn(z_),U_=E({},Hl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),B_=yn(U_),H_=[9,13,27,32],pd=u&&"CompositionEvent"in window,Mi=null;u&&"documentMode"in document&&(Mi=document.documentMode);var q_=u&&"TextEvent"in window&&!Mi,hg=u&&(!pd||Mi&&8<Mi&&11>=Mi),mg=" ",gg=!1;function yg(a,o){switch(a){case"keyup":return H_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Is=!1;function V_(a,o){switch(a){case"compositionend":return vg(o);case"keypress":return o.which!==32?null:(gg=!0,mg);case"textInput":return a=o.data,a===mg&&gg?null:a;default:return null}}function W_(a,o){if(Is)return a==="compositionend"||!pd&&yg(a,o)?(a=ug(),$l=od=ra=null,Is=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hg&&o.locale!=="ko"?null:o.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Z_[a.type]:o==="textarea"}function wg(a,o,c,p){ks(p),o=Jl(o,"onChange"),0<o.length&&(c=new ld("onChange","change",null,c,p),a.push({event:c,listeners:o}))}var Li=null,Fi=null;function J_(a){Fg(a,0)}function ql(a){var o=Ps(a);if(Ae(o))return a}function G_(a,o){if(a==="change")return o}var bg=!1;if(u){var hd;if(u){var md="oninput"in document;if(!md){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),md=typeof Sg.oninput=="function"}hd=md}else hd=!1;bg=hd&&(!document.documentMode||9<document.documentMode)}function kg(){Li&&(Li.detachEvent("onpropertychange",_g),Fi=Li=null)}function _g(a){if(a.propertyName==="value"&&ql(Fi)){var o=[];wg(o,Fi,a,za(a)),Ti(J_,o)}}function Y_(a,o,c){a==="focusin"?(kg(),Li=o,Fi=c,Li.attachEvent("onpropertychange",_g)):a==="focusout"&&kg()}function K_(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ql(Fi)}function X_(a,o){if(a==="click")return ql(o)}function Q_(a,o){if(a==="input"||a==="change")return ql(o)}function e2(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Wn=typeof Object.is=="function"?Object.is:e2;function zi(a,o){if(Wn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var m=c[p];if(!d.call(o,m)||!Wn(a[m],o[m]))return!1}return!0}function Cg(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Tg(a,o){var c=Cg(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=o&&p>=o)return{node:c,offset:o-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Cg(c)}}function Eg(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?Eg(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function Ig(){for(var a=window,o=rt();o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=rt(a.document)}return o}function gd(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function t2(a){var o=Ig(),c=a.focusedElem,p=a.selectionRange;if(o!==c&&c&&c.ownerDocument&&Eg(c.ownerDocument.documentElement,c)){if(p!==null&&gd(c)){if(o=p.start,a=p.end,a===void 0&&(a=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(a,c.value.length);else if(a=(o=c.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var m=c.textContent.length,b=Math.min(p.start,m);p=p.end===void 0?b:Math.min(p.end,m),!a.extend&&b>p&&(m=p,p=b,b=m),m=Tg(c,b);var T=Tg(c,p);m&&T&&(a.rangeCount!==1||a.anchorNode!==m.node||a.anchorOffset!==m.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),a.removeAllRanges(),b>p?(a.addRange(o),a.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),a.addRange(o)))}}for(o=[],a=c;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)a=o[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var n2=u&&"documentMode"in document&&11>=document.documentMode,Ns=null,yd=null,$i=null,vd=!1;function Ng(a,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vd||Ns==null||Ns!==rt(p)||(p=Ns,"selectionStart"in p&&gd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),$i&&zi($i,p)||($i=p,p=Jl(yd,"onSelect"),0<p.length&&(o=new ld("onSelect","select",null,o,c),a.push({event:o,listeners:p}),o.target=Ns)))}function Vl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Os={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},xd={},Og={};u&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Os.animationend.animation,delete Os.animationiteration.animation,delete Os.animationstart.animation),"TransitionEvent"in window||delete Os.transitionend.transition);function Wl(a){if(xd[a])return xd[a];if(!Os[a])return a;var o=Os[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in Og)return xd[a]=o[c];return a}var jg=Wl("animationend"),Rg=Wl("animationiteration"),Pg=Wl("animationstart"),Ag=Wl("transitionend"),Dg=new Map,Mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(a,o){Dg.set(a,o),i(o,[a])}for(var wd=0;wd<Mg.length;wd++){var bd=Mg[wd],r2=bd.toLowerCase(),a2=bd[0].toUpperCase()+bd.slice(1);aa(r2,"on"+a2)}aa(jg,"onAnimationEnd"),aa(Rg,"onAnimationIteration"),aa(Pg,"onAnimationStart"),aa("dblclick","onDoubleClick"),aa("focusin","onFocus"),aa("focusout","onBlur"),aa(Ag,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ui));function Lg(a,o,c){var p=a.type||"unknown-event";a.currentTarget=c,r_(p,o,void 0,a),a.currentTarget=null}function Fg(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],m=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var T=p.length-1;0<=T;T--){var P=p[T],M=P.instance,H=P.currentTarget;if(P=P.listener,M!==b&&m.isPropagationStopped())break e;Lg(m,P,H),b=M}else for(T=0;T<p.length;T++){if(P=p[T],M=P.instance,H=P.currentTarget,P=P.listener,M!==b&&m.isPropagationStopped())break e;Lg(m,P,H),b=M}}}if($a)throw a=on,$a=!1,on=null,a}function lt(a,o){var c=o[Nd];c===void 0&&(c=o[Nd]=new Set);var p=a+"__bubble";c.has(p)||(zg(o,a,2,!1),c.add(p))}function Sd(a,o,c){var p=0;o&&(p|=4),zg(c,a,p,o)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Bi(a){if(!a[Zl]){a[Zl]=!0,r.forEach(function(c){c!=="selectionchange"&&(s2.has(c)||Sd(c,!1,a),Sd(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Zl]||(o[Zl]=!0,Sd("selectionchange",!1,o))}}function zg(a,o,c,p){switch(lg(o)){case 1:var m=x_;break;case 4:m=w_;break;default:m=sd}c=m.bind(null,o,c,a),m=void 0,!Je||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),p?m!==void 0?a.addEventListener(o,c,{capture:!0,passive:m}):a.addEventListener(o,c,!0):m!==void 0?a.addEventListener(o,c,{passive:m}):a.addEventListener(o,c,!1)}function kd(a,o,c,p,m){var b=p;if(!(o&1)&&!(o&2)&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var P=p.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(T===4)for(T=p.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;T=T.return}for(;P!==null;){if(T=Ba(P),T===null)return;if(M=T.tag,M===5||M===6){p=b=T;continue e}P=P.parentNode}}p=p.return}Ti(function(){var H=b,ne=za(c),ae=[];e:{var te=Dg.get(a);if(te!==void 0){var pe=ld,xe=a;switch(a){case"keypress":if(Ul(c)===0)break e;case"keydown":case"keyup":pe=D_;break;case"focusin":xe="focus",pe=dd;break;case"focusout":xe="blur",pe=dd;break;case"beforeblur":case"afterblur":pe=dd;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=k_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=F_;break;case jg:case Rg:case Pg:pe=T_;break;case Ag:pe=$_;break;case"scroll":pe=b_;break;case"wheel":pe=B_;break;case"copy":case"cut":case"paste":pe=I_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=pg}var we=(o&4)!==0,Et=!we&&a==="scroll",$=we?te!==null?te+"Capture":null:te;we=[];for(var F=H,B;F!==null;){B=F;var ue=B.stateNode;if(B.tag===5&&ue!==null&&(B=ue,$!==null&&(ue=Or(F,$),ue!=null&&we.push(Hi(F,ue,B)))),Et)break;F=F.return}0<we.length&&(te=new pe(te,xe,null,c,ne),ae.push({event:te,listeners:we}))}}if(!(o&7)){e:{if(te=a==="mouseover"||a==="pointerover",pe=a==="mouseout"||a==="pointerout",te&&c!==kt&&(xe=c.relatedTarget||c.fromElement)&&(Ba(xe)||xe[jr]))break e;if((pe||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,pe?(xe=c.relatedTarget||c.toElement,pe=H,xe=xe?Ba(xe):null,xe!==null&&(Et=Ua(xe),xe!==Et||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(pe=null,xe=H),pe!==xe)){if(we=dg,ue="onMouseLeave",$="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(we=pg,ue="onPointerLeave",$="onPointerEnter",F="pointer"),Et=pe==null?te:Ps(pe),B=xe==null?te:Ps(xe),te=new we(ue,F+"leave",pe,c,ne),te.target=Et,te.relatedTarget=B,ue=null,Ba(ne)===H&&(we=new we($,F+"enter",xe,c,ne),we.target=B,we.relatedTarget=Et,ue=we),Et=ue,pe&&xe)t:{for(we=pe,$=xe,F=0,B=we;B;B=js(B))F++;for(B=0,ue=$;ue;ue=js(ue))B++;for(;0<F-B;)we=js(we),F--;for(;0<B-F;)$=js($),B--;for(;F--;){if(we===$||$!==null&&we===$.alternate)break t;we=js(we),$=js($)}we=null}else we=null;pe!==null&&$g(ae,te,pe,we,!1),xe!==null&&Et!==null&&$g(ae,Et,xe,we,!0)}}e:{if(te=H?Ps(H):window,pe=te.nodeName&&te.nodeName.toLowerCase(),pe==="select"||pe==="input"&&te.type==="file")var Se=G_;else if(xg(te))if(bg)Se=Q_;else{Se=K_;var Te=Y_}else(pe=te.nodeName)&&pe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Se=X_);if(Se&&(Se=Se(a,H))){wg(ae,Se,c,ne);break e}Te&&Te(a,te,H),a==="focusout"&&(Te=te._wrapperState)&&Te.controlled&&te.type==="number"&&Bn(te,"number",te.value)}switch(Te=H?Ps(H):window,a){case"focusin":(xg(Te)||Te.contentEditable==="true")&&(Ns=Te,yd=H,$i=null);break;case"focusout":$i=yd=Ns=null;break;case"mousedown":vd=!0;break;case"contextmenu":case"mouseup":case"dragend":vd=!1,Ng(ae,c,ne);break;case"selectionchange":if(n2)break;case"keydown":case"keyup":Ng(ae,c,ne)}var Ee;if(pd)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Is?yg(a,c)&&(je="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(je="onCompositionStart");je&&(hg&&c.locale!=="ko"&&(Is||je!=="onCompositionStart"?je==="onCompositionEnd"&&Is&&(Ee=ug()):(ra=ne,od="value"in ra?ra.value:ra.textContent,Is=!0)),Te=Jl(H,je),0<Te.length&&(je=new fg(je,a,null,c,ne),ae.push({event:je,listeners:Te}),Ee?je.data=Ee:(Ee=vg(c),Ee!==null&&(je.data=Ee)))),(Ee=q_?V_(a,c):W_(a,c))&&(H=Jl(H,"onBeforeInput"),0<H.length&&(ne=new fg("onBeforeInput","beforeinput",null,c,ne),ae.push({event:ne,listeners:H}),ne.data=Ee))}Fg(ae,o)})}function Hi(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Jl(a,o){for(var c=o+"Capture",p=[];a!==null;){var m=a,b=m.stateNode;m.tag===5&&b!==null&&(m=b,b=Or(a,c),b!=null&&p.unshift(Hi(a,b,m)),b=Or(a,o),b!=null&&p.push(Hi(a,b,m))),a=a.return}return p}function js(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function $g(a,o,c,p,m){for(var b=o._reactName,T=[];c!==null&&c!==p;){var P=c,M=P.alternate,H=P.stateNode;if(M!==null&&M===p)break;P.tag===5&&H!==null&&(P=H,m?(M=Or(c,b),M!=null&&T.unshift(Hi(c,M,P))):m||(M=Or(c,b),M!=null&&T.push(Hi(c,M,P)))),c=c.return}T.length!==0&&a.push({event:o,listeners:T})}var i2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function Ug(a){return(typeof a=="string"?a:""+a).replace(i2,`
`).replace(o2,"")}function Gl(a,o,c){if(o=Ug(o),Ug(a)!==o&&c)throw Error(n(425))}function Yl(){}var _d=null,Cd=null;function Td(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ed=typeof setTimeout=="function"?setTimeout:void 0,l2=typeof clearTimeout=="function"?clearTimeout:void 0,Bg=typeof Promise=="function"?Promise:void 0,u2=typeof queueMicrotask=="function"?queueMicrotask:typeof Bg<"u"?function(a){return Bg.resolve(null).then(a).catch(c2)}:Ed;function c2(a){setTimeout(function(){throw a})}function Id(a,o){var c=o,p=0;do{var m=c.nextSibling;if(a.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(p===0){a.removeChild(m),Pi(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=m}while(c);Pi(o)}function sa(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Hg(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return a;o--}else c==="/$"&&o++}a=a.previousSibling}return null}var Rs=Math.random().toString(36).slice(2),lr="__reactFiber$"+Rs,qi="__reactProps$"+Rs,jr="__reactContainer$"+Rs,Nd="__reactEvents$"+Rs,d2="__reactListeners$"+Rs,f2="__reactHandles$"+Rs;function Ba(a){var o=a[lr];if(o)return o;for(var c=a.parentNode;c;){if(o=c[jr]||c[lr]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=Hg(a);a!==null;){if(c=a[lr])return c;a=Hg(a)}return o}a=c,c=a.parentNode}return null}function Vi(a){return a=a[lr]||a[jr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ps(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Kl(a){return a[qi]||null}var Od=[],As=-1;function ia(a){return{current:a}}function ut(a){0>As||(a.current=Od[As],Od[As]=null,As--)}function at(a,o){As++,Od[As]=a.current,a.current=o}var oa={},Ht=ia(oa),ln=ia(!1),Ha=oa;function Ds(a,o){var c=a.type.contextTypes;if(!c)return oa;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var m={},b;for(b in c)m[b]=o[b];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=m),m}function un(a){return a=a.childContextTypes,a!=null}function Xl(){ut(ln),ut(Ht)}function qg(a,o,c){if(Ht.current!==oa)throw Error(n(168));at(Ht,o),at(ln,c)}function Vg(a,o,c){var p=a.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var m in p)if(!(m in o))throw Error(n(108,Be(a)||"Unknown",m));return E({},c,p)}function Ql(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||oa,Ha=Ht.current,at(Ht,a),at(ln,ln.current),!0}function Wg(a,o,c){var p=a.stateNode;if(!p)throw Error(n(169));c?(a=Vg(a,o,Ha),p.__reactInternalMemoizedMergedChildContext=a,ut(ln),ut(Ht),at(Ht,a)):ut(ln),at(ln,c)}var Rr=null,eu=!1,jd=!1;function Zg(a){Rr===null?Rr=[a]:Rr.push(a)}function p2(a){eu=!0,Zg(a)}function la(){if(!jd&&Rr!==null){jd=!0;var a=0,o=tt;try{var c=Rr;for(tt=1;a<c.length;a++){var p=c[a];do p=p(!0);while(p!==null)}Rr=null,eu=!1}catch(m){throw Rr!==null&&(Rr=Rr.slice(a+1)),Gm(Qc,la),m}finally{tt=o,jd=!1}}return null}var Ms=[],Ls=0,tu=null,nu=0,On=[],jn=0,qa=null,Pr=1,Ar="";function Va(a,o){Ms[Ls++]=nu,Ms[Ls++]=tu,tu=a,nu=o}function Jg(a,o,c){On[jn++]=Pr,On[jn++]=Ar,On[jn++]=qa,qa=a;var p=Pr;a=Ar;var m=32-Vn(p)-1;p&=~(1<<m),c+=1;var b=32-Vn(o)+m;if(30<b){var T=m-m%5;b=(p&(1<<T)-1).toString(32),p>>=T,m-=T,Pr=1<<32-Vn(o)+m|c<<m|p,Ar=b+a}else Pr=1<<b|c<<m|p,Ar=a}function Rd(a){a.return!==null&&(Va(a,1),Jg(a,1,0))}function Pd(a){for(;a===tu;)tu=Ms[--Ls],Ms[Ls]=null,nu=Ms[--Ls],Ms[Ls]=null;for(;a===qa;)qa=On[--jn],On[jn]=null,Ar=On[--jn],On[jn]=null,Pr=On[--jn],On[jn]=null}var vn=null,xn=null,gt=!1,Zn=null;function Gg(a,o){var c=Dn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=a,o=a.deletions,o===null?(a.deletions=[c],a.flags|=16):o.push(c)}function Yg(a,o){switch(a.tag){case 5:var c=a.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,vn=a,xn=sa(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,vn=a,xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=qa!==null?{id:Pr,overflow:Ar}:null,a.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=Dn(18,null,null,0),c.stateNode=o,c.return=a,a.child=c,vn=a,xn=null,!0):!1;default:return!1}}function Ad(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Dd(a){if(gt){var o=xn;if(o){var c=o;if(!Yg(a,o)){if(Ad(a))throw Error(n(418));o=sa(c.nextSibling);var p=vn;o&&Yg(a,o)?Gg(p,c):(a.flags=a.flags&-4097|2,gt=!1,vn=a)}}else{if(Ad(a))throw Error(n(418));a.flags=a.flags&-4097|2,gt=!1,vn=a}}}function Kg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;vn=a}function ru(a){if(a!==vn)return!1;if(!gt)return Kg(a),gt=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!Td(a.type,a.memoizedProps)),o&&(o=xn)){if(Ad(a))throw Xg(),Error(n(418));for(;o;)Gg(a,o),o=sa(o.nextSibling)}if(Kg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(o===0){xn=sa(a.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}a=a.nextSibling}xn=null}}else xn=vn?sa(a.stateNode.nextSibling):null;return!0}function Xg(){for(var a=xn;a;)a=sa(a.nextSibling)}function Fs(){xn=vn=null,gt=!1}function Md(a){Zn===null?Zn=[a]:Zn.push(a)}var h2=j.ReactCurrentBatchConfig;function Wi(a,o,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,a));var m=p,b=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(T){var P=m.refs;T===null?delete P[b]:P[b]=T},o._stringRef=b,o)}if(typeof a!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,a))}return a}function au(a,o){throw a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function Qg(a){var o=a._init;return o(a._payload)}function ey(a){function o($,F){if(a){var B=$.deletions;B===null?($.deletions=[F],$.flags|=16):B.push(F)}}function c($,F){if(!a)return null;for(;F!==null;)o($,F),F=F.sibling;return null}function p($,F){for($=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function m($,F){return $=ga($,F),$.index=0,$.sibling=null,$}function b($,F,B){return $.index=B,a?(B=$.alternate,B!==null?(B=B.index,B<F?($.flags|=2,F):B):($.flags|=2,F)):($.flags|=1048576,F)}function T($){return a&&$.alternate===null&&($.flags|=2),$}function P($,F,B,ue){return F===null||F.tag!==6?(F=If(B,$.mode,ue),F.return=$,F):(F=m(F,B),F.return=$,F)}function M($,F,B,ue){var Se=B.type;return Se===U?ne($,F,B.props.children,ue,B.key):F!==null&&(F.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===de&&Qg(Se)===F.type)?(ue=m(F,B.props),ue.ref=Wi($,F,B),ue.return=$,ue):(ue=Iu(B.type,B.key,B.props,null,$.mode,ue),ue.ref=Wi($,F,B),ue.return=$,ue)}function H($,F,B,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==B.containerInfo||F.stateNode.implementation!==B.implementation?(F=Nf(B,$.mode,ue),F.return=$,F):(F=m(F,B.children||[]),F.return=$,F)}function ne($,F,B,ue,Se){return F===null||F.tag!==7?(F=Qa(B,$.mode,ue,Se),F.return=$,F):(F=m(F,B),F.return=$,F)}function ae($,F,B){if(typeof F=="string"&&F!==""||typeof F=="number")return F=If(""+F,$.mode,B),F.return=$,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case L:return B=Iu(F.type,F.key,F.props,null,$.mode,B),B.ref=Wi($,null,F),B.return=$,B;case A:return F=Nf(F,$.mode,B),F.return=$,F;case de:var ue=F._init;return ae($,ue(F._payload),B)}if(ir(F)||Y(F))return F=Qa(F,$.mode,B,null),F.return=$,F;au($,F)}return null}function te($,F,B,ue){var Se=F!==null?F.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return Se!==null?null:P($,F,""+B,ue);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===Se?M($,F,B,ue):null;case A:return B.key===Se?H($,F,B,ue):null;case de:return Se=B._init,te($,F,Se(B._payload),ue)}if(ir(B)||Y(B))return Se!==null?null:ne($,F,B,ue,null);au($,B)}return null}function pe($,F,B,ue,Se){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $=$.get(B)||null,P(F,$,""+ue,Se);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return $=$.get(ue.key===null?B:ue.key)||null,M(F,$,ue,Se);case A:return $=$.get(ue.key===null?B:ue.key)||null,H(F,$,ue,Se);case de:var Te=ue._init;return pe($,F,B,Te(ue._payload),Se)}if(ir(ue)||Y(ue))return $=$.get(B)||null,ne(F,$,ue,Se,null);au(F,ue)}return null}function xe($,F,B,ue){for(var Se=null,Te=null,Ee=F,je=F=0,Mt=null;Ee!==null&&je<B.length;je++){Ee.index>je?(Mt=Ee,Ee=null):Mt=Ee.sibling;var Ke=te($,Ee,B[je],ue);if(Ke===null){Ee===null&&(Ee=Mt);break}a&&Ee&&Ke.alternate===null&&o($,Ee),F=b(Ke,F,je),Te===null?Se=Ke:Te.sibling=Ke,Te=Ke,Ee=Mt}if(je===B.length)return c($,Ee),gt&&Va($,je),Se;if(Ee===null){for(;je<B.length;je++)Ee=ae($,B[je],ue),Ee!==null&&(F=b(Ee,F,je),Te===null?Se=Ee:Te.sibling=Ee,Te=Ee);return gt&&Va($,je),Se}for(Ee=p($,Ee);je<B.length;je++)Mt=pe(Ee,$,je,B[je],ue),Mt!==null&&(a&&Mt.alternate!==null&&Ee.delete(Mt.key===null?je:Mt.key),F=b(Mt,F,je),Te===null?Se=Mt:Te.sibling=Mt,Te=Mt);return a&&Ee.forEach(function(ya){return o($,ya)}),gt&&Va($,je),Se}function we($,F,B,ue){var Se=Y(B);if(typeof Se!="function")throw Error(n(150));if(B=Se.call(B),B==null)throw Error(n(151));for(var Te=Se=null,Ee=F,je=F=0,Mt=null,Ke=B.next();Ee!==null&&!Ke.done;je++,Ke=B.next()){Ee.index>je?(Mt=Ee,Ee=null):Mt=Ee.sibling;var ya=te($,Ee,Ke.value,ue);if(ya===null){Ee===null&&(Ee=Mt);break}a&&Ee&&ya.alternate===null&&o($,Ee),F=b(ya,F,je),Te===null?Se=ya:Te.sibling=ya,Te=ya,Ee=Mt}if(Ke.done)return c($,Ee),gt&&Va($,je),Se;if(Ee===null){for(;!Ke.done;je++,Ke=B.next())Ke=ae($,Ke.value,ue),Ke!==null&&(F=b(Ke,F,je),Te===null?Se=Ke:Te.sibling=Ke,Te=Ke);return gt&&Va($,je),Se}for(Ee=p($,Ee);!Ke.done;je++,Ke=B.next())Ke=pe(Ee,$,je,Ke.value,ue),Ke!==null&&(a&&Ke.alternate!==null&&Ee.delete(Ke.key===null?je:Ke.key),F=b(Ke,F,je),Te===null?Se=Ke:Te.sibling=Ke,Te=Ke);return a&&Ee.forEach(function(Z2){return o($,Z2)}),gt&&Va($,je),Se}function Et($,F,B,ue){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var Se=B.key,Te=F;Te!==null;){if(Te.key===Se){if(Se=B.type,Se===U){if(Te.tag===7){c($,Te.sibling),F=m(Te,B.props.children),F.return=$,$=F;break e}}else if(Te.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===de&&Qg(Se)===Te.type){c($,Te.sibling),F=m(Te,B.props),F.ref=Wi($,Te,B),F.return=$,$=F;break e}c($,Te);break}else o($,Te);Te=Te.sibling}B.type===U?(F=Qa(B.props.children,$.mode,ue,B.key),F.return=$,$=F):(ue=Iu(B.type,B.key,B.props,null,$.mode,ue),ue.ref=Wi($,F,B),ue.return=$,$=ue)}return T($);case A:e:{for(Te=B.key;F!==null;){if(F.key===Te)if(F.tag===4&&F.stateNode.containerInfo===B.containerInfo&&F.stateNode.implementation===B.implementation){c($,F.sibling),F=m(F,B.children||[]),F.return=$,$=F;break e}else{c($,F);break}else o($,F);F=F.sibling}F=Nf(B,$.mode,ue),F.return=$,$=F}return T($);case de:return Te=B._init,Et($,F,Te(B._payload),ue)}if(ir(B))return xe($,F,B,ue);if(Y(B))return we($,F,B,ue);au($,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,F!==null&&F.tag===6?(c($,F.sibling),F=m(F,B),F.return=$,$=F):(c($,F),F=If(B,$.mode,ue),F.return=$,$=F),T($)):c($,F)}return Et}var zs=ey(!0),ty=ey(!1),su=ia(null),iu=null,$s=null,Ld=null;function Fd(){Ld=$s=iu=null}function zd(a){var o=su.current;ut(su),a._currentValue=o}function $d(a,o,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===c)break;a=a.return}}function Us(a,o){iu=a,Ld=$s=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(cn=!0),a.firstContext=null)}function Rn(a){var o=a._currentValue;if(Ld!==a)if(a={context:a,memoizedValue:o,next:null},$s===null){if(iu===null)throw Error(n(308));$s=a,iu.dependencies={lanes:0,firstContext:a}}else $s=$s.next=a;return o}var Wa=null;function Ud(a){Wa===null?Wa=[a]:Wa.push(a)}function ny(a,o,c,p){var m=o.interleaved;return m===null?(c.next=c,Ud(o)):(c.next=m.next,m.next=c),o.interleaved=c,Dr(a,p)}function Dr(a,o){a.lanes|=o;var c=a.alternate;for(c!==null&&(c.lanes|=o),c=a,a=a.return;a!==null;)a.childLanes|=o,c=a.alternate,c!==null&&(c.childLanes|=o),c=a,a=a.return;return c.tag===3?c.stateNode:null}var ua=!1;function Bd(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ry(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Mr(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function ca(a,o,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,Ye&2){var m=p.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),p.pending=o,Dr(a,c)}return m=p.interleaved,m===null?(o.next=o,Ud(p)):(o.next=m.next,m.next=o),p.interleaved=o,Dr(a,c)}function ou(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=a.pendingLanes,c|=p,o.lanes=c,nd(a,c)}}function ay(a,o){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?m=b=T:b=b.next=T,c=c.next}while(c!==null);b===null?m=b=o:b=b.next=o}else m=b=o;c={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:p.shared,effects:p.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}function lu(a,o,c,p){var m=a.updateQueue;ua=!1;var b=m.firstBaseUpdate,T=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var M=P,H=M.next;M.next=null,T===null?b=H:T.next=H,T=M;var ne=a.alternate;ne!==null&&(ne=ne.updateQueue,P=ne.lastBaseUpdate,P!==T&&(P===null?ne.firstBaseUpdate=H:P.next=H,ne.lastBaseUpdate=M))}if(b!==null){var ae=m.baseState;T=0,ne=H=M=null,P=b;do{var te=P.lane,pe=P.eventTime;if((p&te)===te){ne!==null&&(ne=ne.next={eventTime:pe,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var xe=a,we=P;switch(te=o,pe=c,we.tag){case 1:if(xe=we.payload,typeof xe=="function"){ae=xe.call(pe,ae,te);break e}ae=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=we.payload,te=typeof xe=="function"?xe.call(pe,ae,te):xe,te==null)break e;ae=E({},ae,te);break e;case 2:ua=!0}}P.callback!==null&&P.lane!==0&&(a.flags|=64,te=m.effects,te===null?m.effects=[P]:te.push(P))}else pe={eventTime:pe,lane:te,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ne===null?(H=ne=pe,M=ae):ne=ne.next=pe,T|=te;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;te=P,P=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(M=ae),m.baseState=M,m.firstBaseUpdate=H,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else b===null&&(m.shared.lanes=0);Ga|=T,a.lanes=T,a.memoizedState=ae}}function sy(a,o,c){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var p=a[o],m=p.callback;if(m!==null){if(p.callback=null,p=c,typeof m!="function")throw Error(n(191,m));m.call(p)}}}var Zi={},ur=ia(Zi),Ji=ia(Zi),Gi=ia(Zi);function Za(a){if(a===Zi)throw Error(n(174));return a}function Hd(a,o){switch(at(Gi,o),at(Ji,a),at(ur,Zi),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ce(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=ce(o,a)}ut(ur),at(ur,o)}function Bs(){ut(ur),ut(Ji),ut(Gi)}function iy(a){Za(Gi.current);var o=Za(ur.current),c=ce(o,a.type);o!==c&&(at(Ji,a),at(ur,c))}function qd(a){Ji.current===a&&(ut(ur),ut(Ji))}var yt=ia(0);function uu(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Vd=[];function Wd(){for(var a=0;a<Vd.length;a++)Vd[a]._workInProgressVersionPrimary=null;Vd.length=0}var cu=j.ReactCurrentDispatcher,Zd=j.ReactCurrentBatchConfig,Ja=0,vt=null,jt=null,At=null,du=!1,Yi=!1,Ki=0,m2=0;function qt(){throw Error(n(321))}function Jd(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Wn(a[c],o[c]))return!1;return!0}function Gd(a,o,c,p,m,b){if(Ja=b,vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,cu.current=a===null||a.memoizedState===null?x2:w2,a=c(p,m),Yi){b=0;do{if(Yi=!1,Ki=0,25<=b)throw Error(n(301));b+=1,At=jt=null,o.updateQueue=null,cu.current=b2,a=c(p,m)}while(Yi)}if(cu.current=hu,o=jt!==null&&jt.next!==null,Ja=0,At=jt=vt=null,du=!1,o)throw Error(n(300));return a}function Yd(){var a=Ki!==0;return Ki=0,a}function cr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?vt.memoizedState=At=a:At=At.next=a,At}function Pn(){if(jt===null){var a=vt.alternate;a=a!==null?a.memoizedState:null}else a=jt.next;var o=At===null?vt.memoizedState:At.next;if(o!==null)At=o,jt=a;else{if(a===null)throw Error(n(310));jt=a,a={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},At===null?vt.memoizedState=At=a:At=At.next=a}return At}function Xi(a,o){return typeof o=="function"?o(a):o}function Kd(a){var o=Pn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=jt,m=p.baseQueue,b=c.pending;if(b!==null){if(m!==null){var T=m.next;m.next=b.next,b.next=T}p.baseQueue=m=b,c.pending=null}if(m!==null){b=m.next,p=p.baseState;var P=T=null,M=null,H=b;do{var ne=H.lane;if((Ja&ne)===ne)M!==null&&(M=M.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),p=H.hasEagerState?H.eagerState:a(p,H.action);else{var ae={lane:ne,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};M===null?(P=M=ae,T=p):M=M.next=ae,vt.lanes|=ne,Ga|=ne}H=H.next}while(H!==null&&H!==b);M===null?T=p:M.next=P,Wn(p,o.memoizedState)||(cn=!0),o.memoizedState=p,o.baseState=T,o.baseQueue=M,c.lastRenderedState=p}if(a=c.interleaved,a!==null){m=a;do b=m.lane,vt.lanes|=b,Ga|=b,m=m.next;while(m!==a)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Xd(a){var o=Pn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=c.dispatch,m=c.pending,b=o.memoizedState;if(m!==null){c.pending=null;var T=m=m.next;do b=a(b,T.action),T=T.next;while(T!==m);Wn(b,o.memoizedState)||(cn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,p]}function oy(){}function ly(a,o){var c=vt,p=Pn(),m=o(),b=!Wn(p.memoizedState,m);if(b&&(p.memoizedState=m,cn=!0),p=p.queue,Qd(dy.bind(null,c,p,a),[a]),p.getSnapshot!==o||b||At!==null&&At.memoizedState.tag&1){if(c.flags|=2048,Qi(9,cy.bind(null,c,p,m,o),void 0,null),Dt===null)throw Error(n(349));Ja&30||uy(c,o,m)}return m}function uy(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function cy(a,o,c,p){o.value=c,o.getSnapshot=p,fy(o)&&py(a)}function dy(a,o,c){return c(function(){fy(o)&&py(a)})}function fy(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Wn(a,c)}catch{return!0}}function py(a){var o=Dr(a,1);o!==null&&Kn(o,a,1,-1)}function hy(a){var o=cr();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},o.queue=a,a=a.dispatch=v2.bind(null,vt,a),[o.memoizedState,a]}function Qi(a,o,c,p){return a={tag:a,create:o,destroy:c,deps:p,next:null},o=vt.updateQueue,o===null?(o={lastEffect:null,stores:null},vt.updateQueue=o,o.lastEffect=a.next=a):(c=o.lastEffect,c===null?o.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,o.lastEffect=a)),a}function my(){return Pn().memoizedState}function fu(a,o,c,p){var m=cr();vt.flags|=a,m.memoizedState=Qi(1|o,c,void 0,p===void 0?null:p)}function pu(a,o,c,p){var m=Pn();p=p===void 0?null:p;var b=void 0;if(jt!==null){var T=jt.memoizedState;if(b=T.destroy,p!==null&&Jd(p,T.deps)){m.memoizedState=Qi(o,c,b,p);return}}vt.flags|=a,m.memoizedState=Qi(1|o,c,b,p)}function gy(a,o){return fu(8390656,8,a,o)}function Qd(a,o){return pu(2048,8,a,o)}function yy(a,o){return pu(4,2,a,o)}function vy(a,o){return pu(4,4,a,o)}function xy(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function wy(a,o,c){return c=c!=null?c.concat([a]):null,pu(4,4,xy.bind(null,o,a),c)}function ef(){}function by(a,o){var c=Pn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Jd(o,p[1])?p[0]:(c.memoizedState=[a,o],a)}function Sy(a,o){var c=Pn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Jd(o,p[1])?p[0]:(a=a(),c.memoizedState=[a,o],a)}function ky(a,o,c){return Ja&21?(Wn(c,o)||(c=Qm(),vt.lanes|=c,Ga|=c,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,cn=!0),a.memoizedState=c)}function g2(a,o){var c=tt;tt=c!==0&&4>c?c:4,a(!0);var p=Zd.transition;Zd.transition={};try{a(!1),o()}finally{tt=c,Zd.transition=p}}function _y(){return Pn().memoizedState}function y2(a,o,c){var p=ha(a);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Cy(a))Ty(o,c);else if(c=ny(a,o,c,p),c!==null){var m=Qt();Kn(c,a,p,m),Ey(c,o,p)}}function v2(a,o,c){var p=ha(a),m={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Cy(a))Ty(o,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var T=o.lastRenderedState,P=b(T,c);if(m.hasEagerState=!0,m.eagerState=P,Wn(P,T)){var M=o.interleaved;M===null?(m.next=m,Ud(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}c=ny(a,o,m,p),c!==null&&(m=Qt(),Kn(c,a,p,m),Ey(c,o,p))}}function Cy(a){var o=a.alternate;return a===vt||o!==null&&o===vt}function Ty(a,o){Yi=du=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function Ey(a,o,c){if(c&4194240){var p=o.lanes;p&=a.pendingLanes,c|=p,o.lanes=c,nd(a,c)}}var hu={readContext:Rn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},x2={readContext:Rn,useCallback:function(a,o){return cr().memoizedState=[a,o===void 0?null:o],a},useContext:Rn,useEffect:gy,useImperativeHandle:function(a,o,c){return c=c!=null?c.concat([a]):null,fu(4194308,4,xy.bind(null,o,a),c)},useLayoutEffect:function(a,o){return fu(4194308,4,a,o)},useInsertionEffect:function(a,o){return fu(4,2,a,o)},useMemo:function(a,o){var c=cr();return o=o===void 0?null:o,a=a(),c.memoizedState=[a,o],a},useReducer:function(a,o,c){var p=cr();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},p.queue=a,a=a.dispatch=y2.bind(null,vt,a),[p.memoizedState,a]},useRef:function(a){var o=cr();return a={current:a},o.memoizedState=a},useState:hy,useDebugValue:ef,useDeferredValue:function(a){return cr().memoizedState=a},useTransition:function(){var a=hy(!1),o=a[0];return a=g2.bind(null,a[1]),cr().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,c){var p=vt,m=cr();if(gt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Dt===null)throw Error(n(349));Ja&30||uy(p,o,c)}m.memoizedState=c;var b={value:c,getSnapshot:o};return m.queue=b,gy(dy.bind(null,p,b,a),[a]),p.flags|=2048,Qi(9,cy.bind(null,p,b,c,o),void 0,null),c},useId:function(){var a=cr(),o=Dt.identifierPrefix;if(gt){var c=Ar,p=Pr;c=(p&~(1<<32-Vn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=Ki++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=m2++,o=":"+o+"r"+c.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},w2={readContext:Rn,useCallback:by,useContext:Rn,useEffect:Qd,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Sy,useReducer:Kd,useRef:my,useState:function(){return Kd(Xi)},useDebugValue:ef,useDeferredValue:function(a){var o=Pn();return ky(o,jt.memoizedState,a)},useTransition:function(){var a=Kd(Xi)[0],o=Pn().memoizedState;return[a,o]},useMutableSource:oy,useSyncExternalStore:ly,useId:_y,unstable_isNewReconciler:!1},b2={readContext:Rn,useCallback:by,useContext:Rn,useEffect:Qd,useImperativeHandle:wy,useInsertionEffect:yy,useLayoutEffect:vy,useMemo:Sy,useReducer:Xd,useRef:my,useState:function(){return Xd(Xi)},useDebugValue:ef,useDeferredValue:function(a){var o=Pn();return jt===null?o.memoizedState=a:ky(o,jt.memoizedState,a)},useTransition:function(){var a=Xd(Xi)[0],o=Pn().memoizedState;return[a,o]},useMutableSource:oy,useSyncExternalStore:ly,useId:_y,unstable_isNewReconciler:!1};function Jn(a,o){if(a&&a.defaultProps){o=E({},o),a=a.defaultProps;for(var c in a)o[c]===void 0&&(o[c]=a[c]);return o}return o}function tf(a,o,c,p){o=a.memoizedState,c=c(p,o),c=c==null?o:E({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var mu={isMounted:function(a){return(a=a._reactInternals)?Ua(a)===a:!1},enqueueSetState:function(a,o,c){a=a._reactInternals;var p=Qt(),m=ha(a),b=Mr(p,m);b.payload=o,c!=null&&(b.callback=c),o=ca(a,b,m),o!==null&&(Kn(o,a,m,p),ou(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var p=Qt(),m=ha(a),b=Mr(p,m);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=ca(a,b,m),o!==null&&(Kn(o,a,m,p),ou(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Qt(),p=ha(a),m=Mr(c,p);m.tag=2,o!=null&&(m.callback=o),o=ca(a,m,p),o!==null&&(Kn(o,a,p,c),ou(o,a,p))}};function Iy(a,o,c,p,m,b,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,T):o.prototype&&o.prototype.isPureReactComponent?!zi(c,p)||!zi(m,b):!0}function Ny(a,o,c){var p=!1,m=oa,b=o.contextType;return typeof b=="object"&&b!==null?b=Rn(b):(m=un(o)?Ha:Ht.current,p=o.contextTypes,b=(p=p!=null)?Ds(a,m):oa),o=new o(c,b),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=mu,a.stateNode=o,o._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=m,a.__reactInternalMemoizedMaskedChildContext=b),o}function Oy(a,o,c,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==a&&mu.enqueueReplaceState(o,o.state,null)}function nf(a,o,c,p){var m=a.stateNode;m.props=c,m.state=a.memoizedState,m.refs={},Bd(a);var b=o.contextType;typeof b=="object"&&b!==null?m.context=Rn(b):(b=un(o)?Ha:Ht.current,m.context=Ds(a,b)),m.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(tf(a,o,b,c),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&mu.enqueueReplaceState(m,m.state,null),lu(a,c,m,p),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308)}function Hs(a,o){try{var c="",p=o;do c+=me(p),p=p.return;while(p);var m=c}catch(b){m=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:o,stack:m,digest:null}}function rf(a,o,c){return{value:a,source:null,stack:c??null,digest:o??null}}function af(a,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var S2=typeof WeakMap=="function"?WeakMap:Map;function jy(a,o,c){c=Mr(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){Su||(Su=!0,wf=p),af(a,o)},c}function Ry(a,o,c){c=Mr(-1,c),c.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var m=o.value;c.payload=function(){return p(m)},c.callback=function(){af(a,o)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){af(a,o),typeof p!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function Py(a,o,c){var p=a.pingCache;if(p===null){p=a.pingCache=new S2;var m=new Set;p.set(o,m)}else m=p.get(o),m===void 0&&(m=new Set,p.set(o,m));m.has(c)||(m.add(c),a=M2.bind(null,a,o,c),o.then(a,a))}function Ay(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function Dy(a,o,c,p,m){return a.mode&1?(a.flags|=65536,a.lanes=m,a):(a===o?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Mr(-1,1),o.tag=2,ca(c,o,1))),c.lanes|=1),a)}var k2=j.ReactCurrentOwner,cn=!1;function Xt(a,o,c,p){o.child=a===null?ty(o,null,c,p):zs(o,a.child,c,p)}function My(a,o,c,p,m){c=c.render;var b=o.ref;return Us(o,m),p=Gd(a,o,c,p,b,m),c=Yd(),a!==null&&!cn?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~m,Lr(a,o,m)):(gt&&c&&Rd(o),o.flags|=1,Xt(a,o,p,m),o.child)}function Ly(a,o,c,p,m){if(a===null){var b=c.type;return typeof b=="function"&&!Ef(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=b,Fy(a,o,b,p,m)):(a=Iu(c.type,null,p,o,o.mode,m),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!(a.lanes&m)){var T=b.memoizedProps;if(c=c.compare,c=c!==null?c:zi,c(T,p)&&a.ref===o.ref)return Lr(a,o,m)}return o.flags|=1,a=ga(b,p),a.ref=o.ref,a.return=o,o.child=a}function Fy(a,o,c,p,m){if(a!==null){var b=a.memoizedProps;if(zi(b,p)&&a.ref===o.ref)if(cn=!1,o.pendingProps=p=b,(a.lanes&m)!==0)a.flags&131072&&(cn=!0);else return o.lanes=a.lanes,Lr(a,o,m)}return sf(a,o,c,p,m)}function zy(a,o,c){var p=o.pendingProps,m=p.children,b=a!==null?a.memoizedState:null;if(p.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Vs,wn),wn|=c;else{if(!(c&1073741824))return a=b!==null?b.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,at(Vs,wn),wn|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:c,at(Vs,wn),wn|=p}else b!==null?(p=b.baseLanes|c,o.memoizedState=null):p=c,at(Vs,wn),wn|=p;return Xt(a,o,m,c),o.child}function $y(a,o){var c=o.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function sf(a,o,c,p,m){var b=un(c)?Ha:Ht.current;return b=Ds(o,b),Us(o,m),c=Gd(a,o,c,p,b,m),p=Yd(),a!==null&&!cn?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~m,Lr(a,o,m)):(gt&&p&&Rd(o),o.flags|=1,Xt(a,o,c,m),o.child)}function Uy(a,o,c,p,m){if(un(c)){var b=!0;Ql(o)}else b=!1;if(Us(o,m),o.stateNode===null)yu(a,o),Ny(o,c,p),nf(o,c,p,m),p=!0;else if(a===null){var T=o.stateNode,P=o.memoizedProps;T.props=P;var M=T.context,H=c.contextType;typeof H=="object"&&H!==null?H=Rn(H):(H=un(c)?Ha:Ht.current,H=Ds(o,H));var ne=c.getDerivedStateFromProps,ae=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==p||M!==H)&&Oy(o,T,p,H),ua=!1;var te=o.memoizedState;T.state=te,lu(o,p,T,m),M=o.memoizedState,P!==p||te!==M||ln.current||ua?(typeof ne=="function"&&(tf(o,c,ne,p),M=o.memoizedState),(P=ua||Iy(o,c,P,p,te,M,H))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=M),T.props=p,T.state=M,T.context=H,p=P):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{T=o.stateNode,ry(a,o),P=o.memoizedProps,H=o.type===o.elementType?P:Jn(o.type,P),T.props=H,ae=o.pendingProps,te=T.context,M=c.contextType,typeof M=="object"&&M!==null?M=Rn(M):(M=un(c)?Ha:Ht.current,M=Ds(o,M));var pe=c.getDerivedStateFromProps;(ne=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(P!==ae||te!==M)&&Oy(o,T,p,M),ua=!1,te=o.memoizedState,T.state=te,lu(o,p,T,m);var xe=o.memoizedState;P!==ae||te!==xe||ln.current||ua?(typeof pe=="function"&&(tf(o,c,pe,p),xe=o.memoizedState),(H=ua||Iy(o,c,H,p,te,xe,M)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,xe,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,xe,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=xe),T.props=p,T.state=xe,T.context=M,p=H):(typeof T.componentDidUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),p=!1)}return of(a,o,c,p,b,m)}function of(a,o,c,p,m,b){$y(a,o);var T=(o.flags&128)!==0;if(!p&&!T)return m&&Wg(o,c,!1),Lr(a,o,b);p=o.stateNode,k2.current=o;var P=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,a!==null&&T?(o.child=zs(o,a.child,null,b),o.child=zs(o,null,P,b)):Xt(a,o,P,b),o.memoizedState=p.state,m&&Wg(o,c,!0),o.child}function By(a){var o=a.stateNode;o.pendingContext?qg(a,o.pendingContext,o.pendingContext!==o.context):o.context&&qg(a,o.context,!1),Hd(a,o.containerInfo)}function Hy(a,o,c,p,m){return Fs(),Md(m),o.flags|=256,Xt(a,o,c,p),o.child}var lf={dehydrated:null,treeContext:null,retryLane:0};function uf(a){return{baseLanes:a,cachePool:null,transitions:null}}function qy(a,o,c){var p=o.pendingProps,m=yt.current,b=!1,T=(o.flags&128)!==0,P;if((P=T)||(P=a!==null&&a.memoizedState===null?!1:(m&2)!==0),P?(b=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(m|=1),at(yt,m&1),a===null)return Dd(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=p.children,a=p.fallback,b?(p=o.mode,b=o.child,T={mode:"hidden",children:T},!(p&1)&&b!==null?(b.childLanes=0,b.pendingProps=T):b=Nu(T,p,0,null),a=Qa(a,p,c,null),b.return=o,a.return=o,b.sibling=a,o.child=b,o.child.memoizedState=uf(c),o.memoizedState=lf,a):cf(o,T));if(m=a.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return _2(a,o,T,p,P,m,c);if(b){b=p.fallback,T=o.mode,m=a.child,P=m.sibling;var M={mode:"hidden",children:p.children};return!(T&1)&&o.child!==m?(p=o.child,p.childLanes=0,p.pendingProps=M,o.deletions=null):(p=ga(m,M),p.subtreeFlags=m.subtreeFlags&14680064),P!==null?b=ga(P,b):(b=Qa(b,T,c,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,T=a.child.memoizedState,T=T===null?uf(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},b.memoizedState=T,b.childLanes=a.childLanes&~c,o.memoizedState=lf,p}return b=a.child,a=b.sibling,p=ga(b,{mode:"visible",children:p.children}),!(o.mode&1)&&(p.lanes=c),p.return=o,p.sibling=null,a!==null&&(c=o.deletions,c===null?(o.deletions=[a],o.flags|=16):c.push(a)),o.child=p,o.memoizedState=null,p}function cf(a,o){return o=Nu({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function gu(a,o,c,p){return p!==null&&Md(p),zs(o,a.child,null,c),a=cf(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function _2(a,o,c,p,m,b,T){if(c)return o.flags&256?(o.flags&=-257,p=rf(Error(n(422))),gu(a,o,T,p)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(b=p.fallback,m=o.mode,p=Nu({mode:"visible",children:p.children},m,0,null),b=Qa(b,m,T,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,o.mode&1&&zs(o,a.child,null,T),o.child.memoizedState=uf(T),o.memoizedState=lf,b);if(!(o.mode&1))return gu(a,o,T,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var P=p.dgst;return p=P,b=Error(n(419)),p=rf(b,p,void 0),gu(a,o,T,p)}if(P=(T&a.childLanes)!==0,cn||P){if(p=Dt,p!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(p.suspendedLanes|T)?0:m,m!==0&&m!==b.retryLane&&(b.retryLane=m,Dr(a,m),Kn(p,a,m,-1))}return Tf(),p=rf(Error(n(421))),gu(a,o,T,p)}return m.data==="$?"?(o.flags|=128,o.child=a.child,o=L2.bind(null,a),m._reactRetry=o,null):(a=b.treeContext,xn=sa(m.nextSibling),vn=o,gt=!0,Zn=null,a!==null&&(On[jn++]=Pr,On[jn++]=Ar,On[jn++]=qa,Pr=a.id,Ar=a.overflow,qa=o),o=cf(o,p.children),o.flags|=4096,o)}function Vy(a,o,c){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),$d(a.return,o,c)}function df(a,o,c,p,m){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=c,b.tailMode=m)}function Wy(a,o,c){var p=o.pendingProps,m=p.revealOrder,b=p.tail;if(Xt(a,o,p.children,c),p=yt.current,p&2)p=p&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Vy(a,c,o);else if(a.tag===19)Vy(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(at(yt,p),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)a=c.alternate,a!==null&&uu(a)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),df(o,!1,m,c,b);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(a=m.alternate,a!==null&&uu(a)===null){o.child=m;break}a=m.sibling,m.sibling=c,c=m,m=a}df(o,!0,c,null,b);break;case"together":df(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function yu(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function Lr(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Ga|=o.lanes,!(c&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,c=ga(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ga(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function C2(a,o,c){switch(o.tag){case 3:By(o),Fs();break;case 5:iy(o);break;case 1:un(o.type)&&Ql(o);break;case 4:Hd(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,m=o.memoizedProps.value;at(su,p._currentValue),p._currentValue=m;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(at(yt,yt.current&1),o.flags|=128,null):c&o.child.childLanes?qy(a,o,c):(at(yt,yt.current&1),a=Lr(a,o,c),a!==null?a.sibling:null);at(yt,yt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,a.flags&128){if(p)return Wy(a,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(yt,yt.current),p)break;return null;case 22:case 23:return o.lanes=0,zy(a,o,c)}return Lr(a,o,c)}var Zy,ff,Jy,Gy;Zy=function(a,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},ff=function(){},Jy=function(a,o,c,p){var m=a.memoizedProps;if(m!==p){a=o.stateNode,Za(ur.current);var b=null;switch(c){case"input":m=Ot(a,m),p=Ot(a,p),b=[];break;case"select":m=E({},m,{value:void 0}),p=E({},p,{value:void 0}),b=[];break;case"textarea":m=Yr(a,m),p=Yr(a,p),b=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=Yl)}Ct(c,p);var T;c=null;for(H in m)if(!p.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var P=m[H];for(T in P)P.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?b||(b=[]):(b=b||[]).push(H,null));for(H in p){var M=p[H];if(P=m!=null?m[H]:void 0,p.hasOwnProperty(H)&&M!==P&&(M!=null||P!=null))if(H==="style")if(P){for(T in P)!P.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in M)M.hasOwnProperty(T)&&P[T]!==M[T]&&(c||(c={}),c[T]=M[T])}else c||(b||(b=[]),b.push(H,c)),c=M;else H==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,P=P?P.__html:void 0,M!=null&&P!==M&&(b=b||[]).push(H,M)):H==="children"?typeof M!="string"&&typeof M!="number"||(b=b||[]).push(H,""+M):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(M!=null&&H==="onScroll"&&lt("scroll",a),b||P===M||(b=[])):(b=b||[]).push(H,M))}c&&(b=b||[]).push("style",c);var H=b;(o.updateQueue=H)&&(o.flags|=4)}},Gy=function(a,o,c,p){c!==p&&(o.flags|=4)};function eo(a,o){if(!gt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Vt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(o)for(var m=a.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=p,a.childLanes=c,o}function T2(a,o,c){var p=o.pendingProps;switch(Pd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(o),null;case 1:return un(o.type)&&Xl(),Vt(o),null;case 3:return p=o.stateNode,Bs(),ut(ln),ut(Ht),Wd(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(ru(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Zn!==null&&(kf(Zn),Zn=null))),ff(a,o),Vt(o),null;case 5:qd(o);var m=Za(Gi.current);if(c=o.type,a!==null&&o.stateNode!=null)Jy(a,o,c,p,m),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Vt(o),null}if(a=Za(ur.current),ru(o)){p=o.stateNode,c=o.type;var b=o.memoizedProps;switch(p[lr]=o,p[qi]=b,a=(o.mode&1)!==0,c){case"dialog":lt("cancel",p),lt("close",p);break;case"iframe":case"object":case"embed":lt("load",p);break;case"video":case"audio":for(m=0;m<Ui.length;m++)lt(Ui[m],p);break;case"source":lt("error",p);break;case"img":case"image":case"link":lt("error",p),lt("load",p);break;case"details":lt("toggle",p);break;case"input":ge(p,b),lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},lt("invalid",p);break;case"textarea":Kr(p,b),lt("invalid",p)}Ct(c,b),m=null;for(var T in b)if(b.hasOwnProperty(T)){var P=b[T];T==="children"?typeof P=="string"?p.textContent!==P&&(b.suppressHydrationWarning!==!0&&Gl(p.textContent,P,a),m=["children",P]):typeof P=="number"&&p.textContent!==""+P&&(b.suppressHydrationWarning!==!0&&Gl(p.textContent,P,a),m=["children",""+P]):s.hasOwnProperty(T)&&P!=null&&T==="onScroll"&&lt("scroll",p)}switch(c){case"input":qe(p),St(p,b,!0);break;case"textarea":qe(p),Fa(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=Yl)}p=m,o.updateQueue=p,p!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Z(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=T.createElement(c,{is:p.is}):(a=T.createElement(c),c==="select"&&(T=a,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):a=T.createElementNS(a,c),a[lr]=o,a[qi]=p,Zy(a,o,!1,!1),o.stateNode=a;e:{switch(T=Pt(c,p),c){case"dialog":lt("cancel",a),lt("close",a),m=p;break;case"iframe":case"object":case"embed":lt("load",a),m=p;break;case"video":case"audio":for(m=0;m<Ui.length;m++)lt(Ui[m],a);m=p;break;case"source":lt("error",a),m=p;break;case"img":case"image":case"link":lt("error",a),lt("load",a),m=p;break;case"details":lt("toggle",a),m=p;break;case"input":ge(a,p),m=Ot(a,p),lt("invalid",a);break;case"option":m=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},m=E({},p,{value:void 0}),lt("invalid",a);break;case"textarea":Kr(a,p),m=Yr(a,p),lt("invalid",a);break;default:m=p}Ct(c,m),P=m;for(b in P)if(P.hasOwnProperty(b)){var M=P[b];b==="style"?Hn(a,M):b==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Me(a,M)):b==="children"?typeof M=="string"?(c!=="textarea"||M!=="")&&Ze(a,M):typeof M=="number"&&Ze(a,""+M):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?M!=null&&b==="onScroll"&&lt("scroll",a):M!=null&&N(a,b,M,T))}switch(c){case"input":qe(a),St(a,p,!1);break;case"textarea":qe(a),Fa(a);break;case"option":p.value!=null&&a.setAttribute("value",""+De(p.value));break;case"select":a.multiple=!!p.multiple,b=p.value,b!=null?gn(a,!!p.multiple,b,!1):p.defaultValue!=null&&gn(a,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(a.onclick=Yl)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vt(o),null;case 6:if(a&&o.stateNode!=null)Gy(a,o,a.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=Za(Gi.current),Za(ur.current),ru(o)){if(p=o.stateNode,c=o.memoizedProps,p[lr]=o,(b=p.nodeValue!==c)&&(a=vn,a!==null))switch(a.tag){case 3:Gl(p.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Gl(p.nodeValue,c,(a.mode&1)!==0)}b&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[lr]=o,o.stateNode=p}return Vt(o),null;case 13:if(ut(yt),p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(gt&&xn!==null&&o.mode&1&&!(o.flags&128))Xg(),Fs(),o.flags|=98560,b=!1;else if(b=ru(o),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[lr]=o}else Fs(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Vt(o),b=!1}else Zn!==null&&(kf(Zn),Zn=null),b=!0;if(!b)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(o.child.flags|=8192,o.mode&1&&(a===null||yt.current&1?Rt===0&&(Rt=3):Tf())),o.updateQueue!==null&&(o.flags|=4),Vt(o),null);case 4:return Bs(),ff(a,o),a===null&&Bi(o.stateNode.containerInfo),Vt(o),null;case 10:return zd(o.type._context),Vt(o),null;case 17:return un(o.type)&&Xl(),Vt(o),null;case 19:if(ut(yt),b=o.memoizedState,b===null)return Vt(o),null;if(p=(o.flags&128)!==0,T=b.rendering,T===null)if(p)eo(b,!1);else{if(Rt!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(T=uu(a),T!==null){for(o.flags|=128,eo(b,!1),p=T.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)b=c,a=p,b.flags&=14680066,T=b.alternate,T===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=T.childLanes,b.lanes=T.lanes,b.child=T.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=T.memoizedProps,b.memoizedState=T.memoizedState,b.updateQueue=T.updateQueue,b.type=T.type,a=T.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return at(yt,yt.current&1|2),o.child}a=a.sibling}b.tail!==null&&Tt()>Ws&&(o.flags|=128,p=!0,eo(b,!1),o.lanes=4194304)}else{if(!p)if(a=uu(T),a!==null){if(o.flags|=128,p=!0,c=a.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),eo(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!gt)return Vt(o),null}else 2*Tt()-b.renderingStartTime>Ws&&c!==1073741824&&(o.flags|=128,p=!0,eo(b,!1),o.lanes=4194304);b.isBackwards?(T.sibling=o.child,o.child=T):(c=b.last,c!==null?c.sibling=T:o.child=T,b.last=T)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Tt(),o.sibling=null,c=yt.current,at(yt,p?c&1|2:c&1),o):(Vt(o),null);case 22:case 23:return Cf(),p=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(o.flags|=8192),p&&o.mode&1?wn&1073741824&&(Vt(o),o.subtreeFlags&6&&(o.flags|=8192)):Vt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function E2(a,o){switch(Pd(o),o.tag){case 1:return un(o.type)&&Xl(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Bs(),ut(ln),ut(Ht),Wd(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return qd(o),null;case 13:if(ut(yt),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Fs()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ut(yt),null;case 4:return Bs(),null;case 10:return zd(o.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var vu=!1,Wt=!1,I2=typeof WeakSet=="function"?WeakSet:Set,ye=null;function qs(a,o){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){_t(a,o,p)}else c.current=null}function pf(a,o,c){try{c()}catch(p){_t(a,o,p)}}var Yy=!1;function N2(a,o){if(_d=Fl,a=Ig(),gd(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var m=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var T=0,P=-1,M=-1,H=0,ne=0,ae=a,te=null;t:for(;;){for(var pe;ae!==c||m!==0&&ae.nodeType!==3||(P=T+m),ae!==b||p!==0&&ae.nodeType!==3||(M=T+p),ae.nodeType===3&&(T+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)te=ae,ae=pe;for(;;){if(ae===a)break t;if(te===c&&++H===m&&(P=T),te===b&&++ne===p&&(M=T),(pe=ae.nextSibling)!==null)break;ae=te,te=ae.parentNode}ae=pe}c=P===-1||M===-1?null:{start:P,end:M}}else c=null}c=c||{start:0,end:0}}else c=null;for(Cd={focusedElem:a,selectionRange:c},Fl=!1,ye=o;ye!==null;)if(o=ye,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,ye=a;else for(;ye!==null;){o=ye;try{var xe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var we=xe.memoizedProps,Et=xe.memoizedState,$=o.stateNode,F=$.getSnapshotBeforeUpdate(o.elementType===o.type?we:Jn(o.type,we),Et);$.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var B=o.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){_t(o,o.return,ue)}if(a=o.sibling,a!==null){a.return=o.return,ye=a;break}ye=o.return}return xe=Yy,Yy=!1,xe}function to(a,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&a)===a){var b=m.destroy;m.destroy=void 0,b!==void 0&&pf(o,c,b)}m=m.next}while(m!==p)}}function xu(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&a)===a){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function hf(a){var o=a.ref;if(o!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof o=="function"?o(a):o.current=a}}function Ky(a){var o=a.alternate;o!==null&&(a.alternate=null,Ky(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[lr],delete o[qi],delete o[Nd],delete o[d2],delete o[f2])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function Xy(a){return a.tag===5||a.tag===3||a.tag===4}function Qy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Xy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function mf(a,o,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(a,o):c.insertBefore(a,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(a,c)):(o=c,o.appendChild(a)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Yl));else if(p!==4&&(a=a.child,a!==null))for(mf(a,o,c),a=a.sibling;a!==null;)mf(a,o,c),a=a.sibling}function gf(a,o,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(gf(a,o,c),a=a.sibling;a!==null;)gf(a,o,c),a=a.sibling}var zt=null,Gn=!1;function da(a,o,c){for(c=c.child;c!==null;)ev(a,o,c),c=c.sibling}function ev(a,o,c){if(or&&typeof or.onCommitFiberUnmount=="function")try{or.onCommitFiberUnmount(Rl,c)}catch{}switch(c.tag){case 5:Wt||qs(c,o);case 6:var p=zt,m=Gn;zt=null,da(a,o,c),zt=p,Gn=m,zt!==null&&(Gn?(a=zt,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):zt.removeChild(c.stateNode));break;case 18:zt!==null&&(Gn?(a=zt,c=c.stateNode,a.nodeType===8?Id(a.parentNode,c):a.nodeType===1&&Id(a,c),Pi(a)):Id(zt,c.stateNode));break;case 4:p=zt,m=Gn,zt=c.stateNode.containerInfo,Gn=!0,da(a,o,c),zt=p,Gn=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var b=m,T=b.destroy;b=b.tag,T!==void 0&&(b&2||b&4)&&pf(c,o,T),m=m.next}while(m!==p)}da(a,o,c);break;case 1:if(!Wt&&(qs(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(P){_t(c,o,P)}da(a,o,c);break;case 21:da(a,o,c);break;case 22:c.mode&1?(Wt=(p=Wt)||c.memoizedState!==null,da(a,o,c),Wt=p):da(a,o,c);break;default:da(a,o,c)}}function tv(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new I2),o.forEach(function(p){var m=F2.bind(null,a,p);c.has(p)||(c.add(p),p.then(m,m))})}}function Yn(a,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];try{var b=a,T=o,P=T;e:for(;P!==null;){switch(P.tag){case 5:zt=P.stateNode,Gn=!1;break e;case 3:zt=P.stateNode.containerInfo,Gn=!0;break e;case 4:zt=P.stateNode.containerInfo,Gn=!0;break e}P=P.return}if(zt===null)throw Error(n(160));ev(b,T,m),zt=null,Gn=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(H){_t(m,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)nv(o,a),o=o.sibling}function nv(a,o){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Yn(o,a),dr(a),p&4){try{to(3,a,a.return),xu(3,a)}catch(we){_t(a,a.return,we)}try{to(5,a,a.return)}catch(we){_t(a,a.return,we)}}break;case 1:Yn(o,a),dr(a),p&512&&c!==null&&qs(c,c.return);break;case 5:if(Yn(o,a),dr(a),p&512&&c!==null&&qs(c,c.return),a.flags&32){var m=a.stateNode;try{Ze(m,"")}catch(we){_t(a,a.return,we)}}if(p&4&&(m=a.stateNode,m!=null)){var b=a.memoizedProps,T=c!==null?c.memoizedProps:b,P=a.type,M=a.updateQueue;if(a.updateQueue=null,M!==null)try{P==="input"&&b.type==="radio"&&b.name!=null&&Qe(m,b),Pt(P,T);var H=Pt(P,b);for(T=0;T<M.length;T+=2){var ne=M[T],ae=M[T+1];ne==="style"?Hn(m,ae):ne==="dangerouslySetInnerHTML"?Me(m,ae):ne==="children"?Ze(m,ae):N(m,ne,ae,H)}switch(P){case"input":Ft(m,b);break;case"textarea":La(m,b);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!b.multiple;var pe=b.value;pe!=null?gn(m,!!b.multiple,pe,!1):te!==!!b.multiple&&(b.defaultValue!=null?gn(m,!!b.multiple,b.defaultValue,!0):gn(m,!!b.multiple,b.multiple?[]:"",!1))}m[qi]=b}catch(we){_t(a,a.return,we)}}break;case 6:if(Yn(o,a),dr(a),p&4){if(a.stateNode===null)throw Error(n(162));m=a.stateNode,b=a.memoizedProps;try{m.nodeValue=b}catch(we){_t(a,a.return,we)}}break;case 3:if(Yn(o,a),dr(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Pi(o.containerInfo)}catch(we){_t(a,a.return,we)}break;case 4:Yn(o,a),dr(a);break;case 13:Yn(o,a),dr(a),m=a.child,m.flags&8192&&(b=m.memoizedState!==null,m.stateNode.isHidden=b,!b||m.alternate!==null&&m.alternate.memoizedState!==null||(xf=Tt())),p&4&&tv(a);break;case 22:if(ne=c!==null&&c.memoizedState!==null,a.mode&1?(Wt=(H=Wt)||ne,Yn(o,a),Wt=H):Yn(o,a),dr(a),p&8192){if(H=a.memoizedState!==null,(a.stateNode.isHidden=H)&&!ne&&a.mode&1)for(ye=a,ne=a.child;ne!==null;){for(ae=ye=ne;ye!==null;){switch(te=ye,pe=te.child,te.tag){case 0:case 11:case 14:case 15:to(4,te,te.return);break;case 1:qs(te,te.return);var xe=te.stateNode;if(typeof xe.componentWillUnmount=="function"){p=te,c=te.return;try{o=p,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(we){_t(p,c,we)}}break;case 5:qs(te,te.return);break;case 22:if(te.memoizedState!==null){sv(ae);continue}}pe!==null?(pe.return=te,ye=pe):sv(ae)}ne=ne.sibling}e:for(ne=null,ae=a;;){if(ae.tag===5){if(ne===null){ne=ae;try{m=ae.stateNode,H?(b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(P=ae.stateNode,M=ae.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,P.style.display=an("display",T))}catch(we){_t(a,a.return,we)}}}else if(ae.tag===6){if(ne===null)try{ae.stateNode.nodeValue=H?"":ae.memoizedProps}catch(we){_t(a,a.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===a)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===a)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===a)break e;ne===ae&&(ne=null),ae=ae.return}ne===ae&&(ne=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:Yn(o,a),dr(a),p&4&&tv(a);break;case 21:break;default:Yn(o,a),dr(a)}}function dr(a){var o=a.flags;if(o&2){try{e:{for(var c=a.return;c!==null;){if(Xy(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(Ze(m,""),p.flags&=-33);var b=Qy(a);gf(a,b,m);break;case 3:case 4:var T=p.stateNode.containerInfo,P=Qy(a);mf(a,P,T);break;default:throw Error(n(161))}}catch(M){_t(a,a.return,M)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function O2(a,o,c){ye=a,rv(a)}function rv(a,o,c){for(var p=(a.mode&1)!==0;ye!==null;){var m=ye,b=m.child;if(m.tag===22&&p){var T=m.memoizedState!==null||vu;if(!T){var P=m.alternate,M=P!==null&&P.memoizedState!==null||Wt;P=vu;var H=Wt;if(vu=T,(Wt=M)&&!H)for(ye=m;ye!==null;)T=ye,M=T.child,T.tag===22&&T.memoizedState!==null?iv(m):M!==null?(M.return=T,ye=M):iv(m);for(;b!==null;)ye=b,rv(b),b=b.sibling;ye=m,vu=P,Wt=H}av(a)}else m.subtreeFlags&8772&&b!==null?(b.return=m,ye=b):av(a)}}function av(a){for(;ye!==null;){var o=ye;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Wt||xu(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Wt)if(c===null)p.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:Jn(o.type,c.memoizedProps);p.componentDidUpdate(m,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&sy(o,b,p);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}sy(o,T,c)}break;case 5:var P=o.stateNode;if(c===null&&o.flags&4){c=P;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&c.focus();break;case"img":M.src&&(c.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var ne=H.memoizedState;if(ne!==null){var ae=ne.dehydrated;ae!==null&&Pi(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wt||o.flags&512&&hf(o)}catch(te){_t(o,o.return,te)}}if(o===a){ye=null;break}if(c=o.sibling,c!==null){c.return=o.return,ye=c;break}ye=o.return}}function sv(a){for(;ye!==null;){var o=ye;if(o===a){ye=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ye=c;break}ye=o.return}}function iv(a){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{xu(4,o)}catch(M){_t(o,c,M)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var m=o.return;try{p.componentDidMount()}catch(M){_t(o,m,M)}}var b=o.return;try{hf(o)}catch(M){_t(o,b,M)}break;case 5:var T=o.return;try{hf(o)}catch(M){_t(o,T,M)}}}catch(M){_t(o,o.return,M)}if(o===a){ye=null;break}var P=o.sibling;if(P!==null){P.return=o.return,ye=P;break}ye=o.return}}var j2=Math.ceil,wu=j.ReactCurrentDispatcher,yf=j.ReactCurrentOwner,An=j.ReactCurrentBatchConfig,Ye=0,Dt=null,It=null,$t=0,wn=0,Vs=ia(0),Rt=0,no=null,Ga=0,bu=0,vf=0,ro=null,dn=null,xf=0,Ws=1/0,Fr=null,Su=!1,wf=null,fa=null,ku=!1,pa=null,_u=0,ao=0,bf=null,Cu=-1,Tu=0;function Qt(){return Ye&6?Tt():Cu!==-1?Cu:Cu=Tt()}function ha(a){return a.mode&1?Ye&2&&$t!==0?$t&-$t:h2.transition!==null?(Tu===0&&(Tu=Qm()),Tu):(a=tt,a!==0||(a=window.event,a=a===void 0?16:lg(a.type)),a):1}function Kn(a,o,c,p){if(50<ao)throw ao=0,bf=null,Error(n(185));Ii(a,c,p),(!(Ye&2)||a!==Dt)&&(a===Dt&&(!(Ye&2)&&(bu|=c),Rt===4&&ma(a,$t)),fn(a,p),c===1&&Ye===0&&!(o.mode&1)&&(Ws=Tt()+500,eu&&la()))}function fn(a,o){var c=a.callbackNode;h_(a,o);var p=Dl(a,a===Dt?$t:0);if(p===0)c!==null&&Ym(c),a.callbackNode=null,a.callbackPriority=0;else if(o=p&-p,a.callbackPriority!==o){if(c!=null&&Ym(c),o===1)a.tag===0?p2(lv.bind(null,a)):Zg(lv.bind(null,a)),u2(function(){!(Ye&6)&&la()}),c=null;else{switch(eg(p)){case 1:c=Qc;break;case 4:c=Km;break;case 16:c=jl;break;case 536870912:c=Xm;break;default:c=jl}c=gv(c,ov.bind(null,a))}a.callbackPriority=o,a.callbackNode=c}}function ov(a,o){if(Cu=-1,Tu=0,Ye&6)throw Error(n(327));var c=a.callbackNode;if(Zs()&&a.callbackNode!==c)return null;var p=Dl(a,a===Dt?$t:0);if(p===0)return null;if(p&30||p&a.expiredLanes||o)o=Eu(a,p);else{o=p;var m=Ye;Ye|=2;var b=cv();(Dt!==a||$t!==o)&&(Fr=null,Ws=Tt()+500,Ka(a,o));do try{A2();break}catch(P){uv(a,P)}while(!0);Fd(),wu.current=b,Ye=m,It!==null?o=0:(Dt=null,$t=0,o=Rt)}if(o!==0){if(o===2&&(m=ed(a),m!==0&&(p=m,o=Sf(a,m))),o===1)throw c=no,Ka(a,0),ma(a,p),fn(a,Tt()),c;if(o===6)ma(a,p);else{if(m=a.current.alternate,!(p&30)&&!R2(m)&&(o=Eu(a,p),o===2&&(b=ed(a),b!==0&&(p=b,o=Sf(a,b))),o===1))throw c=no,Ka(a,0),ma(a,p),fn(a,Tt()),c;switch(a.finishedWork=m,a.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Xa(a,dn,Fr);break;case 3:if(ma(a,p),(p&130023424)===p&&(o=xf+500-Tt(),10<o)){if(Dl(a,0)!==0)break;if(m=a.suspendedLanes,(m&p)!==p){Qt(),a.pingedLanes|=a.suspendedLanes&m;break}a.timeoutHandle=Ed(Xa.bind(null,a,dn,Fr),o);break}Xa(a,dn,Fr);break;case 4:if(ma(a,p),(p&4194240)===p)break;for(o=a.eventTimes,m=-1;0<p;){var T=31-Vn(p);b=1<<T,T=o[T],T>m&&(m=T),p&=~b}if(p=m,p=Tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*j2(p/1960))-p,10<p){a.timeoutHandle=Ed(Xa.bind(null,a,dn,Fr),p);break}Xa(a,dn,Fr);break;case 5:Xa(a,dn,Fr);break;default:throw Error(n(329))}}}return fn(a,Tt()),a.callbackNode===c?ov.bind(null,a):null}function Sf(a,o){var c=ro;return a.current.memoizedState.isDehydrated&&(Ka(a,o).flags|=256),a=Eu(a,o),a!==2&&(o=dn,dn=c,o!==null&&kf(o)),a}function kf(a){dn===null?dn=a:dn.push.apply(dn,a)}function R2(a){for(var o=a;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var m=c[p],b=m.getSnapshot;m=m.value;try{if(!Wn(b(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ma(a,o){for(o&=~vf,o&=~bu,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var c=31-Vn(o),p=1<<c;a[c]=-1,o&=~p}}function lv(a){if(Ye&6)throw Error(n(327));Zs();var o=Dl(a,0);if(!(o&1))return fn(a,Tt()),null;var c=Eu(a,o);if(a.tag!==0&&c===2){var p=ed(a);p!==0&&(o=p,c=Sf(a,p))}if(c===1)throw c=no,Ka(a,0),ma(a,o),fn(a,Tt()),c;if(c===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Xa(a,dn,Fr),fn(a,Tt()),null}function _f(a,o){var c=Ye;Ye|=1;try{return a(o)}finally{Ye=c,Ye===0&&(Ws=Tt()+500,eu&&la())}}function Ya(a){pa!==null&&pa.tag===0&&!(Ye&6)&&Zs();var o=Ye;Ye|=1;var c=An.transition,p=tt;try{if(An.transition=null,tt=1,a)return a()}finally{tt=p,An.transition=c,Ye=o,!(Ye&6)&&la()}}function Cf(){wn=Vs.current,ut(Vs)}function Ka(a,o){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,l2(c)),It!==null)for(c=It.return;c!==null;){var p=c;switch(Pd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Xl();break;case 3:Bs(),ut(ln),ut(Ht),Wd();break;case 5:qd(p);break;case 4:Bs();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:zd(p.type._context);break;case 22:case 23:Cf()}c=c.return}if(Dt=a,It=a=ga(a.current,null),$t=wn=o,Rt=0,no=null,vf=bu=Ga=0,dn=ro=null,Wa!==null){for(o=0;o<Wa.length;o++)if(c=Wa[o],p=c.interleaved,p!==null){c.interleaved=null;var m=p.next,b=c.pending;if(b!==null){var T=b.next;b.next=m,p.next=T}c.pending=p}Wa=null}return a}function uv(a,o){do{var c=It;try{if(Fd(),cu.current=hu,du){for(var p=vt.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}du=!1}if(Ja=0,At=jt=vt=null,Yi=!1,Ki=0,yf.current=null,c===null||c.return===null){Rt=1,no=o,It=null;break}e:{var b=a,T=c.return,P=c,M=o;if(o=$t,P.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var H=M,ne=P,ae=ne.tag;if(!(ne.mode&1)&&(ae===0||ae===11||ae===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var pe=Ay(T);if(pe!==null){pe.flags&=-257,Dy(pe,T,P,b,o),pe.mode&1&&Py(b,H,o),o=pe,M=H;var xe=o.updateQueue;if(xe===null){var we=new Set;we.add(M),o.updateQueue=we}else xe.add(M);break e}else{if(!(o&1)){Py(b,H,o),Tf();break e}M=Error(n(426))}}else if(gt&&P.mode&1){var Et=Ay(T);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Dy(Et,T,P,b,o),Md(Hs(M,P));break e}}b=M=Hs(M,P),Rt!==4&&(Rt=2),ro===null?ro=[b]:ro.push(b),b=T;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var $=jy(b,M,o);ay(b,$);break e;case 1:P=M;var F=b.type,B=b.stateNode;if(!(b.flags&128)&&(typeof F.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(fa===null||!fa.has(B)))){b.flags|=65536,o&=-o,b.lanes|=o;var ue=Ry(b,P,o);ay(b,ue);break e}}b=b.return}while(b!==null)}fv(c)}catch(Se){o=Se,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function cv(){var a=wu.current;return wu.current=hu,a===null?hu:a}function Tf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Dt===null||!(Ga&268435455)&&!(bu&268435455)||ma(Dt,$t)}function Eu(a,o){var c=Ye;Ye|=2;var p=cv();(Dt!==a||$t!==o)&&(Fr=null,Ka(a,o));do try{P2();break}catch(m){uv(a,m)}while(!0);if(Fd(),Ye=c,wu.current=p,It!==null)throw Error(n(261));return Dt=null,$t=0,Rt}function P2(){for(;It!==null;)dv(It)}function A2(){for(;It!==null&&!s_();)dv(It)}function dv(a){var o=mv(a.alternate,a,wn);a.memoizedProps=a.pendingProps,o===null?fv(a):It=o,yf.current=null}function fv(a){var o=a;do{var c=o.alternate;if(a=o.return,o.flags&32768){if(c=E2(c,o),c!==null){c.flags&=32767,It=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Rt=6,It=null;return}}else if(c=T2(c,o,wn),c!==null){It=c;return}if(o=o.sibling,o!==null){It=o;return}It=o=a}while(o!==null);Rt===0&&(Rt=5)}function Xa(a,o,c){var p=tt,m=An.transition;try{An.transition=null,tt=1,D2(a,o,c,p)}finally{An.transition=m,tt=p}return null}function D2(a,o,c,p){do Zs();while(pa!==null);if(Ye&6)throw Error(n(327));c=a.finishedWork;var m=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var b=c.lanes|c.childLanes;if(m_(a,b),a===Dt&&(It=Dt=null,$t=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||ku||(ku=!0,gv(jl,function(){return Zs(),null})),b=(c.flags&15990)!==0,c.subtreeFlags&15990||b){b=An.transition,An.transition=null;var T=tt;tt=1;var P=Ye;Ye|=4,yf.current=null,N2(a,c),nv(c,a),t2(Cd),Fl=!!_d,Cd=_d=null,a.current=c,O2(c),i_(),Ye=P,tt=T,An.transition=b}else a.current=c;if(ku&&(ku=!1,pa=a,_u=m),b=a.pendingLanes,b===0&&(fa=null),u_(c.stateNode),fn(a,Tt()),o!==null)for(p=a.onRecoverableError,c=0;c<o.length;c++)m=o[c],p(m.value,{componentStack:m.stack,digest:m.digest});if(Su)throw Su=!1,a=wf,wf=null,a;return _u&1&&a.tag!==0&&Zs(),b=a.pendingLanes,b&1?a===bf?ao++:(ao=0,bf=a):ao=0,la(),null}function Zs(){if(pa!==null){var a=eg(_u),o=An.transition,c=tt;try{if(An.transition=null,tt=16>a?16:a,pa===null)var p=!1;else{if(a=pa,pa=null,_u=0,Ye&6)throw Error(n(331));var m=Ye;for(Ye|=4,ye=a.current;ye!==null;){var b=ye,T=b.child;if(ye.flags&16){var P=b.deletions;if(P!==null){for(var M=0;M<P.length;M++){var H=P[M];for(ye=H;ye!==null;){var ne=ye;switch(ne.tag){case 0:case 11:case 15:to(8,ne,b)}var ae=ne.child;if(ae!==null)ae.return=ne,ye=ae;else for(;ye!==null;){ne=ye;var te=ne.sibling,pe=ne.return;if(Ky(ne),ne===H){ye=null;break}if(te!==null){te.return=pe,ye=te;break}ye=pe}}}var xe=b.alternate;if(xe!==null){var we=xe.child;if(we!==null){xe.child=null;do{var Et=we.sibling;we.sibling=null,we=Et}while(we!==null)}}ye=b}}if(b.subtreeFlags&2064&&T!==null)T.return=b,ye=T;else e:for(;ye!==null;){if(b=ye,b.flags&2048)switch(b.tag){case 0:case 11:case 15:to(9,b,b.return)}var $=b.sibling;if($!==null){$.return=b.return,ye=$;break e}ye=b.return}}var F=a.current;for(ye=F;ye!==null;){T=ye;var B=T.child;if(T.subtreeFlags&2064&&B!==null)B.return=T,ye=B;else e:for(T=F;ye!==null;){if(P=ye,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:xu(9,P)}}catch(Se){_t(P,P.return,Se)}if(P===T){ye=null;break e}var ue=P.sibling;if(ue!==null){ue.return=P.return,ye=ue;break e}ye=P.return}}if(Ye=m,la(),or&&typeof or.onPostCommitFiberRoot=="function")try{or.onPostCommitFiberRoot(Rl,a)}catch{}p=!0}return p}finally{tt=c,An.transition=o}}return!1}function pv(a,o,c){o=Hs(c,o),o=jy(a,o,1),a=ca(a,o,1),o=Qt(),a!==null&&(Ii(a,1,o),fn(a,o))}function _t(a,o,c){if(a.tag===3)pv(a,a,c);else for(;o!==null;){if(o.tag===3){pv(o,a,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(fa===null||!fa.has(p))){a=Hs(c,a),a=Ry(o,a,1),o=ca(o,a,1),a=Qt(),o!==null&&(Ii(o,1,a),fn(o,a));break}}o=o.return}}function M2(a,o,c){var p=a.pingCache;p!==null&&p.delete(o),o=Qt(),a.pingedLanes|=a.suspendedLanes&c,Dt===a&&($t&c)===c&&(Rt===4||Rt===3&&($t&130023424)===$t&&500>Tt()-xf?Ka(a,0):vf|=c),fn(a,o)}function hv(a,o){o===0&&(a.mode&1?(o=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):o=1);var c=Qt();a=Dr(a,o),a!==null&&(Ii(a,o,c),fn(a,c))}function L2(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),hv(a,c)}function F2(a,o){var c=0;switch(a.tag){case 13:var p=a.stateNode,m=a.memoizedState;m!==null&&(c=m.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),hv(a,c)}var mv;mv=function(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps||ln.current)cn=!0;else{if(!(a.lanes&c)&&!(o.flags&128))return cn=!1,C2(a,o,c);cn=!!(a.flags&131072)}else cn=!1,gt&&o.flags&1048576&&Jg(o,nu,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;yu(a,o),a=o.pendingProps;var m=Ds(o,Ht.current);Us(o,c),m=Gd(null,o,p,a,m,c);var b=Yd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,un(p)?(b=!0,Ql(o)):b=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Bd(o),m.updater=mu,o.stateNode=m,m._reactInternals=o,nf(o,p,a,c),o=of(null,o,p,!0,b,c)):(o.tag=0,gt&&b&&Rd(o),Xt(null,o,m,c),o=o.child),o;case 16:p=o.elementType;e:{switch(yu(a,o),a=o.pendingProps,m=p._init,p=m(p._payload),o.type=p,m=o.tag=$2(p),a=Jn(p,a),m){case 0:o=sf(null,o,p,a,c);break e;case 1:o=Uy(null,o,p,a,c);break e;case 11:o=My(null,o,p,a,c);break e;case 14:o=Ly(null,o,p,Jn(p.type,a),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),sf(a,o,p,m,c);case 1:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),Uy(a,o,p,m,c);case 3:e:{if(By(o),a===null)throw Error(n(387));p=o.pendingProps,b=o.memoizedState,m=b.element,ry(a,o),lu(o,p,null,c);var T=o.memoizedState;if(p=T.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){m=Hs(Error(n(423)),o),o=Hy(a,o,p,c,m);break e}else if(p!==m){m=Hs(Error(n(424)),o),o=Hy(a,o,p,c,m);break e}else for(xn=sa(o.stateNode.containerInfo.firstChild),vn=o,gt=!0,Zn=null,c=ty(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Fs(),p===m){o=Lr(a,o,c);break e}Xt(a,o,p,c)}o=o.child}return o;case 5:return iy(o),a===null&&Dd(o),p=o.type,m=o.pendingProps,b=a!==null?a.memoizedProps:null,T=m.children,Td(p,m)?T=null:b!==null&&Td(p,b)&&(o.flags|=32),$y(a,o),Xt(a,o,T,c),o.child;case 6:return a===null&&Dd(o),null;case 13:return qy(a,o,c);case 4:return Hd(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=zs(o,null,p,c):Xt(a,o,p,c),o.child;case 11:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),My(a,o,p,m,c);case 7:return Xt(a,o,o.pendingProps,c),o.child;case 8:return Xt(a,o,o.pendingProps.children,c),o.child;case 12:return Xt(a,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,m=o.pendingProps,b=o.memoizedProps,T=m.value,at(su,p._currentValue),p._currentValue=T,b!==null)if(Wn(b.value,T)){if(b.children===m.children&&!ln.current){o=Lr(a,o,c);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var P=b.dependencies;if(P!==null){T=b.child;for(var M=P.firstContext;M!==null;){if(M.context===p){if(b.tag===1){M=Mr(-1,c&-c),M.tag=2;var H=b.updateQueue;if(H!==null){H=H.shared;var ne=H.pending;ne===null?M.next=M:(M.next=ne.next,ne.next=M),H.pending=M}}b.lanes|=c,M=b.alternate,M!==null&&(M.lanes|=c),$d(b.return,c,o),P.lanes|=c;break}M=M.next}}else if(b.tag===10)T=b.type===o.type?null:b.child;else if(b.tag===18){if(T=b.return,T===null)throw Error(n(341));T.lanes|=c,P=T.alternate,P!==null&&(P.lanes|=c),$d(T,c,o),T=b.sibling}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===o){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}Xt(a,o,m.children,c),o=o.child}return o;case 9:return m=o.type,p=o.pendingProps.children,Us(o,c),m=Rn(m),p=p(m),o.flags|=1,Xt(a,o,p,c),o.child;case 14:return p=o.type,m=Jn(p,o.pendingProps),m=Jn(p.type,m),Ly(a,o,p,m,c);case 15:return Fy(a,o,o.type,o.pendingProps,c);case 17:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),yu(a,o),o.tag=1,un(p)?(a=!0,Ql(o)):a=!1,Us(o,c),Ny(o,p,m),nf(o,p,m,c),of(null,o,p,!0,a,c);case 19:return Wy(a,o,c);case 22:return zy(a,o,c)}throw Error(n(156,o.tag))};function gv(a,o){return Gm(a,o)}function z2(a,o,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(a,o,c,p){return new z2(a,o,c,p)}function Ef(a){return a=a.prototype,!(!a||!a.isReactComponent)}function $2(a){if(typeof a=="function")return Ef(a)?1:0;if(a!=null){if(a=a.$$typeof,a===J)return 11;if(a===re)return 14}return 2}function ga(a,o){var c=a.alternate;return c===null?(c=Dn(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Iu(a,o,c,p,m,b){var T=2;if(p=a,typeof a=="function")Ef(a)&&(T=1);else if(typeof a=="string")T=5;else e:switch(a){case U:return Qa(c.children,m,b,o);case X:T=8,m|=8;break;case W:return a=Dn(12,c,o,m|2),a.elementType=W,a.lanes=b,a;case ee:return a=Dn(13,c,o,m),a.elementType=ee,a.lanes=b,a;case G:return a=Dn(19,c,o,m),a.elementType=G,a.lanes=b,a;case V:return Nu(c,m,b,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case Q:T=10;break e;case K:T=9;break e;case J:T=11;break e;case re:T=14;break e;case de:T=16,p=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return o=Dn(T,c,o,m),o.elementType=a,o.type=p,o.lanes=b,o}function Qa(a,o,c,p){return a=Dn(7,a,p,o),a.lanes=c,a}function Nu(a,o,c,p){return a=Dn(22,a,p,o),a.elementType=V,a.lanes=c,a.stateNode={isHidden:!1},a}function If(a,o,c){return a=Dn(6,a,null,o),a.lanes=c,a}function Nf(a,o,c){return o=Dn(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function U2(a,o,c,p,m){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=td(0),this.expirationTimes=td(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=td(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Of(a,o,c,p,m,b,T,P,M){return a=new U2(a,o,c,P,M),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Dn(3,null,null,o),a.current=b,b.stateNode=a,b.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(b),a}function B2(a,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:p==null?null:""+p,children:a,containerInfo:o,implementation:c}}function yv(a){if(!a)return oa;a=a._reactInternals;e:{if(Ua(a)!==a||a.tag!==1)throw Error(n(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(a.tag===1){var c=a.type;if(un(c))return Vg(a,c,o)}return o}function vv(a,o,c,p,m,b,T,P,M){return a=Of(c,p,!0,a,m,b,T,P,M),a.context=yv(null),c=a.current,p=Qt(),m=ha(c),b=Mr(p,m),b.callback=o??null,ca(c,b,m),a.current.lanes=m,Ii(a,m,p),fn(a,p),a}function Ou(a,o,c,p){var m=o.current,b=Qt(),T=ha(m);return c=yv(c),o.context===null?o.context=c:o.pendingContext=c,o=Mr(b,T),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=ca(m,o,T),a!==null&&(Kn(a,m,T,b),ou(a,m,T)),T}function ju(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function xv(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function jf(a,o){xv(a,o),(a=a.alternate)&&xv(a,o)}function H2(){return null}var wv=typeof reportError=="function"?reportError:function(a){console.error(a)};function Rf(a){this._internalRoot=a}Ru.prototype.render=Rf.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));Ou(a,o,null,null)},Ru.prototype.unmount=Rf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Ya(function(){Ou(null,a,null,null)}),o[jr]=null}};function Ru(a){this._internalRoot=a}Ru.prototype.unstable_scheduleHydration=function(a){if(a){var o=rg();a={blockedOn:null,target:a,priority:o};for(var c=0;c<na.length&&o!==0&&o<na[c].priority;c++);na.splice(c,0,a),c===0&&ig(a)}};function Pf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Pu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function bv(){}function q2(a,o,c,p,m){if(m){if(typeof p=="function"){var b=p;p=function(){var H=ju(T);b.call(H)}}var T=vv(o,p,a,0,null,!1,!1,"",bv);return a._reactRootContainer=T,a[jr]=T.current,Bi(a.nodeType===8?a.parentNode:a),Ya(),T}for(;m=a.lastChild;)a.removeChild(m);if(typeof p=="function"){var P=p;p=function(){var H=ju(M);P.call(H)}}var M=Of(a,0,!1,null,null,!1,!1,"",bv);return a._reactRootContainer=M,a[jr]=M.current,Bi(a.nodeType===8?a.parentNode:a),Ya(function(){Ou(o,M,c,p)}),M}function Au(a,o,c,p,m){var b=c._reactRootContainer;if(b){var T=b;if(typeof m=="function"){var P=m;m=function(){var M=ju(T);P.call(M)}}Ou(o,T,a,m)}else T=q2(c,o,a,m,p);return ju(T)}tg=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ei(o.pendingLanes);c!==0&&(nd(o,c|1),fn(o,Tt()),!(Ye&6)&&(Ws=Tt()+500,la()))}break;case 13:Ya(function(){var p=Dr(a,1);if(p!==null){var m=Qt();Kn(p,a,1,m)}}),jf(a,1)}},rd=function(a){if(a.tag===13){var o=Dr(a,134217728);if(o!==null){var c=Qt();Kn(o,a,134217728,c)}jf(a,134217728)}},ng=function(a){if(a.tag===13){var o=ha(a),c=Dr(a,o);if(c!==null){var p=Qt();Kn(c,a,o,p)}jf(a,o)}},rg=function(){return tt},ag=function(a,o){var c=tt;try{return tt=a,o()}finally{tt=c}},Ss=function(a,o,c){switch(o){case"input":if(Ft(a,c),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==a&&p.form===a.form){var m=Kl(p);if(!m)throw Error(n(90));Ae(p),Ft(p,m)}}}break;case"textarea":La(a,c);break;case"select":o=c.value,o!=null&&gn(a,!!c.multiple,o,!1)}},Nr=_f,Ci=Ya;var V2={usingClientEntryPoint:!1,Events:[Vi,Ps,Kl,ks,sn,_f]},so={findFiberByHostInstance:Ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W2={bundleType:so.bundleType,version:so.version,rendererPackageName:so.rendererPackageName,rendererConfig:so.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Zm(a),a===null?null:a.stateNode},findFiberByHostInstance:so.findFiberByHostInstance||H2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Rl=Du.inject(W2),or=Du}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V2,pn.createPortal=function(a,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(o))throw Error(n(200));return B2(a,o,null,c)},pn.createRoot=function(a,o){if(!Pf(a))throw Error(n(299));var c=!1,p="",m=wv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Of(a,1,!1,null,null,c,!1,p,m),a[jr]=o.current,Bi(a.nodeType===8?a.parentNode:a),new Rf(o)},pn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=Zm(o),a=a===null?null:a.stateNode,a},pn.flushSync=function(a){return Ya(a)},pn.hydrate=function(a,o,c){if(!Pu(o))throw Error(n(200));return Au(null,a,o,!0,c)},pn.hydrateRoot=function(a,o,c){if(!Pf(a))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,m=!1,b="",T=wv;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=vv(o,null,a,1,c??null,m,!1,b,T),a[jr]=o.current,Bi(a),p)for(a=0;a<p.length;a++)c=p[a],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new Ru(o)},pn.render=function(a,o,c){if(!Pu(o))throw Error(n(200));return Au(null,a,o,!1,c)},pn.unmountComponentAtNode=function(a){if(!Pu(a))throw Error(n(40));return a._reactRootContainer?(Ya(function(){Au(null,null,a,!1,function(){a._reactRootContainer=null,a[jr]=null})}),!0):!1},pn.unstable_batchedUpdates=_f,pn.unstable_renderSubtreeIntoContainer=function(a,o,c,p){if(!Pu(c))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Au(a,o,c,!1,p)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var Nv;function nC(){if(Nv)return Mf.exports;Nv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Mf.exports=tC(),Mf.exports}var Ov;function rC(){if(Ov)return Mu;Ov=1;var e=nC();return Mu.createRoot=e.createRoot,Mu.hydrateRoot=e.hydrateRoot,Mu}var aC=rC(),oo={},jv;function sC(){if(jv)return oo;jv=1,Object.defineProperty(oo,"__esModule",{value:!0}),oo.parse=l,oo.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function l(v,x){const S=new i,_=v.length;if(_<2)return S;const C=(x==null?void 0:x.decode)||h;let k=0;do{const I=v.indexOf("=",k);if(I===-1)break;const N=v.indexOf(";",k),j=N===-1?_:N;if(I>j){k=v.lastIndexOf(";",I-1)+1;continue}const L=u(v,k,I),A=d(v,I,L),U=v.slice(L,A);if(S[U]===void 0){let X=u(v,I+1,j),W=d(v,j,X);const Q=C(v.slice(X,W));S[U]=Q}k=j+1}while(k<_);return S}function u(v,x,S){do{const _=v.charCodeAt(x);if(_!==32&&_!==9)return x}while(++x<S);return S}function d(v,x,S){for(;x>S;){const _=v.charCodeAt(--x);if(_!==32&&_!==9)return x+1}return S}function f(v,x,S){const _=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(v))throw new TypeError(`argument name is invalid: ${v}`);const C=_(x);if(!t.test(C))throw new TypeError(`argument val is invalid: ${x}`);let k=v+"="+C;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function h(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function g(v){return s.call(v)==="[object Date]"}return oo}sC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Rv="popstate";function iC(e={}){function t(s,i){let{pathname:l="/",search:u="",hash:d=""}=vs(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Rp("",{pathname:l,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let d=s.location.href,f=d.indexOf("#");u=f===-1?d:d.slice(0,f)}return u+"#"+(typeof i=="string"?i:jo(i))}function r(s,i){ar(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return lC(t,n,r,e)}function wt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ar(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oC(){return Math.random().toString(36).substring(2,10)}function Pv(e,t){return{usr:e.state,key:e.key,idx:t}}function Rp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?vs(t):t,state:n,key:t&&t.key||r||oC()}}function jo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function lC(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,u="POP",d=null,f=h();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function h(){return(l.state||{idx:null}).idx}function g(){u="POP";let C=h(),k=C==null?null:C-f;f=C,d&&d({action:u,location:_.location,delta:k})}function v(C,k){u="PUSH";let I=Rp(_.location,C,k);n&&n(I,C),f=h()+1;let N=Pv(I,f),j=_.createHref(I);try{l.pushState(N,"",j)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(j)}i&&d&&d({action:u,location:_.location,delta:1})}function x(C,k){u="REPLACE";let I=Rp(_.location,C,k);n&&n(I,C),f=h();let N=Pv(I,f),j=_.createHref(I);l.replaceState(N,"",j),i&&d&&d({action:u,location:_.location,delta:0})}function S(C){let k=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof C=="string"?C:jo(C);return I=I.replace(/ $/,"%20"),wt(k,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,k)}let _={get action(){return u},get location(){return e(s,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(Rv,g),d=C,()=>{s.removeEventListener(Rv,g),d=null}},createHref(C){return t(s,C)},createURL:S,encodeLocation(C){let k=S(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:x,go(C){return l.go(C)}};return _}function bx(e,t,n="/"){return uC(e,t,n,!1)}function uC(e,t,n,r){let s=typeof t=="string"?vs(t):t,i=ka(s.pathname||"/",n);if(i==null)return null;let l=Sx(e);cC(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=bC(i);u=xC(l[d],f,r)}return u}function Sx(e,t=[],n=[],r=""){let s=(i,l,u)=>{let d={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(wt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ur([r,d.relativePath]),h=n.concat(d);i.children&&i.children.length>0&&(wt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Sx(i.children,t,h,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:yC(f,i.index),routesMeta:h})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,l);else for(let d of kx(i.path))s(i,l,d)}),t}function kx(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=kx(r.join("/")),u=[];return u.push(...l.map(d=>d===""?i:[i,d].join("/"))),s&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function cC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var dC=/^:[\w-]+$/,fC=3,pC=2,hC=1,mC=10,gC=-2,Av=e=>e==="*";function yC(e,t){let n=e.split("/"),r=n.length;return n.some(Av)&&(r+=gC),t&&(r+=pC),n.filter(s=>!Av(s)).reduce((s,i)=>s+(dC.test(i)?fC:i===""?hC:mC),r)}function vC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function xC(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},h),v=d.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=ic({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Ur([i,g.pathname]),pathnameBase:CC(Ur([i,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(i=Ur([i,g.pathnameBase]))}return l}function ic(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=wC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:g},v)=>{if(h==="*"){let S=u[v]||"";l=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const x=u[v];return g&&!x?f[h]=void 0:f[h]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:l,pattern:e}}function wC(e,t=!1,n=!0){ar(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function bC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ar(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ka(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function SC(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?vs(e):e;return{pathname:n?n.startsWith("/")?n:kC(n,t):t,search:TC(r),hash:EC(s)}}function kC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _C(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _x(e){let t=_C(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Cx(e,t,n,r=!1){let s;typeof e=="string"?s=vs(e):(s={...e},wt(!s.pathname||!s.pathname.includes("?"),zf("?","pathname","search",s)),wt(!s.pathname||!s.pathname.includes("#"),zf("#","pathname","hash",s)),wt(!s.search||!s.search.includes("#"),zf("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),g-=1;s.pathname=v.join("/")}u=g>=0?t[g]:"/"}let d=SC(s,u),f=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||h)&&(d.pathname+="/"),d}var Ur=e=>e.join("/").replace(/\/\/+/g,"/"),CC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),TC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function IC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Tx=["POST","PUT","PATCH","DELETE"];new Set(Tx);var NC=["GET",...Tx];new Set(NC);var vi=O.createContext(null);vi.displayName="DataRouter";var Dc=O.createContext(null);Dc.displayName="DataRouterState";var Ex=O.createContext({isTransitioning:!1});Ex.displayName="ViewTransition";var OC=O.createContext(new Map);OC.displayName="Fetchers";var jC=O.createContext(null);jC.displayName="Await";var _r=O.createContext(null);_r.displayName="Navigation";var wl=O.createContext(null);wl.displayName="Location";var Cr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Cr.displayName="Route";var Hh=O.createContext(null);Hh.displayName="RouteError";function RC(e,{relative:t}={}){wt(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(_r),{hash:s,pathname:i,search:l}=Sl(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:Ur([n,i])),r.createHref({pathname:u,search:l,hash:s})}function bl(){return O.useContext(wl)!=null}function Zr(){return wt(bl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(wl).location}var Ix="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nx(e){O.useContext(_r).static||O.useLayoutEffect(e)}function xi(){let{isDataRoute:e}=O.useContext(Cr);return e?WC():PC()}function PC(){wt(bl(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(vi),{basename:t,navigator:n}=O.useContext(_r),{matches:r}=O.useContext(Cr),{pathname:s}=Zr(),i=JSON.stringify(_x(r)),l=O.useRef(!1);return Nx(()=>{l.current=!0}),O.useCallback((d,f={})=>{if(ar(l.current,Ix),!l.current)return;if(typeof d=="number"){n.go(d);return}let h=Cx(d,JSON.parse(i),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ur([t,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[t,n,i,s,e])}O.createContext(null);function AC(){let{matches:e}=O.useContext(Cr),t=e[e.length-1];return t?t.params:{}}function Sl(e,{relative:t}={}){let{matches:n}=O.useContext(Cr),{pathname:r}=Zr(),s=JSON.stringify(_x(n));return O.useMemo(()=>Cx(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function DC(e,t){return Ox(e,t)}function Ox(e,t,n,r){var I;wt(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=O.useContext(_r),{matches:l}=O.useContext(Cr),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",g=u&&u.route;{let N=g&&g.path||"";jx(f,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=Zr(),x;if(t){let N=typeof t=="string"?vs(t):t;wt(h==="/"||((I=N.pathname)==null?void 0:I.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${N.pathname}" was given in the \`location\` prop.`),x=N}else x=v;let S=x.pathname||"/",_=S;if(h!=="/"){let N=h.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(N.length).join("/")}let C=!i&&n&&n.matches&&n.matches.length>0?n.matches:bx(e,{pathname:_});ar(g||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ar(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=$C(C&&C.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Ur([h,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:Ur([h,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),l,n,r);return t&&k?O.createElement(wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function MC(){let e=VC(),t=IC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:i},"ErrorBoundary")," or"," ",O.createElement("code",{style:i},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:s},n):null,l)}var LC=O.createElement(MC,null),FC=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(Cr.Provider,{value:this.props.routeContext},O.createElement(Hh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zC({routeContext:e,match:t,children:n}){let r=O.useContext(vi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Cr.Provider,{value:e},n)}function $C(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let d=s.findIndex(f=>f.route.id&&(i==null?void 0:i[f.route.id])!==void 0);wt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let l=!1,u=-1;if(n)for(let d=0;d<s.length;d++){let f=s[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,f,h)=>{let g,v=!1,x=null,S=null;n&&(g=i&&f.route.id?i[f.route.id]:void 0,x=f.route.errorElement||LC,l&&(u<0&&h===0?(jx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):u===h&&(v=!0,S=f.route.hydrateFallbackElement||null)));let _=t.concat(s.slice(0,h+1)),C=()=>{let k;return g?k=x:v?k=S:f.route.Component?k=O.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,O.createElement(zC,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?O.createElement(FC,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function qh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UC(e){let t=O.useContext(vi);return wt(t,qh(e)),t}function BC(e){let t=O.useContext(Dc);return wt(t,qh(e)),t}function HC(e){let t=O.useContext(Cr);return wt(t,qh(e)),t}function Vh(e){let t=HC(e),n=t.matches[t.matches.length-1];return wt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function qC(){return Vh("useRouteId")}function VC(){var r;let e=O.useContext(Hh),t=BC("useRouteError"),n=Vh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function WC(){let{router:e}=UC("useNavigate"),t=Vh("useNavigate"),n=O.useRef(!1);return Nx(()=>{n.current=!0}),O.useCallback(async(s,i={})=>{ar(n.current,Ix),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Dv={};function jx(e,t,n){!t&&!Dv[e]&&(Dv[e]=!0,ar(!1,n))}O.memo(ZC);function ZC({routes:e,future:t,state:n}){return Ox(e,void 0,n,t)}function Fn(e){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){wt(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof n=="string"&&(n=vs(n));let{pathname:d="/",search:f="",hash:h="",state:g=null,key:v="default"}=n,x=O.useMemo(()=>{let S=ka(d,l);return S==null?null:{location:{pathname:S,search:f,hash:h,state:g,key:v},navigationType:r}},[l,d,f,h,g,v,r]);return ar(x!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(_r.Provider,{value:u},O.createElement(wl.Provider,{children:t,value:x}))}function Rx({children:e,location:t}){return DC(Pp(e),t)}function Pp(e,t=[]){let n=[];return O.Children.forEach(e,(r,s)=>{if(!O.isValidElement(r))return;let i=[...t,s];if(r.type===O.Fragment){n.push.apply(n,Pp(r.props.children,i));return}wt(r.type===Fn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Pp(r.props.children,i)),n.push(l)}),n}var Xu="get",Qu="application/x-www-form-urlencoded";function Mc(e){return e!=null&&typeof e.tagName=="string"}function GC(e){return Mc(e)&&e.tagName.toLowerCase()==="button"}function YC(e){return Mc(e)&&e.tagName.toLowerCase()==="form"}function KC(e){return Mc(e)&&e.tagName.toLowerCase()==="input"}function XC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QC(e,t){return e.button===0&&(!t||t==="_self")&&!XC(e)}var Lu=null;function eT(){if(Lu===null)try{new FormData(document.createElement("form"),0),Lu=!1}catch{Lu=!0}return Lu}var tT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $f(e){return e!=null&&!tT.has(e)?(ar(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qu}"`),null):e}function nT(e,t){let n,r,s,i,l;if(YC(e)){let u=e.getAttribute("action");r=u?ka(u,t):null,n=e.getAttribute("method")||Xu,s=$f(e.getAttribute("enctype"))||Qu,i=new FormData(e)}else if(GC(e)||KC(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(r=d?ka(d,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Xu,s=$f(e.getAttribute("formenctype"))||$f(u.getAttribute("enctype"))||Qu,i=new FormData(u,e),!eT()){let{name:f,type:h,value:g}=e;if(h==="image"){let v=f?`${f}.`:"";i.append(`${v}x`,"0"),i.append(`${v}y`,"0")}else f&&i.append(f,g)}}else{if(Mc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xu,r=null,s=Qu,l=e}return i&&s==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:l}}function Wh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function rT(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aT(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function sT(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let l=await rT(i,n);return l.links?l.links():[]}return[]}));return uT(r.flat(1).filter(aT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Mv(e,t,n,r,s,i){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,u=(d,f)=>{var h;return n[f].pathname!==d.pathname||((h=n[f].route.path)==null?void 0:h.endsWith("*"))&&n[f].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):i==="data"?t.filter((d,f)=>{var g;let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function iT(e,t){return oT(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function oT(e){return[...new Set(e)]}function lT(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function uT(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(lT(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function cT(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function dT(){let e=O.useContext(vi);return Wh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fT(){let e=O.useContext(Dc);return Wh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Zh=O.createContext(void 0);Zh.displayName="FrameworkContext";function Px(){let e=O.useContext(Zh);return Wh(e,"You must render this element inside a <HydratedRouter> element"),e}function pT(e,t){let n=O.useContext(Zh),[r,s]=O.useState(!1),[i,l]=O.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:h,onTouchStart:g}=t,v=O.useRef(null);O.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=k=>{k.forEach(I=>{l(I.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[e]),O.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let x=()=>{s(!0)},S=()=>{s(!1),l(!1)};return n?e!=="intent"?[i,v,{}]:[i,v,{onFocus:lo(u,x),onBlur:lo(d,S),onMouseEnter:lo(f,x),onMouseLeave:lo(h,S),onTouchStart:lo(g,x)}]:[!1,v,{}]}function lo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function hT({page:e,...t}){let{router:n}=dT(),r=O.useMemo(()=>bx(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(gT,{page:e,matches:r,...t}):null}function mT(e){let{manifest:t,routeModules:n}=Px(),[r,s]=O.useState([]);return O.useEffect(()=>{let i=!1;return sT(e,t,n).then(l=>{i||s(l)}),()=>{i=!0}},[e,t,n]),r}function gT({page:e,matches:t,...n}){let r=Zr(),{manifest:s,routeModules:i}=Px(),{loaderData:l,matches:u}=fT(),d=O.useMemo(()=>Mv(e,t,u,s,r,"data"),[e,t,u,s,r]),f=O.useMemo(()=>Mv(e,t,u,s,r,"assets"),[e,t,u,s,r]),h=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,S=!1;if(t.forEach(C=>{var I;let k=s.routes[C.route.id];!k||!k.hasLoader||(!d.some(N=>N.route.id===C.route.id)&&C.route.id in l&&((I=i[C.route.id])!=null&&I.shouldRevalidate)||k.hasClientLoader?S=!0:x.add(C.route.id))}),x.size===0)return[];let _=cT(e);return S&&x.size>0&&_.searchParams.set("_routes",t.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[l,r,s,d,t,e,i]),g=O.useMemo(()=>iT(f,s),[f,s]),v=mT(f);return O.createElement(O.Fragment,null,h.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:S})=>O.createElement("link",{key:x,...S})))}function yT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ax=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ax&&(window.__reactRouterVersion="7.1.5")}catch{}function vT({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=iC({window:n,v5Compat:!0}));let s=r.current,[i,l]=O.useState({action:s.action,location:s.location}),u=O.useCallback(d=>{O.startTransition(()=>l(d))},[l]);return O.useLayoutEffect(()=>s.listen(u),[s,u]),O.createElement(JC,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var Dx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jh=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:l,state:u,target:d,to:f,preventScrollReset:h,viewTransition:g,...v},x){let{basename:S}=O.useContext(_r),_=typeof f=="string"&&Dx.test(f),C,k=!1;if(typeof f=="string"&&_&&(C=f,Ax))try{let W=new URL(window.location.href),Q=f.startsWith("//")?new URL(W.protocol+f):new URL(f),K=ka(Q.pathname,S);Q.origin===W.origin&&K!=null?f=K+Q.search+Q.hash:k=!0}catch{ar(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=RC(f,{relative:s}),[N,j,L]=pT(r,v),A=ST(f,{replace:l,state:u,target:d,preventScrollReset:h,relative:s,viewTransition:g});function U(W){t&&t(W),W.defaultPrevented||A(W)}let X=O.createElement("a",{...v,...L,href:C||I,onClick:k||i?t:U,ref:yT(x,j),target:d,"data-discover":!_&&n==="render"?"true":void 0});return N&&!_?O.createElement(O.Fragment,null,X,O.createElement(hT,{page:I})):X});Jh.displayName="Link";var xT=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:l,viewTransition:u,children:d,...f},h){let g=Sl(l,{relative:f.relative}),v=Zr(),x=O.useContext(Dc),{navigator:S,basename:_}=O.useContext(_r),C=x!=null&&ET(g)&&u===!0,k=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,I=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(I=I.toLowerCase(),N=N?N.toLowerCase():null,k=k.toLowerCase()),N&&_&&(N=ka(N,_)||N);const j=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=I===k||!s&&I.startsWith(k)&&I.charAt(j)==="/",A=N!=null&&(N===k||!s&&N.startsWith(k)&&N.charAt(k.length)==="/"),U={isActive:L,isPending:A,isTransitioning:C},X=L?t:void 0,W;typeof r=="function"?W=r(U):W=[r,L?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let Q=typeof i=="function"?i(U):i;return O.createElement(Jh,{...f,"aria-current":X,className:W,ref:h,style:Q,to:l,viewTransition:u},typeof d=="function"?d(U):d)});xT.displayName="NavLink";var wT=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:l=Xu,action:u,onSubmit:d,relative:f,preventScrollReset:h,viewTransition:g,...v},x)=>{let S=CT(),_=TT(u,{relative:f}),C=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&Dx.test(u),I=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let j=N.nativeEvent.submitter,L=(j==null?void 0:j.getAttribute("formmethod"))||l;S(j||N.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:s,state:i,relative:f,preventScrollReset:h,viewTransition:g})};return O.createElement("form",{ref:x,method:C,action:_,onSubmit:r?d:I,...v,"data-discover":!k&&e==="render"?"true":void 0})});wT.displayName="Form";function bT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mx(e){let t=O.useContext(vi);return wt(t,bT(e)),t}function ST(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:l}={}){let u=xi(),d=Zr(),f=Sl(e,{relative:i});return O.useCallback(h=>{if(QC(h,t)){h.preventDefault();let g=n!==void 0?n:jo(d)===jo(f);u(e,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:l})}},[d,u,f,n,r,t,e,s,i,l])}var kT=0,_T=()=>`__${String(++kT)}__`;function CT(){let{router:e}=Mx("useSubmit"),{basename:t}=O.useContext(_r),n=qC();return O.useCallback(async(r,s={})=>{let{action:i,method:l,encType:u,formData:d,body:f}=nT(r,t);if(s.navigate===!1){let h=s.fetcherKey||_T();await e.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:d,body:f,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function TT(e,{relative:t}={}){let{basename:n}=O.useContext(_r),r=O.useContext(Cr);wt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Sl(e||".",{relative:t})},l=Zr();if(e==null){i.search=l.search;let u=new URLSearchParams(i.search),d=u.getAll("index");if(d.some(h=>h==="")){u.delete("index"),d.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ur([n,i.pathname])),jo(i)}function ET(e,t={}){let n=O.useContext(Ex);wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Mx("useViewTransitionState"),s=Sl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=ka(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ka(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ic(s.pathname,l)!=null||ic(s.pathname,i)!=null}new TextEncoder;const ct=window.electron,_a={ollamaInstallCheck:async()=>(ct==null?void 0:ct.ollamaInstallCheck())??!1,ollamaServerToggle:async e=>(ct==null?void 0:ct.ollamaServerToggle(e))??!1,ollamaModelDownload:async e=>(ct==null?void 0:ct.ollamaModelDownload(e))??"Error: Electron bridge not available",ollamaModelRemove:async e=>(ct==null?void 0:ct.ollamaModelRemove(e))??"Error: Electron bridge not available",systemInfoGet:async()=>{const e=await(ct==null?void 0:ct.systemInfoGet());if(!e)throw new Error("SystemInfo not available");return e},ollamaModelRemote:async()=>(ct==null?void 0:ct.ollamaModelRemote())??[],goToUrl:e=>{console.log("goToUrl",e,ct),ct==null||ct.goToUrl(e)},urlScrape:async e=>(ct==null?void 0:ct.urlScrape(e))??"Error: Electron bridge not available"},Lx=({className:e})=>y.jsx("img",{src:"./logo.png",alt:"Logo",className:`h-8 aspect-square ${e||""}`}),Fx=({className:e})=>y.jsx("span",{className:`font-black uppercase tracking-wide logo text-2xl ${e||""}`,children:"Juicebox"}),zx=({className:e,imgClassName:t})=>y.jsxs("h2",{className:"pl-4 flex flex-row gap-2 items-center ",children:[y.jsx(Lx,{className:t}),y.jsx(Fx,{className:e})]}),Lv=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current h-6 w-6 shrink-0",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),IT=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),NT=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),OT=()=>y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),jT=e=>{switch(e){case"info":return y.jsx(Lv,{});case"success":return y.jsx(IT,{});case"warning":return y.jsx(NT,{});case"error":return y.jsx(OT,{});default:return y.jsx(Lv,{})}},RT=(e,t,n="")=>{const r="alert",s=t?"shadow-lg":"",i={default:"",info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-error"}[e];return[r,i,s,n].filter(Boolean).join(" ").trim()},Qs=({type:e="default",children:t,title:n,description:r,buttons:s,className:i=""})=>{const l=RT(e,!!n,i);return y.jsxs("div",{role:"alert",className:l,children:[jT(e),n?y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold",children:n}),y.jsx("div",{className:"text-xs",children:r||t})]}):y.jsx("span",{children:t}),s&&y.jsx("div",{children:s})]})},ec=({label:e,description:t,className:n,topRight:r,...s})=>y.jsxs("div",{className:n||"",children:[y.jsxs("div",{className:"flex flex-row w-full items-center items-center mb-1",children:[y.jsx("label",{className:"flex-grow text-sm font-bold",children:e}),r&&y.jsx(y.Fragment,{children:r})]}),y.jsx("input",{className:"input input-bordered w-full",...s}),t&&y.jsx("p",{className:"text-xs italic mt-2 opacity-70",children:t})]});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const PT={prefix:"fas",iconName:"file-lines",icon:[384,512,[128441,128462,61686,"file-alt","file-text"],"f15c","M64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-288-128 0c-17.7 0-32-14.3-32-32L224 0 64 0zM256 0l0 128 128 0L256 0zM112 256l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64l160 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-160 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},AT={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},DT={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},oc={prefix:"fas",iconName:"globe",icon:[512,512,[127760],"f0ac","M352 256c0 22.2-1.2 43.6-3.3 64l-185.3 0c-2.2-20.4-3.3-41.8-3.3-64s1.2-43.6 3.3-64l185.3 0c2.2 20.4 3.3 41.8 3.3 64zm28.8-64l123.1 0c5.3 20.5 8.1 41.9 8.1 64s-2.8 43.5-8.1 64l-123.1 0c2.1-20.6 3.2-42 3.2-64s-1.1-43.4-3.2-64zm112.6-32l-116.7 0c-10-63.9-29.8-117.4-55.3-151.6c78.3 20.7 142 77.5 171.9 151.6zm-149.1 0l-176.6 0c6.1-36.4 15.5-68.6 27-94.7c10.5-23.6 22.2-40.7 33.5-51.5C239.4 3.2 248.7 0 256 0s16.6 3.2 27.8 13.8c11.3 10.8 23 27.9 33.5 51.5c11.6 26 20.9 58.2 27 94.7zm-209 0L18.6 160C48.6 85.9 112.2 29.1 190.6 8.4C165.1 42.6 145.3 96.1 135.3 160zM8.1 192l123.1 0c-2.1 20.6-3.2 42-3.2 64s1.1 43.4 3.2 64L8.1 320C2.8 299.5 0 278.1 0 256s2.8-43.5 8.1-64zM194.7 446.6c-11.6-26-20.9-58.2-27-94.6l176.6 0c-6.1 36.4-15.5 68.6-27 94.6c-10.5 23.6-22.2 40.7-33.5 51.5C272.6 508.8 263.3 512 256 512s-16.6-3.2-27.8-13.8c-11.3-10.8-23-27.9-33.5-51.5zM135.3 352c10 63.9 29.8 117.4 55.3 151.6C112.2 482.9 48.6 426.1 18.6 352l116.7 0zm358.1 0c-30 74.1-93.6 130.9-171.9 151.6c25.5-34.2 45.2-87.7 55.3-151.6l116.7 0z"]},MT={prefix:"fas",iconName:"circle-check",icon:[512,512,[61533,"check-circle"],"f058","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM369 209L241 337c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L335 175c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"]},Fv=MT,LT={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},So=LT,Ap={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},FT={prefix:"fas",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z"]},as={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},zT={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},$T={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},$x=$T,UT={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},BT={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},HT={prefix:"fas",iconName:"link",icon:[640,512,[128279,"chain"],"f0c1","M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z"]},qT=HT,Ux={prefix:"fas",iconName:"chevron-down",icon:[512,512,[],"f078","M233.4 406.6c12.5 12.5 32.8 12.5 45.3 0l192-192c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L256 338.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l192 192z"]},zv={prefix:"fas",iconName:"copy",icon:[448,512,[],"f0c5","M208 0L332.1 0c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9L448 336c0 26.5-21.5 48-48 48l-192 0c-26.5 0-48-21.5-48-48l0-288c0-26.5 21.5-48 48-48zM48 128l80 0 0 64-64 0 0 256 192 0 0-32 64 0 0 48c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 176c0-26.5 21.5-48 48-48z"]},Bx={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},VT={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Ro=VT,WT={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},ZT={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},ss={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},JT={prefix:"fas",iconName:"infinity",icon:[640,512,[8734,9854],"f534","M0 241.1C0 161 65 96 145.1 96c38.5 0 75.4 15.3 102.6 42.5L320 210.7l72.2-72.2C419.5 111.3 456.4 96 494.9 96C575 96 640 161 640 241.1l0 29.7C640 351 575 416 494.9 416c-38.5 0-75.4-15.3-102.6-42.5L320 301.3l-72.2 72.2C220.5 400.7 183.6 416 145.1 416C65 416 0 351 0 270.9l0-29.7zM274.7 256l-72.2-72.2c-15.2-15.2-35.9-23.8-57.4-23.8C100.3 160 64 196.3 64 241.1l0 29.7c0 44.8 36.3 81.1 81.1 81.1c21.5 0 42.2-8.5 57.4-23.8L274.7 256zm90.5 0l72.2 72.2c15.2 15.2 35.9 23.8 57.4 23.8c44.8 0 81.1-36.3 81.1-81.1l0-29.7c0-44.8-36.3-81.1-81.1-81.1c-21.5 0-42.2 8.5-57.4 23.8L365.3 256z"]},$v={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},GT={prefix:"fas",iconName:"exclamation",icon:[128,512,[10069,10071,61738],"21","M96 64c0-17.7-14.3-32-32-32S32 46.3 32 64l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32L96 64zM64 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function YT(e,t,n){return(t=XT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uv(Object(n),!0).forEach(function(r){YT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XT(e){var t=KT(e,"string");return typeof t=="symbol"?t:t+""}const Bv=()=>{};let Gh={},Hx={},qx=null,Vx={mark:Bv,measure:Bv};try{typeof window<"u"&&(Gh=window),typeof document<"u"&&(Hx=document),typeof MutationObserver<"u"&&(qx=MutationObserver),typeof performance<"u"&&(Vx=performance)}catch{}const{userAgent:Hv=""}=Gh.navigator||{},Ca=Gh,ft=Hx,qv=qx,Fu=Vx;Ca.document;const Jr=!!ft.documentElement&&!!ft.head&&typeof ft.addEventListener=="function"&&typeof ft.createElement=="function",Wx=~Hv.indexOf("MSIE")||~Hv.indexOf("Trident/");var QT=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,eE=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Zx={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},tE={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},Jx=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Zt="classic",Lc="duotone",nE="sharp",rE="sharp-duotone",Gx=[Zt,Lc,nE,rE],aE={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},sE={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},iE=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),oE={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},lE=["fak","fa-kit","fakd","fa-kit-duotone"],Vv={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},uE=["kit"],cE={kit:{"fa-kit":"fak"}},dE=["fak","fakd"],fE={kit:{fak:"fa-kit"}},Wv={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},zu={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},pE=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],hE=["fak","fa-kit","fakd","fa-kit-duotone"],mE={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},gE={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},yE={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Dp={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},vE=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Mp=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...pE,...vE],xE=["solid","regular","light","thin","duotone","brands"],Yx=[1,2,3,4,5,6,7,8,9,10],wE=Yx.concat([11,12,13,14,15,16,17,18,19,20]),bE=[...Object.keys(yE),...xE,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",zu.GROUP,zu.SWAP_OPACITY,zu.PRIMARY,zu.SECONDARY].concat(Yx.map(e=>"".concat(e,"x"))).concat(wE.map(e=>"w-".concat(e))),SE={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Hr="___FONT_AWESOME___",Lp=16,Kx="fa",Xx="svg-inline--fa",cs="data-fa-i2svg",Fp="data-fa-pseudo-element",kE="data-fa-pseudo-element-pending",Yh="data-prefix",Kh="data-icon",Zv="fontawesome-i2svg",_E="async",CE=["HTML","HEAD","STYLE","SCRIPT"],Qx=(()=>{try{return!0}catch{return!1}})();function kl(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[Zt]}})}const ew=ie({},Zx);ew[Zt]=ie(ie(ie(ie({},{"fa-duotone":"duotone"}),Zx[Zt]),Vv.kit),Vv["kit-duotone"]);const TE=kl(ew),zp=ie({},oE);zp[Zt]=ie(ie(ie(ie({},{duotone:"fad"}),zp[Zt]),Wv.kit),Wv["kit-duotone"]);const Jv=kl(zp),$p=ie({},Dp);$p[Zt]=ie(ie({},$p[Zt]),fE.kit);const Xh=kl($p),Up=ie({},gE);Up[Zt]=ie(ie({},Up[Zt]),cE.kit);kl(Up);const EE=QT,tw="fa-layers-text",IE=eE,NE=ie({},aE);kl(NE);const OE=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Uf=tE,jE=[...uE,...bE],ko=Ca.FontAwesomeConfig||{};function RE(e){var t=ft.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function PE(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}ft&&typeof ft.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=PE(RE(n));s!=null&&(ko[r]=s)});const nw={styleDefault:"solid",familyDefault:Zt,cssPrefix:Kx,replacementClass:Xx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ko.familyPrefix&&(ko.cssPrefix=ko.familyPrefix);const li=ie(ie({},nw),ko);li.autoReplaceSvg||(li.observeMutations=!1);const _e={};Object.keys(nw).forEach(e=>{Object.defineProperty(_e,e,{enumerable:!0,set:function(t){li[e]=t,_o.forEach(n=>n(_e))},get:function(){return li[e]}})});Object.defineProperty(_e,"familyPrefix",{enumerable:!0,set:function(e){li.cssPrefix=e,_o.forEach(t=>t(_e))},get:function(){return li.cssPrefix}});Ca.FontAwesomeConfig=_e;const _o=[];function AE(e){return _o.push(e),()=>{_o.splice(_o.indexOf(e),1)}}const xa=Lp,gr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function DE(e){if(!e||!Jr)return;const t=ft.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=ft.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],l=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=i)}return ft.head.insertBefore(t,r),e}const ME="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Po(){let e=12,t="";for(;e-- >0;)t+=ME[Math.random()*62|0];return t}function wi(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Qh(e){return e.classList?wi(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function rw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function LE(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(rw(e[n]),'" '),"").trim()}function Fc(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function em(e){return e.size!==gr.size||e.x!==gr.x||e.y!==gr.y||e.rotate!==gr.rotate||e.flipX||e.flipY}function FE(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)"),d={transform:"".concat(i," ").concat(l," ").concat(u)},f={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:d,path:f}}function zE(e){let{transform:t,width:n=Lp,height:r=Lp,startCentered:s=!1}=e,i="";return s&&Wx?i+="translate(".concat(t.x/xa-n/2,"em, ").concat(t.y/xa-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(t.x/xa,"em), calc(-50% + ").concat(t.y/xa,"em)) "):i+="translate(".concat(t.x/xa,"em, ").concat(t.y/xa,"em) "),i+="scale(".concat(t.size/xa*(t.flipX?-1:1),", ").concat(t.size/xa*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}var $E=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function aw(){const e=Kx,t=Xx,n=_e.cssPrefix,r=_e.replacementClass;let s=$E;if(n!==e||r!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),l=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");s=s.replace(i,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(u,".".concat(r))}return s}let Gv=!1;function Bf(){_e.autoAddCss&&!Gv&&(DE(aw()),Gv=!0)}var UE={mixout(){return{dom:{css:aw,insertCss:Bf}}},hooks(){return{beforeDOMElementCreation(){Bf()},beforeI2svg(){Bf()}}}};const qr=Ca||{};qr[Hr]||(qr[Hr]={});qr[Hr].styles||(qr[Hr].styles={});qr[Hr].hooks||(qr[Hr].hooks={});qr[Hr].shims||(qr[Hr].shims=[]);var yr=qr[Hr];const sw=[],iw=function(){ft.removeEventListener("DOMContentLoaded",iw),lc=1,sw.map(e=>e())};let lc=!1;Jr&&(lc=(ft.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ft.readyState),lc||ft.addEventListener("DOMContentLoaded",iw));function BE(e){Jr&&(lc?setTimeout(e,0):sw.push(e))}function _l(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?rw(e):"<".concat(t," ").concat(LE(n),">").concat(r.map(_l).join(""),"</").concat(t,">")}function Yv(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var Hf=function(t,n,r,s){var i=Object.keys(t),l=i.length,u=n,d,f,h;for(r===void 0?(d=1,h=t[i[0]]):(d=0,h=r);d<l;d++)f=i[d],h=u(h,t[f],f,t);return h};function HE(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=e.charCodeAt(n++);(i&64512)==56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function Bp(e){const t=HE(e);return t.length===1?t[0].toString(16):null}function qE(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function Kv(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Hp(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=Kv(t);typeof yr.hooks.addPack=="function"&&!r?yr.hooks.addPack(e,Kv(t)):yr.styles[e]=ie(ie({},yr.styles[e]||{}),s),e==="fas"&&Hp("fa",t)}const{styles:Ao,shims:VE}=yr,ow=Object.keys(Xh),WE=ow.reduce((e,t)=>(e[t]=Object.keys(Xh[t]),e),{});let tm=null,lw={},uw={},cw={},dw={},fw={};function ZE(e){return~jE.indexOf(e)}function JE(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!ZE(s)?s:null}const pw=()=>{const e=r=>Hf(Ao,(s,i,l)=>(s[l]=Hf(i,r,{}),s),{});lw=e((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(u=>typeof u=="number").forEach(u=>{r[u.toString(16)]=i}),r)),uw=e((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(u=>typeof u=="string").forEach(u=>{r[u]=i}),r)),fw=e((r,s,i)=>{const l=s[2];return r[i]=i,l.forEach(u=>{r[u]=i}),r});const t="far"in Ao||_e.autoFetchSvg,n=Hf(VE,(r,s)=>{const i=s[0];let l=s[1];const u=s[2];return l==="far"&&!t&&(l="fas"),typeof i=="string"&&(r.names[i]={prefix:l,iconName:u}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:l,iconName:u}),r},{names:{},unicodes:{}});cw=n.names,dw=n.unicodes,tm=zc(_e.styleDefault,{family:_e.familyDefault})};AE(e=>{tm=zc(e.styleDefault,{family:_e.familyDefault})});pw();function nm(e,t){return(lw[e]||{})[t]}function GE(e,t){return(uw[e]||{})[t]}function ns(e,t){return(fw[e]||{})[t]}function hw(e){return cw[e]||{prefix:null,iconName:null}}function YE(e){const t=dw[e],n=nm("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Ta(){return tm}const mw=()=>({prefix:null,iconName:null,rest:[]});function KE(e){let t=Zt;const n=ow.reduce((r,s)=>(r[s]="".concat(_e.cssPrefix,"-").concat(s),r),{});return Gx.forEach(r=>{(e.includes(n[r])||e.some(s=>WE[r].includes(s)))&&(t=r)}),t}function zc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Zt}=t,r=TE[n][e];if(n===Lc&&!e)return"fad";const s=Jv[n][e]||Jv[n][r],i=e in yr.styles?e:null;return s||i||null}function XE(e){let t=[],n=null;return e.forEach(r=>{const s=JE(_e.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function Xv(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function $c(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=Mp.concat(hE),i=Xv(e.filter(g=>s.includes(g))),l=Xv(e.filter(g=>!Mp.includes(g))),u=i.filter(g=>(r=g,!Jx.includes(g))),[d=null]=u,f=KE(i),h=ie(ie({},XE(l)),{},{prefix:zc(d,{family:f})});return ie(ie(ie({},h),nI({values:e,family:f,styles:Ao,config:_e,canonical:h,givenPrefix:r})),QE(n,r,h))}function QE(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const i=t==="fa"?hw(s):{},l=ns(r,s);return s=i.iconName||l||s,r=i.prefix||r,r==="far"&&!Ao.far&&Ao.fas&&!_e.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const eI=Gx.filter(e=>e!==Zt||e!==Lc),tI=Object.keys(Dp).filter(e=>e!==Zt).map(e=>Object.keys(Dp[e])).flat();function nI(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:i={},config:l={}}=e,u=n===Lc,d=t.includes("fa-duotone")||t.includes("fad"),f=l.familyDefault==="duotone",h=r.prefix==="fad"||r.prefix==="fa-duotone";if(!u&&(d||f||h)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&eI.includes(n)&&(Object.keys(i).find(v=>tI.includes(v))||l.autoFetchSvg)){const v=iE.get(n).defaultShortPrefixId;r.prefix=v,r.iconName=ns(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=Ta()||"fas"),r}class rI{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=ie(ie({},this.definitions[i]||{}),s[i]),Hp(i,s[i]);const l=Xh[Zt][i];l&&Hp(l,s[i]),pw()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:l,icon:u}=r[s],d=u[2];t[i]||(t[i]={}),d.length>0&&d.forEach(f=>{typeof f=="string"&&(t[i][f]=u)}),t[i][l]=u}),t}}let Qv=[],ei={};const ri={},aI=Object.keys(ri);function sI(e,t){let{mixoutsTo:n}=t;return Qv=e,ei={},Object.keys(ri).forEach(r=>{aI.indexOf(r)===-1&&delete ri[r]}),Qv.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(l=>{n[i]||(n[i]={}),n[i][l]=s[i][l]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(l=>{ei[l]||(ei[l]=[]),ei[l].push(i[l])})}r.provides&&r.provides(ri)}),n}function qp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(ei[e]||[]).forEach(l=>{t=l.apply(null,[t,...r])}),t}function ds(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(ei[e]||[]).forEach(i=>{i.apply(null,n)})}function Ea(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ri[e]?ri[e].apply(null,t):void 0}function Vp(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||Ta();if(t)return t=ns(n,t)||t,Yv(gw.definitions,n,t)||Yv(yr.styles,n,t)}const gw=new rI,iI=()=>{_e.autoReplaceSvg=!1,_e.observeMutations=!1,ds("noAuto")},oI={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Jr?(ds("beforeI2svg",e),Ea("pseudoElements2svg",e),Ea("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;_e.autoReplaceSvg===!1&&(_e.autoReplaceSvg=!0),_e.observeMutations=!0,BE(()=>{uI({autoReplaceSvgRoot:t}),ds("watch",e)})}},lI={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:ns(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=zc(e[0]);return{prefix:n,iconName:ns(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(_e.cssPrefix,"-"))>-1||e.match(EE))){const t=$c(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Ta(),iconName:ns(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=Ta();return{prefix:t,iconName:ns(t,e)||e}}}},Cn={noAuto:iI,config:_e,dom:oI,parse:lI,library:gw,findIconDefinition:Vp,toHtml:_l},uI=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ft}=e;(Object.keys(yr.styles).length>0||_e.autoFetchSvg)&&Jr&&_e.autoReplaceSvg&&Cn.dom.i2svg({node:t})};function Uc(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>_l(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Jr)return;const n=ft.createElement("div");return n.innerHTML=e.html,n.children}}),e}function cI(e){let{children:t,main:n,mask:r,attributes:s,styles:i,transform:l}=e;if(em(l)&&n.found&&!r.found){const{width:u,height:d}=n,f={x:u/d/2,y:.5};s.style=Fc(ie(ie({},i),{},{"transform-origin":"".concat(f.x+l.x/16,"em ").concat(f.y+l.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function dI(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:i}=e;const l=i===!0?"".concat(t,"-").concat(_e.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ie(ie({},s),{},{id:l}),children:r}]}]}function rm(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:i,symbol:l,title:u,maskId:d,titleId:f,extra:h,watchable:g=!1}=e,{width:v,height:x}=n.found?n:t,S=dE.includes(r),_=[_e.replacementClass,s?"".concat(_e.cssPrefix,"-").concat(s):""].filter(L=>h.classes.indexOf(L)===-1).filter(L=>L!==""||!!L).concat(h.classes).join(" ");let C={children:[],attributes:ie(ie({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:_,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(x)})};const k=S&&!~h.classes.indexOf("fa-fw")?{width:"".concat(v/x*16*.0625,"em")}:{};g&&(C.attributes[cs]=""),u&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(f||Po())},children:[u]}),delete C.attributes.title);const I=ie(ie({},C),{},{prefix:r,iconName:s,main:t,mask:n,maskId:d,transform:i,symbol:l,styles:ie(ie({},k),h.styles)}),{children:N,attributes:j}=n.found&&t.found?Ea("generateAbstractMask",I)||{children:[],attributes:{}}:Ea("generateAbstractIcon",I)||{children:[],attributes:{}};return I.children=N,I.attributes=j,l?dI(I):cI(I)}function e0(e){const{content:t,width:n,height:r,transform:s,title:i,extra:l,watchable:u=!1}=e,d=ie(ie(ie({},l.attributes),i?{title:i}:{}),{},{class:l.classes.join(" ")});u&&(d[cs]="");const f=ie({},l.styles);em(s)&&(f.transform=zE({transform:s,startCentered:!0,width:n,height:r}),f["-webkit-transform"]=f.transform);const h=Fc(f);h.length>0&&(d.style=h);const g=[];return g.push({tag:"span",attributes:d,children:[t]}),i&&g.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),g}function fI(e){const{content:t,title:n,extra:r}=e,s=ie(ie(ie({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=Fc(r.styles);i.length>0&&(s.style=i);const l=[];return l.push({tag:"span",attributes:s,children:[t]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}const{styles:qf}=yr;function Wp(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(_e.cssPrefix,"-").concat(Uf.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_e.cssPrefix,"-").concat(Uf.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_e.cssPrefix,"-").concat(Uf.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const pI={found:!1,width:512,height:512};function hI(e,t){!Qx&&!_e.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Zp(e,t){let n=t;return t==="fa"&&_e.styleDefault!==null&&(t=Ta()),new Promise((r,s)=>{if(n==="fa"){const i=hw(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&qf[t]&&qf[t][e]){const i=qf[t][e];return r(Wp(i))}hI(e,t),r(ie(ie({},pI),{},{icon:_e.showMissingIcons&&e?Ea("missingIconAbstract")||{}:{}}))})}const t0=()=>{},Jp=_e.measurePerformance&&Fu&&Fu.mark&&Fu.measure?Fu:{mark:t0,measure:t0},yo='FA "6.7.2"',mI=e=>(Jp.mark("".concat(yo," ").concat(e," begins")),()=>yw(e)),yw=e=>{Jp.mark("".concat(yo," ").concat(e," ends")),Jp.measure("".concat(yo," ").concat(e),"".concat(yo," ").concat(e," begins"),"".concat(yo," ").concat(e," ends"))};var am={begin:mI,end:yw};const tc=()=>{};function n0(e){return typeof(e.getAttribute?e.getAttribute(cs):null)=="string"}function gI(e){const t=e.getAttribute?e.getAttribute(Yh):null,n=e.getAttribute?e.getAttribute(Kh):null;return t&&n}function yI(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(_e.replacementClass)}function vI(){return _e.autoReplaceSvg===!0?nc.replace:nc[_e.autoReplaceSvg]||nc.replace}function xI(e){return ft.createElementNS("http://www.w3.org/2000/svg",e)}function wI(e){return ft.createElement(e)}function vw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?xI:wI}=t;if(typeof e=="string")return ft.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(i){r.setAttribute(i,e.attributes[i])}),(e.children||[]).forEach(function(i){r.appendChild(vw(i,{ceFn:n}))}),r}function bI(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const nc={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(vw(n),t)}),t.getAttribute(cs)===null&&_e.keepOriginalSource){let n=ft.createComment(bI(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Qh(t).indexOf(_e.replacementClass))return nc.replace(e);const r=new RegExp("".concat(_e.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((l,u)=>(u===_e.replacementClass||u.match(r)?l.toSvg.push(u):l.toNode.push(u),l),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>_l(i)).join(`
`);t.setAttribute(cs,""),t.innerHTML=s}};function r0(e){e()}function xw(e,t){const n=typeof t=="function"?t:tc;if(e.length===0)n();else{let r=r0;_e.mutateApproach===_E&&(r=Ca.requestAnimationFrame||r0),r(()=>{const s=vI(),i=am.begin("mutate");e.map(s),i(),n()})}}let sm=!1;function ww(){sm=!0}function Gp(){sm=!1}let uc=null;function a0(e){if(!qv||!_e.observeMutations)return;const{treeCallback:t=tc,nodeCallback:n=tc,pseudoElementsCallback:r=tc,observeMutationsRoot:s=ft}=e;uc=new qv(i=>{if(sm)return;const l=Ta();wi(i).forEach(u=>{if(u.type==="childList"&&u.addedNodes.length>0&&!n0(u.addedNodes[0])&&(_e.searchPseudoElements&&r(u.target),t(u.target)),u.type==="attributes"&&u.target.parentNode&&_e.searchPseudoElements&&r(u.target.parentNode),u.type==="attributes"&&n0(u.target)&&~OE.indexOf(u.attributeName))if(u.attributeName==="class"&&gI(u.target)){const{prefix:d,iconName:f}=$c(Qh(u.target));u.target.setAttribute(Yh,d||l),f&&u.target.setAttribute(Kh,f)}else yI(u.target)&&n(u.target)})}),Jr&&uc.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function SI(){uc&&uc.disconnect()}function kI(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const i=s.split(":"),l=i[0],u=i.slice(1);return l&&u.length>0&&(r[l]=u.join(":").trim()),r},{})),n}function _I(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=$c(Qh(e));return s.prefix||(s.prefix=Ta()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=GE(s.prefix,e.innerText)||nm(s.prefix,Bp(e.innerText))),!s.iconName&&_e.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function CI(e){const t=wi(e.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return _e.autoA11y&&(n?t["aria-labelledby"]="".concat(_e.replacementClass,"-title-").concat(r||Po()):(t["aria-hidden"]="true",t.focusable="false")),t}function TI(){return{iconName:null,title:null,titleId:null,prefix:null,transform:gr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function s0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=_I(e),i=CI(e),l=qp("parseNodeAttributes",{},e);let u=t.styleParser?kI(e):[];return ie({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:gr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:u,attributes:i}},l)}const{styles:EI}=yr;function bw(e){const t=_e.autoReplaceSvg==="nest"?s0(e,{styleParser:!1}):s0(e);return~t.extra.classes.indexOf(tw)?Ea("generateLayersText",e,t):Ea("generateSvgReplacementMutation",e,t)}function II(){return[...lE,...Mp]}function i0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Jr)return Promise.resolve();const n=ft.documentElement.classList,r=h=>n.add("".concat(Zv,"-").concat(h)),s=h=>n.remove("".concat(Zv,"-").concat(h)),i=_e.autoFetchSvg?II():Jx.concat(Object.keys(EI));i.includes("fa")||i.push("fa");const l=[".".concat(tw,":not([").concat(cs,"])")].concat(i.map(h=>".".concat(h,":not([").concat(cs,"])"))).join(", ");if(l.length===0)return Promise.resolve();let u=[];try{u=wi(e.querySelectorAll(l))}catch{}if(u.length>0)r("pending"),s("complete");else return Promise.resolve();const d=am.begin("onTree"),f=u.reduce((h,g)=>{try{const v=bw(g);v&&h.push(v)}catch(v){Qx||v.name==="MissingIcon"&&console.error(v)}return h},[]);return new Promise((h,g)=>{Promise.all(f).then(v=>{xw(v,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),d(),h()})}).catch(v=>{d(),g(v)})})}function NI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;bw(e).then(n=>{n&&xw([n],t)})}function OI(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:Vp(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Vp(s||{})),e(r,ie(ie({},n),{},{mask:s}))}}const jI=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=gr,symbol:r=!1,mask:s=null,maskId:i=null,title:l=null,titleId:u=null,classes:d=[],attributes:f={},styles:h={}}=t;if(!e)return;const{prefix:g,iconName:v,icon:x}=e;return Uc(ie({type:"icon"},e),()=>(ds("beforeDOMElementCreation",{iconDefinition:e,params:t}),_e.autoA11y&&(l?f["aria-labelledby"]="".concat(_e.replacementClass,"-title-").concat(u||Po()):(f["aria-hidden"]="true",f.focusable="false")),rm({icons:{main:Wp(x),mask:s?Wp(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:v,transform:ie(ie({},gr),n),symbol:r,title:l,maskId:i,titleId:u,extra:{attributes:f,styles:h,classes:d}})))};var RI={mixout(){return{icon:OI(jI)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=i0,e.nodeCallback=NI,e}}},provides(e){e.i2svg=function(t){const{node:n=ft,callback:r=()=>{}}=t;return i0(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:i,prefix:l,transform:u,symbol:d,mask:f,maskId:h,extra:g}=n;return new Promise((v,x)=>{Promise.all([Zp(r,l),f.iconName?Zp(f.iconName,f.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(S=>{let[_,C]=S;v([t,rm({icons:{main:_,mask:C},prefix:l,iconName:r,transform:u,symbol:d,maskId:h,title:s,titleId:i,extra:g,watchable:!0})])}).catch(x)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:i,styles:l}=t;const u=Fc(l);u.length>0&&(r.style=u);let d;return em(i)&&(d=Ea("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(d||s.icon),{children:n,attributes:r}}}},PI={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Uc({type:"layer"},()=>{ds("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(_e.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},AI={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=t;return Uc({type:"counter",content:e},()=>(ds("beforeDOMElementCreation",{content:e,params:t}),fI({content:e.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(_e.cssPrefix,"-layers-counter"),...r]}})))}}}},DI={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=gr,title:r=null,classes:s=[],attributes:i={},styles:l={}}=t;return Uc({type:"text",content:e},()=>(ds("beforeDOMElementCreation",{content:e,params:t}),e0({content:e,transform:ie(ie({},gr),n),title:r,extra:{attributes:i,styles:l,classes:["".concat(_e.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:i}=n;let l=null,u=null;if(Wx){const d=parseInt(getComputedStyle(t).fontSize,10),f=t.getBoundingClientRect();l=f.width/d,u=f.height/d}return _e.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,e0({content:t.innerHTML,width:l,height:u,transform:s,title:r,extra:i,watchable:!0})])}}};const MI=new RegExp('"',"ug"),o0=[1105920,1112319],l0=ie(ie(ie(ie({},{FontAwesome:{normal:"fas",400:"fas"}}),sE),SE),mE),Yp=Object.keys(l0).reduce((e,t)=>(e[t.toLowerCase()]=l0[t],e),{}),LI=Object.keys(Yp).reduce((e,t)=>{const n=Yp[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function FI(e){const t=e.replace(MI,""),n=qE(t,0),r=n>=o0[0]&&n<=o0[1],s=t.length===2?t[0]===t[1]:!1;return{value:Bp(s?t[0]:t),isSecondary:r||s}}function zI(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(Yp[n]||{})[s]||LI[n]}function u0(e,t){const n="".concat(kE).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const l=wi(e.children).filter(v=>v.getAttribute(Fp)===t)[0],u=Ca.getComputedStyle(e,t),d=u.getPropertyValue("font-family"),f=d.match(IE),h=u.getPropertyValue("font-weight"),g=u.getPropertyValue("content");if(l&&!f)return e.removeChild(l),r();if(f&&g!=="none"&&g!==""){const v=u.getPropertyValue("content");let x=zI(d,h);const{value:S,isSecondary:_}=FI(v),C=f[0].startsWith("FontAwesome");let k=nm(x,S),I=k;if(C){const N=YE(S);N.iconName&&N.prefix&&(k=N.iconName,x=N.prefix)}if(k&&!_&&(!l||l.getAttribute(Yh)!==x||l.getAttribute(Kh)!==I)){e.setAttribute(n,I),l&&e.removeChild(l);const N=TI(),{extra:j}=N;j.attributes[Fp]=t,Zp(k,x).then(L=>{const A=rm(ie(ie({},N),{},{icons:{main:L,mask:mw()},prefix:x,iconName:I,extra:j,watchable:!0})),U=ft.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(U,e.firstChild):e.appendChild(U),U.outerHTML=A.map(X=>_l(X)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function $I(e){return Promise.all([u0(e,"::before"),u0(e,"::after")])}function UI(e){return e.parentNode!==document.head&&!~CE.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Fp)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function c0(e){if(Jr)return new Promise((t,n)=>{const r=wi(e.querySelectorAll("*")).filter(UI).map($I),s=am.begin("searchPseudoElements");ww(),Promise.all(r).then(()=>{s(),Gp(),t()}).catch(()=>{s(),Gp(),n()})})}var BI={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=c0,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=ft}=t;_e.searchPseudoElements&&c0(n)}}};let d0=!1;var HI={mixout(){return{dom:{unwatch(){ww(),d0=!0}}}},hooks(){return{bootstrap(){a0(qp("mutationObserverCallbacks",{}))},noAuto(){SI()},watch(e){const{observeMutationsRoot:t}=e;d0?Gp():a0(qp("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const f0=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let l=s.slice(1).join("-");if(i&&l==="h")return n.flipX=!0,n;if(i&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(i){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},t)};var qI={mixout(){return{parse:{transform:e=>f0(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=f0(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:i}=t;const l={transform:"translate(".concat(s/2," 256)")},u="translate(".concat(r.x*32,", ").concat(r.y*32,") "),d="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),f="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(u," ").concat(d," ").concat(f)},g={transform:"translate(".concat(i/2*-1," -256)")},v={outer:l,inner:h,path:g};return{tag:"g",attributes:ie({},v.outer),children:[{tag:"g",attributes:ie({},v.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ie(ie({},n.icon.attributes),v.path)}]}]}}}};const Vf={x:0,y:0,width:"100%",height:"100%"};function p0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function VI(e){return e.tag==="g"?e.children:[e]}var WI={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?$c(n.split(" ").map(s=>s.trim())):mw();return r.prefix||(r.prefix=Ta()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:i,maskId:l,transform:u}=t;const{width:d,icon:f}=s,{width:h,icon:g}=i,v=FE({transform:u,containerWidth:h,iconWidth:d}),x={tag:"rect",attributes:ie(ie({},Vf),{},{fill:"white"})},S=f.children?{children:f.children.map(p0)}:{},_={tag:"g",attributes:ie({},v.inner),children:[p0(ie({tag:f.tag,attributes:ie(ie({},f.attributes),v.path)},S))]},C={tag:"g",attributes:ie({},v.outer),children:[_]},k="mask-".concat(l||Po()),I="clip-".concat(l||Po()),N={tag:"mask",attributes:ie(ie({},Vf),{},{id:k,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,C]},j={tag:"defs",children:[{tag:"clipPath",attributes:{id:I},children:VI(g)},N]};return n.push(j,{tag:"rect",attributes:ie({fill:"currentColor","clip-path":"url(#".concat(I,")"),mask:"url(#".concat(k,")")},Vf)}),{children:n,attributes:r}}}},ZI={provides(e){let t=!1;Ca.matchMedia&&(t=Ca.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ie(ie({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=ie(ie({},s),{},{attributeName:"opacity"}),l={tag:"circle",attributes:ie(ie({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||l.children.push({tag:"animate",attributes:ie(ie({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ie(ie({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:ie(ie({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ie(ie({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:ie(ie({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ie(ie({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},JI={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},GI=[UE,RI,PI,AI,DI,BI,HI,qI,WI,ZI,JI];sI(GI,{mixoutsTo:Cn});Cn.noAuto;Cn.config;Cn.library;Cn.dom;const Kp=Cn.parse;Cn.findIconDefinition;Cn.toHtml;const YI=Cn.icon;Cn.layer;Cn.text;Cn.counter;var Wf={exports:{}},Zf,h0;function KI(){if(h0)return Zf;h0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Zf=e,Zf}var Jf,m0;function XI(){if(m0)return Jf;m0=1;var e=KI();function t(){}function n(){}return n.resetWarningCache=t,Jf=function(){function r(l,u,d,f,h,g){if(g!==e){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Jf}var g0;function QI(){return g0||(g0=1,Wf.exports=XI()()),Wf.exports}var e4=QI();const We=yi(e4);function y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y0(Object(n),!0).forEach(function(r){ti(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t4(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function n4(e,t){if(e==null)return{};var n=t4(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xp(e){return r4(e)||a4(e)||s4(e)||i4()}function r4(e){if(Array.isArray(e))return Qp(e)}function a4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s4(e,t){if(e){if(typeof e=="string")return Qp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qp(e,t)}}function Qp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4(e){var t,n=e.beat,r=e.fade,s=e.beatFade,i=e.bounce,l=e.shake,u=e.flash,d=e.spin,f=e.spinPulse,h=e.spinReverse,g=e.pulse,v=e.fixedWidth,x=e.inverse,S=e.border,_=e.listItem,C=e.flip,k=e.size,I=e.rotation,N=e.pull,j=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":l,"fa-flash":u,"fa-spin":d,"fa-spin-reverse":h,"fa-spin-pulse":f,"fa-pulse":g,"fa-fw":v,"fa-inverse":x,"fa-border":S,"fa-li":_,"fa-flip":C===!0,"fa-flip-horizontal":C==="horizontal"||C==="both","fa-flip-vertical":C==="vertical"||C==="both"},ti(t,"fa-".concat(k),typeof k<"u"&&k!==null),ti(t,"fa-rotate-".concat(I),typeof I<"u"&&I!==null&&I!==0),ti(t,"fa-pull-".concat(N),typeof N<"u"&&N!==null),ti(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(j).map(function(L){return j[L]?L:null}).filter(function(L){return L})}function l4(e){return e=e-0,e===e}function Sw(e){return l4(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var u4=["style"];function c4(e){return e.charAt(0).toUpperCase()+e.slice(1)}function d4(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=Sw(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?t[c4(s)]=i:t[s]=i,t},{})}function kw(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(d){return kw(e,d)}),s=Object.keys(t.attributes||{}).reduce(function(d,f){var h=t.attributes[f];switch(f){case"class":d.attrs.className=h,delete t.attributes.class;break;case"style":d.attrs.style=d4(h);break;default:f.indexOf("aria-")===0||f.indexOf("data-")===0?d.attrs[f.toLowerCase()]=h:d.attrs[Sw(f)]=h}return d},{attrs:{}}),i=n.style,l=i===void 0?{}:i,u=n4(n,u4);return s.attrs.style=pr(pr({},s.attrs.style),l),e.apply(void 0,[t.tag,pr(pr({},s.attrs),u)].concat(Xp(r)))}var _w=!1;try{_w=!0}catch{}function f4(){if(!_w&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function v0(e){if(e&&cc(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Kp.icon)return Kp.icon(e);if(e===null)return null;if(e&&cc(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Gf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?ti({},e,t):{}}var x0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Ne=er.forwardRef(function(e,t){var n=pr(pr({},x0),e),r=n.icon,s=n.mask,i=n.symbol,l=n.className,u=n.title,d=n.titleId,f=n.maskId,h=v0(r),g=Gf("classes",[].concat(Xp(o4(n)),Xp((l||"").split(" ")))),v=Gf("transform",typeof n.transform=="string"?Kp.transform(n.transform):n.transform),x=Gf("mask",v0(s)),S=YI(h,pr(pr(pr(pr({},g),v),x),{},{symbol:i,title:u,titleId:d,maskId:f}));if(!S)return f4("Could not find icon",h),null;var _=S.abstract,C={ref:t};return Object.keys(n).forEach(function(k){x0.hasOwnProperty(k)||(C[k]=n[k])}),p4(_[0],C)});Ne.displayName="FontAwesomeIcon";Ne.propTypes={beat:We.bool,border:We.bool,beatFade:We.bool,bounce:We.bool,className:We.string,fade:We.bool,flash:We.bool,mask:We.oneOfType([We.object,We.array,We.string]),maskId:We.string,fixedWidth:We.bool,inverse:We.bool,flip:We.oneOf([!0,!1,"horizontal","vertical","both"]),icon:We.oneOfType([We.object,We.array,We.string]),listItem:We.bool,pull:We.oneOf(["right","left"]),pulse:We.bool,rotation:We.oneOf([0,90,180,270]),shake:We.bool,size:We.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:We.bool,spinPulse:We.bool,spinReverse:We.bool,symbol:We.oneOfType([We.bool,We.string]),title:We.string,titleId:We.string,transform:We.oneOfType([We.string,We.object]),swapOpacity:We.bool};var p4=kw.bind(null,er.createElement);const Ie=O.forwardRef(({theme:e,children:t,className:n,isLoading:r,isBig:s,isSmall:i,isOutline:l,tooltip:u,tooltipPosition:d,isExtraSmall:f,textToCopy:h,isLoadingContent:g=y.jsx(Ne,{icon:AT,spin:!0}),onClick:v,...x},S)=>{const[_,C]=O.useState(null),k=async j=>{if(!h){v==null||v(j);return}await navigator.clipboard.writeText(h),C("Copied!"),setTimeout(()=>{C(null)},5e3),v==null||v(j)},I=O.useMemo(()=>{let j="btn ";switch(l&&(j+=" btn-outline"),e){case"primary":j+=" btn-primary";break;case"secondary":j+=" btn-secondary";break;case"danger":j+=" btn-error";break;case"success":j+=" btn-success";break;case"warning":j+=" btn-warning";break;case"info":j+=" btn-info";break;case"dark":j+=" btn-dark";break;case"light":j+=" btn-light";break;case"link":j+=" btn-link";break;case"ghost":j+=" btn-ghost";break;case"custom":j="";break;default:j+=" btn-primary";break}return n&&(j+=" "+n),s&&(j+=" btn-lg"),i&&(j+=" btn-sm"),f&&(j+=" btn-xs"),j},[l,e,n,s,i,f]),N={...x,className:I,type:h?"button":x.type,onClick:k};return r&&(N.disabled=!0),u&&(N["data-tip"]=u,N.className+=" tooltip",d&&(N.className+=" tooltip-"+d)),y.jsx("button",{ref:S,...N,children:r?g:_||t})});Ie.displayName="Button";const is=({theme:e,children:t,className:n,isLoading:r,isOutline:s,isBig:i,isButton:l,href:u,...d})=>{const f=O.useMemo(()=>{let g="link";switch(s&&(g+=" link-outline"),e){case"primary":g+=" link-primary";break;case"secondary":g+=" link-secondary";break;case"danger":g+=" link-danger";break;case"success":g+=" link-success";break;case"warning":g+=" link-warning";break;case"info":g+=" link-info";break;case"dark":g+=" link-dark";break;case"light":g+=" link-light";break;case"link":g+=" link-link";break;case"custom":g="";break;case"ghost":g+=" link-ghost";break;case"blank":g="";break;default:g+="";break}return n&&(g+=" "+n),i&&(g+=" btn-lg"),l&&(g=g.replace(/link/g,"btn")),g},[s,e,n,i,l]),h={...d,to:u||"#",className:f};return window.electron&&(u!=null&&u.startsWith("http"))&&(h.onClick=g=>{g.preventDefault(),_a.goToUrl(u)}),r&&(h["aria-disabled"]=!0),y.jsx(Jh,{...h,children:t})},im=({label:e,options:t,description:n,className:r,...s})=>y.jsxs("div",{className:"w-full",children:[e&&y.jsx("label",{className:"block text-sm font-bold mb-2",children:e}),y.jsx("select",{className:`select select-bordered w-full ${r}`,...s,children:t.map(i=>y.jsx("option",{value:i.value,disabled:i.disabled,children:i.label},i.value))}),n&&y.jsx("p",{className:"opacity-70 text-xs italic mt-2",children:n})]}),Cw=["Ollama","OpenAI","Anthropic","Google","DeepSeek","Mistral","xAI","Groq","Replicate","OpenAI Compatible"],Yf="juicebox-by-ai-juicing-user-settings",Kf=window.DESTINATION;let Xf;const vr={get:async()=>{try{if(Kf==="github")return Xf;const e=localStorage.getItem(Yf);return e?JSON.parse(e):void 0}catch(e){throw console.error("Failed to get user settings:",e),e}},save:async e=>{try{const n={...await vr.get(),...e};return Kf==="github"?(Xf=n,n):(localStorage.setItem(Yf,JSON.stringify(n)),n)}catch(t){throw console.error("Failed to save user settings:",t),t}},clear:async()=>{try{if(Kf==="github"){Xf=void 0;return}localStorage.removeItem(Yf)}catch(e){throw console.error("Failed to clear user settings:",e),e}}};class Js{static async getFolders(){return(await vr.get()||{}).folders||[]}static async saveFolders(t){await vr.save({folders:t})}static async createFolder(t){const n=await this.getFolders(),r=n.length>0?Math.max(...n.map(i=>i.id))+1:1,s={...t,id:r};return n.push(s),await this.saveFolders(n),s}static async updateFolder(t,n){const r=await this.getFolders(),s=r.findIndex(i=>i.id===t);if(s===-1)throw new Error("Folder not found");r[s]={...r[s],...n},await this.saveFolders(r)}static async deleteFolder(t){const r=(await this.getFolders()).filter(s=>s.id!==t);await this.saveFolders(r)}static async getAllFolders(){return this.getFolders()}static async getFolderById(t){return(await this.getFolders()).find(r=>r.id===t)||null}}const Tw=({setFolders:e})=>({toggle:async({folderId:t,isOpen:n})=>{await Js.updateFolder(t,{isOpen:!n}),e(r=>r.map(s=>s.id===t?{...s,isOpen:!s.isOpen}:s))},rename:async({folderId:t,newName:n})=>{await Js.updateFolder(t,{name:n}),e(r=>r.map(s=>s.id===t?{...s,name:n}:s))},delete:async({folderId:t})=>{await Js.deleteFolder(t),e(n=>n.filter(r=>r.id!==t))},create:async({name:t})=>{if(!t.trim())return;let n=0;e(s=>(n=s.length,s));const r=await Js.createFolder({id:1,name:t.trim(),type:"folder",isOpen:!0,parentId:null,order:n});e(s=>[...s,r])},move:async({dragId:t,hoverId:n})=>{let r=[];e(l=>{r=[...l].sort((g,v)=>g.order-v.order);const u=r.findIndex(g=>g.id===t),d=r.findIndex(g=>g.id===n),f=r[u],h=[...r];return h.splice(u,1),h.splice(d,0,f),h}),await Promise.all(r.map(async(l,u)=>{await Js.updateFolder(l.id,{order:u})}));const i=(await Js.getAllFolders()).sort((l,u)=>l.order-u.order);e(i)}}),Ew=({setUserSettings:e})=>({update:async t=>{const n=await vr.save(t);e(n)}});class ai{static async getConfigs(){return(await vr.get()||{}).aiServices||[]}static async saveConfigs(t){await vr.save({aiServices:t})}static async createConfig(t){const n=await this.getConfigs(),r=n.length>0?Math.max(...n.map(i=>i.id))+1:1,s={...t,id:r};return n.push(s),await this.saveConfigs(n),s}static async updateConfig(t,n){const r=await this.getConfigs(),s=r.findIndex(i=>i.id===t);if(s===-1)throw new Error("Config not found");r[s]={...r[s],...n},await this.saveConfigs(r)}static async deleteConfig(t){const r=(await this.getConfigs()).filter(s=>s.id!==t);await this.saveConfigs(r)}static async getAllConfigs(){return this.getConfigs()}static async getConfigById(t){const r=(await this.getConfigs()).find(s=>s.id===t);if(!r)throw new Error("Config not found");return r}static async setDefaultConfig(t){const n=await this.getConfigs();if(!n.find(i=>i.id===t))throw new Error("Config not found");const s=n.map(i=>({...i,isDefault:i.id===t}));await this.saveConfigs(s)}}const Iw=({setAiServices:e})=>({create:async t=>{const n=await ai.createConfig(t);e(r=>[...r,n])},update:async({configId:t,updates:n})=>{await ai.updateConfig(t,n),e(r=>r.map(s=>s.id===t?{...s,...n}:s))},delete:async({configId:t})=>{await ai.deleteConfig(t),e(n=>n.filter(r=>r.id!==t))},setDefault:async({configId:t})=>{e(n=>n.map(s=>({...s,isDefault:s.id===t})))}}),h4=2,m4=["llm-configs","conversations","folders","chats"];class g4{constructor(t){va(this,"dbName","ai-juicing-juicebox");va(this,"storeName");va(this,"version",h4);va(this,"db",null);va(this,"initPromise");this.storeName=t,this.initPromise=this.init()}async init(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onupgradeneeded=()=>{const s=r.result;m4.forEach(i=>{s.objectStoreNames.contains(i)||s.createObjectStore(i,{keyPath:"id",autoIncrement:!0})})},r.onsuccess=()=>{this.db=r.result,t()},r.onerror=()=>{console.error(r.error),n(r.error)}})}async getStore(t){if(await this.initPromise,!this.db)throw new Error("Database not initialized");return this.db.transaction(this.storeName,t).objectStore(this.storeName)}create(t){return new Promise((n,r)=>{(async()=>{try{const s=await this.getStore("readwrite");delete t.id;const i=s.add(t);i.onsuccess=()=>{n({...t,id:i.result})},i.onerror=()=>{console.error(i.error),r(i.error)}}catch(s){r(s)}})()})}update(t,n){return new Promise((r,s)=>{(async()=>{try{const i=await this.getStore("readwrite"),l=i.get(t);l.onsuccess=()=>{const u={...l.result,...n},d=i.put(u);d.onsuccess=()=>{r()},d.onerror=()=>{s(d.error)}},l.onerror=()=>{s(l.error)}}catch(i){s(i)}})()})}delete(t){return new Promise((n,r)=>{(async()=>{try{const i=(await this.getStore("readwrite")).delete(t);i.onsuccess=()=>{n()},i.onerror=()=>{r(i.error)}}catch(s){r(s)}})()})}getAll(){return new Promise((t,n)=>{(async()=>{try{const s=(await this.getStore("readonly")).getAll();s.onsuccess=()=>{t(s.result)},s.onerror=()=>{n(s.error)}}catch(r){n(r)}})()})}getById(t){return new Promise((n,r)=>{(async()=>{try{const i=(await this.getStore("readonly")).get(t);i.onsuccess=()=>{i.result?n(i.result):r(new Error("Item not found"))},i.onerror=()=>{r(i.error)}}catch(s){r(s)}})()})}search(t,n=1,r=10){return new Promise((s,i)=>{(async()=>{try{const u=(await this.getStore("readonly")).openCursor(),d=[];let f=0;u.onsuccess=()=>{const h=u.result;if(h){const g=h.value;(t===""||JSON.stringify(g).toLowerCase().includes(t.toLowerCase()))&&(f>=(n-1)*r&&d.length<r&&d.push(g),f++),h.continue()}else s(d)},u.onerror=()=>{i(u.error)}}catch(l){i(l)}})()})}}function Co(e){return new g4(e)}class Sa{static create(t){return this.dbService.create(t)}static update(t,n){return this.dbService.update(t,n)}static delete(t){return this.dbService.delete(t)}static getAll(){return this.dbService.getAll()}static getDefaults(){return this.dbService.getAll()}static getById(t){return this.dbService.getById(t)}static search(t,n=1,r=10){return this.dbService.search(t,n,r)}}va(Sa,"dbService",Co("conversations"));const Nw=({setConversations:e})=>({create:async t=>{const n=await Sa.create(t);return e(r=>[n,...r]),n},rename:async({id:t,newName:n})=>{await Sa.update(t,{name:n}),e(r=>r.map(s=>s.id===t?{...s,name:n}:s).sort((s,i)=>new Date(i.updatedAt).getTime()-new Date(s.updatedAt).getTime()))},delete:async({id:t})=>{await Sa.delete(t),e(n=>n.filter(r=>r.id!==t))},update:async({id:t,partial:n})=>{await Sa.update(t,n),e(r=>r.map(s=>s.id===t?{...s,...n}:s).sort((s,i)=>new Date(i.updatedAt).getTime()-new Date(s.updatedAt).getTime()))}}),$u=e=>e,vo={userSettings:{},folders:[],aiServices:[],conversations:[],actions:{userSettings:Ew({setUserSettings:$u}),folders:Tw({setFolders:$u}),aiServices:Iw({setAiServices:$u}),conversations:Nw({setConversations:$u})}},w0=e=>{document.documentElement.setAttribute("data-theme",e)},Ow=O.createContext(vo),y4=({children:e})=>{const[t,n]=O.useState(vo.userSettings),[r,s]=O.useState(vo.folders),[i,l]=O.useState(vo.aiServices),[u,d]=O.useState(vo.conversations),f=O.useRef(!1);O.useEffect(()=>{f.current||vr.get().then(C=>{if(f.current=!0,console.log("User settings loaded",C),!C)return;const{folders:k,aiServices:I,...N}=C;n(N),s(k||[]),l(I||[]),N.theme&&w0(N.theme||"dim")})},[]);const h=O.useCallback(async()=>{const k=(await Sa.getDefaults()).sort((I,N)=>new Date(N.updatedAt).getTime()-new Date(I.updatedAt).getTime());d(k)},[]);O.useEffect(()=>{h()},[h]),O.useEffect(()=>{f.current&&t!=null&&t.theme&&w0(t.theme||"dim")},[t==null?void 0:t.theme]),O.useEffect(()=>{f.current&&t&&vr.save(t)},[t]),O.useEffect(()=>{f.current&&vr.save({folders:r})},[r]),O.useEffect(()=>{f.current&&vr.save({aiServices:i})},[i]);const g=O.useCallback(()=>Tw({setFolders:s}),[]),v=O.useCallback(()=>Iw({setAiServices:l}),[]),x=O.useCallback(()=>Ew({setUserSettings:n}),[]),S=O.useCallback(()=>Nw({setConversations:d}),[]),_=O.useMemo(()=>({userSettings:t,folders:r,aiServices:i,conversations:u,actions:{userSettings:x(),folders:g(),aiServices:v(),conversations:S()}}),[t,r,i,u,x,g,v,S]);return y.jsx(Ow.Provider,{value:_,children:e})},Tr=()=>{const e=O.useContext(Ow);if(!e)throw new Error("useMainContext must be used within a MainContextProvider");return e};async function jw({url:e}){if(!e)return console.error("Invalid URL"),{success:!1,message:"Invalid URL",models:[]};try{const t=await fetch(e+"/tags");if(!t.ok)return console.error("Network response was not ok"),{success:!1,message:"Network response was not ok",models:[]};const n=await t.json();return n?n.models?{success:!0,message:"Successfully fetched models",models:n.models}:(console.error("Invalid response (Models)"),{success:!1,message:"Invalid response (Models)",models:[]}):(console.error("Invalid response (Data)"),{success:!1,message:"Invalid response (Data)",models:[]})}catch(t){return console.error("Failed to fetch models",t),{success:!1,message:"Failed to fetch models",models:[]}}}const v4=["Ollama","OpenAI Compatible"],x4=["OpenAI","Anthropic","Google","DeepSeek","Mistral","xAI","Groq","Replicate"],b0=window.DESTINATION,eh=({initialValues:e,configId:t,afterSubmit:n})=>{const{actions:r,aiServices:s}=Tr(),[i,l]=O.useState(e||{id:1,name:"",service:"Ollama",url:"",apiKey:"",models:[]}),[u,d]=O.useState(!1),[f,h]=O.useState(null),[g,v]=O.useState(null),x=k=>{l({...i,[k.target.name]:k.target.value})},S=k=>{l({...i,[k.target.name]:k.target.value})},_=async k=>{k.preventDefault();try{t?await r.aiServices.update({configId:t,updates:i}):await r.aiServices.create({...i}),n&&n()}catch(I){console.error(I)}},C=async()=>{d(!0),h(null),v(null);try{if(!i.url){h("Please enter a URL");return}const k=await jw({url:i.url});if(!k.success){h(k.message);return}const I=k.models.map(N=>({name:N.name,service:i.service,features:{}}));l(N=>({...N,models:I})),v(`Successfully loaded ${I.length} models`)}catch(k){h(k instanceof Error?k.message:"Failed to test connection")}finally{d(!1)}};return y.jsxs("form",{onSubmit:_,className:"max-w-sm mx-auto p-4 bg-base-100 rounded space-y-4 text-left",children:[b0==="github"&&y.jsx(y.Fragment,{children:y.jsx(Qs,{type:"warning",children:y.jsx("p",{children:"You are using the DEMO, your information is not stored, a page refresh will clear your configuration."})})}),y.jsx(im,{label:"Service",name:"service",value:i.service,onChange:S,options:[...Cw.map(k=>({label:k,value:k}))]}),b0==="github"&&["Ollama"].includes(i.service)&&y.jsx(y.Fragment,{children:y.jsx(Qs,{type:"warning",children:y.jsx("p",{children:"Only localhost is enabled in DEMO. Download app to try with other URLs"})})}),v4.includes(i.service)&&y.jsxs(y.Fragment,{children:[y.jsx(ec,{label:"URL",name:"url",type:"text",placeholder:"Ex: http://localhost:11434",value:i.url,onChange:x,topRight:y.jsx(y.Fragment,{children:y.jsx(Ie,{type:"button",onClick:()=>{l({...i,url:"http://localhost:11434/api"})},theme:"ghost",isOutline:!0,className:"btn-xs",children:"LOCAL"})})}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(Ie,{type:"button",onClick:C,isLoading:u,disabled:!i.url,theme:"secondary",className:"w-full",children:[y.jsx(Ne,{icon:So,className:"mr-2"}),"Test Connection & Load Models"]}),f&&y.jsx(Qs,{type:"error",children:f}),g&&y.jsx(Qs,{type:"success",children:g}),i.models&&i.models.length>0&&y.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:i.models.map(k=>y.jsxs("li",{className:"w-full flex items-center gap-2 p-2 hover:bg-base-200 rounded-lg group",children:[y.jsx("span",{className:"flex-grow text-left",children:k.name}),y.jsx(Ie,{theme:"danger",isOutline:!0,isSmall:!0,type:"button",className:"opacity-0 group-hover:opacity-100",onClick:()=>{},children:y.jsx(Ne,{icon:as})})]},k.name))})]})]}),x4.includes(i.service)&&y.jsx(y.Fragment,{children:y.jsx(ec,{label:"API Key",name:"apiKey",type:"password",placeholder:`Enter your ${i.service} API key`,value:i.apiKey||"",onChange:x})}),y.jsx(ec,{label:"Name",name:"name",description:"Optional: Useful if you have have multiple API keys or URLs for the same service.",placeholder:"Ex: Base, ...",type:"text",value:i.name,onChange:x}),y.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[y.jsx(Ie,{type:"submit",theme:"primary",children:"Save"}),y.jsx(Ie,{type:"button",theme:"primary",isOutline:!0,onClick:()=>{n&&n()},children:"Cancel"})]})]})},S0={Ollama:{name:"Ollama",description:"Run large language models locally",logo:"/models/ollama.svg"},OpenAI:{name:"OpenAI",description:"Leading AI research company behind ChatGPT",logo:"/models/openai.svg"},Anthropic:{name:"Anthropic",description:"AI research company focused on safe and ethical AI",logo:"/models/anthropic.svg"},Google:{name:"Google",description:"Google's AI and machine learning solutions",logo:"/models/google.svg"},DeepSeek:{name:"DeepSeek",description:"Advanced AI models for various applications",logo:"/models/dot.svg"},Mistral:{name:"Mistral AI",description:"European AI company with powerful language models",logo:"/models/mistral.svg"},xAI:{name:"xAI",description:"AI company founded by Elon Musk",logo:"/models/dot.svg"},Groq:{name:"Groq",description:"High-performance AI inference platform",logo:"/models/groq.svg"},Replicate:{name:"Replicate",description:"Platform for running AI models in the cloud",logo:"/models/dot.svg"},"OpenAI Compatible":{name:"OpenAI Compatible",description:"Services compatible with OpenAI's API",logo:"/models/dot.svg"}},w4=({goToNextStep:e})=>y.jsxs("div",{className:"space-y-8 text-center h-full flex flex-col justify-center",children:[y.jsx("p",{className:"text-4xl  font-medium",children:"AI freedom is here."}),y.jsx("p",{className:"text-xl",children:"Use any and all AIs or local AIs for full privacy."}),y.jsx("div",{className:"relative overflow-hidden h-16",children:y.jsx("div",{className:"flex space-x-4 items-center justify-center h-16 flex-shrink-0",children:Object.keys(S0).map((t,n)=>{const r=S0[t];return r.logo.includes("dot")?null:y.jsx("div",{className:"flex-shrink-0",children:y.jsx("img",{src:`${r.logo}`,alt:r.name,className:"h-16"})},n)})})}),y.jsx("div",{className:"divider uppercase font-medium",children:"WITH"}),y.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{title:"Chat",description:"Just like you see everywhere."},{title:"Text editor",description:"Co-write with AI, "},{title:"Repeat",description:"Build a prompt and get a response. Rinse and Repeat. Perfect things you do often."},{title:"Chain",description:"Create prompts that feed each other to get exactly what you want."}].map((t,n)=>y.jsxs("div",{className:"flex flex-col items-center justify-start space-y-2 bg-base-300 p-4 rounded-xl",children:[y.jsx("p",{className:"text-xl font-black tracking-wider uppercase",children:t.title}),y.jsx("p",{className:"text-sm w-full text-left",children:t.description})]},n))}),y.jsx(Ie,{theme:"primary",isBig:!0,onClick:e,children:"Get Started"})]}),b4=({goToNextStep:e})=>{const[t,n]=O.useState(!0),[r,s]=O.useState(!0);O.useEffect(()=>{(async()=>{s(!0);const u=await _a.ollamaInstallCheck();n(u),s(!1)})()},[]);const i="w-full border-4 text-center border-primary hover:bg-primary block rounded-xl py-4 font-black text-lg tracking-widest";return y.jsxs("div",{className:"space-y-8 text-center h-full flex flex-col justify-center",children:[y.jsxs("p",{className:"text-4xl font-medium",children:["For the best privacy,",y.jsx("br",{})," we recommend"]}),y.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-2",children:[y.jsx("div",{className:"mx-auto",children:y.jsxs("svg",{className:"h-20",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[y.jsx("title",{children:"Ollama"}),y.jsx("path",{fill:"#F2f2f2",d:"M16.361 10.26a.894.894 0 0 0-.558.47l-.072.148.001.207c0 .193.004.217.059.353.076.193.152.312.291.448.24.238.51.3.872.205a.86.86 0 0 0 .517-.436.752.752 0 0 0 .08-.498c-.064-.453-.33-.782-.724-.897a1.06 1.06 0 0 0-.466 0zm-9.203.005c-.305.096-.533.32-.65.639a1.187 1.187 0 0 0-.06.52c.057.309.31.59.598.667.362.095.632.033.872-.205.14-.136.215-.255.291-.448.055-.136.059-.16.059-.353l.001-.207-.072-.148a.894.894 0 0 0-.565-.472 1.02 1.02 0 0 0-.474.007Zm4.184 2c-.131.071-.223.25-.195.383.031.143.157.288.353.407.105.063.112.072.117.136.004.038-.01.146-.029.243-.02.094-.036.194-.036.222.002.074.07.195.143.253.064.052.076.054.255.059.164.005.198.001.264-.03.169-.082.212-.234.15-.525-.052-.243-.042-.28.087-.355.137-.08.281-.219.324-.314a.365.365 0 0 0-.175-.48.394.394 0 0 0-.181-.033c-.126 0-.207.03-.355.124l-.085.053-.053-.032c-.219-.13-.259-.145-.391-.143a.396.396 0 0 0-.193.032zm.39-2.195c-.373.036-.475.05-.654.086-.291.06-.68.195-.951.328-.94.46-1.589 1.226-1.787 2.114-.04.176-.045.234-.045.53 0 .294.005.357.043.524.264 1.16 1.332 2.017 2.714 2.173.3.033 1.596.033 1.896 0 1.11-.125 2.064-.727 2.493-1.571.114-.226.169-.372.22-.602.039-.167.044-.23.044-.523 0-.297-.005-.355-.045-.531-.288-1.29-1.539-2.304-3.072-2.497a6.873 6.873 0 0 0-.855-.031zm.645.937a3.283 3.283 0 0 1 1.44.514c.223.148.537.458.671.662.166.251.26.508.303.82.02.143.01.251-.043.482-.08.345-.332.705-.672.957a3.115 3.115 0 0 1-.689.348c-.382.122-.632.144-1.525.138-.582-.006-.686-.01-.853-.042-.57-.107-1.022-.334-1.35-.68-.264-.28-.385-.535-.45-.946-.03-.192.025-.509.137-.776.136-.326.488-.73.836-.963.403-.269.934-.46 1.422-.512.187-.02.586-.02.773-.002zm-5.503-11a1.653 1.653 0 0 0-.683.298C5.617.74 5.173 1.666 4.985 2.819c-.07.436-.119 1.04-.119 1.503 0 .544.064 1.24.155 1.721.02.107.031.202.023.208a8.12 8.12 0 0 1-.187.152 5.324 5.324 0 0 0-.949 1.02 5.49 5.49 0 0 0-.94 2.339 6.625 6.625 0 0 0-.023 1.357c.091.78.325 1.438.727 2.04l.13.195-.037.064c-.269.452-.498 1.105-.605 1.732-.084.496-.095.629-.095 1.294 0 .67.009.803.088 1.266.095.555.288 1.143.503 1.534.071.128.243.393.264.407.007.003-.014.067-.046.141a7.405 7.405 0 0 0-.548 1.873c-.062.417-.071.552-.071.991 0 .56.031.832.148 1.279L3.42 24h1.478l-.05-.091c-.297-.552-.325-1.575-.068-2.597.117-.472.25-.819.498-1.296l.148-.29v-.177c0-.165-.003-.184-.057-.293a.915.915 0 0 0-.194-.25 1.74 1.74 0 0 1-.385-.543c-.424-.92-.506-2.286-.208-3.451.124-.486.329-.918.544-1.154a.787.787 0 0 0 .223-.531c0-.195-.07-.355-.224-.522a3.136 3.136 0 0 1-.817-1.729c-.14-.96.114-2.005.69-2.834.563-.814 1.353-1.336 2.237-1.475.199-.033.57-.028.776.01.226.04.367.028.512-.041.179-.085.268-.19.374-.431.093-.215.165-.333.36-.576.234-.29.46-.489.822-.729.413-.27.884-.467 1.352-.561.17-.035.25-.04.569-.04.319 0 .398.005.569.04a4.07 4.07 0 0 1 1.914.997c.117.109.398.457.488.602.034.057.095.177.132.267.105.241.195.346.374.43.14.068.286.082.503.045.343-.058.607-.053.943.016 1.144.23 2.14 1.173 2.581 2.437.385 1.108.276 2.267-.296 3.153-.097.15-.193.27-.333.419-.301.322-.301.722-.001 1.053.493.539.801 1.866.708 3.036-.062.772-.26 1.463-.533 1.854a2.096 2.096 0 0 1-.224.258.916.916 0 0 0-.194.25c-.054.109-.057.128-.057.293v.178l.148.29c.248.476.38.823.498 1.295.253 1.008.231 2.01-.059 2.581a.845.845 0 0 0-.044.098c0 .006.329.009.732.009h.73l.02-.074.036-.134c.019-.076.057-.3.088-.516.029-.217.029-1.016 0-1.258-.11-.875-.295-1.57-.597-2.226-.032-.074-.053-.138-.046-.141.008-.005.057-.074.108-.152.376-.569.607-1.284.724-2.228.031-.26.031-1.378 0-1.628-.083-.645-.182-1.082-.348-1.525a6.083 6.083 0 0 0-.329-.7l-.038-.064.131-.194c.402-.604.636-1.262.727-2.04a6.625 6.625 0 0 0-.024-1.358 5.512 5.512 0 0 0-.939-2.339 5.325 5.325 0 0 0-.95-1.02 8.097 8.097 0 0 1-.186-.152.692.692 0 0 1 .023-.208c.208-1.087.201-2.443-.017-3.503-.19-.924-.535-1.658-.98-2.082-.354-.338-.716-.482-1.15-.455-.996.059-1.8 1.205-2.116 3.01a6.805 6.805 0 0 0-.097.726c0 .036-.007.066-.015.066a.96.96 0 0 1-.149-.078A4.857 4.857 0 0 0 12 3.03c-.832 0-1.687.243-2.456.698a.958.958 0 0 1-.148.078c-.008 0-.015-.03-.015-.066a6.71 6.71 0 0 0-.097-.725C8.997 1.392 8.337.319 7.46.048a2.096 2.096 0 0 0-.585-.041Zm.293 1.402c.248.197.523.759.682 1.388.03.113.06.244.069.292.007.047.026.152.041.233.067.365.098.76.102 1.24l.002.475-.12.175-.118.178h-.278c-.324 0-.646.041-.954.124l-.238.06c-.033.007-.038-.003-.057-.144a8.438 8.438 0 0 1 .016-2.323c.124-.788.413-1.501.696-1.711.067-.05.079-.049.157.013zm9.825-.012c.17.126.358.46.498.888.28.854.36 2.028.212 3.145-.019.14-.024.151-.057.144l-.238-.06a3.693 3.693 0 0 0-.954-.124h-.278l-.119-.178-.119-.175.002-.474c.004-.669.066-1.19.214-1.772.157-.623.434-1.185.68-1.382.078-.062.09-.063.159-.012z"})]})}),y.jsx("span",{className:"font-black",children:"OLLAMA"}),y.jsx("span",{className:"italic",children:"Psss..it's free. Private & secure."})]}),r&&y.jsx(y.Fragment,{children:y.jsx(Qs,{type:"info",children:"Checking Ollama installation..."})}),!r&&!t&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex flex-row gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx(is,{href:"https://ollama.com/download",className:`${i} no-underline`,children:"Download Ollama"}),y.jsxs("div",{className:"mt-4 w-full text-left px-3 text-sm opacity-70",children:[y.jsx("p",{children:"It's a 2 step process:"}),y.jsxs("ol",{className:"list-decimal list-inside",children:[y.jsx("li",{children:"Download Ollama on their website"}),y.jsx("li",{children:"Install Ollama"})]})]})]}),y.jsxs("div",{className:"flex-1",children:[y.jsx(is,{theme:"blank",className:`${i}`,onClick:e,children:"Use online models"}),y.jsxs("div",{className:"mt-4 w-full text-left px-3 text-sm opacity-70",children:[y.jsx("p",{children:"Use any and all AIs that you know of"}),y.jsxs("ol",{className:"list-decimal list-inside",children:[y.jsx("li",{children:"OpenAI - ChatGPT"}),y.jsx("li",{children:"DeepSeek"}),y.jsx("li",{children:"Anthropic"}),y.jsx("li",{children:"Gemini"}),y.jsx("li",{children:"..."})]})]})]})]})}),!r&&t&&y.jsxs(y.Fragment,{children:[y.jsx(Qs,{type:"info",children:" Very wise of you. It's installed."}),y.jsx("p",{children:"You may proceed."}),y.jsx("div",{children:y.jsx(Ie,{theme:"primary",isBig:!0,onClick:e,children:"Continue"})})]})]})},S4=()=>{const e=xi();return y.jsxs("div",{children:[y.jsx("p",{className:"text-xl text-center font-medium mb-2",children:"Setup your first AI"}),y.jsx(eh,{afterSubmit:()=>{e("/chat")}})]})},k4=()=>{const[e,t]=O.useState(1),s={goToNextStep:()=>{t(i=>i+1)},goTo:i=>{t(i)}};return y.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-yellow-500 to-green-600 px-6 py-12",children:y.jsxs("div",{className:"p-10 flex flex-col h-full bg-base-200 rounded-lg shadow-lg space-y-4 max-w-2xl w-full",children:[y.jsxs("div",{className:"flex flex-col items-center justify-center",children:[y.jsx(Lx,{className:"h-16"}),y.jsx(Fx,{})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e===1&&y.jsx(w4,{...s}),e===2&&y.jsx(b4,{...s}),e===3&&y.jsx(S4,{...s})]})]})})},Rw=O.createContext({dragDropManager:void 0});function Mn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var k0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),_0=function(){return Math.random().toString(36).substring(7).split("").join(".")},C0={INIT:"@@redux/INIT"+_0(),REPLACE:"@@redux/REPLACE"+_0()};function _4(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Pw(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mn(1));return n(Pw)(e,t)}if(typeof e!="function")throw new Error(Mn(2));var s=e,i=t,l=[],u=l,d=!1;function f(){u===l&&(u=l.slice())}function h(){if(d)throw new Error(Mn(3));return i}function g(_){if(typeof _!="function")throw new Error(Mn(4));if(d)throw new Error(Mn(5));var C=!0;return f(),u.push(_),function(){if(C){if(d)throw new Error(Mn(6));C=!1,f();var I=u.indexOf(_);u.splice(I,1),l=null}}}function v(_){if(!_4(_))throw new Error(Mn(7));if(typeof _.type>"u")throw new Error(Mn(8));if(d)throw new Error(Mn(9));try{d=!0,i=s(i,_)}finally{d=!1}for(var C=l=u,k=0;k<C.length;k++){var I=C[k];I()}return _}function x(_){if(typeof _!="function")throw new Error(Mn(10));s=_,v({type:C0.REPLACE})}function S(){var _,C=g;return _={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(Mn(11));function N(){I.next&&I.next(h())}N();var j=C(N);return{unsubscribe:j}}},_[k0]=function(){return this},_}return v({type:C0.INIT}),r={dispatch:v,subscribe:g,getState:h,replaceReducer:x},r[k0]=S,r}function Fe(e,t,...n){if(C4()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function C4(){return typeof process<"u"&&!0}function T4(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function E4(e,t){return e.filter(n=>n!==t)}function Aw(e){return typeof e=="object"}function I4(e,t){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((i,l)=>{i===1&&s.push(l)}),s}function N4(e,t){return e.filter(n=>t.indexOf(n)>-1)}const om="dnd-core/INIT_COORDS",Bc="dnd-core/BEGIN_DRAG",lm="dnd-core/PUBLISH_DRAG_SOURCE",Hc="dnd-core/HOVER",qc="dnd-core/DROP",Vc="dnd-core/END_DRAG";function T0(e,t){return{type:om,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const O4={type:om,payload:{clientOffset:null,sourceClientOffset:null}};function j4(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:l}=r,u=e.getMonitor(),d=e.getRegistry();e.dispatch(T0(i)),R4(n,u,d);const f=D4(n,u);if(f==null){e.dispatch(O4);return}let h=null;if(i){if(!l)throw new Error("getSourceClientOffset must be defined");P4(l),h=l(f)}e.dispatch(T0(i,h));const v=d.getSource(f).beginDrag(u,f);if(v==null)return;A4(v),d.pinSource(f);const x=d.getSourceType(f);return{type:Bc,payload:{itemType:x,item:v,sourceId:f,clientOffset:i||null,sourceClientOffset:h||null,isSourcePublic:!!s}}}}function R4(e,t,n){Fe(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){Fe(n.getSource(r),"Expected sourceIds to be registered.")})}function P4(e){Fe(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function A4(e){Fe(Aw(e),"Item must be an object.")}function D4(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function M4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){M4(e,s,n[s])})}return e}function F4(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();z4(r),B4(r).forEach((l,u)=>{const d=$4(l,u,s,r),f={type:qc,payload:{dropResult:L4({},n,d)}};e.dispatch(f)})}}function z4(e){Fe(e.isDragging(),"Cannot call drop while not dragging."),Fe(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function $4(e,t,n,r){const s=n.getTarget(e);let i=s?s.drop(r,e):void 0;return U4(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function U4(e){Fe(typeof e>"u"||Aw(e),"Drop result must either be an object or undefined.")}function B4(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function H4(e){return function(){const n=e.getMonitor(),r=e.getRegistry();q4(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:Vc}}}function q4(e){Fe(e.isDragging(),"Cannot call endDrag while not dragging.")}function th(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function V4(e){return function(n,{clientOffset:r}={}){W4(n);const s=n.slice(0),i=e.getMonitor(),l=e.getRegistry(),u=i.getItemType();return J4(s,l,u),Z4(s,i,l),G4(s,i,l),{type:Hc,payload:{targetIds:s,clientOffset:r||null}}}}function W4(e){Fe(Array.isArray(e),"Expected targetIds to be an array.")}function Z4(e,t,n){Fe(t.isDragging(),"Cannot call hover while not dragging."),Fe(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];Fe(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(s);Fe(i,"Expected targetIds to be registered.")}}function J4(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],i=t.getTargetType(s);th(i,n)||e.splice(r,1)}}function G4(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function Y4(e){return function(){if(e.getMonitor().isDragging())return{type:lm}}}function K4(e){return{beginDrag:j4(e),publishDragSource:Y4(e),hover:V4(e),drop:F4(e),endDrag:H4(e)}}class X4{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(i){return(...l)=>{const u=i.apply(t,l);typeof u<"u"&&n(u)}}const s=K4(this);return Object.keys(s).reduce((i,l)=>{const u=s[l];return i[l]=r(u),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function Q4(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Dw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function eN(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Dw(Q4(t,r),n)}function tN(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Dw(t,n)}const To=[],um=[];To.__IS_NONE__=!0;um.__IS_ALL__=!0;function nN(e,t){return e===To?!1:e===um||typeof t>"u"?!0:N4(t,e).length>0}class rN{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;Fe(typeof t=="function","listener must be a function."),Fe(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const l=this.store.getState(),u=l.stateId;try{u===s||u===s+1&&!nN(l.dirtyHandlerIds,r)||t()}finally{s=u}};return this.store.subscribe(i)}subscribeToOffsetChange(t){Fe(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return Fe(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(Fe(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return th(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(Fe(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();if(i&&!th(s,i))return!1;const l=this.getTargetIds();if(!l.length)return!1;const u=l.indexOf(t);return r?u===l.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return eN(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return tN(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const E0=typeof global<"u"?global:self,Mw=E0.MutationObserver||E0.WebKitMutationObserver;function Lw(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function aN(e){let t=1;const n=new Mw(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const sN=typeof Mw=="function"?aN:Lw;class iN{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=sN(this.flush),this.requestErrorThrow=Lw(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class oN{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class lN{create(t){const n=this.freeTasks,r=n.length?n.pop():new oN(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Fw=new iN,uN=new lN(Fw.registerPendingError);function cN(e){Fw.enqueueTask(uN.create(e))}const cm="dnd-core/ADD_SOURCE",dm="dnd-core/ADD_TARGET",fm="dnd-core/REMOVE_SOURCE",Wc="dnd-core/REMOVE_TARGET";function dN(e){return{type:cm,payload:{sourceId:e}}}function fN(e){return{type:dm,payload:{targetId:e}}}function pN(e){return{type:fm,payload:{sourceId:e}}}function hN(e){return{type:Wc,payload:{targetId:e}}}function mN(e){Fe(typeof e.canDrag=="function","Expected canDrag to be a function."),Fe(typeof e.beginDrag=="function","Expected beginDrag to be a function."),Fe(typeof e.endDrag=="function","Expected endDrag to be a function.")}function gN(e){Fe(typeof e.canDrop=="function","Expected canDrop to be a function."),Fe(typeof e.hover=="function","Expected hover to be a function."),Fe(typeof e.drop=="function","Expected beginDrag to be a function.")}function nh(e,t){if(t&&Array.isArray(e)){e.forEach(n=>nh(n,!1));return}Fe(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var zn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(zn||(zn={}));let yN=0;function vN(){return yN++}function xN(e){const t=vN().toString();switch(e){case zn.SOURCE:return`S${t}`;case zn.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function I0(e){switch(e[0]){case"S":return zn.SOURCE;case"T":return zn.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function N0(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,i]}=n.next();if(i===t)return!0;r=!!s}while(!r);return!1}class wN{addSource(t,n){nh(t),mN(n);const r=this.addHandler(zn.SOURCE,t,n);return this.store.dispatch(dN(r)),r}addTarget(t,n){nh(t,!0),gN(n);const r=this.addHandler(zn.TARGET,t,n);return this.store.dispatch(fN(r)),r}containsHandler(t){return N0(this.dragSources,t)||N0(this.dropTargets,t)}getSource(t,n=!1){return Fe(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Fe(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Fe(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Fe(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return I0(t)===zn.SOURCE}isTargetId(t){return I0(t)===zn.TARGET}removeSource(t){Fe(this.getSource(t),"Expected an existing source."),this.store.dispatch(pN(t)),cN(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Fe(this.getTarget(t),"Expected an existing target."),this.store.dispatch(hN(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);Fe(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){Fe(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=xN(t);return this.types.set(s,n),t===zn.SOURCE?this.dragSources.set(s,r):t===zn.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const bN=(e,t)=>e===t;function SN(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function kN(e,t,n=bN){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function _N(e=To,t){switch(t.type){case Hc:break;case cm:case dm:case Wc:case fm:return To;case Bc:case lm:case Vc:case qc:default:return um}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=I4(n,r);if(!(s.length>0||!kN(n,r)))return To;const l=r[r.length-1],u=n[n.length-1];return l!==u&&(l&&s.push(l),u&&s.push(u)),s}function CN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){CN(e,s,n[s])})}return e}const O0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function EN(e=O0,t){const{payload:n}=t;switch(t.type){case om:case Bc:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Hc:return SN(e.clientOffset,n.clientOffset)?e:TN({},e,{clientOffset:n.clientOffset});case Vc:case qc:return O0;default:return e}}function IN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){IN(e,s,n[s])})}return e}const NN={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function ON(e=NN,t){const{payload:n}=t;switch(t.type){case Bc:return Gs({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case lm:return Gs({},e,{isSourcePublic:!0});case Hc:return Gs({},e,{targetIds:n.targetIds});case Wc:return e.targetIds.indexOf(n.targetId)===-1?e:Gs({},e,{targetIds:E4(e.targetIds,n.targetId)});case qc:return Gs({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Vc:return Gs({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function jN(e=0,t){switch(t.type){case cm:case dm:return e+1;case fm:case Wc:return e-1;default:return e}}function RN(e=0){return e+1}function PN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){PN(e,s,n[s])})}return e}function DN(e={},t){return{dirtyHandlerIds:_N(e.dirtyHandlerIds,{type:t.type,payload:AN({},t.payload,{prevTargetIds:T4(e,"dragOperation.targetIds",[])})}),dragOffset:EN(e.dragOffset,t),refCount:jN(e.refCount,t),dragOperation:ON(e.dragOperation,t),stateId:RN(e.stateId)}}function MN(e,t=void 0,n={},r=!1){const s=LN(r),i=new rN(s,new wN(s)),l=new X4(s,i),u=e(l,t,n);return l.receiveBackend(u),l}function LN(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Pw(DN,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function FN(e,t){if(e==null)return{};var n=zN(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let j0=0;const rc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var $N=O.memo(function(t){var{children:n}=t,r=FN(t,["children"]);const[s,i]=UN(r);return O.useEffect(()=>{if(i){const l=zw();return++j0,()=>{--j0===0&&(l[rc]=null)}}},[]),y.jsx(Rw.Provider,{value:s,children:n})});function UN(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=BN(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function BN(e,t=zw(),n,r){const s=t;return s[rc]||(s[rc]={dragDropManager:MN(e,t,n,r)}),s[rc]}function zw(){return typeof global<"u"?global:window}var Qf,R0;function HN(){return R0||(R0=1,Qf=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var l=i[s];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),Qf}var qN=HN();const VN=yi(qN),fs=typeof window<"u"?O.useLayoutEffect:O.useEffect;function WN(e,t,n){const[r,s]=O.useState(()=>t(e)),i=O.useCallback(()=>{const l=t(e);VN(r,l)||(s(l),n&&n())},[r,e,n]);return fs(i),[r,i]}function ZN(e,t,n){const[r,s]=WN(e,t,n);return fs(function(){const l=e.getHandlerId();if(l!=null)return e.subscribeToStateChange(s,{handlerIds:[l]})},[e,s]),r}function $w(e,t,n){return ZN(t,e||(()=>({})),()=>n.reconnect())}function Uw(e,t){const n=[];return typeof e!="function"&&n.push(e),O.useMemo(()=>typeof e=="function"?e():e,n)}function JN(e){return O.useMemo(()=>e.hooks.dragSource(),[e])}function GN(e){return O.useMemo(()=>e.hooks.dragPreview(),[e])}let ep=!1,tp=!1;class YN{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Fe(!ep,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ep=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ep=!1}}isDragging(){if(!this.sourceId)return!1;Fe(!tp,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return tp=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{tp=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let np=!1;class KN{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;Fe(!np,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return np=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{np=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function XN(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function QN(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function rh(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;const u=Object.prototype.hasOwnProperty.bind(t);for(let d=0;d<i.length;d++){const f=i[d];if(!u(f))return!1;const h=e[f],g=t[f];if(s=void 0,s===!1||s===void 0&&h!==g)return!1}return!0}function ah(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function e3(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function t3(e){return(t=null,n=null)=>{if(!O.isValidElement(t)){const i=t;return e(i,n),i}const r=t;return e3(r),n3(r,n?i=>e(i,n):e)}}function Bw(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=t3(r);t[n]=()=>s}}),t}function P0(e,t){typeof e=="function"?e(t):e.current=t}function n3(e,t){const n=e.ref;return Fe(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?O.cloneElement(e,{ref:r=>{P0(n,r),P0(t,r)}}):O.cloneElement(e,{ref:t})}class r3{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!rh(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!rh(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Bw({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,ah(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,ah(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class a3{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!rh(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Bw({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,ah(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function bi(){const{dragDropManager:e}=O.useContext(Rw);return Fe(e!=null,"Expected drag drop context"),e}function s3(e,t){const n=bi(),r=O.useMemo(()=>new r3(n.getBackend()),[n]);return fs(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),fs(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function i3(){const e=bi();return O.useMemo(()=>new YN(e),[e])}class o3{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:i}=r;return i?i(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function l3(e,t,n){const r=O.useMemo(()=>new o3(e,t,n),[t,n]);return O.useEffect(()=>{r.spec=e},[e]),r}function u3(e){return O.useMemo(()=>{const t=e.type;return Fe(t!=null,"spec.type must be defined"),t},[e])}function c3(e,t,n){const r=bi(),s=l3(e,t,n),i=u3(e);fs(function(){if(i!=null){const[u,d]=QN(i,s,r);return t.receiveHandlerId(u),n.receiveHandlerId(u),d}},[r,t,n,s,i])}function Hw(e,t){const n=Uw(e);Fe(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=i3(),s=s3(n.options,n.previewOptions);return c3(n,r,s),[$w(n.collect,r,s),JN(s),GN(s)]}function d3(e){return O.useMemo(()=>e.hooks.dropTarget(),[e])}function f3(e){const t=bi(),n=O.useMemo(()=>new a3(t.getBackend()),[t]);return fs(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function p3(){const e=bi();return O.useMemo(()=>new KN(e),[e])}function h3(e){const{accept:t}=e;return O.useMemo(()=>(Fe(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class m3{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function g3(e,t){const n=O.useMemo(()=>new m3(e,t),[t]);return O.useEffect(()=>{n.spec=e},[e]),n}function y3(e,t,n){const r=bi(),s=g3(e,t),i=h3(e);fs(function(){const[u,d]=XN(i,s,r);return t.receiveHandlerId(u),n.receiveHandlerId(u),d},[r,t,s,n,i.map(l=>l.toString()).join("|")])}function qw(e,t){const n=Uw(e),r=p3(),s=f3(n.options);return y3(n,r,s),[$w(n.collect,r,s),d3(s)]}function Vw(e){let t=null;return()=>(t==null&&(t=e()),t)}function v3(e,t){return e.filter(n=>n!==t)}function x3(e,t){const n=new Set,r=i=>n.add(i);e.forEach(r),t.forEach(r);const s=[];return n.forEach(i=>s.push(i)),s}class w3{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=x3(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=v3(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class b3{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Ww="__NATIVE_FILE__",Zw="__NATIVE_URL__",Jw="__NATIVE_TEXT__",Gw="__NATIVE_HTML__",A0=Object.freeze(Object.defineProperty({__proto__:null,FILE:Ww,HTML:Gw,TEXT:Jw,URL:Zw},Symbol.toStringTag,{value:"Module"}));function rp(e,t,n){const r=t.reduce((s,i)=>s||e.getData(i),"");return r??n}const sh={[Ww]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Gw]:{exposeProperties:{html:(e,t)=>rp(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Zw]:{exposeProperties:{urls:(e,t)=>rp(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Jw]:{exposeProperties:{text:(e,t)=>rp(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function S3(e,t){const n=sh[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new b3(n);return r.loadDataTransfer(t),r}function ap(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(sh).filter(n=>{const r=sh[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const k3=Vw(()=>/firefox/i.test(navigator.userAgent)),Yw=Vw(()=>!!window.safari);class D0{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:i,c3s:l}=this;let u=n.length-1;if(t===n[u])return r[u];let d=0,f=l.length-1,h;for(;d<=f;){h=Math.floor(.5*(d+f));const x=n[h];if(x<t)d=h+1;else if(x>t)f=h-1;else return r[h]}u=Math.max(0,f);const g=t-n[u],v=g*g;return r[u]+s[u]*g+i[u]*v+l[u]*g*v}constructor(t,n){const{length:r}=t,s=[];for(let x=0;x<r;x++)s.push(x);s.sort((x,S)=>t[x]<t[S]?-1:1);const i=[],l=[];let u,d;for(let x=0;x<r-1;x++)u=t[x+1]-t[x],d=n[x+1]-n[x],i.push(u),l.push(d/u);const f=[l[0]];for(let x=0;x<i.length-1;x++){const S=l[x],_=l[x+1];if(S*_<=0)f.push(0);else{u=i[x];const C=i[x+1],k=u+C;f.push(3*k/((k+C)/S+(k+u)/_))}}f.push(l[l.length-1]);const h=[],g=[];let v;for(let x=0;x<f.length-1;x++){v=l[x];const S=f[x],_=1/i[x],C=S+f[x+1]-v-v;h.push((v-S-C)*_),g.push(C*_*_)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=h,this.c3s=g}}const _3=1;function Kw(e){const t=e.nodeType===_3?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Uu(e){return{x:e.clientX,y:e.clientY}}function C3(e){var t;return e.nodeName==="IMG"&&(k3()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function T3(e,t,n,r){let s=e?t.width:n,i=e?t.height:r;return Yw()&&e&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function E3(e,t,n,r,s){const i=C3(t),u=Kw(i?e:t),d={x:n.x-u.x,y:n.y-u.y},{offsetWidth:f,offsetHeight:h}=e,{anchorX:g,anchorY:v}=r,{dragPreviewWidth:x,dragPreviewHeight:S}=T3(i,t,f,h),_=()=>{let A=new D0([0,.5,1],[d.y,d.y/h*S,d.y+S-h]).interpolate(v);return Yw()&&i&&(A+=(window.devicePixelRatio-1)*S),A},C=()=>new D0([0,.5,1],[d.x,d.x/f*x,d.x+x-f]).interpolate(g),{offsetX:k,offsetY:I}=s,N=k===0||k,j=I===0||I;return{x:N?k:C(),y:j?I:_()}}class I3{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function N3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){N3(e,s,n[s])})}return e}class O3{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=l=>this.handleDragStart(l,t),i=l=>this.handleSelectStart(l);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=l=>this.handleDragEnter(l,t),s=l=>this.handleDragOver(l,t),i=l=>this.handleDrop(l,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return M0({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return M0({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(A0).some(n=>A0[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=S3(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&Kw(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const l=Uu(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:l});const{dataTransfer:u}=s,d=ap(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const h=this.monitor.getSourceId(),g=this.sourceNodes.get(h),v=this.sourcePreviewNodes.get(h)||g;if(v){const{anchorX:x,anchorY:S,offsetX:_,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),N=E3(g,v,l,{anchorX:x,anchorY:S},{offsetX:_,offsetY:C});u.setDragImage(v,N.x,N.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:f}=this.getCurrentSourcePreviewNodeOptions();f?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(d)this.beginDragNativeItem(d);else{if(u&&!u.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:u}=s,d=ap(u);d&&this.beginDragNativeItem(d,u)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Uu(s)}),i.some(u=>this.monitor.canDropOnTarget(u))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Uu(s),this.scheduleHover(i),(i||[]).some(u=>this.monitor.canDropOnTarget(u))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else ap(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Uu(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new I3(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new w3(this.isNodeInDocument)}}const j3=function(t,n,r){return new O3(t,n,r)},Bu=43200,L0=1440,F0=Symbol.for("constructDateFrom");function pm(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&F0 in e?e[F0](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ia(e,t){return pm(e,e)}let R3={};function P3(){return R3}function z0(e){const t=Ia(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hm(e,...t){const n=pm.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function ac(e,t){const n=+Ia(e)-+Ia(t);return n<0?-1:n>0?1:n}function A3(e){return pm(e,Date.now())}function D3(e,t,n){const[r,s]=hm(n==null?void 0:n.in,e,t),i=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return i*12+l}function M3(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function L3(e,t){return+Ia(e)-+Ia(t)}function F3(e,t){const n=Ia(e);return n.setHours(23,59,59,999),n}function z3(e,t){const n=Ia(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function $3(e,t){const n=Ia(e);return+F3(n)==+z3(n)}function U3(e,t,n){const[r,s,i]=hm(n==null?void 0:n.in,e,e,t),l=ac(s,i),u=Math.abs(D3(s,i));if(u<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*u);let d=ac(s,i)===-l;$3(r)&&u===1&&ac(r,i)===1&&(d=!1);const f=l*(u-+d);return f===0?0:f}function B3(e,t,n){const r=L3(e,t)/1e3;return M3(n==null?void 0:n.roundingMethod)(r)}const H3={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},q3=(e,t,n)=>{let r;const s=H3[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function sp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const V3={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W3={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Z3={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J3={date:sp({formats:V3,defaultWidth:"full"}),time:sp({formats:W3,defaultWidth:"full"}),dateTime:sp({formats:Z3,defaultWidth:"full"})},G3={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Y3=(e,t,n,r)=>G3[e];function uo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const K3={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},X3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q3={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},aO={ordinalNumber:rO,era:uo({values:K3,defaultWidth:"wide"}),quarter:uo({values:X3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:uo({values:Q3,defaultWidth:"wide"}),day:uo({values:eO,defaultWidth:"wide"}),dayPeriod:uo({values:tO,defaultWidth:"wide",formattingValues:nO,defaultFormattingWidth:"wide"})};function co(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?iO(u,g=>g.test(l)):sO(u,g=>g.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const h=t.slice(l.length);return{value:f,rest:h}}}function sO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function iO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function oO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const lO=/^(\d+)(th|st|nd|rd)?/i,uO=/\d+/i,cO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dO={any:[/^b/i,/^(a|c)/i]},fO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pO={any:[/1/i,/2/i,/3/i,/4/i]},hO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wO={ordinalNumber:oO({matchPattern:lO,parsePattern:uO,valueCallback:e=>parseInt(e,10)}),era:co({matchPatterns:cO,defaultMatchWidth:"wide",parsePatterns:dO,defaultParseWidth:"any"}),quarter:co({matchPatterns:fO,defaultMatchWidth:"wide",parsePatterns:pO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:co({matchPatterns:hO,defaultMatchWidth:"wide",parsePatterns:mO,defaultParseWidth:"any"}),day:co({matchPatterns:gO,defaultMatchWidth:"wide",parsePatterns:yO,defaultParseWidth:"any"}),dayPeriod:co({matchPatterns:vO,defaultMatchWidth:"any",parsePatterns:xO,defaultParseWidth:"any"})},bO={code:"en-US",formatDistance:q3,formatLong:J3,formatRelative:Y3,localize:aO,match:wO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SO(e,t,n){const r=P3(),s=(n==null?void 0:n.locale)??r.locale??bO,i=2520,l=ac(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[d,f]=hm(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),h=B3(f,d),g=(z0(f)-z0(d))/1e3,v=Math.round((h-g)/60);let x;if(v<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):v===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",v,u);if(v<45)return s.formatDistance("xMinutes",v,u);if(v<90)return s.formatDistance("aboutXHours",1,u);if(v<L0){const S=Math.round(v/60);return s.formatDistance("aboutXHours",S,u)}else{if(v<i)return s.formatDistance("xDays",1,u);if(v<Bu){const S=Math.round(v/L0);return s.formatDistance("xDays",S,u)}else if(v<Bu*2)return x=Math.round(v/Bu),s.formatDistance("aboutXMonths",x,u)}if(x=U3(f,d),x<12){const S=Math.round(v/Bu);return s.formatDistance("xMonths",S,u)}else{const S=x%12,_=Math.trunc(x/12);return S<3?s.formatDistance("aboutXYears",_,u):S<9?s.formatDistance("overXYears",_,u):s.formatDistance("almostXYears",_+1,u)}}function Xw(e,t){return SO(e,A3(e),t)}const kO=({color:e="inherit",className:t="h-8"})=>y.jsx("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),_O=({color:e="inherit",className:t="h-8"})=>y.jsxs("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[y.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),y.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]}),CO=({color:e,className:t="h-8"})=>y.jsx("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:y.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),Qw=({item:e,depth:t,isActive:n})=>{const r=xi(),[s,i]=O.useState(!1),[l,u]=O.useState(e.name),d=O.useRef(null),f=Tr(),[{isDragging:h},g]=Hw(()=>({type:"FILE_ITEM",item:{id:e.id},collect:I=>({isDragging:I.isDragging()})})),[{isOver:v},x]=qw(()=>({accept:"FILE_ITEM",drop:I=>{I.id,e.id},collect:I=>({isOver:I.isOver()})})),S=()=>{i(!0)},_=()=>{l.trim()&&f.actions.conversations.rename({id:e.id,newName:l}),i(!1)};O.useEffect(()=>{s&&d.current&&d.current.focus()},[s]);const C=12+t*12,k=O.useMemo(()=>e.name?e.name:"updatedAt"in e?`Conversation: ${Xw(new Date(e.updatedAt))} ago`:"Untitled",[e]);return y.jsx("li",{ref:I=>g(x(I)),children:y.jsxs("a",{href:`#chat/${e.id}`,className:`relative flex items-center py-1 hover:bg-slate-100/5 cursor-pointer group
			${n?"bg-primary/30":""}
		${h?"opacity-50 bg-slate-100/30":""} ${v?"bg-base-200":""}`,style:{paddingLeft:`${C}px`},children:[y.jsxs("div",{className:"flex items-center flex-1 py-1",children:[y.jsx("span",{className:"mr-2 ",children:y.jsx(CO,{color:"white",className:"h-4"})}),s&&y.jsx("form",{onSubmit:I=>{I.preventDefault(),_()},children:y.jsx("input",{"aria-label":"Rename item",ref:d,type:"text",value:l,onChange:I=>u(I.target.value),onBlur:_,onKeyDown:I=>{I.key==="Escape"&&(u(e.name),i(!1))},className:"border rounded px-1"})}),!s&&y.jsx(y.Fragment,{children:y.jsx("span",{className:"flex-1 pr-6 border border-transparent line-clamp-1",onClick:()=>{},onDoubleClick:S,children:k})})]}),!s&&y.jsx("button",{"aria-label":"Delete item",onClick:async I=>{I.stopPropagation(),I.preventDefault(),confirm("Are you sure you want to delete this item?")&&(await f.actions.conversations.delete({id:e.id}),n&&r("/chat"))},className:"absolute top-0 right-0 h-full px-3 hover:text-red-500 opacity-0 group-hover:opacity-30 hover:opacity-100 translate-x-full group-hover:translate-x-0",children:y.jsx(Ne,{icon:Ro})})]})})},TO=({folder:e,depth:t,activeConversationId:n})=>{const[r,s]=O.useState(!1),[i,l]=O.useState(e.name),u=O.useRef(null),d=Tr(),f=O.useMemo(()=>d.conversations.filter(k=>k.folderId===e.id),[d.conversations,e.id]),[{isDragging:h},g]=Hw(()=>({type:"FOLDER_ITEM",item:{id:e.id,type:"folder"},collect:k=>({isDragging:k.isDragging()})})),[{isOver:v},x]=qw(()=>({accept:["FILE_ITEM","FOLDER_ITEM"],drop:k=>{if(console.log(k),k.type==="folder"){if(k.id===e.id)return;d.actions.folders.move({dragId:k.id,hoverId:e.id})}d.actions.conversations.update({id:k.id,partial:{folderId:e.id}})},collect:k=>({isOver:k.isOver()})})),S=()=>{s(!0)},_=()=>{i.trim()&&d.actions.folders.rename({folderId:e.id,newName:i}),s(!1)};O.useEffect(()=>{r&&u.current&&u.current.focus()},[r]);const C=O.useMemo(()=>e.name?e.name:"Untitled",[e]);return y.jsxs("li",{ref:k=>g(x(k)),className:`relative flex flex-col cursor-pointer group/folder rounded-xl
		${h?"opacity-50 bg-slate-400/30":""} ${v?"bg-slate-400/30":""}`,children:[y.jsxs("div",{className:"flex items-center flex-1",children:[y.jsxs("button",{"aria-label":"Toggle item",onClick:()=>d.actions.folders.toggle({folderId:e.id,isOpen:!e.isOpen}),className:" text-yellow-600",children:[!e.isOpen&&y.jsx(kO,{color:"orange",className:"h-4"}),e.isOpen&&y.jsx(_O,{color:"orange",className:"h-4"})]}),r&&y.jsx("form",{onSubmit:k=>{k.preventDefault(),_()},children:y.jsx("input",{"aria-label":"Rename item",ref:u,type:"text",value:i,onChange:k=>l(k.target.value),onBlur:_,onKeyDown:k=>{k.key==="Escape"&&(l(e.name),s(!1))},className:"border rounded px-1"})}),!r&&y.jsx(y.Fragment,{children:y.jsx("span",{className:"flex-1 px-1 border border-transparent",onDoubleClick:S,children:C})})]}),y.jsx("button",{"aria-label":"Delete item",onClick:k=>{k.stopPropagation(),confirm("Are you sure you want to delete this item?")&&d.actions.folders.delete({folderId:e.id})},className:"absolute top-0 right-0 h-full px-3 hover:text-red-500 opacity-0 group-hover:opacity-30 hover:opacity-100 translate-x-full group-hover:translate-x-0",children:y.jsx(Ne,{icon:Ro})}),!h&&e.isOpen&&y.jsx(y.Fragment,{children:y.jsx("ul",{className:"",children:f.map(k=>y.jsx(Qw,{isActive:k.id.toString()===n,item:k,depth:1},k.id))})})]})},EO=({conversationId:e})=>{const[t,n]=O.useState(!1),[r,s]=O.useState(""),i=Tr(),l=O.useMemo(()=>i.conversations.filter(d=>!d.folderId),[i.conversations]),u=d=>{d.preventDefault(),i.actions.folders.create({name:r}),s(""),n(!1)};return y.jsxs($N,{backend:j3,children:[y.jsx("ul",{className:"menu w-full",children:i.folders.map(d=>y.jsx(TO,{activeConversationId:e,folder:d,depth:0},d.id))}),y.jsxs("button",{onClick:()=>{n(!t)},className:"w-full text-left px-6 py-2 hover:bg-base-100/15 opacity-30 hover:opacity-100 rounded",children:[t&&y.jsx(y.Fragment,{children:"Cancel"}),!t&&y.jsxs(y.Fragment,{children:[y.jsx(Ne,{icon:Bx})," Folder"]})]}),t&&y.jsxs("form",{onSubmit:u,className:"overflow-hidden bg-base-200/30 rounded-xl mx-2",children:[y.jsx("input",{"aria-label":"New folder name",placeholder:"New folder name...",type:"text",autoFocus:!0,value:r,onChange:d=>s(d.target.value),className:"p-2 w-full rounded-t-xl"}),y.jsx(Ie,{theme:"primary",type:"submit",className:"w-full ",children:"Create folder"})]}),y.jsx("div",{className:"divider uppercase opacity-30 font-medium text-xs",children:"Recent"}),y.jsx("ul",{className:"menu w-full",children:l.map(d=>y.jsx(Qw,{isActive:d.id.toString()===e,item:d,depth:0},d.id))})]})},ui=O.forwardRef(({startingRows:e=1,maxRows:t=5,isDisabled:n=!1,isLoading:r=!1,className:s="",onSubmit:i,value:l,...u},d)=>{const f=O.useRef(null);O.useEffect(()=>{f.current&&(typeof d=="function"?d(f.current):d&&(d.current=f.current))},[d]);const h=()=>{const x=f.current;if(!x)return;const S=24,_=S*t,C=S*e;x.style.height=`${C}px`;const k=Math.max(C,x.scrollHeight),I=Math.min(k,_);x.style.height=`${I}px`,x.style.overflowY=k>_?"auto":"hidden"};O.useEffect(()=>{h()},[l]);const g=x=>{u.onChange&&u.onChange(x),h()},v=x=>{if(x.key==="Enter"){if(x.shiftKey)return;x.preventDefault(),i==null||i()}};return y.jsx("textarea",{ref:f,value:l,onChange:g,disabled:n||r,className:`w-full px-4 py-4 border-none resize-none focus:outline-none focus:ring-0 ${s}`,onKeyDown:v,rows:e,style:{height:`${24*e}px`,maxHeight:`${24*t}px`},...u})});ui.displayName="ChatInputBox";const IO=[{service:"Anthropic",name:"claude-3-5-haiku-20241022",displayName:"Claude 3.5 Haiku ($)",features:{hasJson:!0,hasToolUse:!0,context:200},costs:{tokensIn:8e-7,tokensOut:4e-6}},{service:"Anthropic",name:"claude-3-5-sonnet-20241022",displayName:"Claude 3.5 Sonnet ($$)",features:{hasJson:!0,hasToolUse:!0,context:200},costs:{tokensIn:3e-6,tokensOut:15e-6}},{service:"Anthropic",name:"claude-3-opus-20240229",displayName:"Claude 3 Opus ($$$)",features:{hasJson:!0,hasToolUse:!0,context:200},costs:{tokensIn:15e-6,tokensOut:75e-6}}],NO=[{service:"Google",name:"gemini-2.0-flash-exp",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.1,tokensOut:.3}},{service:"Google",name:"gemini-1.5-flash",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.075,tokensOut:.3}},{service:"Google",name:"gemini-1.5-pro",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:1.25,tokensOut:5}}],OO=[{service:"Mistral",name:"pixtral-large-latest",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.001,tokensOut:.005}},{service:"Mistral",name:"mistral-large-latest",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.009,tokensOut:.004}},{service:"Mistral",name:"mistral-small-latest",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.003,tokensOut:.002}},{service:"Mistral",name:"pixtral-12b-2409",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.001,tokensOut:.005}}],jO=[{service:"OpenAI",name:"gpt-4o",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.015,tokensOut:.06}},{service:"OpenAI",name:"gpt-4o-mini",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.01,tokensOut:.03}},{service:"OpenAI",name:"gpt-4-turbo",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.03,tokensOut:.06}},{service:"OpenAI",name:"gpt-4",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.03,tokensOut:.06}},{service:"OpenAI",name:"o3-mini",features:{hasJson:!1,hasToolUse:!0},costs:{tokensIn:.01,tokensOut:.04}},{service:"OpenAI",name:"o1",features:{hasJson:!1,hasToolUse:!0},costs:{tokensIn:.02,tokensOut:.08}},{service:"OpenAI",name:"o1-mini",features:{hasJson:!1,hasToolUse:!0},costs:{tokensIn:.01,tokensOut:.04}}],RO=[...IO,...jO,...OO,...NO,{service:"DeepSeek",name:"deepseek-chat",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.2,tokensOut:.6}},{service:"DeepSeek",name:"deepseek-reasoner",features:{hasJson:!0,hasToolUse:!0},costs:{tokensIn:.55,tokensOut:2.19}}],PO=e=>RO.filter(t=>t.service===e),AO=({serviceName:e,configs:t,onSelect:n})=>{const r=Tr(),s=(i,l)=>{r.actions.userSettings.update({defaultAiService:{configId:i.id,modelName:l}}),n(i,l)};return y.jsxs("div",{className:"py-2",children:[y.jsx("div",{className:"flex flex-row items-center gap-2",children:y.jsx("span",{className:"uppercase opacity-50 font-medium tracking-wider text-sm flex-grow",children:e})}),y.jsx("div",{className:"border-l border-base-300 pl-2 py-1",children:t.map(i=>{const l=[...i.models||[],...PO(i.service)];return y.jsxs("div",{children:[t.length>1&&y.jsx("h3",{className:"uppercase opacity-50 font-medium tracking-wider text-sm",children:i.name}),y.jsx("ul",{className:"list-none",children:l.map(u=>{var f,h,g;const d=((h=(f=r.userSettings)==null?void 0:f.defaultAiService)==null?void 0:h.configId)===i.id&&((g=r.userSettings.defaultAiService)==null?void 0:g.modelName)===u.name;return y.jsxs("li",{className:"py-1 px-2 flex flex-row items-center gap-3 hover:bg-base-300 transition-all duration-300 ease-in-out rounded-full group",children:[y.jsx(Ie,{role:"button",tooltip:"Make default",className:d?"text-primary":"text-base-200 group-hover:text-base-100",onClick:()=>s(i,u.name),theme:"custom",children:y.jsx(Ne,{icon:FT})}),y.jsx(Ie,{theme:"custom",role:"button",onClick:()=>{n(i,u.name);const v=document.getElementById("modal-pick-ai");v==null||v.close()},children:u.displayName||u.name})]},u.name)})},i.id)]},i.id)})})]})},eb=({isOpen:e,onSelect:t,onCancel:n})=>{const r=Tr();if(O.useLayoutEffect(()=>{if(e){const l=document.getElementById("modal-pick-ai");l==null||l.showModal()}},[e]),!e)return null;const s=r.aiServices,i=s.length>0?s.reduce((l,u)=>(l[u.service]||(l[u.service]=[]),l[u.service].push(u),l),{}):{};return y.jsxs("dialog",{id:"modal-pick-ai",className:"modal ",children:[y.jsxs("div",{className:"modal-box",children:[y.jsx("form",{method:"dialog",children:y.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:()=>{const l=document.getElementById("modal-pick-ai");l==null||l.close(),n()},children:""})}),y.jsx("h3",{className:"font-bold text-lg mb-4",children:"Select an AI Service"}),Object.entries(i).map(([l,u],d)=>y.jsx(AO,{serviceName:l,configs:u,onSelect:t},d))]}),y.jsx("form",{method:"dialog",className:"modal-backdrop",children:y.jsx("button",{onClick:()=>{const l=document.getElementById("modal-pick-ai");l==null||l.close(),n()},children:"close"})})]})},DO=[{id:2,name:"Co-authoring",icon:PT,description:"Collaborative AI document editing. ASk AI to change all or just part of a text.",type:"co-authoring"},{id:3,name:"Repeater",icon:JT,description:"Same prompt everytime, perfect for customer support emails, or any task you repeat all the time.",type:"repeater"},{id:4,name:"Chain",icon:qT,description:"Chain multiple AI requests together to a greater output.",type:"chain"}],$0=["text-primary hover:border-primary","text-accent hover:border-accent","text-success hover:border-success","text-info hover:border-info","text-warning hover:border-warning"],MO=()=>{var X;const e=xi(),t=O.useRef(null),[n,r]=O.useState(null),[s,i]=O.useState(null),[l,u]=O.useState(""),[d,f]=O.useState(!1),h=Tr(),g=h.aiServices,[v,x]=O.useState(!1),[S,_]=O.useState([""]),C=g.find(W=>W.id===n);O.useEffect(()=>{var K,J;if(n||g.length===0)return;const W=(K=h.userSettings)==null?void 0:K.defaultAiService;if(!W)return;const Q=g.find(ee=>ee.id===W.configId);if(Q&&(r(Q.id),Q.service==="Ollama"&&((J=Q.models)!=null&&J.length))){const ee=Q.models.find(G=>G.name===W.modelName);ee&&i(ee.name)}},[g,(X=h.userSettings)==null?void 0:X.defaultAiService,n]);const k=async W=>{if(!n){alert("Please select a configuration");return}if(!l.trim()&&W==="chat"){alert("Please enter some text");return}const Q={id:0,name:l.split(`
`)[0].substring(0,50),aiServiceId:n,modelName:s||void 0,instruction:"You are a helpful assistant",type:W||"chat",createdAt:Date.now(),updatedAt:Date.now()};try{const K=await h.actions.conversations.create(Q);if(!(K!=null&&K.id)){alert("Failed to create chat");return}e(`/chat/${K.id}`,{state:{initialMessage:l,urls:S.filter(J=>J.length>0).map(J=>({url:J}))}})}catch(K){console.error("Failed to create chat",K)}},I=W=>{W&&W.preventDefault(),k("chat")},N=W=>{W.preventDefault(),f(!0)},j=(W,Q)=>{const K=[...S];K[W]=Q,Q&&W===S.length-1&&K.push(""),!Q&&W!==S.length-1&&K.splice(W,1),_(K)},L=W=>{const Q=[...S];Q.splice(W,1),Q.length===0&&Q.push(""),_(Q)};let A=!1,U="";return window.DESTINATION==="github"&&(A=!0,U="This feature is disabled in the web version. Please use the desktop version."),y.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[y.jsxs("div",{className:"max-w-2xl w-full mx-auto text-center space-y-6",children:[y.jsx("h2",{className:"text-2xl logo font-bold",children:"What can I help with?"}),y.jsxs("form",{onSubmit:I,className:"bg-base-100 p-6 py-4 space-y-4 rounded-xl mx-2",children:[y.jsx(ui,{ref:t,autoFocus:!0,className:"w-full bg-base-100 text-lg",placeholder:"Start typing here...",value:l,tabIndex:1,startingRows:2,maxRows:10,onChange:W=>u(W.target.value),onSubmit:I}),v&&y.jsx("div",{className:"space-y-2",children:S.map((W,Q)=>y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsxs("label",{className:"input focus:ring-0 focus:outline-none border-base-300 w-full flex items-center gap-3",children:[y.jsx(Ne,{icon:oc}),y.jsx("input",{type:"url",className:"grow ",placeholder:"Enter a URL",value:W,onChange:K=>j(Q,K.target.value)})]}),W.trim()&&y.jsx(Ie,{theme:"custom",type:"button",onClick:()=>L(Q),className:"p-2 opacity-50 hover:opacity-100 hover:text-red-400",children:y.jsx(Ne,{icon:Ro})})]},Q))}),y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx(Ie,{theme:"ghost",type:"button",onClick:()=>x(!v),tabIndex:3,disabled:A,"data-tip":U,className:"bg-base-100 flex flex-row gap-3 items-center",children:y.jsx(Ne,{icon:oc})}),y.jsx(Ie,{theme:"ghost",type:"button",onClick:N,tabIndex:3,className:"bg-base-100 flex flex-row gap-3 items-center",children:y.jsxs("span",{children:[C==null?void 0:C.name,s?` (${s})`:"",!C&&"Select AI service"]})}),y.jsx("div",{className:"flex-grow"}),y.jsx(Ie,{theme:"primary",tabIndex:2,type:"submit",children:y.jsx(Ne,{icon:Ap})})]})]}),y.jsx("div",{className:"text-left",children:y.jsx("div",{className:"flex flex-row flex-wrap gap-4",children:DO.map(W=>{const Q=$0[W.id%$0.length];return y.jsx("button",{onClick:()=>{k(W.type)},"data-tip":W.description,className:`bg-base-200 hover:bg-base-100 border-base-100 p-4 py-1 border rounded-2xl flex flex-col items-start cursor-pointer text-left tooltip tooltip-bottom ${Q}`,children:y.jsxs("h3",{children:[y.jsx(Ne,{icon:W.icon,className:`mr-2 ${Q}`}),y.jsx("span",{className:"text-base-content",children:W.name})]})},W.id)})})})]}),y.jsx(eb,{isOpen:d,onSelect:(W,Q)=>{r(W.id),i(Q||null),f(!1)},onCancel:()=>f(!1)})]})};class xo{static create(t){return this.dbService.create(t)}static update(t,n){return this.dbService.update(t,n)}static delete(t){return this.dbService.delete(t)}static getAll(){return this.dbService.getAll()}static getByConversationId(t){const n=`"conversationId":${t}`;return this.dbService.search(n,1,50)}static getDefaults(){return this.dbService.getAll()}static getById(t){return this.dbService.getById(t)}static search(t,n=1,r=10){return this.dbService.search(t,n,r)}}va(xo,"dbService",Co("chats"));const LO=["localhost","0.0.0.0","127.0.0.1"],tb=({config:e}={})=>{const[t,n]=O.useState(!1),[r,s]=O.useState(!1),[i,l]=O.useState([]),[u,d]=O.useState(null),[f,h]=O.useState(null),[g,v]=O.useState(!1),[x,S]=O.useState(!1),[_,C]=O.useState(!1),k=O.useCallback(async()=>{v(!0);try{const A=await _a.ollamaInstallCheck();n(A),d(new Date)}finally{v(!1)}},[]),I=O.useCallback(async()=>{var A;if(!e){l(["No config provided"]);return}if(!e.url){l(["Config does not have a URL"]);return}S(!0);try{const U=(A=e.url)==null?void 0:A.replace("/api",""),X=await fetch(U);s(X.ok),h(new Date)}catch{s(!1)}finally{S(!1),h(new Date)}},[e]),N=O.useCallback(async()=>{await k(),await I()},[k,I]),j=O.useCallback(()=>{if(!(e!=null&&e.url))return!1;try{const A=new URL(e.url);return LO.includes(A.hostname)}catch{return!1}},[e]),L=async()=>{if(!j()){l(["This is not a local server, we cannot start and stop it."]);return}C(!0);try{await _a.ollamaServerToggle(!r)&&await N()}finally{C(!1)}};return{isInstalled:t,isRunning:r,errors:i,lastInstallCheck:u,lastRunningCheck:f,isCheckingInstall:g,isCheckingRunning:x,isTogglingServer:_,isLocalServer:j(),actions:{checkInstall:k,checkStatusWithPing:I,checkStatus:N,toggleServer:L}}};var nb="vercel.ai.error",FO=Symbol.for(nb),rb,zO=class ab extends Error{constructor({name:t,message:n,cause:r}){super(n),this[rb]=!0,this.name=t,this.cause=r}static isInstance(t){return ab.hasMarker(t,nb)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};rb=FO;var Pe=zO,sb="AI_APICallError",ib=`vercel.ai.error.${sb}`,$O=Symbol.for(ib),ob,Bt=class extends Pe{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:s,responseBody:i,cause:l,isRetryable:u=r!=null&&(r===408||r===409||r===429||r>=500),data:d}){super({name:sb,message:e,cause:l}),this[ob]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=s,this.responseBody=i,this.isRetryable=u,this.data=d}static isInstance(e){return Pe.hasMarker(e,ib)}};ob=$O;var lb="AI_EmptyResponseBodyError",ub=`vercel.ai.error.${lb}`,UO=Symbol.for(ub),cb,db=class extends Pe{constructor({message:e="Empty response body"}={}){super({name:lb,message:e}),this[cb]=!0}static isInstance(e){return Pe.hasMarker(e,ub)}};cb=UO;function Cl(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var fb="AI_InvalidArgumentError",pb=`vercel.ai.error.${fb}`,BO=Symbol.for(pb),hb,HO=class extends Pe{constructor({message:t,cause:n,argument:r}){super({name:fb,message:t,cause:n}),this[hb]=!0,this.argument=r}static isInstance(t){return Pe.hasMarker(t,pb)}};hb=BO;var mb="AI_InvalidPromptError",gb=`vercel.ai.error.${mb}`,qO=Symbol.for(gb),yb,ba=class extends Pe{constructor({prompt:e,message:t,cause:n}){super({name:mb,message:`Invalid prompt: ${t}`,cause:n}),this[yb]=!0,this.prompt=e}static isInstance(e){return Pe.hasMarker(e,gb)}};yb=qO;var vb="AI_InvalidResponseDataError",xb=`vercel.ai.error.${vb}`,VO=Symbol.for(xb),wb,Br=class extends Pe{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:vb,message:t}),this[wb]=!0,this.data=e}static isInstance(e){return Pe.hasMarker(e,xb)}};wb=VO;var bb="AI_JSONParseError",Sb=`vercel.ai.error.${bb}`,WO=Symbol.for(Sb),kb,dc=class extends Pe{constructor({text:e,cause:t}){super({name:bb,message:`JSON parsing failed: Text: ${e}.
Error message: ${Cl(t)}`,cause:t}),this[kb]=!0,this.text=e}static isInstance(e){return Pe.hasMarker(e,Sb)}};kb=WO;var _b="AI_LoadAPIKeyError",Cb=`vercel.ai.error.${_b}`,ZO=Symbol.for(Cb),Tb,Hu=class extends Pe{constructor({message:e}){super({name:_b,message:e}),this[Tb]=!0}static isInstance(e){return Pe.hasMarker(e,Cb)}};Tb=ZO;var Eb="AI_NoSuchModelError",Ib=`vercel.ai.error.${Eb}`,JO=Symbol.for(Ib),Nb,ci=class extends Pe{constructor({errorName:e=Eb,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[Nb]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return Pe.hasMarker(e,Ib)}};Nb=JO;var Ob="AI_TooManyEmbeddingValuesForCallError",jb=`vercel.ai.error.${Ob}`,GO=Symbol.for(jb),Rb,Tl=class extends Pe{constructor(e){super({name:Ob,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[Rb]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Pe.hasMarker(e,jb)}};Rb=GO;var Pb="AI_TypeValidationError",Ab=`vercel.ai.error.${Pb}`,YO=Symbol.for(Ab),Db,KO=class ih extends Pe{constructor({value:t,cause:n}){super({name:Pb,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Cl(n)}`,cause:n}),this[Db]=!0,this.value=t}static isInstance(t){return Pe.hasMarker(t,Ab)}static wrap({value:t,cause:n}){return ih.isInstance(n)&&n.value===t?n:new ih({value:t,cause:n})}};Db=YO;var Na=KO,Mb="AI_UnsupportedFunctionalityError",Lb=`vercel.ai.error.${Mb}`,XO=Symbol.for(Lb),Fb,ze=class extends Pe{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Mb,message:t}),this[Fb]=!0,this.functionality=e}static isInstance(e){return Pe.hasMarker(e,Lb)}};Fb=XO;function fc(e){return e===null||typeof e=="string"||typeof e=="number"||typeof e=="boolean"?!0:Array.isArray(e)?e.every(fc):typeof e=="object"?Object.entries(e).every(([t,n])=>typeof t=="string"&&fc(n)):!1}function U0(e){return Array.isArray(e)&&e.every(fc)}function oh(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&fc(n))}let QO=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};var es={exports:{}},B0;function ej(){if(B0)return es.exports;B0=1;const e=typeof Buffer<"u",t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(u,d,f){f==null&&d!==null&&typeof d=="object"&&(f=d,d=void 0),e&&Buffer.isBuffer(u)&&(u=u.toString()),u&&u.charCodeAt(0)===65279&&(u=u.slice(1));const h=JSON.parse(u,d);if(h===null||typeof h!="object")return h;const g=f&&f.protoAction||"error",v=f&&f.constructorAction||"error";if(g==="ignore"&&v==="ignore")return h;if(g!=="ignore"&&v!=="ignore"){if(t.test(u)===!1&&n.test(u)===!1)return h}else if(g!=="ignore"&&v==="ignore"){if(t.test(u)===!1)return h}else if(n.test(u)===!1)return h;return s(h,{protoAction:g,constructorAction:v,safe:f&&f.safe})}function s(u,{protoAction:d="error",constructorAction:f="error",safe:h}={}){let g=[u];for(;g.length;){const v=g;g=[];for(const x of v){if(d!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"__proto__")){if(h===!0)return null;if(d==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.__proto__}if(f!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"constructor")&&Object.prototype.hasOwnProperty.call(x.constructor,"prototype")){if(h===!0)return null;if(f==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.constructor}for(const S in x){const _=x[S];_&&typeof _=="object"&&g.push(_)}}}return u}function i(u,d,f){const h=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(u,d,f)}finally{Error.stackTraceLimit=h}}function l(u,d){const f=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(u,d,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=f}}return es.exports=i,es.exports.default=i,es.exports.parse=i,es.exports.safeParse=l,es.exports.scan=s,es.exports}var tj=ej();const mm=yi(tj);var nj=Object.defineProperty,rj=(e,t,n)=>t in e?nj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,qu=(e,t,n)=>rj(e,typeof t!="symbol"?t+"":t,n);class H0 extends Error{constructor(t,n){super(t),qu(this,"type"),qu(this,"field"),qu(this,"value"),qu(this,"line"),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function ip(e){}function aj(e){const{onEvent:t=ip,onError:n=ip,onRetry:r=ip,onComment:s}=e;let i="",l=!0,u,d="",f="";function h(_){const C=l?_.replace(/^\xEF\xBB\xBF/,""):_,[k,I]=sj(`${i}${C}`);for(const N of k)g(N);i=I,l=!1}function g(_){if(_===""){x();return}if(_.startsWith(":")){s&&s(_.slice(_.startsWith(": ")?2:1));return}const C=_.indexOf(":");if(C!==-1){const k=_.slice(0,C),I=_[C+1]===" "?2:1,N=_.slice(C+I);v(k,N,_);return}v(_,"",_)}function v(_,C,k){switch(_){case"event":f=C;break;case"data":d=`${d}${C}
`;break;case"id":u=C.includes("\0")?void 0:C;break;case"retry":/^\d+$/.test(C)?r(parseInt(C,10)):n(new H0(`Invalid \`retry\` value: "${C}"`,{type:"invalid-retry",value:C,line:k}));break;default:n(new H0(`Unknown field "${_.length>20?`${_.slice(0,20)}`:_}"`,{type:"unknown-field",field:_,value:C,line:k}));break}}function x(){d.length>0&&t({id:u,event:f||void 0,data:d.endsWith(`
`)?d.slice(0,-1):d}),u=void 0,d="",f=""}function S(_={}){i&&_.consume&&g(i),u=void 0,d="",f="",i=""}return{feed:h,reset:S}}function sj(e){const t=[];let n="";const r=e.length;for(let s=0;s<r;s++){const i=e[s];i==="\r"&&e[s+1]===`
`?(t.push(n),n="",s++):i==="\r"||i===`
`?(t.push(n),n=""):n+=i}return[t,n]}class ij extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let s;super({start(i){s=aj({onEvent:l=>{i.enqueue(l)},onError(l){t==="terminate"?i.error(l):typeof t=="function"&&t(l)},onRetry:n,onComment:r})},transform(i){s.feed(i)}})}}var oj={};function bt(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function lj(e){return new ReadableStream({async pull(t){try{const{value:n,done:r}=await e.next();r?t.close():t.enqueue(n)}catch(n){t.error(n)}},cancel(){}})}async function uj(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}function xs(e){const t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var ws=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const s=QO(n,t);if(e==null)return s;if(n.includes(r))throw new HO({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return i=>`${e}${r}${s(i)}`},nn=ws();function cj(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function zb(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function os(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}var dj=()=>globalThis.fetch,fj=async({url:e,headers:t={},successfulResponseHandler:n,failedResponseHandler:r,abortSignal:s,fetch:i=dj()})=>{try{const l=await i(e,{method:"GET",headers:zb(t),signal:s}),u=xs(l);if(!l.ok){let d;try{d=await r({response:l,url:e,requestBodyValues:{}})}catch(f){throw os(f)||Bt.isInstance(f)?f:new Bt({message:"Failed to process error response",cause:f,statusCode:l.status,url:e,responseHeaders:u,requestBodyValues:{}})}throw d.value}try{return await n({response:l,url:e,requestBodyValues:{}})}catch(d){throw d instanceof Error&&(os(d)||Bt.isInstance(d))?d:new Bt({message:"Failed to process successful response",cause:d,statusCode:l.status,url:e,responseHeaders:u,requestBodyValues:{}})}}catch(l){if(os(l))throw l;if(l instanceof TypeError&&l.message==="fetch failed"){const u=l.cause;if(u!=null)throw new Bt({message:`Cannot connect to API: ${u.message}`,cause:u,url:e,isRetryable:!0,requestBodyValues:{}})}throw l}};function Aa({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new Hu({message:`${r} API key must be a string.`});if(typeof process>"u")throw new Hu({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=oj[t],e==null)throw new Hu({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new Hu({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var pc=Symbol.for("vercel.ai.validator");function pj(e){return{[pc]:!0,validate:e}}function hj(e){return typeof e=="object"&&e!==null&&pc in e&&e[pc]===!0&&"validate"in e}function mj(e){return hj(e)?e:gj(e)}function gj(e){return pj(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function yj({value:e,schema:t}){const n=wr({value:e,schema:t});if(!n.success)throw Na.wrap({value:e,cause:n.error});return n.value}function wr({value:e,schema:t}){const n=mj(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:Na.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:Na.wrap({value:e,cause:r})}}}function vj({text:e,schema:t}){try{const n=mm.parse(e);return t==null?n:yj({value:n,schema:t})}catch(n){throw dc.isInstance(n)||Na.isInstance(n)?n:new dc({text:e,cause:n})}}function ps({text:e,schema:t}){try{const n=mm.parse(e);if(t==null)return{success:!0,value:n,rawValue:n};const r=wr({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(n){return{success:!1,error:dc.isInstance(n)?n:new dc({text:e,cause:n})}}}function di(e){try{return mm.parse(e),!0}catch{return!1}}var xj=()=>globalThis.fetch,pt=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:s,abortSignal:i,fetch:l})=>wj({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:s,abortSignal:i,fetch:l}),wj=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:s,abortSignal:i,fetch:l=xj()})=>{try{const u=await l(e,{method:"POST",headers:zb(t),body:n.content,signal:i}),d=xs(u);if(!u.ok){let f;try{f=await s({response:u,url:e,requestBodyValues:n.values})}catch(h){throw os(h)||Bt.isInstance(h)?h:new Bt({message:"Failed to process error response",cause:h,statusCode:u.status,url:e,responseHeaders:d,requestBodyValues:n.values})}throw f.value}try{return await r({response:u,url:e,requestBodyValues:n.values})}catch(f){throw f instanceof Error&&(os(f)||Bt.isInstance(f))?f:new Bt({message:"Failed to process successful response",cause:f,statusCode:u.status,url:e,responseHeaders:d,requestBodyValues:n.values})}}catch(u){if(os(u))throw u;if(u instanceof TypeError&&u.message==="fetch failed"){const d=u.cause;if(d!=null)throw new Bt({message:`Cannot connect to API: ${d.message}`,cause:d,url:e,requestBodyValues:n.values,isRetryable:!0})}throw u}};async function Do(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var Er=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:s,requestBodyValues:i})=>{const l=await r.text(),u=xs(r);if(l.trim()==="")return{responseHeaders:u,value:new Bt({message:r.statusText,url:s,requestBodyValues:i,statusCode:r.status,responseHeaders:u,responseBody:l,isRetryable:n==null?void 0:n(r)})};try{const d=vj({text:l,schema:e});return{responseHeaders:u,value:new Bt({message:t(d),url:s,requestBodyValues:i,statusCode:r.status,responseHeaders:u,responseBody:l,data:d,isRetryable:n==null?void 0:n(r,d)})}}catch{return{responseHeaders:u,value:new Bt({message:r.statusText,url:s,requestBodyValues:i,statusCode:r.status,responseHeaders:u,responseBody:l,isRetryable:n==null?void 0:n(r)})}}},Da=e=>async({response:t})=>{const n=xs(t);if(t.body==null)throw new db({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new ij).pipeThrough(new TransformStream({transform({data:r},s){r!=="[DONE]"&&s.enqueue(ps({text:r,schema:e}))}}))}},Gt=e=>async({response:t,url:n,requestBodyValues:r})=>{const s=await t.text(),i=ps({text:s,schema:e}),l=xs(t);if(!i.success)throw new Bt({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:l,responseBody:s,url:n,requestBodyValues:r});return{responseHeaders:l,value:i.value,rawValue:i.rawValue}},bj=()=>async({response:e,url:t,requestBodyValues:n})=>{const r=xs(e);if(!e.body)throw new Bt({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{const s=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(s)}}catch(s){throw new Bt({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:s})}},{btoa:Sj,atob:kj}=globalThis;function _j(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=kj(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function Vr(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return Sj(t)}function Gr(e){return e==null?void 0:e.replace(/\/$/,"")}const Cj=Symbol("Let zodToJsonSchema decide on which parser to use"),q0={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},Tj=e=>typeof e=="string"?{...q0,name:e}:{...q0,...e},Ej=e=>{const t=Tj(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function $b(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function nt(e,t,n,r,s){e[t]=n,$b(e,t,r,s)}var Ge;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const l of s)i[l]=l;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of i)l[u]=s[u];return e.objectValues(l)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&i.push(l);return i},e.find=(s,i)=>{for(const l of s)if(i(l))return l},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ge||(Ge={}));var lh;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(lh||(lh={}));const he=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$r=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},se=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ij=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class _n extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(l))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return s(this),r}static assert(t){if(!(t instanceof _n))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_n.create=e=>new _n(e);const fi=(e,t)=>{let n;switch(e.code){case se.invalid_type:e.received===he.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case se.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ge.jsonStringifyReplacer)}`;break;case se.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ge.joinValues(e.keys,", ")}`;break;case se.invalid_union:n="Invalid input";break;case se.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ge.joinValues(e.options)}`;break;case se.invalid_enum_value:n=`Invalid enum value. Expected ${Ge.joinValues(e.options)}, received '${e.received}'`;break;case se.invalid_arguments:n="Invalid function arguments";break;case se.invalid_return_type:n="Invalid function return type";break;case se.invalid_date:n="Invalid date";break;case se.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ge.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case se.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case se.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case se.custom:n="Invalid input";break;case se.invalid_intersection_types:n="Intersection results could not be merged";break;case se.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case se.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ge.assertNever(e)}return{message:n}};let Ub=fi;function Nj(e){Ub=e}function hc(){return Ub}const mc=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],l={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let u="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)u=f(l,{data:t,defaultError:u}).message;return{...s,path:i,message:u}},Oj=[];function fe(e,t){const n=hc(),r=mc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===fi?void 0:fi].filter(s=>!!s)});e.common.issues.push(r)}class Jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Oe;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,l=await s.value;r.push({key:i,value:l})}return Jt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:l}=s;if(i.status==="aborted"||l.status==="aborted")return Oe;i.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[i.value]=l.value)}return{status:t.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),ni=e=>({status:"dirty",value:e}),rn=e=>({status:"valid",value:e}),uh=e=>e.status==="aborted",ch=e=>e.status==="dirty",hs=e=>e.status==="valid",Mo=e=>typeof Promise<"u"&&e instanceof Promise;function gc(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Bb(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var ke;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ke||(ke={}));var wo,bo;class br{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const V0=(e,t)=>{if(hs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _n(e.common.issues);return this._error=n,this._error}}};function $e(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(l,u)=>{var d,f;const{message:h}=e;return l.code==="invalid_enum_value"?{message:h??u.defaultError}:typeof u.data>"u"?{message:(d=h??r)!==null&&d!==void 0?d:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(f=h??n)!==null&&f!==void 0?f:u.defaultError}},description:s}}class Ue{get description(){return this._def.description}_getType(t){return $r(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:$r(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Jt,ctx:{common:t.parent.common,data:t.data,parsedType:$r(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Mo(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$r(t)},i=this._parseSync({data:t,path:s.path,parent:s});return V0(s,i)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$r(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return hs(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>hs(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$r(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Mo(s)?s:Promise.resolve(s));return V0(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const l=t(s),u=()=>i.addIssue({code:se.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new sr({schema:this,typeName:le.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return rr.create(this,this._def)}nullable(){return Pa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nr.create(this)}promise(){return hi.create(this,this._def)}or(t){return $o.create([this,t],this._def)}and(t){return Uo.create(this,t,this._def)}transform(t){return new sr({...$e(this._def),schema:this,typeName:le.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Wo({...$e(this._def),innerType:this,defaultValue:n,typeName:le.ZodDefault})}brand(){return new gm({typeName:le.ZodBranded,type:this,...$e(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Zo({...$e(this._def),innerType:this,catchValue:n,typeName:le.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return El.create(this,t)}readonly(){return Jo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jj=/^c[^\s-]{8,}$/i,Rj=/^[0-9a-z]+$/,Pj=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Aj=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dj=/^[a-z0-9_-]{21}$/i,Mj=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lj=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Fj=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,zj="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let op;const $j=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Uj=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Bj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Hj=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,qj=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wj=new RegExp(`^${Hb}$`);function qb(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Zj(e){return new RegExp(`^${qb(e)}$`)}function Vb(e){let t=`${Hb}T${qb(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Jj(e,t){return!!((t==="v4"||!t)&&$j.test(e)||(t==="v6"||!t)&&Bj.test(e))}function Gj(e,t){if(!Mj.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function Yj(e,t){return!!((t==="v4"||!t)&&Uj.test(e)||(t==="v6"||!t)&&Hj.test(e))}class tr extends Ue{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==he.string){const i=this._getOrReturnCtx(t);return fe(i,{code:se.invalid_type,expected:he.string,received:i.parsedType}),Oe}const r=new Jt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,u=t.data.length<i.value;(l||u)&&(s=this._getOrReturnCtx(t,s),l?fe(s,{code:se.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&fe(s,{code:se.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")Fj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"email",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")op||(op=new RegExp(zj,"u")),op.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"emoji",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")Aj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"uuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")Dj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"nanoid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")jj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")Rj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid2",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")Pj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ulid",code:se.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),fe(s,{validation:"url",code:se.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"regex",code:se.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Vb(i).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?Wj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?Zj(i).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:se.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?Lj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"duration",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?Jj(t.data,i.version)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ip",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?Gj(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"jwt",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?Yj(t.data,i.version)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cidr",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?qj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"base64",code:se.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?Vj.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"base64url",code:se.invalid_string,message:i.message}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:se.invalid_string,...ke.errToObj(r)})}_addCheck(t){return new tr({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ke.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ke.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ke.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ke.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ke.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ke.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ke.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ke.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ke.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ke.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ke.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ke.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ke.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...ke.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ke.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ke.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ke.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ke.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ke.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ke.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ke.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ke.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ke.errToObj(n)})}nonempty(t){return this.min(1,ke.errToObj(t))}trim(){return new tr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}tr.create=e=>{var t;return new tr({checks:[],typeName:le.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$e(e)})};function Kj(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),l=parseInt(t.toFixed(s).replace(".",""));return i%l/Math.pow(10,s)}class Oa extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==he.number){const i=this._getOrReturnCtx(t);return fe(i,{code:se.invalid_type,expected:he.number,received:i.parsedType}),Oe}let r;const s=new Jt;for(const i of this._def.checks)i.kind==="int"?Ge.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),fe(r,{code:se.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:se.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:se.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Kj(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),fe(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),fe(r,{code:se.not_finite,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ke.toString(n))}setLimit(t,n,r,s){return new Oa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ke.toString(s)}]})}_addCheck(t){return new Oa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ke.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ke.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ke.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ke.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ge.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Oa.create=e=>new Oa({checks:[],typeName:le.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class ja extends Ue{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==he.bigint)return this._getInvalidInput(t);let r;const s=new Jt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:se.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:se.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:se.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.bigint,received:n.parsedType}),Oe}gte(t,n){return this.setLimit("min",t,!0,ke.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ke.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ke.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ke.toString(n))}setLimit(t,n,r,s){return new ja({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ke.toString(s)}]})}_addCheck(t){return new ja({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ke.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ke.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ke.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ja.create=e=>{var t;return new ja({checks:[],typeName:le.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...$e(e)})};class Lo extends Ue{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==he.boolean){const r=this._getOrReturnCtx(t);return fe(r,{code:se.invalid_type,expected:he.boolean,received:r.parsedType}),Oe}return rn(t.data)}}Lo.create=e=>new Lo({typeName:le.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class ms extends Ue{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==he.date){const i=this._getOrReturnCtx(t);return fe(i,{code:se.invalid_type,expected:he.date,received:i.parsedType}),Oe}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return fe(i,{code:se.invalid_date}),Oe}const r=new Jt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:se.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ms({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ke.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ke.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ms.create=e=>new ms({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:le.ZodDate,...$e(e)});class yc extends Ue{_parse(t){if(this._getType(t)!==he.symbol){const r=this._getOrReturnCtx(t);return fe(r,{code:se.invalid_type,expected:he.symbol,received:r.parsedType}),Oe}return rn(t.data)}}yc.create=e=>new yc({typeName:le.ZodSymbol,...$e(e)});class Fo extends Ue{_parse(t){if(this._getType(t)!==he.undefined){const r=this._getOrReturnCtx(t);return fe(r,{code:se.invalid_type,expected:he.undefined,received:r.parsedType}),Oe}return rn(t.data)}}Fo.create=e=>new Fo({typeName:le.ZodUndefined,...$e(e)});class zo extends Ue{_parse(t){if(this._getType(t)!==he.null){const r=this._getOrReturnCtx(t);return fe(r,{code:se.invalid_type,expected:he.null,received:r.parsedType}),Oe}return rn(t.data)}}zo.create=e=>new zo({typeName:le.ZodNull,...$e(e)});class pi extends Ue{constructor(){super(...arguments),this._any=!0}_parse(t){return rn(t.data)}}pi.create=e=>new pi({typeName:le.ZodAny,...$e(e)});class ls extends Ue{constructor(){super(...arguments),this._unknown=!0}_parse(t){return rn(t.data)}}ls.create=e=>new ls({typeName:le.ZodUnknown,...$e(e)});class Wr extends Ue{_parse(t){const n=this._getOrReturnCtx(t);return fe(n,{code:se.invalid_type,expected:he.never,received:n.parsedType}),Oe}}Wr.create=e=>new Wr({typeName:le.ZodNever,...$e(e)});class vc extends Ue{_parse(t){if(this._getType(t)!==he.undefined){const r=this._getOrReturnCtx(t);return fe(r,{code:se.invalid_type,expected:he.void,received:r.parsedType}),Oe}return rn(t.data)}}vc.create=e=>new vc({typeName:le.ZodVoid,...$e(e)});class nr extends Ue{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==he.array)return fe(n,{code:se.invalid_type,expected:he.array,received:n.parsedType}),Oe;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(l||u)&&(fe(n,{code:l?se.too_big:se.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(fe(n,{code:se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(fe(n,{code:se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>s.type._parseAsync(new br(n,l,n.path,u)))).then(l=>Jt.mergeArray(r,l));const i=[...n.data].map((l,u)=>s.type._parseSync(new br(n,l,n.path,u)));return Jt.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new nr({...this._def,minLength:{value:t,message:ke.toString(n)}})}max(t,n){return new nr({...this._def,maxLength:{value:t,message:ke.toString(n)}})}length(t,n){return new nr({...this._def,exactLength:{value:t,message:ke.toString(n)}})}nonempty(t){return this.min(1,t)}}nr.create=(e,t)=>new nr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:le.ZodArray,...$e(t)});function Xs(e){if(e instanceof xt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=rr.create(Xs(r))}return new xt({...e._def,shape:()=>t})}else return e instanceof nr?new nr({...e._def,type:Xs(e.element)}):e instanceof rr?rr.create(Xs(e.unwrap())):e instanceof Pa?Pa.create(Xs(e.unwrap())):e instanceof Sr?Sr.create(e.items.map(t=>Xs(t))):e}class xt extends Ue{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ge.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==he.object){const f=this._getOrReturnCtx(t);return fe(f,{code:se.invalid_type,expected:he.object,received:f.parsedType}),Oe}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Wr&&this._def.unknownKeys==="strip"))for(const f in s.data)l.includes(f)||u.push(f);const d=[];for(const f of l){const h=i[f],g=s.data[f];d.push({key:{status:"valid",value:f},value:h._parse(new br(s,g,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof Wr){const f=this._def.unknownKeys;if(f==="passthrough")for(const h of u)d.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(f==="strict")u.length>0&&(fe(s,{code:se.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const h of u){const g=s.data[h];d.push({key:{status:"valid",value:h},value:f._parse(new br(s,g,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const f=[];for(const h of d){const g=await h.key,v=await h.value;f.push({key:g,value:v,alwaysSet:h.alwaysSet})}return f}).then(f=>Jt.mergeObjectSync(r,f)):Jt.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(t){return ke.errToObj,new xt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,l,u;const d=(l=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=ke.errToObj(t).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new xt({...this._def,unknownKeys:"strip"})}passthrough(){return new xt({...this._def,unknownKeys:"passthrough"})}extend(t){return new xt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new xt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:le.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new xt({...this._def,catchall:t})}pick(t){const n={};return Ge.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new xt({...this._def,shape:()=>n})}omit(t){const n={};return Ge.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new xt({...this._def,shape:()=>n})}deepPartial(){return Xs(this)}partial(t){const n={};return Ge.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new xt({...this._def,shape:()=>n})}required(t){const n={};return Ge.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof rr;)i=i._def.innerType;n[r]=i}}),new xt({...this._def,shape:()=>n})}keyof(){return Wb(Ge.objectKeys(this.shape))}}xt.create=(e,t)=>new xt({shape:()=>e,unknownKeys:"strip",catchall:Wr.create(),typeName:le.ZodObject,...$e(t)});xt.strictCreate=(e,t)=>new xt({shape:()=>e,unknownKeys:"strict",catchall:Wr.create(),typeName:le.ZodObject,...$e(t)});xt.lazycreate=(e,t)=>new xt({shape:e,unknownKeys:"strip",catchall:Wr.create(),typeName:le.ZodObject,...$e(t)});class $o extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=i.map(u=>new _n(u.ctx.common.issues));return fe(n,{code:se.invalid_union,unionErrors:l}),Oe}if(n.common.async)return Promise.all(r.map(async i=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let i;const l=[];for(const d of r){const f={...n,common:{...n.common,issues:[]},parent:null},h=d._parseSync({data:n.data,path:n.path,parent:f});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=l.map(d=>new _n(d));return fe(n,{code:se.invalid_union,unionErrors:u}),Oe}}get options(){return this._def.options}}$o.create=(e,t)=>new $o({options:e,typeName:le.ZodUnion,...$e(t)});const zr=e=>e instanceof Ho?zr(e.schema):e instanceof sr?zr(e.innerType()):e instanceof qo?[e.value]:e instanceof Ra?e.options:e instanceof Vo?Ge.objectValues(e.enum):e instanceof Wo?zr(e._def.innerType):e instanceof Fo?[void 0]:e instanceof zo?[null]:e instanceof rr?[void 0,...zr(e.unwrap())]:e instanceof Pa?[null,...zr(e.unwrap())]:e instanceof gm||e instanceof Jo?zr(e.unwrap()):e instanceof Zo?zr(e._def.innerType):[];class Zc extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==he.object)return fe(n,{code:se.invalid_type,expected:he.object,received:n.parsedType}),Oe;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(fe(n,{code:se.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const l=zr(i.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of l){if(s.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);s.set(u,i)}}return new Zc({typeName:le.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...$e(r)})}}function dh(e,t){const n=$r(e),r=$r(t);if(e===t)return{valid:!0,data:e};if(n===he.object&&r===he.object){const s=Ge.objectKeys(t),i=Ge.objectKeys(e).filter(u=>s.indexOf(u)!==-1),l={...e,...t};for(const u of i){const d=dh(e[u],t[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(n===he.array&&r===he.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const l=e[i],u=t[i],d=dh(l,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return n===he.date&&r===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Uo extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,l)=>{if(uh(i)||uh(l))return Oe;const u=dh(i.value,l.value);return u.valid?((ch(i)||ch(l))&&n.dirty(),{status:n.value,value:u.data}):(fe(r,{code:se.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,l])=>s(i,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Uo.create=(e,t,n)=>new Uo({left:e,right:t,typeName:le.ZodIntersection,...$e(n)});class Sr extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.array)return fe(r,{code:se.invalid_type,expected:he.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return fe(r,{code:se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new br(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(i).then(l=>Jt.mergeArray(n,l)):Jt.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Sr({...this._def,rest:t})}}Sr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Sr({items:e,typeName:le.ZodTuple,rest:null,...$e(t)})};class Bo extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.object)return fe(r,{code:se.invalid_type,expected:he.object,received:r.parsedType}),Oe;const s=[],i=this._def.keyType,l=this._def.valueType;for(const u in r.data)s.push({key:i._parse(new br(r,u,r.path,u)),value:l._parse(new br(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Jt.mergeObjectAsync(n,s):Jt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Ue?new Bo({keyType:t,valueType:n,typeName:le.ZodRecord,...$e(r)}):new Bo({keyType:tr.create(),valueType:t,typeName:le.ZodRecord,...$e(n)})}}class xc extends Ue{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.map)return fe(r,{code:se.invalid_type,expected:he.map,received:r.parsedType}),Oe;const s=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([u,d],f)=>({key:s._parse(new br(r,u,r.path,[f,"key"])),value:i._parse(new br(r,d,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const f=await d.key,h=await d.value;if(f.status==="aborted"||h.status==="aborted")return Oe;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const d of l){const f=d.key,h=d.value;if(f.status==="aborted"||h.status==="aborted")return Oe;(f.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(f.value,h.value)}return{status:n.value,value:u}}}}xc.create=(e,t,n)=>new xc({valueType:t,keyType:e,typeName:le.ZodMap,...$e(n)});class gs extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.set)return fe(r,{code:se.invalid_type,expected:he.set,received:r.parsedType}),Oe;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(fe(r,{code:se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(fe(r,{code:se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function l(d){const f=new Set;for(const h of d){if(h.status==="aborted")return Oe;h.status==="dirty"&&n.dirty(),f.add(h.value)}return{status:n.value,value:f}}const u=[...r.data.values()].map((d,f)=>i._parse(new br(r,d,r.path,f)));return r.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(t,n){return new gs({...this._def,minSize:{value:t,message:ke.toString(n)}})}max(t,n){return new gs({...this._def,maxSize:{value:t,message:ke.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gs.create=(e,t)=>new gs({valueType:e,minSize:null,maxSize:null,typeName:le.ZodSet,...$e(t)});class si extends Ue{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==he.function)return fe(n,{code:se.invalid_type,expected:he.function,received:n.parsedType}),Oe;function r(u,d){return mc({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hc(),fi].filter(f=>!!f),issueData:{code:se.invalid_arguments,argumentsError:d}})}function s(u,d){return mc({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,hc(),fi].filter(f=>!!f),issueData:{code:se.invalid_return_type,returnTypeError:d}})}const i={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof hi){const u=this;return rn(async function(...d){const f=new _n([]),h=await u._def.args.parseAsync(d,i).catch(x=>{throw f.addIssue(r(d,x)),f}),g=await Reflect.apply(l,this,h);return await u._def.returns._def.type.parseAsync(g,i).catch(x=>{throw f.addIssue(s(g,x)),f})})}else{const u=this;return rn(function(...d){const f=u._def.args.safeParse(d,i);if(!f.success)throw new _n([r(d,f.error)]);const h=Reflect.apply(l,this,f.data),g=u._def.returns.safeParse(h,i);if(!g.success)throw new _n([s(h,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new si({...this._def,args:Sr.create(t).rest(ls.create())})}returns(t){return new si({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new si({args:t||Sr.create([]).rest(ls.create()),returns:n||ls.create(),typeName:le.ZodFunction,...$e(r)})}}class Ho extends Ue{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ho.create=(e,t)=>new Ho({getter:e,typeName:le.ZodLazy,...$e(t)});class qo extends Ue{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return fe(n,{received:n.data,code:se.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:t.data}}get value(){return this._def.value}}qo.create=(e,t)=>new qo({value:e,typeName:le.ZodLiteral,...$e(t)});function Wb(e,t){return new Ra({values:e,typeName:le.ZodEnum,...$e(t)})}class Ra extends Ue{constructor(){super(...arguments),wo.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return fe(n,{expected:Ge.joinValues(r),received:n.parsedType,code:se.invalid_type}),Oe}if(gc(this,wo)||Bb(this,wo,new Set(this._def.values)),!gc(this,wo).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return fe(n,{received:n.data,code:se.invalid_enum_value,options:r}),Oe}return rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ra.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ra.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}wo=new WeakMap;Ra.create=Wb;class Vo extends Ue{constructor(){super(...arguments),bo.set(this,void 0)}_parse(t){const n=Ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==he.string&&r.parsedType!==he.number){const s=Ge.objectValues(n);return fe(r,{expected:Ge.joinValues(s),received:r.parsedType,code:se.invalid_type}),Oe}if(gc(this,bo)||Bb(this,bo,new Set(Ge.getValidEnumValues(this._def.values))),!gc(this,bo).has(t.data)){const s=Ge.objectValues(n);return fe(r,{received:r.data,code:se.invalid_enum_value,options:s}),Oe}return rn(t.data)}get enum(){return this._def.values}}bo=new WeakMap;Vo.create=(e,t)=>new Vo({values:e,typeName:le.ZodNativeEnum,...$e(t)});class hi extends Ue{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==he.promise&&n.common.async===!1)return fe(n,{code:se.invalid_type,expected:he.promise,received:n.parsedType}),Oe;const r=n.parsedType===he.promise?n.data:Promise.resolve(n.data);return rn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}hi.create=(e,t)=>new hi({type:e,typeName:le.ZodPromise,...$e(t)});class sr extends Ue{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:l=>{fe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const l=s.transform(r.data,i);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return Oe;const d=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?Oe:d.status==="dirty"||n.value==="dirty"?ni(d.value):d});{if(n.value==="aborted")return Oe;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?Oe:u.status==="dirty"||n.value==="dirty"?ni(u.value):u}}if(s.type==="refinement"){const l=u=>{const d=s.refinement(u,i);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Oe:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Oe:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hs(l))return l;const u=s.transform(l.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>hs(l)?Promise.resolve(s.transform(l.value,i)).then(u=>({status:n.value,value:u})):l);Ge.assertNever(s)}}sr.create=(e,t,n)=>new sr({schema:e,typeName:le.ZodEffects,effect:t,...$e(n)});sr.createWithPreprocess=(e,t,n)=>new sr({schema:t,effect:{type:"preprocess",transform:e},typeName:le.ZodEffects,...$e(n)});class rr extends Ue{_parse(t){return this._getType(t)===he.undefined?rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rr.create=(e,t)=>new rr({innerType:e,typeName:le.ZodOptional,...$e(t)});class Pa extends Ue{_parse(t){return this._getType(t)===he.null?rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pa.create=(e,t)=>new Pa({innerType:e,typeName:le.ZodNullable,...$e(t)});class Wo extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===he.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Wo.create=(e,t)=>new Wo({innerType:e,typeName:le.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$e(t)});class Zo extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Mo(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _n(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _n(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Zo.create=(e,t)=>new Zo({innerType:e,typeName:le.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$e(t)});class wc extends Ue{_parse(t){if(this._getType(t)!==he.nan){const r=this._getOrReturnCtx(t);return fe(r,{code:se.invalid_type,expected:he.nan,received:r.parsedType}),Oe}return{status:"valid",value:t.data}}}wc.create=e=>new wc({typeName:le.ZodNaN,...$e(e)});const Xj=Symbol("zod_brand");class gm extends Ue{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class El extends Ue{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Oe:i.status==="dirty"?(n.dirty(),ni(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Oe:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new El({in:t,out:n,typeName:le.ZodPipeline})}}class Jo extends Ue{_parse(t){const n=this._def.innerType._parse(t),r=s=>(hs(s)&&(s.value=Object.freeze(s.value)),s);return Mo(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Jo.create=(e,t)=>new Jo({innerType:e,typeName:le.ZodReadonly,...$e(t)});function Zb(e,t={},n){return e?pi.create().superRefine((r,s)=>{var i,l;if(!e(r)){const u=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,d=(l=(i=u.fatal)!==null&&i!==void 0?i:n)!==null&&l!==void 0?l:!0,f=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...f,fatal:d})}}):pi.create()}const Qj={object:xt.lazycreate};var le;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(le||(le={}));const eR=(e,t={message:`Input not instance of ${e.name}`})=>Zb(n=>n instanceof e,t),Jb=tr.create,Gb=Oa.create,tR=wc.create,nR=ja.create,Yb=Lo.create,rR=ms.create,aR=yc.create,sR=Fo.create,iR=zo.create,oR=pi.create,lR=ls.create,uR=Wr.create,cR=vc.create,dR=nr.create,fR=xt.create,pR=xt.strictCreate,hR=$o.create,mR=Zc.create,gR=Uo.create,yR=Sr.create,vR=Bo.create,xR=xc.create,wR=gs.create,bR=si.create,SR=Ho.create,kR=qo.create,_R=Ra.create,CR=Vo.create,TR=hi.create,W0=sr.create,ER=rr.create,IR=Pa.create,NR=sr.createWithPreprocess,OR=El.create,jR=()=>Jb().optional(),RR=()=>Gb().optional(),PR=()=>Yb().optional(),AR={string:e=>tr.create({...e,coerce:!0}),number:e=>Oa.create({...e,coerce:!0}),boolean:e=>Lo.create({...e,coerce:!0}),bigint:e=>ja.create({...e,coerce:!0}),date:e=>ms.create({...e,coerce:!0})},DR=Oe;var w=Object.freeze({__proto__:null,defaultErrorMap:fi,setErrorMap:Nj,getErrorMap:hc,makeIssue:mc,EMPTY_PATH:Oj,addIssueToContext:fe,ParseStatus:Jt,INVALID:Oe,DIRTY:ni,OK:rn,isAborted:uh,isDirty:ch,isValid:hs,isAsync:Mo,get util(){return Ge},get objectUtil(){return lh},ZodParsedType:he,getParsedType:$r,ZodType:Ue,datetimeRegex:Vb,ZodString:tr,ZodNumber:Oa,ZodBigInt:ja,ZodBoolean:Lo,ZodDate:ms,ZodSymbol:yc,ZodUndefined:Fo,ZodNull:zo,ZodAny:pi,ZodUnknown:ls,ZodNever:Wr,ZodVoid:vc,ZodArray:nr,ZodObject:xt,ZodUnion:$o,ZodDiscriminatedUnion:Zc,ZodIntersection:Uo,ZodTuple:Sr,ZodRecord:Bo,ZodMap:xc,ZodSet:gs,ZodFunction:si,ZodLazy:Ho,ZodLiteral:qo,ZodEnum:Ra,ZodNativeEnum:Vo,ZodPromise:hi,ZodEffects:sr,ZodTransformer:sr,ZodOptional:rr,ZodNullable:Pa,ZodDefault:Wo,ZodCatch:Zo,ZodNaN:wc,BRAND:Xj,ZodBranded:gm,ZodPipeline:El,ZodReadonly:Jo,custom:Zb,Schema:Ue,ZodSchema:Ue,late:Qj,get ZodFirstPartyTypeKind(){return le},coerce:AR,any:oR,array:dR,bigint:nR,boolean:Yb,date:rR,discriminatedUnion:mR,effect:W0,enum:_R,function:bR,instanceof:eR,intersection:gR,lazy:SR,literal:kR,map:xR,nan:tR,nativeEnum:CR,never:uR,null:iR,nullable:IR,number:Gb,object:fR,oboolean:PR,onumber:RR,optional:ER,ostring:jR,pipeline:OR,preprocess:NR,promise:TR,record:vR,set:wR,strictObject:pR,string:Jb,symbol:aR,transformer:W0,tuple:yR,undefined:sR,union:hR,unknown:lR,void:cR,NEVER:DR,ZodIssueCode:se,quotelessJson:Ij,ZodError:_n});function MR(){return{}}function LR(e,t){var r,s,i;const n={type:"array"};return(r=e.type)!=null&&r._def&&((i=(s=e.type)==null?void 0:s._def)==null?void 0:i.typeName)!==le.ZodAny&&(n.items=Xe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&nt(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&nt(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(nt(n,"minItems",e.exactLength.value,e.exactLength.message,t),nt(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function FR(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?nt(n,"minimum",r.value,r.message,t):nt(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),nt(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?nt(n,"maximum",r.value,r.message,t):nt(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),nt(n,"maximum",r.value,r.message,t));break;case"multipleOf":nt(n,"multipleOf",r.value,r.message,t);break}return n}function zR(){return{type:"boolean"}}function Kb(e,t){return Xe(e.type._def,t)}const $R=(e,t)=>Xe(e.innerType._def,t);function Xb(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,i)=>Xb(e,t,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return UR(e,t)}}const UR=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":nt(n,"minimum",r.value,r.message,t);break;case"max":nt(n,"maximum",r.value,r.message,t);break}return n};function BR(e,t){return{...Xe(e.innerType._def,t),default:e.defaultValue()}}function HR(e,t){return t.effectStrategy==="input"?Xe(e.schema._def,t):{}}function qR(e){return{type:"string",enum:Array.from(e.values)}}const VR=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function WR(e,t){const n=[Xe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Xe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(i=>{if(VR(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(r=void 0);else{let l=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:u,...d}=i;l=d}else r=void 0;s.push(l)}}),s.length?{allOf:s,...r}:void 0}function ZR(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let lp;const Xn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(lp===void 0&&(lp=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),lp),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Qb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":nt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":nt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Qn(n,"email",r.message,t);break;case"format:idn-email":Qn(n,"idn-email",r.message,t);break;case"pattern:zod":en(n,Xn.email,r.message,t);break}break;case"url":Qn(n,"uri",r.message,t);break;case"uuid":Qn(n,"uuid",r.message,t);break;case"regex":en(n,r.regex,r.message,t);break;case"cuid":en(n,Xn.cuid,r.message,t);break;case"cuid2":en(n,Xn.cuid2,r.message,t);break;case"startsWith":en(n,RegExp(`^${up(r.value,t)}`),r.message,t);break;case"endsWith":en(n,RegExp(`${up(r.value,t)}$`),r.message,t);break;case"datetime":Qn(n,"date-time",r.message,t);break;case"date":Qn(n,"date",r.message,t);break;case"time":Qn(n,"time",r.message,t);break;case"duration":Qn(n,"duration",r.message,t);break;case"length":nt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),nt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{en(n,RegExp(up(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Qn(n,"ipv4",r.message,t),r.version!=="v4"&&Qn(n,"ipv6",r.message,t);break}case"base64url":en(n,Xn.base64url,r.message,t);break;case"jwt":en(n,Xn.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&en(n,Xn.ipv4Cidr,r.message,t),r.version!=="v4"&&en(n,Xn.ipv6Cidr,r.message,t);break}case"emoji":en(n,Xn.emoji(),r.message,t);break;case"ulid":{en(n,Xn.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Qn(n,"binary",r.message,t);break}case"contentEncoding:base64":{nt(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{en(n,Xn.base64,r.message,t);break}}break}case"nanoid":en(n,Xn.nanoid,r.message,t)}return n}function up(e,t){return t.patternStrategy==="escape"?GR(e):e}const JR=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function GR(e){let t="";for(let n=0;n<e.length;n++)JR.has(e[n])||(t+="\\"),t+=e[n];return t}function Qn(e,t,n,r){var s;e.format||(s=e.anyOf)!=null&&s.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):nt(e,"format",t,n,r)}function en(e,t,n,r){var s;e.pattern||(s=e.allOf)!=null&&s.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:Z0(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):nt(e,"pattern",Z0(t,r),n,r)}function Z0(e,t){var d;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let s="",i=!1,l=!1,u=!1;for(let f=0;f<r.length;f++){if(i){s+=r[f],i=!1;continue}if(n.i){if(l){if(r[f].match(/[a-z]/)){u?(s+=r[f],s+=`${r[f-2]}-${r[f]}`.toUpperCase(),u=!1):r[f+1]==="-"&&((d=r[f+2])!=null&&d.match(/[a-z]/))?(s+=r[f],u=!0):s+=`${r[f]}${r[f].toUpperCase()}`;continue}}else if(r[f].match(/[a-z]/)){s+=`[${r[f]}${r[f].toUpperCase()}]`;continue}}if(n.m){if(r[f]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[f]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[f]==="."){s+=l?`${r[f]}\r
`:`[${r[f]}\r
]`;continue}s+=r[f],r[f]==="\\"?i=!0:l&&r[f]==="]"?l=!1:!l&&r[f]==="["&&(l=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function eS(e,t){var r,s,i,l,u,d;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===le.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((f,h)=>({...f,[h]:Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",h]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return n;if(((s=e.keyType)==null?void 0:s._def.typeName)===le.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:f,...h}=Qb(e.keyType._def,t);return{...n,propertyNames:h}}else{if(((l=e.keyType)==null?void 0:l._def.typeName)===le.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((u=e.keyType)==null?void 0:u._def.typeName)===le.ZodBranded&&e.keyType._def.type._def.typeName===le.ZodString&&((d=e.keyType._def.type._def.checks)!=null&&d.length)){const{type:f,...h}=Kb(e.keyType._def,t);return{...n,propertyNames:h}}}return n}function YR(e,t){if(t.mapStrategy==="record")return eS(e,t);const n=Xe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},r=Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function KR(e){const t=e.values,r=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),s=Array.from(new Set(r.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function XR(){return{not:{}}}function QR(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const bc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function eP(e,t){if(t.target==="openApi3")return J0(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in bc&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,i)=>{const l=bc[i._def.typeName];return l&&!s.includes(l)?[...s,l]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,i)=>{const l=typeof i._def.value;switch(l){case"string":case"number":case"boolean":return[...s,l];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((i,l,u)=>u.indexOf(i)===l);return{type:s.length>1?s:s[0],enum:n.reduce((i,l)=>i.includes(l._def.value)?i:[...i,l._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(i=>!r.includes(i))],[])};return J0(e,t)}const J0=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>Xe(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function tP(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:bc[e.innerType._def.typeName],nullable:!0}:{type:[bc[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=Xe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Xe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function nP(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",$b(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?nt(n,"minimum",r.value,r.message,t):nt(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),nt(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?nt(n,"maximum",r.value,r.message,t):nt(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),nt(n,"maximum",r.value,r.message,t));break;case"multipleOf":nt(n,"multipleOf",r.value,r.message,t);break}return n}function rP(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":Xe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":Xe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function aP(e,t){const n=t.target==="openAi",r={type:"object",...Object.entries(e.shape()).reduce((s,[i,l])=>{if(l===void 0||l._def===void 0)return s;let u=l.isOptional();u&&n&&(l instanceof rr&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),u=!1);const d=Xe(l._def,{...t,currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]});return d===void 0?s:{properties:{...s.properties,[i]:d},required:u?s.required:[...s.required,i]}},{properties:{},required:[]}),additionalProperties:rP(e,t)};return r.required.length||delete r.required,r}const sP=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Xe(e.innerType._def,t);const n=Xe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},iP=(e,t)=>{if(t.pipeStrategy==="input")return Xe(e.in._def,t);if(t.pipeStrategy==="output")return Xe(e.out._def,t);const n=Xe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Xe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function oP(e,t){return Xe(e.type._def,t)}function lP(e,t){const r={type:"array",uniqueItems:!0,items:Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&nt(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&nt(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function uP(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Xe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Xe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Xe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function cP(){return{not:{}}}function dP(){return{}}const fP=(e,t)=>Xe(e.innerType._def,t);function Xe(e,t,n=!1){var l;const r=t.seen.get(e);if(t.override){const u=(l=t.override)==null?void 0:l.call(t,e,t,r,n);if(u!==Cj)return u}if(r&&!n){const u=pP(r,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const i=mP(e,e.typeName,t);return i&&gP(e,t,i),s.jsonSchema=i,i}const pP=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:hP(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},hP=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},mP=(e,t,n)=>{switch(t){case le.ZodString:return Qb(e,n);case le.ZodNumber:return nP(e,n);case le.ZodObject:return aP(e,n);case le.ZodBigInt:return FR(e,n);case le.ZodBoolean:return zR();case le.ZodDate:return Xb(e,n);case le.ZodUndefined:return cP();case le.ZodNull:return QR(n);case le.ZodArray:return LR(e,n);case le.ZodUnion:case le.ZodDiscriminatedUnion:return eP(e,n);case le.ZodIntersection:return WR(e,n);case le.ZodTuple:return uP(e,n);case le.ZodRecord:return eS(e,n);case le.ZodLiteral:return ZR(e,n);case le.ZodEnum:return qR(e);case le.ZodNativeEnum:return KR(e);case le.ZodNullable:return tP(e,n);case le.ZodOptional:return sP(e,n);case le.ZodMap:return YR(e,n);case le.ZodSet:return lP(e,n);case le.ZodLazy:return Xe(e.getter()._def,n);case le.ZodPromise:return oP(e,n);case le.ZodNaN:case le.ZodNever:return XR();case le.ZodEffects:return HR(e,n);case le.ZodAny:return MR();case le.ZodUnknown:return dP();case le.ZodDefault:return BR(e,n);case le.ZodBranded:return Kb(e,n);case le.ZodReadonly:return fP(e,n);case le.ZodCatch:return $R(e,n);case le.ZodPipeline:return iP(e,n);case le.ZodFunction:case le.ZodVoid:case le.ZodSymbol:return;default:return(r=>{})()}},gP=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),yP=(e,t)=>{const n=Ej(t),r=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((d,[f,h])=>({...d,[f]:Xe(h._def,{...n,currentPath:[...n.basePath,n.definitionPath,f]},!0)??{}}),{}):void 0,s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,i=Xe(e._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1)??{},l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(i.title=l);const u=s===void 0?r?{...i,[n.definitionPath]:r}:i:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...r,[s]:i}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u};var Go={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Yo={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Ko={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Xo={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Qo={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},vP=[Go,Yo,Ko,Xo,Qo];Go.code+"",Yo.code+"",Ko.code+"",Xo.code+"",Qo.code+"";Go.name+"",Go.code,Yo.name+"",Yo.code,Ko.name+"",Ko.code,Xo.name+"",Xo.code,Qo.name+"",Qo.code;vP.map(e=>e.code);function xP(e){const t=["ROOT"];let n=-1,r=null;function s(d,f,h){switch(d){case'"':{n=f,t.pop(),t.push(h),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=f,r=f,t.pop(),t.push(h),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(h),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=f,t.pop(),t.push(h),t.push("INSIDE_NUMBER");break}case"{":{n=f,t.pop(),t.push(h),t.push("INSIDE_OBJECT_START");break}case"[":{n=f,t.pop(),t.push(h),t.push("INSIDE_ARRAY_START");break}}}function i(d,f){switch(d){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=f,t.pop();break}}}function l(d,f){switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=f,t.pop();break}}}for(let d=0;d<e.length;d++){const f=e[d];switch(t[t.length-1]){case"ROOT":s(f,d,"FINISH");break;case"INSIDE_OBJECT_START":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=d,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(f){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(f){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(f,d,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{i(f,d);break}case"INSIDE_STRING":{switch(f){case'"':{t.pop(),n=d;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=d}break}case"INSIDE_ARRAY_START":{switch(f){case"]":{n=d,t.pop();break}default:{n=d,s(f,d,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}default:{n=d;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(f,d,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=d;break}case"INSIDE_NUMBER":{switch(f){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(f,d),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(f,d);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(f,d);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(f,d);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const g=e.substring(r,d+1);!"false".startsWith(g)&&!"true".startsWith(g)&&!"null".startsWith(g)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?i(f,d):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(f,d)):n=d;break}}}let u=e.slice(0,n+1);for(let d=t.length-1;d>=0;d--)switch(t[d]){case"INSIDE_STRING":{u+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{u+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{u+="]";break}case"INSIDE_LITERAL":{const h=e.substring(r,e.length);"true".startsWith(h)?u+="true".slice(h.length):"false".startsWith(h)?u+="false".slice(h.length):"null".startsWith(h)&&(u+="null".slice(h.length))}}return u}function tS(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=ps({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=ps({text:xP(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var el={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},tl={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},nl={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},rl={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},al={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},sl={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},il={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},ol={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},ll={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},ul={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},cl={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},dl={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},nS=[el,tl,nl,rl,al,sl,il,ol,ll,ul,cl,dl];el.code+"",tl.code+"",nl.code+"",rl.code+"",al.code+"",sl.code+"",il.code+"",ol.code+"",ll.code+"",ul.code+"",cl.code+"",dl.code+"";el.name+"",el.code,tl.name+"",tl.code,nl.name+"",nl.code,rl.name+"",rl.code,al.name+"",al.code,sl.name+"",sl.code,il.name+"",il.code,ol.name+"",ol.code,ll.name+"",ll.code,ul.name+"",ul.code,cl.name+"",cl.code,dl.name+"",dl.code;nS.map(e=>e.code);function Ln(e,t){const n=nS.find(r=>r.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}function Sc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(typeof e!="object"&&typeof t!="object")return e===t;if(e.constructor!==t.constructor)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!Sc(e[s],t[s]))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!r.includes(s)||!Sc(e[s],t[s]))return!1;return!0}function wP(e,t){var n;const r=(n=void 0)!=null?n:!1;return bP(yP(e,{$refStrategy:r?"root":"none",target:"jsonSchema7"}),{validate:s=>{const i=e.safeParse(s);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}var fh=Symbol.for("vercel.ai.schema");function bP(e,{validate:t}={}){return{[fh]:!0,_type:void 0,[pc]:!0,jsonSchema:e,validate:t}}function SP(e){return typeof e=="object"&&e!==null&&fh in e&&e[fh]===!0&&"jsonSchema"in e&&"validate"in e}function mi(e){return SP(e)?e:wP(e)}var kP=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},rs="1.9.0",G0=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _P(e){var t=new Set([e]),n=new Set,r=e.match(G0);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(d){return d===e};function i(u){return n.add(u),!1}function l(u){return t.add(u),!0}return function(d){if(t.has(d))return!0;if(n.has(d))return!1;var f=d.match(G0);if(!f)return i(d);var h={major:+f[1],minor:+f[2],patch:+f[3],prerelease:f[4]};return h.prerelease!=null||s.major!==h.major?i(d):s.major===0?s.minor===h.minor&&s.patch<=h.patch?l(d):i(d):s.minor<=h.minor?l(d):i(d)}}var CP=_P(rs),TP=rs.split(".")[0],fl=Symbol.for("opentelemetry.js.api."+TP),pl=kP;function ym(e,t,n,r){var s;r===void 0&&(r=!1);var i=pl[fl]=(s=pl[fl])!==null&&s!==void 0?s:{version:rs};if(!r&&i[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(l.stack||l.message),!1}if(i.version!==rs){var l=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+rs);return n.error(l.stack||l.message),!1}return i[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+rs+"."),!0}function hl(e){var t,n,r=(t=pl[fl])===null||t===void 0?void 0:t.version;if(!(!r||!CP(r)))return(n=pl[fl])===null||n===void 0?void 0:n[e]}function vm(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+rs+".");var n=pl[fl];n&&delete n[e]}var EP=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},IP=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},NP=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return fo("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return fo("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return fo("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return fo("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return fo("verbose",this._namespace,t)},e}();function fo(e,t,n){var r=hl("diag");if(r)return n.unshift(t),r[e].apply(r,IP([],EP(n),!1))}var Sn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Sn||(Sn={}));function OP(e,t){e<Sn.NONE?e=Sn.NONE:e>Sn.ALL&&(e=Sn.ALL),t=t||{};function n(r,s){var i=t[r];return typeof i=="function"&&e>=s?i.bind(t):function(){}}return{error:n("error",Sn.ERROR),warn:n("warn",Sn.WARN),info:n("info",Sn.INFO),debug:n("debug",Sn.DEBUG),verbose:n("verbose",Sn.VERBOSE)}}var jP=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},RP=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},PP="diag",kc=function(){function e(){function t(s){return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=hl("diag");if(u)return u[s].apply(u,RP([],jP(i),!1))}}var n=this,r=function(s,i){var l,u,d;if(i===void 0&&(i={logLevel:Sn.INFO}),s===n){var f=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((l=f.stack)!==null&&l!==void 0?l:f.message),!1}typeof i=="number"&&(i={logLevel:i});var h=hl("diag"),g=OP((u=i.logLevel)!==null&&u!==void 0?u:Sn.INFO,s);if(h&&!i.suppressOverrideMessage){var v=(d=new Error().stack)!==null&&d!==void 0?d:"<failed to generate stacktrace>";h.warn("Current logger will be overwritten from "+v),g.warn("Current logger will overwrite one already registered from "+v)}return ym("diag",g,n,!0)};n.setLogger=r,n.disable=function(){vm(PP,n)},n.createComponentLogger=function(s){return new NP(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function AP(e){return Symbol.for(e)}var DP=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var i=new e(n._currentContext);return i._currentContext.set(r,s),i},n.deleteValue=function(r){var s=new e(n._currentContext);return s._currentContext.delete(r),s}}return e}(),MP=new DP,LP=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},FP=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},zP=function(){function e(){}return e.prototype.active=function(){return MP},e.prototype.with=function(t,n,r){for(var s=[],i=3;i<arguments.length;i++)s[i-3]=arguments[i];return n.call.apply(n,FP([r],LP(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),$P=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},UP=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},cp="context",BP=new zP,rS=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return ym(cp,t,kc.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var s,i=[],l=3;l<arguments.length;l++)i[l-3]=arguments[l];return(s=this._getContextManager()).with.apply(s,UP([t,n,r],$P(i),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return hl(cp)||BP},e.prototype.disable=function(){this._getContextManager().disable(),vm(cp,kc.instance())},e}(),ph;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(ph||(ph={}));var aS="0000000000000000",sS="00000000000000000000000000000000",HP={traceId:sS,spanId:aS,traceFlags:ph.NONE},Eo=function(){function e(t){t===void 0&&(t=HP),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),xm=AP("OpenTelemetry Context Key SPAN");function wm(e){return e.getValue(xm)||void 0}function qP(){return wm(rS.getInstance().active())}function bm(e,t){return e.setValue(xm,t)}function VP(e){return e.deleteValue(xm)}function WP(e,t){return bm(e,new Eo(t))}function iS(e){var t;return(t=wm(e))===null||t===void 0?void 0:t.spanContext()}var ZP=/^([0-9a-f]{32})$/i,JP=/^[0-9a-f]{16}$/i;function GP(e){return ZP.test(e)&&e!==sS}function YP(e){return JP.test(e)&&e!==aS}function oS(e){return GP(e.traceId)&&YP(e.spanId)}function KP(e){return new Eo(e)}var dp=rS.getInstance(),lS=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=dp.active());var s=!!(n!=null&&n.root);if(s)return new Eo;var i=r&&iS(r);return XP(i)&&oS(i)?new Eo(i):new Eo},e.prototype.startActiveSpan=function(t,n,r,s){var i,l,u;if(!(arguments.length<2)){arguments.length===2?u=n:arguments.length===3?(i=n,u=r):(i=n,l=r,u=s);var d=l??dp.active(),f=this.startSpan(t,i,d),h=bm(d,f);return dp.with(h,u,void 0,f)}},e}();function XP(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var QP=new lS,e5=function(){function e(t,n,r,s){this._provider=t,this.name=n,this.version=r,this.options=s}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,s){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):QP},e}(),t5=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new lS},e}(),n5=new t5,Y0=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var s;return(s=this.getDelegateTracer(t,n,r))!==null&&s!==void 0?s:new e5(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:n5},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,r)},e}(),_c;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(_c||(_c={}));var fp="trace",r5=function(){function e(){this._proxyTracerProvider=new Y0,this.wrapSpanContext=KP,this.isSpanContextValid=oS,this.deleteSpan=VP,this.getSpan=wm,this.getActiveSpan=qP,this.getSpanContext=iS,this.setSpan=bm,this.setSpanContext=WP}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=ym(fp,this._proxyTracerProvider,kc.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return hl(fp)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){vm(fp,kc.instance()),this._proxyTracerProvider=new Y0},e}(),a5=r5.getInstance(),s5=Object.defineProperty,Sm=(e,t)=>{for(var n in t)s5(e,n,{get:t[n],enumerable:!0})};function ml(e,{contentType:t,dataStreamVersion:n}){const r=new Headers(e??{});return r.has("Content-Type")||r.set("Content-Type",t),n!==void 0&&r.set("X-Vercel-AI-Data-Stream",n),r}function hh(e,{contentType:t,dataStreamVersion:n}){const r={};if(e!=null)for(const[s,i]of Object.entries(e))r[s]=i;return r["Content-Type"]==null&&(r["Content-Type"]=t),n!==void 0&&(r["X-Vercel-AI-Data-Stream"]=n),r}function mh({response:e,status:t,statusText:n,headers:r,stream:s}){e.writeHead(t??200,n,r);const i=s.getReader();(async()=>{try{for(;;){const{done:u,value:d}=await i.read();if(u)break;e.write(d)}}catch(u){throw u}finally{e.end()}})()}var uS="AI_InvalidArgumentError",cS=`vercel.ai.error.${uS}`,i5=Symbol.for(cS),dS,dt=class extends Pe{constructor({parameter:e,value:t,message:n}){super({name:uS,message:`Invalid argument for parameter ${e}: ${n}`}),this[dS]=!0,this.parameter=e,this.value=t}static isInstance(e){return Pe.hasMarker(e,cS)}};dS=i5;var fS="AI_RetryError",pS=`vercel.ai.error.${fS}`,o5=Symbol.for(pS),hS,K0=class extends Pe{constructor({message:e,reason:t,errors:n}){super({name:fS,message:e}),this[hS]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Pe.hasMarker(e,pS)}};hS=o5;var l5=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>mS(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function mS(e,{maxRetries:t,delayInMs:n,backoffFactor:r},s=[]){try{return await e()}catch(i){if(os(i)||t===0)throw i;const l=cj(i),u=[...s,i],d=u.length;if(d>t)throw new K0({message:`Failed after ${d} attempts. Last error: ${l}`,reason:"maxRetriesExceeded",errors:u});if(i instanceof Error&&Bt.isInstance(i)&&i.isRetryable===!0&&d<=t)return await uj(n),mS(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},u);throw d===1?i:new K0({message:`Failed after ${d} attempts with non-retryable error: '${l}'`,reason:"errorNotRetryable",errors:u})}}function gS({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new dt({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new dt({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const t=e??2;return{maxRetries:t,retry:l5({maxRetries:t})}}function gl({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function yS({model:e,settings:t,telemetry:n,headers:r}){var s;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((i,[l,u])=>(i[`ai.settings.${l}`]=u,i),{}),...Object.entries((s=n==null?void 0:n.metadata)!=null?s:{}).reduce((i,[l,u])=>(i[`ai.telemetry.metadata.${l}`]=u,i),{}),...Object.entries(r??{}).reduce((i,[l,u])=>(u!==void 0&&(i[`ai.request.headers.${l}`]=u),i),{})}}var u5={startSpan(){return Vu},startActiveSpan(e,t,n,r){if(typeof t=="function")return t(Vu);if(typeof n=="function")return n(Vu);if(typeof r=="function")return r(Vu)}},Vu={spanContext(){return c5},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},c5={traceId:"",spanId:"",traceFlags:0};function vS({isEnabled:e=!1,tracer:t}={}){return e?t||a5.getTracer("ai"):u5}function yl({name:e,tracer:t,attributes:n,fn:r,endWhenDone:s=!0}){return t.startActiveSpan(e,{attributes:n},async i=>{try{const l=await r(i);return s&&i.end(),l}catch(l){try{l instanceof Error?(i.recordException({name:l.name,message:l.message,stack:l.stack}),i.setStatus({code:_c.ERROR,message:l.message})):i.setStatus({code:_c.ERROR})}finally{i.end()}throw l}})}function xr({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((n,[r,s])=>{if(s===void 0)return n;if(typeof s=="object"&&"input"in s&&typeof s.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return n;const i=s.input();return i===void 0?n:{...n,[r]:i}}if(typeof s=="object"&&"output"in s&&typeof s.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return n;const i=s.output();return i===void 0?n:{...n,[r]:i}}return{...n,[r]:s}},{})}var xS="AI_NoObjectGeneratedError",wS=`vercel.ai.error.${xS}`,d5=Symbol.for(wS),bS,Cc=class extends Pe{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:s}){super({name:xS,message:e,cause:t}),this[bS]=!0,this.text=n,this.response=r,this.usage=s}static isInstance(e){return Pe.hasMarker(e,wS)}};bS=d5;var SS="AI_DownloadError",kS=`vercel.ai.error.${SS}`,f5=Symbol.for(kS),_S,pp=class extends Pe{constructor({url:e,statusCode:t,statusText:n,cause:r,message:s=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:SS,message:s,cause:r}),this[_S]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Pe.hasMarker(e,kS)}};_S=f5;async function p5({url:e,fetchImplementation:t=fetch}){var n;const r=e.toString();try{const s=await t(r);if(!s.ok)throw new pp({url:r,statusCode:s.status,statusText:s.statusText});return{data:new Uint8Array(await s.arrayBuffer()),mimeType:(n=s.headers.get("content-type"))!=null?n:void 0}}catch(s){throw pp.isInstance(s)?s:new pp({url:r,cause:s})}}var h5=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function m5(e){for(const{bytes:t,mimeType:n}of h5)if(e.length>=t.length&&t.every((r,s)=>e[s]===r))return n}var CS="AI_InvalidDataContentError",TS=`vercel.ai.error.${CS}`,g5=Symbol.for(TS),ES,X0=class extends Pe{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:CS,message:n,cause:t}),this[ES]=!0,this.content=e}static isInstance(e){return Pe.hasMarker(e,TS)}};ES=g5;var IS=w.union([w.string(),w.instanceof(Uint8Array),w.instanceof(ArrayBuffer),w.custom(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function y5(e){return typeof e=="string"?e:e instanceof ArrayBuffer?Vr(new Uint8Array(e)):Vr(e)}function Tc(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return _j(e)}catch(t){throw new X0({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new X0({content:e})}function v5(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var NS="AI_InvalidMessageRoleError",OS=`vercel.ai.error.${NS}`,x5=Symbol.for(OS),jS,w5=class extends Pe{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:NS,message:t}),this[jS]=!0,this.role=e}static isInstance(e){return Pe.hasMarker(e,OS)}};jS=x5;function b5(e){try{const[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}async function gh({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=p5}){const s=await k5(e.messages,r,t,n);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(i=>S5(i,s))]}function S5(e,t){var n,r,s,i,l,u;const d=e.role;switch(d){case"system":return{role:"system",content:e.content,providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata}:{role:"user",content:e.content.map(f=>_5(f,t)).filter(f=>f.type!=="text"||f.text!==""),providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:(i=e.providerOptions)!=null?i:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(f=>f.type!=="text"||f.text!=="").map(f=>{const{experimental_providerMetadata:h,providerOptions:g,...v}=f;return{...v,providerMetadata:g??h}}),providerMetadata:(l=e.providerOptions)!=null?l:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(f=>{var h;return{type:"tool-result",toolCallId:f.toolCallId,toolName:f.toolName,result:f.result,content:f.experimental_content,isError:f.isError,providerMetadata:(h=f.providerOptions)!=null?h:f.experimental_providerMetadata}}),providerMetadata:(u=e.providerOptions)!=null?u:e.experimental_providerMetadata};default:{const f=d;throw new w5({role:f})}}}async function k5(e,t,n,r){const s=e.filter(l=>l.role==="user").map(l=>l.content).filter(l=>Array.isArray(l)).flat().filter(l=>l.type==="image"||l.type==="file").filter(l=>!(l.type==="image"&&n===!0)).map(l=>l.type==="image"?l.image:l.data).map(l=>typeof l=="string"&&(l.startsWith("http:")||l.startsWith("https:"))?new URL(l):l).filter(l=>l instanceof URL).filter(l=>!r(l)),i=await Promise.all(s.map(async l=>({url:l,data:await t({url:l})})));return Object.fromEntries(i.map(({url:l,data:u})=>[l.toString(),u]))}function _5(e,t){var n;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let r=e.mimeType,s,i,l;const u=e.type;switch(u){case"image":s=e.image;break;case"file":s=e.data;break;default:throw new Error(`Unsupported part type: ${u}`)}try{i=typeof s=="string"?new URL(s):s}catch{i=s}if(i instanceof URL)if(i.protocol==="data:"){const{mimeType:d,base64Content:f}=b5(i.toString());if(d==null||f==null)throw new Error(`Invalid data URL format in part ${u}`);r=d,l=Tc(f)}else{const d=t[i.toString()];d?(l=d.data,r??(r=d.mimeType)):l=i}else l=Tc(i);switch(u){case"image":return l instanceof Uint8Array&&(r=(n=m5(l))!=null?n:r),{type:"image",image:l,mimeType:r,providerMetadata:e.experimental_providerMetadata};case"file":{if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:l instanceof Uint8Array?y5(l):l,mimeType:r,providerMetadata:e.experimental_providerMetadata}}}}function yh({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:s,frequencyPenalty:i,stopSequences:l,seed:u}){if(e!=null){if(!Number.isInteger(e))throw new dt({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new dt({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new dt({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new dt({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new dt({parameter:"topK",value:r,message:"topK must be a number"});if(s!=null&&typeof s!="number")throw new dt({parameter:"presencePenalty",value:s,message:"presencePenalty must be a number"});if(i!=null&&typeof i!="number")throw new dt({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(u!=null&&!Number.isInteger(u))throw new dt({parameter:"seed",value:u,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:n,topK:r,presencePenalty:s,frequencyPenalty:i,stopSequences:l!=null&&l.length>0?l:void 0,seed:u}}function C5(e){var t,n,r;const s=[];for(const i of e){let l;try{l=new URL(i.url)}catch{throw new Error(`Invalid URL: ${i.url}`)}switch(l.protocol){case"http:":case"https:":{if((t=i.contentType)!=null&&t.startsWith("image/"))s.push({type:"image",image:l});else{if(!i.contentType)throw new Error("If the attachment is not an image, it must specify a content type");s.push({type:"file",data:l,mimeType:i.contentType})}break}case"data:":{let u,d,f;try{[u,d]=i.url.split(","),f=u.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${i.url}`)}if(f==null||d==null)throw new Error(`Invalid data URL format: ${i.url}`);if((n=i.contentType)!=null&&n.startsWith("image/"))s.push({type:"image",image:Tc(d)});else if((r=i.contentType)!=null&&r.startsWith("text/"))s.push({type:"text",text:v5(Tc(d))});else{if(!i.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");s.push({type:"file",data:d,mimeType:i.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${l.protocol}`)}}return s}var RS="AI_MessageConversionError",PS=`vercel.ai.error.${RS}`,T5=Symbol.for(PS),AS,hp=class extends Pe{constructor({originalMessage:e,message:t}){super({name:RS,message:t}),this[AS]=!0,this.originalMessage=e}static isInstance(e){return Pe.hasMarker(e,PS)}};AS=T5;function E5(e,t){var n,r;const s=(n=t==null?void 0:t.tools)!=null?n:{},i=[];for(let l=0;l<e.length;l++){const u=e[l],d=l===e.length-1,{role:f,content:h,experimental_attachments:g}=u;switch(f){case"system":{i.push({role:"system",content:h});break}case"user":{i.push({role:"user",content:g?[{type:"text",text:h},...C5(g)]:h});break}case"assistant":{if(u.parts!=null){let S=function(){i.push({role:"assistant",content:k.map(N=>{switch(N.type){case"text":return{type:"text",text:N.text};default:return{type:"tool-call",toolCallId:N.toolInvocation.toolCallId,toolName:N.toolInvocation.toolName,args:N.toolInvocation.args}}})});const I=k.filter(N=>N.type==="tool-invocation").map(N=>N.toolInvocation);I.length>0&&i.push({role:"tool",content:I.map(N=>{if(!("result"in N))throw new hp({originalMessage:u,message:"ToolInvocation must have a result: "+JSON.stringify(N)});const{toolCallId:j,toolName:L,result:A}=N,U=s[L];return(U==null?void 0:U.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:j,toolName:L,result:U.experimental_toToolResultContent(A),experimental_content:U.experimental_toToolResultContent(A)}:{type:"tool-result",toolCallId:j,toolName:L,result:A}})}),k=[],C=!1,_++},_=0,C=!1,k=[];for(const I of u.parts)switch(I.type){case"reasoning":break;case"text":{C&&S(),k.push(I);break}case"tool-invocation":{((r=I.toolInvocation.step)!=null?r:0)!==_&&S(),k.push(I),C=!0;break}}S();break}const v=u.toolInvocations;if(v==null||v.length===0){i.push({role:"assistant",content:h});break}const x=v.reduce((S,_)=>{var C;return Math.max(S,(C=_.step)!=null?C:0)},0);for(let S=0;S<=x;S++){const _=v.filter(C=>{var k;return((k=C.step)!=null?k:0)===S});_.length!==0&&(i.push({role:"assistant",content:[...d&&h&&S===0?[{type:"text",text:h}]:[],..._.map(({toolCallId:C,toolName:k,args:I})=>({type:"tool-call",toolCallId:C,toolName:k,args:I}))]}),i.push({role:"tool",content:_.map(C=>{if(!("result"in C))throw new hp({originalMessage:u,message:"ToolInvocation must have a result: "+JSON.stringify(C)});const{toolCallId:k,toolName:I,result:N}=C,j=s[I];return(j==null?void 0:j.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:k,toolName:I,result:j.experimental_toToolResultContent(N),experimental_content:j.experimental_toToolResultContent(N)}:{type:"tool-result",toolCallId:k,toolName:I,result:N}})}))}h&&!d&&i.push({role:"assistant",content:h});break}case"data":break;default:{const v=f;throw new hp({originalMessage:u,message:`Unsupported role: ${v}`})}}}return i}function I5(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";const t=e.map(N5);return t.some(n=>n==="has-ui-specific-parts")?"ui-messages":t.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}function N5(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var vh=w.lazy(()=>w.union([w.null(),w.string(),w.number(),w.boolean(),w.record(w.string(),vh),w.array(vh)])),Lt=w.record(w.string(),w.record(w.string(),vh)),O5=w.array(w.union([w.object({type:w.literal("text"),text:w.string()}),w.object({type:w.literal("image"),data:w.string(),mimeType:w.string().optional()})])),DS=w.object({type:w.literal("text"),text:w.string(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),j5=w.object({type:w.literal("image"),image:w.union([IS,w.instanceof(URL)]),mimeType:w.string().optional(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),R5=w.object({type:w.literal("file"),data:w.union([IS,w.instanceof(URL)]),mimeType:w.string(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),P5=w.object({type:w.literal("tool-call"),toolCallId:w.string(),toolName:w.string(),args:w.unknown(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),A5=w.object({type:w.literal("tool-result"),toolCallId:w.string(),toolName:w.string(),result:w.unknown(),content:O5.optional(),isError:w.boolean().optional(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),D5=w.object({role:w.literal("system"),content:w.string(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),M5=w.object({role:w.literal("user"),content:w.union([w.string(),w.array(w.union([DS,j5,R5]))]),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),L5=w.object({role:w.literal("assistant"),content:w.union([w.string(),w.array(w.union([DS,P5]))]),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),F5=w.object({role:w.literal("tool"),content:w.array(A5),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),z5=w.union([D5,M5,L5,F5]);function xh({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new ba({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new ba({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new ba({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new ba({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){const n=I5(e.messages);if(n==="other")throw new ba({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});const r=n==="ui-messages"?E5(e.messages,{tools:t}):e.messages,s=wr({value:r,schema:w.array(z5)});if(!s.success)throw new ba({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:s.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function MS({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function $5(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var U5="JSON schema:",B5="You MUST answer with a JSON object that matches the JSON schema above.",H5="You MUST answer with JSON.";function wh({prompt:e,schema:t,schemaPrefix:n=t!=null?U5:void 0,schemaSuffix:r=t!=null?B5:H5}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,n,t!=null?JSON.stringify(t):void 0,r].filter(s=>s!=null).join(`
`)}function us(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{const n=t.getReader();return{async next(){const{done:r,value:s}=await n.read();return r?{done:!0,value:void 0}:{done:!1,value:s}}}},t}var q5={type:"no-schema",jsonSchema:void 0,validatePartialResult({value:e,textDelta:t}){return{success:!0,value:{partial:e,textDelta:t}}},validateFinalResult(e,t){return e===void 0?{success:!1,error:new Cc({message:"No object generated: response did not match schema.",text:t.text,response:t.response,usage:t.usage})}:{success:!0,value:e}},createElementStream(){throw new ze({functionality:"element streams in no-schema mode"})}},V5=e=>({type:"object",jsonSchema:e.jsonSchema,validatePartialResult({value:t,textDelta:n}){return{success:!0,value:{partial:t,textDelta:n}}},validateFinalResult(t){return wr({value:t,schema:e})},createElementStream(){throw new ze({functionality:"element streams in object mode"})}}),W5=e=>{const{$schema:t,...n}=e.jsonSchema;return{type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:n}},required:["elements"],additionalProperties:!1},validatePartialResult({value:r,latestObject:s,isFirstDelta:i,isFinalDelta:l}){var u;if(!oh(r)||!U0(r.elements))return{success:!1,error:new Na({value:r,cause:"value must be an object that contains an array of elements"})};const d=r.elements,f=[];for(let v=0;v<d.length;v++){const x=d[v],S=wr({value:x,schema:e});if(!(v===d.length-1&&!l)){if(!S.success)return S;f.push(S.value)}}const h=(u=s==null?void 0:s.length)!=null?u:0;let g="";return i&&(g+="["),h>0&&(g+=","),g+=f.slice(h).map(v=>JSON.stringify(v)).join(","),l&&(g+="]"),{success:!0,value:{partial:f,textDelta:g}}},validateFinalResult(r){if(!oh(r)||!U0(r.elements))return{success:!1,error:new Na({value:r,cause:"value must be an object that contains an array of elements"})};const s=r.elements;for(const i of s){const l=wr({value:i,schema:e});if(!l.success)return l}return{success:!0,value:s}},createElementStream(r){let s=0;return us(r.pipeThrough(new TransformStream({transform(i,l){switch(i.type){case"object":{const u=i.object;for(;s<u.length;s++)l.enqueue(u[s]);break}case"text-delta":case"finish":break;case"error":l.error(i.error);break;default:{const u=i;throw new Error(`Unsupported chunk type: ${u}`)}}}})))}}},Z5=e=>({type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},validateFinalResult(t){if(!oh(t)||typeof t.result!="string")return{success:!1,error:new Na({value:t,cause:'value must be an object that contains a string in the "result" property.'})};const n=t.result;return e.includes(n)?{success:!0,value:n}:{success:!1,error:new Na({value:t,cause:"value must be a string in the enum"})}},validatePartialResult(){throw new ze({functionality:"partial results in enum mode"})},createElementStream(){throw new ze({functionality:"element streams in enum mode"})}});function J5({output:e,schema:t,enumValues:n}){switch(e){case"object":return V5(mi(t));case"array":return W5(mi(t));case"enum":return Z5(n);case"no-schema":return q5;default:{const r=e;throw new Error(`Unsupported output: ${r}`)}}}function G5({output:e,mode:t,schema:n,schemaName:r,schemaDescription:s,enumValues:i}){if(e!=null&&e!=="object"&&e!=="array"&&e!=="enum"&&e!=="no-schema")throw new dt({parameter:"output",value:e,message:"Invalid output type."});if(e==="no-schema"){if(n!=null)throw new dt({parameter:"schema",value:n,message:"Schema is not supported for no-schema output."});if(s!=null)throw new dt({parameter:"schemaDescription",value:s,message:"Schema description is not supported for no-schema output."});if(r!=null)throw new dt({parameter:"schemaName",value:r,message:"Schema name is not supported for no-schema output."});if(i!=null)throw new dt({parameter:"enumValues",value:i,message:"Enum values are not supported for no-schema output."})}if(e==="object"){if(n==null)throw new dt({parameter:"schema",value:n,message:"Schema is required for object output."});if(i!=null)throw new dt({parameter:"enumValues",value:i,message:"Enum values are not supported for object output."})}if(e==="array"){if(n==null)throw new dt({parameter:"schema",value:n,message:"Element schema is required for array output."});if(i!=null)throw new dt({parameter:"enumValues",value:i,message:"Enum values are not supported for array output."})}if(e==="enum"){if(n!=null)throw new dt({parameter:"schema",value:n,message:"Schema is not supported for enum output."});if(s!=null)throw new dt({parameter:"schemaDescription",value:s,message:"Schema description is not supported for enum output."});if(r!=null)throw new dt({parameter:"schemaName",value:r,message:"Schema name is not supported for enum output."});if(i==null)throw new dt({parameter:"enumValues",value:i,message:"Enum values are required for enum output."});for(const l of i)if(typeof l!="string")throw new dt({parameter:"enumValues",value:l,message:"Enum values must be strings."})}}ws({prefix:"aiobj",size:24});var Ut=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function Q0(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function LS(){let e=[],t=null,n=!1,r=Q0();const s=async()=>{if(n&&e.length===0){t==null||t.close();return}if(e.length===0)return r=Q0(),await r.promise,s();try{const{value:i,done:l}=await e[0].read();l?(e.shift(),e.length>0?await s():n&&(t==null||t.close())):t==null||t.enqueue(i)}catch(i){t==null||t.error(i),e.shift(),n&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(i){t=i},pull:s,async cancel(){for(const i of e)await i.cancel();e=[],n=!0}}),addStream:i=>{if(n)throw new Error("Cannot add inner stream: outer stream is closed");e.push(i.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),e.length===0&&(t==null||t.close())},terminate:()=>{n=!0,r.resolve(),e.forEach(i=>i.cancel()),e=[],t==null||t.close()}}}function FS(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}var Y5=ws({prefix:"aiobj",size:24});function K5({model:e,schema:t,schemaName:n,schemaDescription:r,mode:s,output:i="object",system:l,prompt:u,messages:d,maxRetries:f,abortSignal:h,headers:g,experimental_telemetry:v,experimental_providerMetadata:x,providerOptions:S=x,onFinish:_,_internal:{generateId:C=Y5,currentDate:k=()=>new Date,now:I=FS}={},...N}){G5({output:i,mode:s,schema:t,schemaName:n,schemaDescription:r});const j=J5({output:i,schema:t});return j.type,new X5({model:e,telemetry:v,headers:g,settings:N,maxRetries:f,abortSignal:h,outputStrategy:j,system:l,prompt:u,messages:d,schemaName:n,schemaDescription:r,providerOptions:S,mode:s,onFinish:_,generateId:C,currentDate:k,now:I})}var X5=class{constructor({model:e,headers:t,telemetry:n,settings:r,maxRetries:s,abortSignal:i,outputStrategy:l,system:u,prompt:d,messages:f,schemaName:h,schemaDescription:g,providerOptions:v,mode:x,onFinish:S,generateId:_,currentDate:C,now:k}){this.objectPromise=new Ut,this.usagePromise=new Ut,this.providerMetadataPromise=new Ut,this.warningsPromise=new Ut,this.requestPromise=new Ut,this.responsePromise=new Ut,this.stitchableStream=LS();const{maxRetries:I,retry:N}=gS({maxRetries:s}),j=yS({model:e,telemetry:n,headers:t,settings:{...r,maxRetries:I}}),L=vS(n),A=this;yl({name:"ai.streamObject",attributes:xr({telemetry:n,attributes:{...gl({operationId:"ai.streamObject",telemetry:n}),...j,"ai.prompt":{input:()=>JSON.stringify({system:u,prompt:d,messages:f})},"ai.schema":l.jsonSchema!=null?{input:()=>JSON.stringify(l.jsonSchema)}:void 0,"ai.schema.name":h,"ai.schema.description":g,"ai.settings.output":l.type,"ai.settings.mode":x}}),tracer:L,endWhenDone:!1,fn:async U=>{var X,W;(x==="auto"||x==null)&&(x=e.defaultObjectGenerationMode);let Q,K;switch(x){case"json":{const qe=xh({prompt:{system:l.jsonSchema==null?wh({prompt:u}):e.supportsStructuredOutputs?u:wh({prompt:u,schema:l.jsonSchema}),prompt:d,messages:f},tools:void 0});Q={mode:{type:"object-json",schema:l.jsonSchema,name:h,description:g},...yh(r),inputFormat:qe.type,prompt:await gh({prompt:qe,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(X=e.supportsUrl)==null?void 0:X.bind(e)}),providerMetadata:v,abortSignal:i,headers:t},K={transform:(Ae,rt)=>{switch(Ae.type){case"text-delta":rt.enqueue(Ae.textDelta);break;case"response-metadata":case"finish":case"error":rt.enqueue(Ae);break}}};break}case"tool":{const qe=xh({prompt:{system:u,prompt:d,messages:f},tools:void 0});Q={mode:{type:"object-tool",tool:{type:"function",name:h??"json",description:g??"Respond with a JSON object.",parameters:l.jsonSchema}},...yh(r),inputFormat:qe.type,prompt:await gh({prompt:qe,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(W=e.supportsUrl)==null?void 0:W.bind(e)}),providerMetadata:v,abortSignal:i,headers:t},K={transform(Ae,rt){switch(Ae.type){case"tool-call-delta":rt.enqueue(Ae.argsTextDelta);break;case"response-metadata":case"finish":case"error":rt.enqueue(Ae);break}}};break}case void 0:throw new Error("Model does not have a default object generation mode.");default:{const qe=x;throw new Error(`Unsupported mode: ${qe}`)}}const{result:{stream:J,warnings:ee,rawResponse:G,request:re},doStreamSpan:de,startTimestampMs:V}=await N(()=>yl({name:"ai.streamObject.doStream",attributes:xr({telemetry:n,attributes:{...gl({operationId:"ai.streamObject.doStream",telemetry:n}),...j,"ai.prompt.format":{input:()=>Q.inputFormat},"ai.prompt.messages":{input:()=>JSON.stringify(Q.prompt)},"ai.settings.mode":x,"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:L,endWhenDone:!1,fn:async qe=>({startTimestampMs:k(),doStreamSpan:qe,result:await e.doStream(Q)})}));A.requestPromise.resolve(re??{});let q,Y,E,D,z,R="",ve="",me={id:_(),timestamp:C(),modelId:e.modelId},be,Be,De=!0,He=!0;const ot=J.pipeThrough(new TransformStream(K)).pipeThrough(new TransformStream({async transform(qe,Ae){var rt,Ot,ge;if(De){const Qe=k()-V;De=!1,de.addEvent("ai.stream.firstChunk",{"ai.stream.msToFirstChunk":Qe}),de.setAttributes({"ai.stream.msToFirstChunk":Qe})}if(typeof qe=="string"){R+=qe,ve+=qe;const{value:Qe,state:Ft}=tS(R);if(Qe!==void 0&&!Sc(be,Qe)){const St=l.validatePartialResult({value:Qe,textDelta:ve,latestObject:Be,isFirstDelta:He,isFinalDelta:Ft==="successful-parse"});St.success&&!Sc(Be,St.value.partial)&&(be=Qe,Be=St.value.partial,Ae.enqueue({type:"object",object:Be}),Ae.enqueue({type:"text-delta",textDelta:St.value.textDelta}),ve="",He=!1)}return}switch(qe.type){case"response-metadata":{me={id:(rt=qe.id)!=null?rt:me.id,timestamp:(Ot=qe.timestamp)!=null?Ot:me.timestamp,modelId:(ge=qe.modelId)!=null?ge:me.modelId};break}case"finish":{ve!==""&&Ae.enqueue({type:"text-delta",textDelta:ve}),Y=qe.finishReason,q=MS(qe.usage),E=qe.providerMetadata,Ae.enqueue({...qe,usage:q,response:me}),A.usagePromise.resolve(q),A.providerMetadataPromise.resolve(E),A.responsePromise.resolve({...me,headers:G==null?void 0:G.headers});const Qe=l.validateFinalResult(be,{text:R,response:me,usage:q});Qe.success?(D=Qe.value,A.objectPromise.resolve(D)):(z=new Cc({message:"No object generated: response did not match schema.",cause:Qe.error,text:R,response:me,usage:q}),A.objectPromise.reject(z));break}default:{Ae.enqueue(qe);break}}},async flush(qe){try{const Ae=q??{promptTokens:NaN,completionTokens:NaN,totalTokens:NaN};de.setAttributes(xr({telemetry:n,attributes:{"ai.response.finishReason":Y,"ai.response.object":{output:()=>JSON.stringify(D)},"ai.response.id":me.id,"ai.response.model":me.modelId,"ai.response.timestamp":me.timestamp.toISOString(),"ai.usage.promptTokens":Ae.promptTokens,"ai.usage.completionTokens":Ae.completionTokens,"gen_ai.response.finish_reasons":[Y],"gen_ai.response.id":me.id,"gen_ai.response.model":me.modelId,"gen_ai.usage.input_tokens":Ae.promptTokens,"gen_ai.usage.output_tokens":Ae.completionTokens}})),de.end(),U.setAttributes(xr({telemetry:n,attributes:{"ai.usage.promptTokens":Ae.promptTokens,"ai.usage.completionTokens":Ae.completionTokens,"ai.response.object":{output:()=>JSON.stringify(D)}}})),await(S==null?void 0:S({usage:Ae,object:D,error:z,response:{...me,headers:G==null?void 0:G.headers},warnings:ee,experimental_providerMetadata:E}))}catch(Ae){qe.error(Ae)}finally{U.end()}}}));A.stitchableStream.addStream(ot)}}).catch(U=>{A.stitchableStream.addStream(new ReadableStream({start(X){X.error(U)}}))}).finally(()=>{A.stitchableStream.close()}),this.outputStrategy=l}get object(){return this.objectPromise.value}get usage(){return this.usagePromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get warnings(){return this.warningsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get partialObjectStream(){return us(this.stitchableStream.stream.pipeThrough(new TransformStream({transform(e,t){switch(e.type){case"object":t.enqueue(e.object);break;case"text-delta":case"finish":break;case"error":t.error(e.error);break;default:{const n=e;throw new Error(`Unsupported chunk type: ${n}`)}}}})))}get elementStream(){return this.outputStrategy.createElementStream(this.stitchableStream.stream)}get textStream(){return us(this.stitchableStream.stream.pipeThrough(new TransformStream({transform(e,t){switch(e.type){case"text-delta":t.enqueue(e.textDelta);break;case"object":case"finish":break;case"error":t.error(e.error);break;default:{const n=e;throw new Error(`Unsupported chunk type: ${n}`)}}}})))}get fullStream(){return us(this.stitchableStream.stream)}pipeTextStreamToResponse(e,t){mh({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:hh(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:ml(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},zS="AI_NoOutputSpecifiedError",$S=`vercel.ai.error.${zS}`,Q5=Symbol.for($S),US,eA=class extends Pe{constructor({message:e="No output specified."}={}){super({name:zS,message:e}),this[US]=!0}static isInstance(e){return Pe.hasMarker(e,$S)}};US=Q5;var BS="AI_ToolExecutionError",HS=`vercel.ai.error.${BS}`,tA=Symbol.for(HS),qS,nA=class extends Pe{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:r,message:s=`Error executing tool ${t}: ${Cl(r)}`}){super({name:BS,message:s,cause:r}),this[qS]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return Pe.hasMarker(e,HS)}};qS=tA;function rA(e){return e!=null&&Object.keys(e).length>0}function aA({tools:e,toolChoice:t,activeTools:n}){return rA(e)?{tools:(n!=null?Object.entries(e).filter(([s])=>n.includes(s)):Object.entries(e)).map(([s,i])=>{const l=i.type;switch(l){case void 0:case"function":return{type:"function",name:s,description:i.description,parameters:mi(i.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:s,id:i.id,args:i.args};default:{const u=l;throw new Error(`Unsupported tool type: ${u}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var sA=/^([\s\S]*?)(\s+)(\S*)$/;function iA(e){const t=e.match(sA);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var VS="AI_InvalidToolArgumentsError",WS=`vercel.ai.error.${VS}`,oA=Symbol.for(WS),ZS,JS=class extends Pe{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${Cl(n)}`}){super({name:VS,message:r,cause:n}),this[ZS]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Pe.hasMarker(e,WS)}};ZS=oA;var GS="AI_NoSuchToolError",YS=`vercel.ai.error.${GS}`,lA=Symbol.for(YS),KS,bh=class extends Pe{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:GS,message:n}),this[KS]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Pe.hasMarker(e,YS)}};KS=lA;var XS="AI_ToolCallRepairError",QS=`vercel.ai.error.${XS}`,uA=Symbol.for(QS),ek,cA=class extends Pe{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${Cl(e)}`}){super({name:XS,message:n,cause:e}),this[ek]=!0,this.originalError=t}static isInstance(e){return Pe.hasMarker(e,QS)}};ek=uA;async function dA({toolCall:e,tools:t,repairToolCall:n,system:r,messages:s}){if(t==null)throw new bh({toolName:e.toolName});try{return await e1({toolCall:e,tools:t})}catch(i){if(n==null||!(bh.isInstance(i)||JS.isInstance(i)))throw i;let l=null;try{l=await n({toolCall:e,tools:t,parameterSchema:({toolName:u})=>mi(t[u].parameters).jsonSchema,system:r,messages:s,error:i})}catch(u){throw new cA({cause:u,originalError:i})}if(l==null)throw i;return await e1({toolCall:l,tools:t})}}async function e1({toolCall:e,tools:t}){const n=e.toolName,r=t[n];if(r==null)throw new bh({toolName:e.toolName,availableTools:Object.keys(t)});const s=mi(r.parameters),i=e.args.trim()===""?wr({value:{},schema:s}):ps({text:e.args,schema:s});if(i.success===!1)throw new JS({toolName:n,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:i.value}}function t1({text:e="",tools:t,toolCalls:n,toolResults:r,messageId:s,generateMessageId:i}){const l=[];return l.push({role:"assistant",content:[{type:"text",text:e},...n],id:s}),r.length>0&&l.push({role:"tool",id:i(),content:r.map(u=>{const d=t[u.toolName];return(d==null?void 0:d.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:d.experimental_toToolResultContent(u.result),experimental_content:d.experimental_toToolResultContent(u.result)}:{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:u.result}})}),l}ws({prefix:"aitxt",size:24});ws({prefix:"msg",size:24});var fA={};Sm(fA,{object:()=>hA,text:()=>pA});var pA=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),hA=({schema:e})=>{const t=mi(e);return{type:"object",responseFormat:({model:n})=>({type:"json",schema:n.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:n,model:r}){return r.supportsStructuredOutputs?n:wh({prompt:n,schema:t.jsonSchema})},parsePartial({text:n}){const r=tS(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const s=r.state;throw new Error(`Unsupported parse state: ${s}`)}}},parseOutput({text:n},r){const s=ps({text:n});if(!s.success)throw new Cc({message:"No object generated: could not parse the response.",cause:s.error,text:n,response:r.response,usage:r.usage});const i=wr({value:s.value,schema:t});if(!i.success)throw new Cc({message:"No object generated: response did not match schema.",cause:i.error,text:n,response:r.response,usage:r.usage});return i.value}}};function mA(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function km(e,t){const n=e.getReader(),r=t.getReader();let s,i,l=!1,u=!1;async function d(h){try{s==null&&(s=n.read());const g=await s;s=void 0,g.done?h.close():h.enqueue(g.value)}catch(g){h.error(g)}}async function f(h){try{i==null&&(i=r.read());const g=await i;i=void 0,g.done?h.close():h.enqueue(g.value)}catch(g){h.error(g)}}return new ReadableStream({async pull(h){try{if(l){await f(h);return}if(u){await d(h);return}s==null&&(s=n.read()),i==null&&(i=r.read());const{result:g,reader:v}=await Promise.race([s.then(x=>({result:x,reader:n})),i.then(x=>({result:x,reader:r}))]);g.done||h.enqueue(g.value),v===n?(s=void 0,g.done&&(await f(h),l=!0)):(i=void 0,g.done&&(u=!0,await d(h)))}catch(g){h.error(g)}},cancel(){n.cancel(),r.cancel()}})}function gA({tools:e,generatorStream:t,toolCallStreaming:n,tracer:r,telemetry:s,system:i,messages:l,abortSignal:u,repairToolCall:d}){let f=null;const h=new ReadableStream({start(k){f=k}}),g={},v=new Set;let x=!1,S;function _(){x&&v.size===0&&(S!=null&&f.enqueue(S),f.close())}const C=new TransformStream({async transform(k,I){const N=k.type;switch(N){case"text-delta":case"reasoning":case"response-metadata":case"error":{I.enqueue(k);break}case"tool-call-delta":{n&&(g[k.toolCallId]||(I.enqueue({type:"tool-call-streaming-start",toolCallId:k.toolCallId,toolName:k.toolName}),g[k.toolCallId]=!0),I.enqueue({type:"tool-call-delta",toolCallId:k.toolCallId,toolName:k.toolName,argsTextDelta:k.argsTextDelta}));break}case"tool-call":{try{const j=await dA({toolCall:k,tools:e,repairToolCall:d,system:i,messages:l});I.enqueue(j);const L=e[j.toolName];if(L.execute!=null){const A=nn();v.add(A),yl({name:"ai.toolCall",attributes:xr({telemetry:s,attributes:{...gl({operationId:"ai.toolCall",telemetry:s}),"ai.toolCall.name":j.toolName,"ai.toolCall.id":j.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(j.args)}}}),tracer:r,fn:async U=>L.execute(j.args,{toolCallId:j.toolCallId,messages:l,abortSignal:u}).then(X=>{f.enqueue({...j,type:"tool-result",result:X}),v.delete(A),_();try{U.setAttributes(xr({telemetry:s,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(X)}}}))}catch{}},X=>{f.enqueue({type:"error",error:new nA({toolCallId:j.toolCallId,toolName:j.toolName,toolArgs:j.args,cause:X})}),v.delete(A),_()})})}}catch(j){f.enqueue({type:"error",error:j})}break}case"finish":{S={type:"finish",finishReason:k.finishReason,logprobs:k.logprobs,usage:MS(k.usage),experimental_providerMetadata:k.providerMetadata};break}default:{const j=N;throw new Error(`Unhandled chunk type: ${j}`)}}},flush(){x=!0,_()}});return new ReadableStream({async start(k){return Promise.all([t.pipeThrough(C).pipeTo(new WritableStream({write(I){k.enqueue(I)},close(){}})),h.pipeTo(new WritableStream({write(I){k.enqueue(I)},close(){k.close()}}))])}})}var yA=ws({prefix:"aitxt",size:24}),vA=ws({prefix:"msg",size:24});function xA({model:e,tools:t,toolChoice:n,system:r,prompt:s,messages:i,maxRetries:l,abortSignal:u,headers:d,maxSteps:f=1,experimental_generateMessageId:h=vA,experimental_output:g,experimental_continueSteps:v=!1,experimental_telemetry:x,experimental_providerMetadata:S,providerOptions:_=S,experimental_toolCallStreaming:C=!1,toolCallStreaming:k=C,experimental_activeTools:I,experimental_repairToolCall:N,experimental_transform:j,onChunk:L,onError:A,onFinish:U,onStepFinish:X,_internal:{now:W=FS,generateId:Q=yA,currentDate:K=()=>new Date}={},...J}){return new bA({model:e,telemetry:x,headers:d,settings:J,maxRetries:l,abortSignal:u,system:r,prompt:s,messages:i,tools:t,toolChoice:n,toolCallStreaming:k,transforms:mA(j),activeTools:I,repairToolCall:N,maxSteps:f,output:g,continueSteps:v,providerOptions:_,onChunk:L,onError:A,onFinish:U,onStepFinish:X,now:W,currentDate:K,generateId:Q,generateMessageId:h})}function wA(e){if(!e)return new TransformStream({transform(s,i){i.enqueue({part:s,partialOutput:void 0})}});let t="",n="",r="";return new TransformStream({transform(s,i){if(s.type!=="text-delta"){i.enqueue({part:s,partialOutput:void 0});return}t+=s.textDelta,n+=s.textDelta;const l=e.parsePartial({text:t});if(l!=null){const u=JSON.stringify(l.partial);u!==r&&(i.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:l.partial}),r=u,n="")}},flush(s){n.length>0&&s.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:void 0})}})}var bA=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:s,abortSignal:i,system:l,prompt:u,messages:d,tools:f,toolChoice:h,toolCallStreaming:g,transforms:v,activeTools:x,repairToolCall:S,maxSteps:_,output:C,continueSteps:k,providerOptions:I,onChunk:N,onError:j,onFinish:L,onStepFinish:A,now:U,currentDate:X,generateId:W,generateMessageId:Q}){this.warningsPromise=new Ut,this.usagePromise=new Ut,this.finishReasonPromise=new Ut,this.providerMetadataPromise=new Ut,this.textPromise=new Ut,this.reasoningPromise=new Ut,this.toolCallsPromise=new Ut,this.toolResultsPromise=new Ut,this.requestPromise=new Ut,this.responsePromise=new Ut,this.stepsPromise=new Ut;var K;if(_<1)throw new dt({parameter:"maxSteps",value:_,message:"maxSteps must be at least 1"});this.output=C;let J="",ee="",G="",re;const de={id:W(),timestamp:X(),modelId:e.modelId,messages:[]};let V=[],q=[],Y,E,D="initial";const z=[];let R;const ve=new TransformStream({async transform(rt,Ot){Ot.enqueue(rt);const{part:ge}=rt;if((ge.type==="text-delta"||ge.type==="reasoning"||ge.type==="tool-call"||ge.type==="tool-result"||ge.type==="tool-call-streaming-start"||ge.type==="tool-call-delta")&&await(N==null?void 0:N({chunk:ge})),ge.type==="error"&&await(j==null?void 0:j({error:ge.error})),ge.type==="text-delta"&&(J+=ge.textDelta,ee+=ge.textDelta,G+=ge.textDelta),ge.type==="reasoning"&&(re=(re??"")+ge.textDelta),ge.type==="tool-call"&&V.push(ge),ge.type==="tool-result"&&q.push(ge),ge.type==="step-finish"){const Qe=t1({text:ee,tools:f??{},toolCalls:V,toolResults:q,messageId:ge.messageId,generateMessageId:Q}),Ft=z.length;let St="done";Ft+1<_&&(k&&ge.finishReason==="length"&&V.length===0?St="continue":V.length>0&&q.length===V.length&&(St="tool-result"));const Bn={stepType:D,text:J,reasoning:re,toolCalls:V,toolResults:q,finishReason:ge.finishReason,usage:ge.usage,warnings:ge.warnings,logprobs:ge.logprobs,request:ge.request,response:{...ge.response,messages:[...de.messages,...Qe]},experimental_providerMetadata:ge.experimental_providerMetadata,isContinued:ge.isContinued};await(A==null?void 0:A(Bn)),z.push(Bn),V=[],q=[],J="",St!=="done"&&(D=St),St!=="continue"&&(de.messages.push(...Qe),ee="")}ge.type==="finish"&&(de.id=ge.response.id,de.timestamp=ge.response.timestamp,de.modelId=ge.response.modelId,de.headers=ge.response.headers,E=ge.usage,Y=ge.finishReason)},async flush(rt){var Ot;try{if(z.length===0)return;const ge=z[z.length-1];Ae.warningsPromise.resolve(ge.warnings),Ae.requestPromise.resolve(ge.request),Ae.responsePromise.resolve(ge.response),Ae.toolCallsPromise.resolve(ge.toolCalls),Ae.toolResultsPromise.resolve(ge.toolResults),Ae.providerMetadataPromise.resolve(ge.experimental_providerMetadata);const Qe=Y??"unknown",Ft=E??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};Ae.finishReasonPromise.resolve(Qe),Ae.usagePromise.resolve(Ft),Ae.textPromise.resolve(G),Ae.reasoningPromise.resolve(re),Ae.stepsPromise.resolve(z),await(L==null?void 0:L({finishReason:Qe,logprobs:void 0,usage:Ft,text:G,reasoning:re,toolCalls:ge.toolCalls,toolResults:ge.toolResults,request:(Ot=ge.request)!=null?Ot:{},response:ge.response,warnings:ge.warnings,experimental_providerMetadata:ge.experimental_providerMetadata,steps:z})),R.setAttributes(xr({telemetry:t,attributes:{"ai.response.finishReason":Qe,"ai.response.text":{output:()=>G},"ai.response.toolCalls":{output:()=>{var St;return(St=ge.toolCalls)!=null&&St.length?JSON.stringify(ge.toolCalls):void 0}},"ai.usage.promptTokens":Ft.promptTokens,"ai.usage.completionTokens":Ft.completionTokens}}))}catch(ge){rt.error(ge)}finally{R.end()}}}),me=LS();this.addStream=me.addStream,this.closeStream=me.close;let be=me.stream;for(const rt of v)be=be.pipeThrough(rt({tools:f,stopStream(){me.terminate()}}));this.baseStream=be.pipeThrough(wA(C)).pipeThrough(ve);const{maxRetries:Be,retry:De}=gS({maxRetries:s}),He=vS(t),ot=yS({model:e,telemetry:t,headers:n,settings:{...r,maxRetries:Be}}),qe=xh({prompt:{system:(K=C==null?void 0:C.injectIntoSystemPrompt({system:l,model:e}))!=null?K:l,prompt:u,messages:d},tools:f}),Ae=this;yl({name:"ai.streamText",attributes:xr({telemetry:t,attributes:{...gl({operationId:"ai.streamText",telemetry:t}),...ot,"ai.prompt":{input:()=>JSON.stringify({system:l,prompt:u,messages:d})},"ai.settings.maxSteps":_}}),tracer:He,endWhenDone:!1,fn:async rt=>{R=rt;async function Ot({currentStep:ge,responseMessages:Qe,usage:Ft,stepType:St,previousStepText:Bn,hasLeadingWhitespace:ir,messageId:gn}){var Yr;const Kr=Qe.length===0?qe.type:"messages",La=[...qe.messages,...Qe],Fa=await gh({prompt:{type:Kr,system:qe.system,messages:La},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(Yr=e.supportsUrl)==null?void 0:Yr.bind(e)}),Z={type:"regular",...aA({tools:f,toolChoice:h,activeTools:x})},{result:{stream:ce,warnings:Ce,rawResponse:Me,request:Ze},doStreamSpan:ht,startTimestampMs:Tn}=await De(()=>yl({name:"ai.streamText.doStream",attributes:xr({telemetry:t,attributes:{...gl({operationId:"ai.streamText.doStream",telemetry:t}),...ot,"ai.prompt.format":{input:()=>Kr},"ai.prompt.messages":{input:()=>JSON.stringify(Fa)},"ai.prompt.tools":{input:()=>{var Je;return(Je=Z.tools)==null?void 0:Je.map(mt=>JSON.stringify(mt))}},"ai.prompt.toolChoice":{input:()=>Z.toolChoice!=null?JSON.stringify(Z.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.stop_sequences":r.stopSequences,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:He,endWhenDone:!1,fn:async Je=>({startTimestampMs:U(),doStreamSpan:Je,result:await e.doStream({mode:Z,...yh(r),inputFormat:Kr,responseFormat:C==null?void 0:C.responseFormat({model:e}),prompt:Fa,providerMetadata:I,abortSignal:i,headers:n})})})),an=gA({tools:f,generatorStream:ce,toolCallStreaming:g,tracer:He,telemetry:t,system:l,messages:La,repairToolCall:S,abortSignal:i}),Hn=Ze??{},Kt=[],Ct=[];let Pt="unknown",kt={promptTokens:0,completionTokens:0,totalTokens:0},za,Ss=!0,En="",Xr="",_i=St==="continue"?Bn:"",ks,sn={id:W(),timestamp:X(),modelId:e.modelId},Nr="",Ci=!1,_s=!0,Ti=!1;async function Or({controller:Je,chunk:mt}){Je.enqueue(mt),En+=mt.textDelta,_i+=mt.textDelta,Ci=!0,Ti=mt.textDelta.trimEnd()!==mt.textDelta}Ae.addStream(an.pipeThrough(new TransformStream({async transform(Je,mt){var In,qn,Nn;if(Ss){const on=U()-Tn;Ss=!1,ht.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":on}),ht.setAttributes({"ai.response.msToFirstChunk":on}),mt.enqueue({type:"step-start",messageId:gn,request:Hn,warnings:Ce??[]})}if(Je.type==="text-delta"&&Je.textDelta.length===0)return;const $a=Je.type;switch($a){case"text-delta":{if(k){const on=_s&&ir?Je.textDelta.trimStart():Je.textDelta;if(on.length===0)break;_s=!1,Nr+=on;const Cs=iA(Nr);Cs!=null&&(Nr=Cs.suffix,await Or({controller:mt,chunk:{type:"text-delta",textDelta:Cs.prefix+Cs.whitespace}}))}else await Or({controller:mt,chunk:Je});break}case"reasoning":{mt.enqueue(Je),Xr+=Je.textDelta;break}case"tool-call":{mt.enqueue(Je),Kt.push(Je);break}case"tool-result":{mt.enqueue(Je),Ct.push(Je);break}case"response-metadata":{sn={id:(In=Je.id)!=null?In:sn.id,timestamp:(qn=Je.timestamp)!=null?qn:sn.timestamp,modelId:(Nn=Je.modelId)!=null?Nn:sn.modelId};break}case"finish":{kt=Je.usage,Pt=Je.finishReason,za=Je.experimental_providerMetadata,ks=Je.logprobs;const on=U()-Tn;ht.addEvent("ai.stream.finish"),ht.setAttributes({"ai.response.msToFinish":on,"ai.response.avgCompletionTokensPerSecond":1e3*kt.completionTokens/on});break}case"tool-call-streaming-start":case"tool-call-delta":{mt.enqueue(Je);break}case"error":{mt.enqueue(Je),Pt="error";break}default:{const on=$a;throw new Error(`Unknown chunk type: ${on}`)}}},async flush(Je){const mt=Kt.length>0?JSON.stringify(Kt):void 0;let In="done";ge+1<_&&(k&&Pt==="length"&&Kt.length===0?In="continue":Kt.length>0&&Ct.length===Kt.length&&(In="tool-result")),k&&Nr.length>0&&(In!=="continue"||St==="continue"&&!Ci)&&(await Or({controller:Je,chunk:{type:"text-delta",textDelta:Nr}}),Nr="");try{ht.setAttributes(xr({telemetry:t,attributes:{"ai.response.finishReason":Pt,"ai.response.text":{output:()=>En},"ai.response.toolCalls":{output:()=>mt},"ai.response.id":sn.id,"ai.response.model":sn.modelId,"ai.response.timestamp":sn.timestamp.toISOString(),"ai.usage.promptTokens":kt.promptTokens,"ai.usage.completionTokens":kt.completionTokens,"gen_ai.response.finish_reasons":[Pt],"gen_ai.response.id":sn.id,"gen_ai.response.model":sn.modelId,"gen_ai.usage.input_tokens":kt.promptTokens,"gen_ai.usage.output_tokens":kt.completionTokens}}))}catch{}finally{ht.end()}Je.enqueue({type:"step-finish",finishReason:Pt,usage:kt,experimental_providerMetadata:za,logprobs:ks,request:Hn,response:{...sn,headers:Me==null?void 0:Me.headers},warnings:Ce,isContinued:In==="continue",messageId:gn});const qn=$5(Ft,kt);if(In==="done")Je.enqueue({type:"finish",finishReason:Pt,usage:qn,experimental_providerMetadata:za,logprobs:ks,response:{...sn,headers:Me==null?void 0:Me.headers}}),Ae.closeStream();else{if(St==="continue"){const Nn=Qe[Qe.length-1];typeof Nn.content=="string"?Nn.content+=En:Nn.content.push({text:En,type:"text"})}else Qe.push(...t1({text:En,tools:f??{},toolCalls:Kt,toolResults:Ct,messageId:gn,generateMessageId:Q}));await Ot({currentStep:ge+1,responseMessages:Qe,usage:qn,stepType:In,previousStepText:_i,hasLeadingWhitespace:Ti,messageId:In==="continue"?gn:Q()})}}})))}await Ot({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:Q()})}}).catch(rt=>{Ae.addStream(new ReadableStream({start(Ot){Ot.enqueue({type:"error",error:rt}),Ot.close()}})),Ae.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return us(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.textDelta)}})))}get fullStream(){return us(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(){const e=this.fullStream;for await(const t of e);}get experimental_partialOutputStream(){if(this.output==null)throw new eA;return us(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:n=!1}){let r="";const s=new TransformStream({async transform(l,u){u.enqueue(l),l.type==="text-delta"&&(r+=l.textDelta)}}),i=new TransformStream({transform:async(l,u)=>{const d=l.type;switch(d){case"text-delta":{u.enqueue(Ln("text",l.textDelta));break}case"reasoning":{n&&u.enqueue(Ln("reasoning",l.textDelta));break}case"tool-call-streaming-start":{u.enqueue(Ln("tool_call_streaming_start",{toolCallId:l.toolCallId,toolName:l.toolName}));break}case"tool-call-delta":{u.enqueue(Ln("tool_call_delta",{toolCallId:l.toolCallId,argsTextDelta:l.argsTextDelta}));break}case"tool-call":{u.enqueue(Ln("tool_call",{toolCallId:l.toolCallId,toolName:l.toolName,args:l.args}));break}case"tool-result":{u.enqueue(Ln("tool_result",{toolCallId:l.toolCallId,result:l.result}));break}case"error":{u.enqueue(Ln("error",e(l.error)));break}case"step-start":{u.enqueue(Ln("start_step",{messageId:l.messageId}));break}case"step-finish":{u.enqueue(Ln("finish_step",{finishReason:l.finishReason,usage:t?{promptTokens:l.usage.promptTokens,completionTokens:l.usage.completionTokens}:void 0,isContinued:l.isContinued}));break}case"finish":{u.enqueue(Ln("finish_message",{finishReason:l.finishReason,usage:t?{promptTokens:l.usage.promptTokens,completionTokens:l.usage.completionTokens}:void 0}));break}default:{const f=d;throw new Error(`Unknown chunk type: ${f}`)}}}});return this.fullStream.pipeThrough(s).pipeThrough(i)}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:r,data:s,getErrorMessage:i,sendUsage:l,sendReasoning:u}={}){mh({response:e,status:t,statusText:n,headers:hh(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:s,getErrorMessage:i,sendUsage:l,sendReasoning:u})})}pipeTextStreamToResponse(e,t){mh({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:hh(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){const t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage,sendReasoning:e==null?void 0:e.sendReasoning}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?km(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:t==null?void 0:t.sendUsage,sendReasoning:t==null?void 0:t.sendReasoning}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:r,getErrorMessage:s,sendUsage:i,sendReasoning:l}={}){return new Response(this.toDataStream({data:r,getErrorMessage:s,sendUsage:i,sendReasoning:l}),{status:t,statusText:n,headers:ml(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:ml(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},SA={};Sm(SA,{mergeIntoDataStream:()=>CA,toDataStream:()=>kA,toDataStreamResponse:()=>_A});function tk(e={}){const t=new TextEncoder;let n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,s){s.enqueue(t.encode(r)),n+=r,e.onToken&&await e.onToken(r),e.onText&&typeof r=="string"&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function _m(e,t){return e.pipeThrough(new TransformStream({transform:async(n,r)=>{var s;if(typeof n=="string"){r.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&n1((s=n.data)==null?void 0:s.chunk,r);return}n1(n,r)}})).pipeThrough(tk(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,r)=>{r.enqueue(Ln("text",n))}}))}function kA(e,t){return _m(e,t).pipeThrough(new TextEncoderStream)}function _A(e,t){var n;const r=_m(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),s=t==null?void 0:t.data,i=t==null?void 0:t.init,l=s?km(s.stream,r):r;return new Response(l,{status:(n=i==null?void 0:i.status)!=null?n:200,statusText:i==null?void 0:i.statusText,headers:ml(i==null?void 0:i.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function CA(e,t){t.dataStream.merge(_m(e,t.callbacks))}function n1(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{const n=e.content;for(const r of n)r.type==="text"&&t.enqueue(r.text)}}var TA={};Sm(TA,{mergeIntoDataStream:()=>NA,toDataStream:()=>EA,toDataStreamResponse:()=>IA});function Cm(e,t){const n=OA();return lj(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(r,s){s.enqueue(n(r.delta))}})).pipeThrough(tk(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,s)=>{s.enqueue(Ln("text",r))}}))}function EA(e,t){return Cm(e,t).pipeThrough(new TextEncoderStream)}function IA(e,t={}){var n;const{init:r,data:s,callbacks:i}=t,l=Cm(e,i).pipeThrough(new TextEncoderStream),u=s?km(s.stream,l):l;return new Response(u,{status:(n=r==null?void 0:r.status)!=null?n:200,statusText:r==null?void 0:r.statusText,headers:ml(r==null?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function NA(e,t){t.dataStream.merge(Cm(e,t.callbacks))}function OA(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var jA=w.object({type:w.literal("error"),error:w.object({type:w.string(),message:w.string()})}),r1=Er({errorSchema:jA,errorToMessage:e=>e.error.message});function RA({prompt:e}){var t,n,r,s;const i=new Set,l=PA(e);let u;const d=[];function f(h){var g;const v=h==null?void 0:h.anthropic;return(g=v==null?void 0:v.cacheControl)!=null?g:v==null?void 0:v.cache_control}for(let h=0;h<l.length;h++){const g=l[h],v=h===l.length-1,x=g.type;switch(x){case"system":{if(u!=null)throw new ze({functionality:"Multiple system messages that are separated by user/assistant messages"});u=g.messages.map(({content:S,providerMetadata:_})=>({type:"text",text:S,cache_control:f(_)}));break}case"user":{const S=[];for(const _ of g.messages){const{role:C,content:k}=_;switch(C){case"user":{for(let I=0;I<k.length;I++){const N=k[I],j=I===k.length-1,L=(t=f(N.providerMetadata))!=null?t:j?f(_.providerMetadata):void 0;switch(N.type){case"text":{S.push({type:"text",text:N.text,cache_control:L});break}case"image":{if(N.image instanceof URL)throw new ze({functionality:"Image URLs in user messages"});S.push({type:"image",source:{type:"base64",media_type:(n=N.mimeType)!=null?n:"image/jpeg",data:Vr(N.image)},cache_control:L});break}case"file":{if(N.data instanceof URL)throw new ze({functionality:"Image URLs in user messages"});if(N.mimeType!=="application/pdf")throw new ze({functionality:"Non-PDF files in user messages"});i.add("pdfs-2024-09-25"),S.push({type:"document",source:{type:"base64",media_type:"application/pdf",data:N.data},cache_control:L});break}}}break}case"tool":{for(let I=0;I<k.length;I++){const N=k[I],j=I===k.length-1,L=(r=f(N.providerMetadata))!=null?r:j?f(_.providerMetadata):void 0,A=N.content!=null?N.content.map(U=>{var X;switch(U.type){case"text":return{type:"text",text:U.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(X=U.mimeType)!=null?X:"image/jpeg",data:U.data},cache_control:void 0}}}):JSON.stringify(N.result);S.push({type:"tool_result",tool_use_id:N.toolCallId,content:A,is_error:N.isError,cache_control:L})}break}default:{const I=C;throw new Error(`Unsupported role: ${I}`)}}}d.push({role:"user",content:S});break}case"assistant":{const S=[];for(let _=0;_<g.messages.length;_++){const C=g.messages[_],k=_===g.messages.length-1,{content:I}=C;for(let N=0;N<I.length;N++){const j=I[N],L=N===I.length-1,A=(s=f(j.providerMetadata))!=null?s:L?f(C.providerMetadata):void 0;switch(j.type){case"text":{S.push({type:"text",text:v&&k&&L?j.text.trim():j.text,cache_control:A});break}case"tool-call":{S.push({type:"tool_use",id:j.toolCallId,name:j.toolName,input:j.args,cache_control:A});break}}}}d.push({role:"assistant",content:S});break}default:{const S=x;throw new Error(`Unsupported type: ${S}`)}}}return{prompt:{system:u,messages:d},betas:i}}function PA(e){const t=[];let n;for(const r of e){const{role:s}=r;switch(s){case"system":{(n==null?void 0:n.type)!=="system"&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(r);break}case"assistant":{(n==null?void 0:n.type)!=="assistant"&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(r);break}case"user":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}case"tool":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}default:{const i=s;throw new Error(`Unsupported role: ${i}`)}}}return t}function a1(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function AA(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],s=new Set;if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:s};const i=[];for(const d of n)switch(d.type){case"function":i.push({name:d.name,description:d.description,input_schema:d.parameters});break;case"provider-defined":switch(s.add("computer-use-2024-10-22"),d.id){case"anthropic.computer_20241022":i.push({name:d.name,type:"computer_20241022",display_width_px:d.args.displayWidthPx,display_height_px:d.args.displayHeightPx,display_number:d.args.displayNumber});break;case"anthropic.text_editor_20241022":i.push({name:d.name,type:"text_editor_20241022"});break;case"anthropic.bash_20241022":i.push({name:d.name,type:"bash_20241022"});break;default:r.push({type:"unsupported-tool",tool:d});break}break;default:r.push({type:"unsupported-tool",tool:d});break}const l=e.toolChoice;if(l==null)return{tools:i,tool_choice:void 0,toolWarnings:r,betas:s};const u=l.type;switch(u){case"auto":return{tools:i,tool_choice:{type:"auto"},toolWarnings:r,betas:s};case"required":return{tools:i,tool_choice:{type:"any"},toolWarnings:r,betas:s};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:s};case"tool":return{tools:i,tool_choice:{type:"tool",name:l.toolName},toolWarnings:r,betas:s};default:{const d=u;throw new ze({functionality:`Unsupported tool choice type: ${d}`})}}}var DA=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:d,responseFormat:f,seed:h}){const g=e.type,v=[];l!=null&&v.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&v.push({type:"unsupported-setting",setting:"presencePenalty"}),h!=null&&v.push({type:"unsupported-setting",setting:"seed"}),f!=null&&f.type!=="text"&&v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:x,betas:S}=RA({prompt:t}),_={model:this.modelId,max_tokens:n??4096,temperature:r,top_k:i,top_p:s,stop_sequences:d,system:x.system,messages:x.messages};switch(g){case"regular":{const{tools:C,tool_choice:k,toolWarnings:I,betas:N}=AA(e);return{args:{..._,tools:C,tool_choice:k},warnings:[...v,...I],betas:new Set([...S,...N])}}case"object-json":throw new ze({functionality:"json-mode object generation"});case"object-tool":{const{name:C,description:k,parameters:I}=e.tool;return{args:{..._,tools:[{name:C,description:k,input_schema:I}],tool_choice:{type:"tool",name:C}},warnings:v,betas:S}}default:{const C=g;throw new Error(`Unsupported type: ${C}`)}}}async getHeaders({betas:e,headers:t}){return bt(await Do(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,n,r;return(r=(n=(t=this.config).buildRequestUrl)==null?void 0:n.call(t,this.config.baseURL,e))!=null?r:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,n,r;return(r=(n=(t=this.config).transformRequestBody)==null?void 0:n.call(t,e))!=null?r:e}async doGenerate(e){var t,n,r,s;const{args:i,warnings:l,betas:u}=await this.getArgs(e),{responseHeaders:d,value:f}=await pt({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:u,headers:e.headers}),body:this.transformRequestBody(i),failedResponseHandler:r1,successfulResponseHandler:Gt(MA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...g}=i;let v="";for(const S of f.content)S.type==="text"&&(v+=S.text);let x;if(f.content.some(S=>S.type==="tool_use")){x=[];for(const S of f.content)S.type==="tool_use"&&x.push({toolCallType:"function",toolCallId:S.id,toolName:S.name,args:JSON.stringify(S.input)})}return{text:v,toolCalls:x,finishReason:a1(f.stop_reason),usage:{promptTokens:f.usage.input_tokens,completionTokens:f.usage.output_tokens},rawCall:{rawPrompt:h,rawSettings:g},rawResponse:{headers:d},response:{id:(t=f.id)!=null?t:void 0,modelId:(n=f.model)!=null?n:void 0},warnings:l,providerMetadata:{anthropic:{cacheCreationInputTokens:(r=f.usage.cache_creation_input_tokens)!=null?r:null,cacheReadInputTokens:(s=f.usage.cache_read_input_tokens)!=null?s:null}},request:{body:JSON.stringify(i)}}}async doStream(e){const{args:t,warnings:n,betas:r}=await this.getArgs(e),s={...t,stream:!0},{responseHeaders:i,value:l}=await pt({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:r,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:r1,successfulResponseHandler:Da(LA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:u,...d}=t;let f="unknown";const h={promptTokens:Number.NaN,completionTokens:Number.NaN},g={};let v;return{stream:l.pipeThrough(new TransformStream({transform(x,S){var _,C,k,I;if(!x.success){S.enqueue({type:"error",error:x.error});return}const N=x.value;switch(N.type){case"ping":return;case"content_block_start":{const j=N.content_block.type;switch(j){case"text":return;case"tool_use":{g[N.index]={toolCallId:N.content_block.id,toolName:N.content_block.name,jsonText:""};return}default:{const L=j;throw new Error(`Unsupported content block type: ${L}`)}}}case"content_block_stop":{if(g[N.index]!=null){const j=g[N.index];S.enqueue({type:"tool-call",toolCallType:"function",toolCallId:j.toolCallId,toolName:j.toolName,args:j.jsonText}),delete g[N.index]}return}case"content_block_delta":{const j=N.delta.type;switch(j){case"text_delta":{S.enqueue({type:"text-delta",textDelta:N.delta.text});return}case"input_json_delta":{const L=g[N.index];S.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:L.toolCallId,toolName:L.toolName,argsTextDelta:N.delta.partial_json}),L.jsonText+=N.delta.partial_json;return}default:{const L=j;throw new Error(`Unsupported delta type: ${L}`)}}}case"message_start":{h.promptTokens=N.message.usage.input_tokens,h.completionTokens=N.message.usage.output_tokens,v={anthropic:{cacheCreationInputTokens:(_=N.message.usage.cache_creation_input_tokens)!=null?_:null,cacheReadInputTokens:(C=N.message.usage.cache_read_input_tokens)!=null?C:null}},S.enqueue({type:"response-metadata",id:(k=N.message.id)!=null?k:void 0,modelId:(I=N.message.model)!=null?I:void 0});return}case"message_delta":{h.completionTokens=N.usage.output_tokens,f=a1(N.delta.stop_reason);return}case"message_stop":{S.enqueue({type:"finish",finishReason:f,usage:h,providerMetadata:v});return}case"error":{S.enqueue({type:"error",error:N.error});return}default:{const j=N;throw new Error(`Unsupported chunk type: ${j}`)}}}})),rawCall:{rawPrompt:u,rawSettings:d},rawResponse:{headers:i},warnings:n,request:{body:JSON.stringify(s)}}}},MA=w.object({type:w.literal("message"),id:w.string().nullish(),model:w.string().nullish(),content:w.array(w.discriminatedUnion("type",[w.object({type:w.literal("text"),text:w.string()}),w.object({type:w.literal("tool_use"),id:w.string(),name:w.string(),input:w.unknown()})])),stop_reason:w.string().nullish(),usage:w.object({input_tokens:w.number(),output_tokens:w.number(),cache_creation_input_tokens:w.number().nullish(),cache_read_input_tokens:w.number().nullish()})}),LA=w.discriminatedUnion("type",[w.object({type:w.literal("message_start"),message:w.object({id:w.string().nullish(),model:w.string().nullish(),usage:w.object({input_tokens:w.number(),output_tokens:w.number(),cache_creation_input_tokens:w.number().nullish(),cache_read_input_tokens:w.number().nullish()})})}),w.object({type:w.literal("content_block_start"),index:w.number(),content_block:w.discriminatedUnion("type",[w.object({type:w.literal("text"),text:w.string()}),w.object({type:w.literal("tool_use"),id:w.string(),name:w.string()})])}),w.object({type:w.literal("content_block_delta"),index:w.number(),delta:w.discriminatedUnion("type",[w.object({type:w.literal("input_json_delta"),partial_json:w.string()}),w.object({type:w.literal("text_delta"),text:w.string()})])}),w.object({type:w.literal("content_block_stop"),index:w.number()}),w.object({type:w.literal("error"),error:w.object({type:w.string(),message:w.string()})}),w.object({type:w.literal("message_delta"),delta:w.object({stop_reason:w.string().nullish()}),usage:w.object({output_tokens:w.number()})}),w.object({type:w.literal("message_stop")}),w.object({type:w.literal("ping")})]),FA=w.object({command:w.string(),restart:w.boolean().optional()});function zA(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:FA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var $A=w.object({command:w.enum(["view","create","str_replace","insert","undo_edit"]),path:w.string(),file_text:w.string().optional(),insert_line:w.number().int().optional(),new_str:w.string().optional(),old_str:w.string().optional(),view_range:w.array(w.number().int()).optional()});function UA(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:$A,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var BA=w.object({action:w.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:w.array(w.number().int()).optional(),text:w.string().optional()});function HA(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:BA,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var qA={bash_20241022:zA,textEditor_20241022:UA,computer_20241022:HA};function nk(e={}){var t;const n=(t=Gr(e.baseURL))!=null?t:"https://api.anthropic.com/v1",r=()=>({"anthropic-version":"2023-06-01","x-api-key":Aa({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),s=(l,u={})=>new DA(l,u,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:e.fetch}),i=function(l,u){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(l,u)};return i.languageModel=s,i.chat=s,i.messages=s,i.textEmbeddingModel=l=>{throw new ci({modelId:l,modelType:"textEmbeddingModel"})},i.tools=qA,i}nk();function po(e){var t,n;return(n=(t=e==null?void 0:e.providerMetadata)==null?void 0:t.openaiCompatible)!=null?n:{}}function VA(e){const t=[];for(const{role:n,content:r,...s}of e){const i=po({...s});switch(n){case"system":{t.push({role:"system",content:r,...i});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text,...po(r[0])});break}t.push({role:"user",content:r.map(l=>{var u;const d=po(l);switch(l.type){case"text":return{type:"text",text:l.text,...d};case"image":return{type:"image_url",image_url:{url:l.image instanceof URL?l.image.toString():`data:${(u=l.mimeType)!=null?u:"image/jpeg"};base64,${Vr(l.image)}`},...d};case"file":throw new ze({functionality:"File content parts in user messages"})}}),...i});break}case"assistant":{let l="";const u=[];for(const d of r){const f=po(d);switch(d.type){case"text":{l+=d.text;break}case"tool-call":{u.push({id:d.toolCallId,type:"function",function:{name:d.toolName,arguments:JSON.stringify(d.args)},...f});break}default:{const h=d;throw new Error(`Unsupported part: ${h}`)}}}t.push({role:"assistant",content:l,tool_calls:u.length>0?u:void 0,...i});break}case"tool":{for(const l of r){const u=po(l);t.push({role:"tool",tool_call_id:l.toolCallId,content:JSON.stringify(l.result),...u})}break}default:{const l=n;throw new Error(`Unsupported role: ${l}`)}}}return t}function Ec({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function Ic(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var WA=w.object({error:w.object({message:w.string(),type:w.string().nullish(),param:w.any().nullish(),code:w.union([w.string(),w.number()]).nullish()})}),Tm={errorSchema:WA};function ZA({mode:e,structuredOutputs:t}){var n;const r=(n=e.tools)!=null&&n.length?e.tools:void 0,s=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:s};const i=e.toolChoice,l=[];for(const d of r)d.type==="provider-defined"?s.push({type:"unsupported-tool",tool:d}):l.push({type:"function",function:{name:d.name,description:d.description,parameters:d.parameters}});if(i==null)return{tools:l,tool_choice:void 0,toolWarnings:s};const u=i.type;switch(u){case"auto":case"none":case"required":return{tools:l,tool_choice:u,toolWarnings:s};case"tool":return{tools:l,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:s};default:{const d=u;throw new ze({functionality:`Unsupported tool choice type: ${d}`})}}}var Em=class{constructor(e,t,n){this.specificationVersion="v1";var r,s;this.modelId=e,this.settings=t,this.config=n;const i=(r=n.errorStructure)!=null?r:Tm;this.chunkSchema=GA(i.errorSchema),this.failedResponseHandler=Er(i),this.supportsStructuredOutputs=(s=n.supportsStructuredOutputs)!=null?s:!1}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,providerMetadata:d,stopSequences:f,responseFormat:h,seed:g}){var v,x;const S=e.type,_=[];i!=null&&_.push({type:"unsupported-setting",setting:"topK"}),(h==null?void 0:h.type)==="json"&&h.schema!=null&&!this.supportsStructuredOutputs&&_.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const C={model:this.modelId,user:this.settings.user,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:u,response_format:(h==null?void 0:h.type)==="json"?this.supportsStructuredOutputs===!0&&h.schema!=null?{type:"json_schema",json_schema:{schema:h.schema,name:(v=h.name)!=null?v:"response",description:h.description}}:{type:"json_object"}:void 0,stop:f,seed:g,...d==null?void 0:d[this.providerOptionsName],messages:VA(t)};switch(S){case"regular":{const{tools:k,tool_choice:I,toolWarnings:N}=ZA({mode:e,structuredOutputs:this.supportsStructuredOutputs});return{args:{...C,tools:k,tool_choice:I},warnings:[..._,...N]}}case"object-json":return{args:{...C,response_format:this.supportsStructuredOutputs===!0&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,name:(x=e.name)!=null?x:"response",description:e.description}}:{type:"json_object"}},warnings:_};case"object-tool":return{args:{...C,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:_};default:{const k=S;throw new Error(`Unsupported type: ${k}`)}}}async doGenerate(e){var t,n,r,s,i,l,u,d,f;const{args:h,warnings:g}=this.getArgs({...e}),v=JSON.stringify(h),{responseHeaders:x,value:S,rawValue:_}=await pt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:h,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Gt(JA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:C,...k}=h,I=S.choices[0],N=(n=(t=this.config.metadataExtractor)==null?void 0:t.extractMetadata)==null?void 0:n.call(t,{parsedBody:_});return{text:(r=I.message.content)!=null?r:void 0,reasoning:(s=I.message.reasoning_content)!=null?s:void 0,toolCalls:(i=I.message.tool_calls)==null?void 0:i.map(j=>{var L;return{toolCallType:"function",toolCallId:(L=j.id)!=null?L:nn(),toolName:j.function.name,args:j.function.arguments}}),finishReason:Ic(I.finish_reason),usage:{promptTokens:(u=(l=S.usage)==null?void 0:l.prompt_tokens)!=null?u:NaN,completionTokens:(f=(d=S.usage)==null?void 0:d.completion_tokens)!=null?f:NaN},...N&&{providerMetadata:N},rawCall:{rawPrompt:C,rawSettings:k},rawResponse:{headers:x},response:Ec(S),warnings:g,request:{body:v}}}async doStream(e){var t;if(this.settings.simulateStreaming){const S=await this.doGenerate(e);return{stream:new ReadableStream({start(C){if(C.enqueue({type:"response-metadata",...S.response}),S.reasoning&&C.enqueue({type:"reasoning",textDelta:S.reasoning}),S.text&&C.enqueue({type:"text-delta",textDelta:S.text}),S.toolCalls)for(const k of S.toolCalls)C.enqueue({type:"tool-call",...k});C.enqueue({type:"finish",finishReason:S.finishReason,usage:S.usage,logprobs:S.logprobs,providerMetadata:S.providerMetadata}),C.close()}}),rawCall:S.rawCall,rawResponse:S.rawResponse,warnings:S.warnings}}const{args:n,warnings:r}=this.getArgs({...e}),s=JSON.stringify({...n,stream:!0}),i=(t=this.config.metadataExtractor)==null?void 0:t.createStreamExtractor(),{responseHeaders:l,value:u}=await pt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:{...n,stream:!0},failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Da(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:d,...f}=n,h=[];let g="unknown",v={promptTokens:void 0,completionTokens:void 0},x=!0;return{stream:u.pipeThrough(new TransformStream({transform(S,_){var C,k,I,N,j,L,A,U,X,W,Q,K,J,ee;if(!S.success){g="error",_.enqueue({type:"error",error:S.error});return}const G=S.value;if(i==null||i.processChunk(S.rawValue),"error"in G){g="error",_.enqueue({type:"error",error:G.error.message});return}x&&(x=!1,_.enqueue({type:"response-metadata",...Ec(G)})),G.usage!=null&&(v={promptTokens:(C=G.usage.prompt_tokens)!=null?C:void 0,completionTokens:(k=G.usage.completion_tokens)!=null?k:void 0});const re=G.choices[0];if((re==null?void 0:re.finish_reason)!=null&&(g=Ic(re.finish_reason)),(re==null?void 0:re.delta)==null)return;const de=re.delta;if(de.reasoning_content!=null&&_.enqueue({type:"reasoning",textDelta:de.reasoning_content}),de.content!=null&&_.enqueue({type:"text-delta",textDelta:de.content}),de.tool_calls!=null)for(const V of de.tool_calls){const q=V.index;if(h[q]==null){if(V.type!=="function")throw new Br({data:V,message:"Expected 'function' type."});if(V.id==null)throw new Br({data:V,message:"Expected 'id' to be a string."});if(((I=V.function)==null?void 0:I.name)==null)throw new Br({data:V,message:"Expected 'function.name' to be a string."});h[q]={id:V.id,type:"function",function:{name:V.function.name,arguments:(N=V.function.arguments)!=null?N:""},hasFinished:!1};const E=h[q];((j=E.function)==null?void 0:j.name)!=null&&((L=E.function)==null?void 0:L.arguments)!=null&&(E.function.arguments.length>0&&_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:E.id,toolName:E.function.name,argsTextDelta:E.function.arguments}),di(E.function.arguments)&&(_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(A=E.id)!=null?A:nn(),toolName:E.function.name,args:E.function.arguments}),E.hasFinished=!0));continue}const Y=h[q];Y.hasFinished||(((U=V.function)==null?void 0:U.arguments)!=null&&(Y.function.arguments+=(W=(X=V.function)==null?void 0:X.arguments)!=null?W:""),_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Y.id,toolName:Y.function.name,argsTextDelta:(Q=V.function.arguments)!=null?Q:""}),((K=Y.function)==null?void 0:K.name)!=null&&((J=Y.function)==null?void 0:J.arguments)!=null&&di(Y.function.arguments)&&(_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ee=Y.id)!=null?ee:nn(),toolName:Y.function.name,args:Y.function.arguments}),Y.hasFinished=!0))}},flush(S){var _,C;const k=i==null?void 0:i.buildMetadata();S.enqueue({type:"finish",finishReason:g,usage:{promptTokens:(_=v.promptTokens)!=null?_:NaN,completionTokens:(C=v.completionTokens)!=null?C:NaN},...k&&{providerMetadata:k}})}})),rawCall:{rawPrompt:d,rawSettings:f},rawResponse:{headers:l},warnings:r,request:{body:s}}}},JA=w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({message:w.object({role:w.literal("assistant").nullish(),content:w.string().nullish(),reasoning_content:w.string().nullish(),tool_calls:w.array(w.object({id:w.string().nullish(),type:w.literal("function"),function:w.object({name:w.string(),arguments:w.string()})})).nullish()}),finish_reason:w.string().nullish()})),usage:w.object({prompt_tokens:w.number().nullish(),completion_tokens:w.number().nullish()}).nullish()}),GA=e=>w.union([w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({delta:w.object({role:w.enum(["assistant"]).nullish(),content:w.string().nullish(),reasoning_content:w.string().nullish(),tool_calls:w.array(w.object({index:w.number(),id:w.string().nullish(),type:w.literal("function").optional(),function:w.object({name:w.string().nullish(),arguments:w.string().nullish()})})).nullish()}).nullish(),finish_reason:w.string().nullish()})),usage:w.object({prompt_tokens:w.number().nullish(),completion_tokens:w.number().nullish()}).nullish()}),e]);function YA({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(const{role:i,content:l}of e)switch(i){case"system":throw new ba({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const u=l.map(d=>{switch(d.type){case"text":return d.text;case"image":throw new ze({functionality:"images"})}}).join("");s+=`${n}:
${u}

`;break}case"assistant":{const u=l.map(d=>{switch(d.type){case"text":return d.text;case"tool-call":throw new ze({functionality:"tool-call messages"})}}).join("");s+=`${r}:
${u}

`;break}case"tool":throw new ze({functionality:"tool messages"});default:{const u=i;throw new Error(`Unsupported role: ${u}`)}}return s+=`${r}:
`,{prompt:s,stopSequences:[`
${n}:`]}}var KA=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0;var r;this.modelId=e,this.settings=t,this.config=n;const s=(r=n.errorStructure)!=null?r:Tm;this.chunkSchema=QA(s.errorSchema),this.failedResponseHandler=Er(s)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:s,topP:i,topK:l,frequencyPenalty:u,presencePenalty:d,stopSequences:f,responseFormat:h,seed:g,providerMetadata:v}){var x;const S=e.type,_=[];l!=null&&_.push({type:"unsupported-setting",setting:"topK"}),h!=null&&h.type!=="text"&&_.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:C,stopSequences:k}=YA({prompt:n,inputFormat:t}),I=[...k??[],...f??[]],N={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:s,top_p:i,frequency_penalty:u,presence_penalty:d,seed:g,...v==null?void 0:v[this.providerOptionsName],prompt:C,stop:I.length>0?I:void 0};switch(S){case"regular":{if((x=e.tools)!=null&&x.length)throw new ze({functionality:"tools"});if(e.toolChoice)throw new ze({functionality:"toolChoice"});return{args:N,warnings:_}}case"object-json":throw new ze({functionality:"object-json mode"});case"object-tool":throw new ze({functionality:"object-tool mode"});default:{const j=S;throw new Error(`Unsupported type: ${j}`)}}}async doGenerate(e){var t,n,r,s;const{args:i,warnings:l}=this.getArgs(e),{responseHeaders:u,value:d}=await pt({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:i,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Gt(XA),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:f,...h}=i,g=d.choices[0];return{text:g.text,usage:{promptTokens:(n=(t=d.usage)==null?void 0:t.prompt_tokens)!=null?n:NaN,completionTokens:(s=(r=d.usage)==null?void 0:r.completion_tokens)!=null?s:NaN},finishReason:Ic(g.finish_reason),rawCall:{rawPrompt:f,rawSettings:h},rawResponse:{headers:u},response:Ec(d),warnings:l,request:{body:JSON.stringify(i)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0},{responseHeaders:s,value:i}=await pt({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:r,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Da(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...u}=t;let d="unknown",f={promptTokens:Number.NaN,completionTokens:Number.NaN},h=!0;return{stream:i.pipeThrough(new TransformStream({transform(g,v){if(!g.success){d="error",v.enqueue({type:"error",error:g.error});return}const x=g.value;if("error"in x){d="error",v.enqueue({type:"error",error:x.error});return}h&&(h=!1,v.enqueue({type:"response-metadata",...Ec(x)})),x.usage!=null&&(f={promptTokens:x.usage.prompt_tokens,completionTokens:x.usage.completion_tokens});const S=x.choices[0];(S==null?void 0:S.finish_reason)!=null&&(d=Ic(S.finish_reason)),(S==null?void 0:S.text)!=null&&v.enqueue({type:"text-delta",textDelta:S.text})},flush(g){g.enqueue({type:"finish",finishReason:d,usage:f})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(r)}}}},XA=w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({text:w.string(),finish_reason:w.string()})),usage:w.object({prompt_tokens:w.number(),completion_tokens:w.number()}).nullish()}),QA=e=>w.union([w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({text:w.string(),finish_reason:w.string().nullish(),index:w.number()})),usage:w.object({prompt_tokens:w.number(),completion_tokens:w.number()}).nullish()}),e]),eD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.config.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.config.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){var r;if(e.length>this.maxEmbeddingsPerCall)throw new Tl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:s,value:i}=await pt({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:bt(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Er((r=this.config.errorStructure)!=null?r:Tm),successfulResponseHandler:Gt(tD),abortSignal:n,fetch:this.config.fetch});return{embeddings:i.data.map(l=>l.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:s}}}},tD=w.object({data:w.array(w.object({embedding:w.array(w.number())})),usage:w.object({prompt_tokens:w.number()}).nullish()});function nD(e){const t=Gr(e.baseURL),n=e.name,r=()=>({...e.apiKey&&{Authorization:`Bearer ${e.apiKey}`},...e.headers}),s=h=>({provider:`${n}.${h}`,url:({path:g})=>{const v=new URL(`${t}${g}`);return e.queryParams&&(v.search=new URLSearchParams(e.queryParams).toString()),v.toString()},headers:r,fetch:e.fetch}),i=(h,g={})=>l(h,g),l=(h,g={})=>new Em(h,g,{...s("chat"),defaultObjectGenerationMode:"tool"}),u=(h,g={})=>new KA(h,g,s("completion")),d=(h,g={})=>new eD(h,g,s("embedding")),f=(h,g)=>i(h,g);return f.languageModel=i,f.chatModel=l,f.completionModel=u,f.textEmbeddingModel=d,f}var s1=e=>{var t,n;return e==null?void 0:{deepseek:{promptCacheHitTokens:(t=e.prompt_cache_hit_tokens)!=null?t:NaN,promptCacheMissTokens:(n=e.prompt_cache_miss_tokens)!=null?n:NaN}}},rD={extractMetadata:({parsedBody:e})=>{const t=wr({value:e,schema:aD});return!t.success||t.value.usage==null?void 0:s1(t.value.usage)},createStreamExtractor:()=>{let e;return{processChunk:t=>{var n,r;const s=wr({value:t,schema:sD});s.success&&((r=(n=s.value.choices)==null?void 0:n[0])==null?void 0:r.finish_reason)==="stop"&&s.value.usage&&(e=s.value.usage)},buildMetadata:()=>s1(e)}}},rk=w.object({prompt_cache_hit_tokens:w.number().nullish(),prompt_cache_miss_tokens:w.number().nullish()}),aD=w.object({usage:rk.nullish()}),sD=w.object({choices:w.array(w.object({finish_reason:w.string().nullish()})).nullish(),usage:rk.nullish()});function ak(e={}){var t;const n=Gr((t=e.baseURL)!=null?t:"https://api.deepseek.com/v1"),r=()=>({Authorization:`Bearer ${Aa({apiKey:e.apiKey,environmentVariableName:"DEEPSEEK_API_KEY",description:"DeepSeek API key"})}`,...e.headers}),s=(l,u={})=>new Em(l,u,{provider:"deepseek.chat",url:({path:d})=>`${n}${d}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:"json",metadataExtractor:rD}),i=(l,u)=>s(l,u);return i.languageModel=s,i.chat=s,i.textEmbeddingModel=l=>{throw new ci({modelId:l,modelType:"textEmbeddingModel"})},i}ak();function hr(e){if(iD(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};const{type:t,description:n,required:r,properties:s,items:i,allOf:l,anyOf:u,oneOf:d,format:f,const:h,minLength:g,enum:v}=e,x={};return n&&(x.description=n),r&&(x.required=r),f&&(x.format=f),h!==void 0&&(x.enum=[h]),t&&(Array.isArray(t)?t.includes("null")?(x.type=t.filter(S=>S!=="null")[0],x.nullable=!0):x.type=t:t==="null"?x.type="null":x.type=t),v!==void 0&&(x.enum=v),s!=null&&(x.properties=Object.entries(s).reduce((S,[_,C])=>(S[_]=hr(C),S),{})),i&&(x.items=Array.isArray(i)?i.map(hr):hr(i)),l&&(x.allOf=l.map(hr)),u&&(x.anyOf=u.map(hr)),d&&(x.oneOf=d.map(hr)),g!==void 0&&(x.minLength=g),x}function iD(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)}function oD(e){var t,n;const r=[],s=[];let i=!0;for(const{role:l,content:u}of e)switch(l){case"system":{if(!i)throw new ze({functionality:"system messages are only supported at the beginning of the conversation"});r.push({text:u});break}case"user":{i=!1;const d=[];for(const f of u)switch(f.type){case"text":{d.push({text:f.text});break}case"image":{d.push(f.image instanceof URL?{fileData:{mimeType:(t=f.mimeType)!=null?t:"image/jpeg",fileUri:f.image.toString()}}:{inlineData:{mimeType:(n=f.mimeType)!=null?n:"image/jpeg",data:Vr(f.image)}});break}case"file":{d.push(f.data instanceof URL?{fileData:{mimeType:f.mimeType,fileUri:f.data.toString()}}:{inlineData:{mimeType:f.mimeType,data:f.data}});break}default:{const h=f;throw new ze({functionality:`prompt part: ${h}`})}}s.push({role:"user",parts:d});break}case"assistant":{i=!1,s.push({role:"model",parts:u.map(d=>{switch(d.type){case"text":return d.text.length===0?void 0:{text:d.text};case"tool-call":return{functionCall:{name:d.toolName,args:d.args}}}}).filter(d=>d!==void 0)});break}case"tool":{i=!1,s.push({role:"user",parts:u.map(d=>({functionResponse:{name:d.toolName,response:{name:d.toolName,content:d.result}}}))});break}default:{const d=l;throw new Error(`Unsupported role: ${d}`)}}return{systemInstruction:r.length>0?{parts:r}:void 0,contents:s}}function i1(e){return e.includes("/")?e:`models/${e}`}var lD=w.object({error:w.object({code:w.number().nullable(),message:w.string(),status:w.string()})}),Sh=Er({errorSchema:lD,errorToMessage:e=>e.error.message});function uD(e,t,n){var r,s;const i=(r=e.tools)!=null&&r.length?e.tools:void 0,l=[];if(t)return{tools:n?{googleSearch:{}}:{googleSearchRetrieval:{}},toolConfig:void 0,toolWarnings:l};if(i==null)return{tools:void 0,toolConfig:void 0,toolWarnings:l};const u=[];for(const h of i)h.type==="provider-defined"?l.push({type:"unsupported-tool",tool:h}):u.push({name:h.name,description:(s=h.description)!=null?s:"",parameters:hr(h.parameters)});const d=e.toolChoice;if(d==null)return{tools:{functionDeclarations:u},toolConfig:void 0,toolWarnings:l};const f=d.type;switch(f){case"auto":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:l};case"none":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:l};case"required":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:l};case"tool":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[d.toolName]}},toolWarnings:l};default:{const h=f;throw new ze({functionality:`Unsupported tool choice type: ${h}`})}}}function o1({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"RECITATION":case"SAFETY":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";default:return"unknown"}}var cD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!0}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:d,responseFormat:f,seed:h}){var g,v;const x=e.type,S=[];h!=null&&S.push({type:"unsupported-setting",setting:"seed"});const _={maxOutputTokens:n,temperature:r,topK:i,topP:s,frequencyPenalty:l,presencePenalty:u,stopSequences:d,responseMimeType:(f==null?void 0:f.type)==="json"?"application/json":void 0,responseSchema:(f==null?void 0:f.type)==="json"&&f.schema!=null&&this.supportsStructuredOutputs?hr(f.schema):void 0,...this.settings.audioTimestamp&&{audioTimestamp:this.settings.audioTimestamp}},{contents:C,systemInstruction:k}=oD(t);switch(x){case"regular":{const{tools:I,toolConfig:N,toolWarnings:j}=uD(e,(g=this.settings.useSearchGrounding)!=null?g:!1,this.modelId.includes("gemini-2"));return{args:{generationConfig:_,contents:C,systemInstruction:k,safetySettings:this.settings.safetySettings,tools:I,toolConfig:N,cachedContent:this.settings.cachedContent},warnings:[...S,...j]}}case"object-json":return{args:{generationConfig:{..._,responseMimeType:"application/json",responseSchema:e.schema!=null&&this.supportsStructuredOutputs?hr(e.schema):void 0},contents:C,systemInstruction:k,safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:S};case"object-tool":return{args:{generationConfig:_,contents:C,tools:{functionDeclarations:[{name:e.tool.name,description:(v=e.tool.description)!=null?v:"",parameters:hr(e.tool.parameters)}]},toolConfig:{functionCallingConfig:{mode:"ANY"}},safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:S};default:{const I=x;throw new Error(`Unsupported type: ${I}`)}}}supportsUrl(e){return this.config.isSupportedUrl(e)}async doGenerate(e){var t,n,r,s,i,l,u,d;const{args:f,warnings:h}=await this.getArgs(e),g=JSON.stringify(f),v=bt(await Do(this.config.headers),e.headers),{responseHeaders:x,value:S}=await pt({url:`${this.config.baseURL}/${i1(this.modelId)}:generateContent`,headers:v,body:f,failedResponseHandler:Sh,successfulResponseHandler:Gt(dD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:_,...C}=f,k=S.candidates[0],I=l1({parts:(n=(t=k.content)==null?void 0:t.parts)!=null?n:[],generateId:this.config.generateId}),N=S.usageMetadata;return{text:u1((s=(r=k.content)==null?void 0:r.parts)!=null?s:[]),toolCalls:I,finishReason:o1({finishReason:k.finishReason,hasToolCalls:I!=null&&I.length>0}),usage:{promptTokens:(i=N==null?void 0:N.promptTokenCount)!=null?i:NaN,completionTokens:(l=N==null?void 0:N.candidatesTokenCount)!=null?l:NaN},rawCall:{rawPrompt:_,rawSettings:C},rawResponse:{headers:x},warnings:h,providerMetadata:{google:{groundingMetadata:(u=k.groundingMetadata)!=null?u:null,safetyRatings:(d=k.safetyRatings)!=null?d:null}},request:{body:g}}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=JSON.stringify(t),s=bt(await Do(this.config.headers),e.headers),{responseHeaders:i,value:l}=await pt({url:`${this.config.baseURL}/${i1(this.modelId)}:streamGenerateContent?alt=sse`,headers:s,body:t,failedResponseHandler:Sh,successfulResponseHandler:Da(fD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:u,...d}=t;let f="unknown",h={promptTokens:Number.NaN,completionTokens:Number.NaN},g;const v=this.config.generateId;let x=!1;return{stream:l.pipeThrough(new TransformStream({transform(S,_){var C,k,I,N,j;if(!S.success){_.enqueue({type:"error",error:S.error});return}const L=S.value,A=L.usageMetadata;A!=null&&(h={promptTokens:(C=A.promptTokenCount)!=null?C:NaN,completionTokens:(k=A.candidatesTokenCount)!=null?k:NaN});const U=(I=L.candidates)==null?void 0:I[0];if(U==null)return;U.finishReason!=null&&(f=o1({finishReason:U.finishReason,hasToolCalls:x}),g={google:{groundingMetadata:(N=U.groundingMetadata)!=null?N:null,safetyRatings:(j=U.safetyRatings)!=null?j:null}});const X=U.content;if(X==null)return;const W=u1(X.parts);W!=null&&_.enqueue({type:"text-delta",textDelta:W});const Q=l1({parts:X.parts,generateId:v});if(Q!=null)for(const K of Q)_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:K.toolCallId,toolName:K.toolName,argsTextDelta:K.args}),_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:K.toolCallId,toolName:K.toolName,args:K.args}),x=!0},flush(S){S.enqueue({type:"finish",finishReason:f,usage:h,providerMetadata:g})}})),rawCall:{rawPrompt:u,rawSettings:d},rawResponse:{headers:i},warnings:n,request:{body:r}}}};function l1({parts:e,generateId:t}){const n=e.filter(r=>"functionCall"in r);return n.length===0?void 0:n.map(r=>({toolCallType:"function",toolCallId:t(),toolName:r.functionCall.name,args:JSON.stringify(r.functionCall.args)}))}function u1(e){const t=e.filter(n=>"text"in n);return t.length===0?void 0:t.map(n=>n.text).join("")}var sk=w.object({role:w.string(),parts:w.array(w.union([w.object({text:w.string()}),w.object({functionCall:w.object({name:w.string(),args:w.unknown()})})]))}),ik=w.object({webSearchQueries:w.array(w.string()).nullish(),retrievalQueries:w.array(w.string()).nullish(),searchEntryPoint:w.object({renderedContent:w.string()}).nullish(),groundingChunks:w.array(w.object({web:w.object({uri:w.string(),title:w.string()}).nullish(),retrievedContext:w.object({uri:w.string(),title:w.string()}).nullish()})).nullish(),groundingSupports:w.array(w.object({segment:w.object({startIndex:w.number().nullish(),endIndex:w.number().nullish(),text:w.string().nullish()}),segment_text:w.string().nullish(),groundingChunkIndices:w.array(w.number()).nullish(),supportChunkIndices:w.array(w.number()).nullish(),confidenceScores:w.array(w.number()).nullish(),confidenceScore:w.array(w.number()).nullish()})).nullish(),retrievalMetadata:w.union([w.object({webDynamicRetrievalScore:w.number()}),w.object({})]).nullish()}),ok=w.object({category:w.string(),probability:w.string(),probabilityScore:w.number().nullish(),severity:w.string().nullish(),severityScore:w.number().nullish(),blocked:w.boolean().nullish()}),dD=w.object({candidates:w.array(w.object({content:sk.nullish(),finishReason:w.string().nullish(),safetyRatings:w.array(ok).nullish(),groundingMetadata:ik.nullish()})),usageMetadata:w.object({promptTokenCount:w.number().nullish(),candidatesTokenCount:w.number().nullish(),totalTokenCount:w.number().nullish()}).nullish()}),fD=w.object({candidates:w.array(w.object({content:sk.nullish(),finishReason:w.string().nullish(),safetyRatings:w.array(ok).nullish(),groundingMetadata:ik.nullish()})).nullish(),usageMetadata:w.object({promptTokenCount:w.number().nullish(),candidatesTokenCount:w.number().nullish(),totalTokenCount:w.number().nullish()}).nullish()}),pD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){return 2048}get supportsParallelCalls(){return!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new Tl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const r=bt(await Do(this.config.headers),t),{responseHeaders:s,value:i}=await pt({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:r,body:{requests:e.map(l=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:l}]},outputDimensionality:this.settings.outputDimensionality}))},failedResponseHandler:Sh,successfulResponseHandler:Gt(hD),abortSignal:n,fetch:this.config.fetch});return{embeddings:i.embeddings.map(l=>l.values),usage:void 0,rawResponse:{headers:s}}}},hD=w.object({embeddings:w.array(w.object({values:w.array(w.number())}))});function mD(e){return e.toString().startsWith("https://generativelanguage.googleapis.com/v1beta/files/")}function lk(e={}){var t;const n=(t=Gr(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",r=()=>({"x-goog-api-key":Aa({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers}),s=(u,d={})=>{var f;return new cD(u,d,{provider:"google.generative-ai",baseURL:n,headers:r,generateId:(f=e.generateId)!=null?f:nn,isSupportedUrl:mD,fetch:e.fetch})},i=(u,d={})=>new pD(u,d,{provider:"google.generative-ai",baseURL:n,headers:r,fetch:e.fetch}),l=function(u,d){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return s(u,d)};return l.languageModel=s,l.chat=s,l.generativeAI=s,l.embedding=i,l.textEmbedding=i,l.textEmbeddingModel=i,l}lk();function gD(e){const t=[];for(const{role:n,content:r}of e)switch(n){case"system":{t.push({role:"system",content:r});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text});break}t.push({role:"user",content:r.map(s=>{var i;switch(s.type){case"text":return{type:"text",text:s.text};case"image":return{type:"image_url",image_url:{url:s.image instanceof URL?s.image.toString():`data:${(i=s.mimeType)!=null?i:"image/jpeg"};base64,${Vr(s.image)}`}};case"file":throw new ze({functionality:"File content parts in user messages"})}})});break}case"assistant":{let s="";const i=[];for(const l of r)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{i.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.args)}});break}default:{const u=l;throw new Error(`Unsupported part: ${u}`)}}t.push({role:"assistant",content:s,tool_calls:i.length>0?i:void 0});break}case"tool":{for(const s of r)t.push({role:"tool",tool_call_id:s.toolCallId,content:JSON.stringify(s.result)});break}default:{const s=n;throw new Error(`Unsupported role: ${s}`)}}return t}function c1({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}var uk=w.object({error:w.object({message:w.string(),type:w.string()})}),d1=Er({errorSchema:uk,errorToMessage:e=>e.error.message});function yD({mode:e}){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const s=e.toolChoice,i=[];for(const u of n)u.type==="provider-defined"?r.push({type:"unsupported-tool",tool:u}):i.push({type:"function",function:{name:u.name,description:u.description,parameters:u.parameters}});if(s==null)return{tools:i,tool_choice:void 0,toolWarnings:r};const l=s.type;switch(l){case"auto":case"none":case"required":return{tools:i,tool_choice:l,toolWarnings:r};case"tool":return{tools:i,tool_choice:{type:"function",function:{name:s.toolName}},toolWarnings:r};default:{const u=l;throw new ze({functionality:`Unsupported tool choice type: ${u}`})}}}function f1(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var vD=class{constructor(e,t,n){this.specificationVersion="v1",this.supportsStructuredOutputs=!1,this.defaultObjectGenerationMode="json",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:d,responseFormat:f,seed:h,stream:g}){const v=e.type,x=[];i!=null&&x.push({type:"unsupported-setting",setting:"topK"}),f!=null&&f.type==="json"&&f.schema!=null&&x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const S={model:this.modelId,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:u,stop:d,seed:h,response_format:g===!1&&(f==null?void 0:f.type)==="json"?{type:"json_object"}:void 0,messages:gD(t)};switch(v){case"regular":{const{tools:_,tool_choice:C,toolWarnings:k}=yD({mode:e});return{args:{...S,tools:_,tool_choice:C},warnings:[...x,...k]}}case"object-json":return{args:{...S,response_format:g===!1?{type:"json_object"}:void 0},warnings:x};case"object-tool":return{args:{...S,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:x};default:{const _=v;throw new Error(`Unsupported type: ${_}`)}}}async doGenerate(e){var t,n,r,s,i,l;const{args:u,warnings:d}=this.getArgs({...e,stream:!1}),f=JSON.stringify(u),{responseHeaders:h,value:g}=await pt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:u,failedResponseHandler:d1,successfulResponseHandler:Gt(xD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:v,...x}=u,S=g.choices[0];return{text:(t=S.message.content)!=null?t:void 0,toolCalls:(n=S.message.tool_calls)==null?void 0:n.map(_=>{var C;return{toolCallType:"function",toolCallId:(C=_.id)!=null?C:nn(),toolName:_.function.name,args:_.function.arguments}}),finishReason:f1(S.finish_reason),usage:{promptTokens:(s=(r=g.usage)==null?void 0:r.prompt_tokens)!=null?s:NaN,completionTokens:(l=(i=g.usage)==null?void 0:i.completion_tokens)!=null?l:NaN},rawCall:{rawPrompt:v,rawSettings:x},rawResponse:{headers:h},response:c1(g),warnings:d,request:{body:f}}}async doStream(e){const{args:t,warnings:n}=this.getArgs({...e,stream:!0}),r=JSON.stringify({...t,stream:!0}),{responseHeaders:s,value:i}=await pt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:d1,successfulResponseHandler:Da(wD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...u}=t,d=[];let f="unknown",h={promptTokens:void 0,completionTokens:void 0},g=!0;return{stream:i.pipeThrough(new TransformStream({transform(v,x){var S,_,C,k,I,N,j,L,A,U,X,W,Q,K,J;if(!v.success){f="error",x.enqueue({type:"error",error:v.error});return}const ee=v.value;if("error"in ee){f="error",x.enqueue({type:"error",error:ee.error});return}g&&(g=!1,x.enqueue({type:"response-metadata",...c1(ee)})),((S=ee.x_groq)==null?void 0:S.usage)!=null&&(h={promptTokens:(_=ee.x_groq.usage.prompt_tokens)!=null?_:void 0,completionTokens:(C=ee.x_groq.usage.completion_tokens)!=null?C:void 0});const G=ee.choices[0];if((G==null?void 0:G.finish_reason)!=null&&(f=f1(G.finish_reason)),(G==null?void 0:G.delta)==null)return;const re=G.delta;if(re.content!=null&&x.enqueue({type:"text-delta",textDelta:re.content}),re.tool_calls!=null)for(const de of re.tool_calls){const V=de.index;if(d[V]==null){if(de.type!=="function")throw new Br({data:de,message:"Expected 'function' type."});if(de.id==null)throw new Br({data:de,message:"Expected 'id' to be a string."});if(((k=de.function)==null?void 0:k.name)==null)throw new Br({data:de,message:"Expected 'function.name' to be a string."});d[V]={id:de.id,type:"function",function:{name:de.function.name,arguments:(I=de.function.arguments)!=null?I:""},hasFinished:!1};const Y=d[V];((N=Y.function)==null?void 0:N.name)!=null&&((j=Y.function)==null?void 0:j.arguments)!=null&&(Y.function.arguments.length>0&&x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Y.id,toolName:Y.function.name,argsTextDelta:Y.function.arguments}),di(Y.function.arguments)&&(x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(L=Y.id)!=null?L:nn(),toolName:Y.function.name,args:Y.function.arguments}),Y.hasFinished=!0));continue}const q=d[V];q.hasFinished||(((A=de.function)==null?void 0:A.arguments)!=null&&(q.function.arguments+=(X=(U=de.function)==null?void 0:U.arguments)!=null?X:""),x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:q.id,toolName:q.function.name,argsTextDelta:(W=de.function.arguments)!=null?W:""}),((Q=q.function)==null?void 0:Q.name)!=null&&((K=q.function)==null?void 0:K.arguments)!=null&&di(q.function.arguments)&&(x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(J=q.id)!=null?J:nn(),toolName:q.function.name,args:q.function.arguments}),q.hasFinished=!0))}},flush(v){var x,S;v.enqueue({type:"finish",finishReason:f,usage:{promptTokens:(x=h.promptTokens)!=null?x:NaN,completionTokens:(S=h.completionTokens)!=null?S:NaN}})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},warnings:n,request:{body:r}}}},xD=w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({message:w.object({role:w.literal("assistant").nullish(),content:w.string().nullish(),tool_calls:w.array(w.object({id:w.string().nullish(),type:w.literal("function"),function:w.object({name:w.string(),arguments:w.string()})})).nullish()}),index:w.number(),finish_reason:w.string().nullish()})),usage:w.object({prompt_tokens:w.number().nullish(),completion_tokens:w.number().nullish()}).nullish()}),wD=w.union([w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({delta:w.object({role:w.enum(["assistant"]).nullish(),content:w.string().nullish(),tool_calls:w.array(w.object({index:w.number(),id:w.string().nullish(),type:w.literal("function").optional(),function:w.object({name:w.string().nullish(),arguments:w.string().nullish()})})).nullish()}).nullish(),finish_reason:w.string().nullable().optional(),index:w.number()})),x_groq:w.object({usage:w.object({prompt_tokens:w.number().nullish(),completion_tokens:w.number().nullish()}).nullish()}).nullish()}),uk]);function ck(e={}){var t;const n=(t=Gr(e.baseURL))!=null?t:"https://api.groq.com/openai/v1",r=()=>({Authorization:`Bearer ${Aa({apiKey:e.apiKey,environmentVariableName:"GROQ_API_KEY",description:"Groq"})}`,...e.headers}),s=(u,d={})=>new vD(u,d,{provider:"groq.chat",url:({path:f})=>`${n}${f}`,headers:r,fetch:e.fetch}),i=(u,d)=>{if(new.target)throw new Error("The Groq model function cannot be called with the new keyword.");return s(u,d)},l=function(u,d){return i(u,d)};return l.languageModel=i,l.chat=s,l.textEmbeddingModel=u=>{throw new ci({modelId:u,modelType:"textEmbeddingModel"})},l}ck();function bD(e){const t=[];for(let n=0;n<e.length;n++){const{role:r,content:s}=e[n],i=n===e.length-1;switch(r){case"system":{t.push({role:"system",content:s});break}case"user":{t.push({role:"user",content:s.map(l=>{var u;switch(l.type){case"text":return{type:"text",text:l.text};case"image":return{type:"image_url",image_url:l.image instanceof URL?l.image.toString():`data:${(u=l.mimeType)!=null?u:"image/jpeg"};base64,${Vr(l.image)}`};case"file":throw new ze({functionality:"File content parts in user messages"})}})});break}case"assistant":{let l="";const u=[];for(const d of s)switch(d.type){case"text":{l+=d.text;break}case"tool-call":{u.push({id:d.toolCallId,type:"function",function:{name:d.toolName,arguments:JSON.stringify(d.args)}});break}default:{const f=d;throw new Error(`Unsupported part: ${f}`)}}t.push({role:"assistant",content:l,prefix:i?!0:void 0,tool_calls:u.length>0?u:void 0});break}case"tool":{for(const l of s)t.push({role:"tool",name:l.toolName,content:JSON.stringify(l.result),tool_call_id:l.toolCallId});break}default:{const l=r;throw new Error(`Unsupported role: ${l}`)}}}return t}function p1(e){switch(e){case"stop":return"stop";case"length":case"model_length":return"length";case"tool_calls":return"tool-calls";default:return"unknown"}}var SD=w.object({object:w.literal("error"),message:w.string(),type:w.string(),param:w.string().nullable(),code:w.string().nullable()}),kh=Er({errorSchema:SD,errorToMessage:e=>e.message});function h1({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function kD(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const s=[];for(const u of n)u.type==="provider-defined"?r.push({type:"unsupported-tool",tool:u}):s.push({type:"function",function:{name:u.name,description:u.description,parameters:u.parameters}});const i=e.toolChoice;if(i==null)return{tools:s,tool_choice:void 0,toolWarnings:r};const l=i.type;switch(l){case"auto":case"none":return{tools:s,tool_choice:l,toolWarnings:r};case"required":return{tools:s,tool_choice:"any",toolWarnings:r};case"tool":return{tools:s.filter(u=>u.function.name===i.toolName),tool_choice:"any",toolWarnings:r};default:{const u=l;throw new ze({functionality:`Unsupported tool choice type: ${u}`})}}}var _D=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:d,responseFormat:f,seed:h}){const g=e.type,v=[];i!=null&&v.push({type:"unsupported-setting",setting:"topK"}),l!=null&&v.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&v.push({type:"unsupported-setting",setting:"presencePenalty"}),d!=null&&v.push({type:"unsupported-setting",setting:"stopSequences"}),f!=null&&f.type==="json"&&f.schema!=null&&v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const x={model:this.modelId,safe_prompt:this.settings.safePrompt,max_tokens:n,temperature:r,top_p:s,random_seed:h,response_format:(f==null?void 0:f.type)==="json"?{type:"json_object"}:void 0,messages:bD(t)};switch(g){case"regular":{const{tools:S,tool_choice:_,toolWarnings:C}=kD(e);return{args:{...x,tools:S,tool_choice:_},warnings:[...v,...C]}}case"object-json":return{args:{...x,response_format:{type:"json_object"}},warnings:v};case"object-tool":return{args:{...x,tool_choice:"any",tools:[{type:"function",function:e.tool}]},warnings:v};default:{const S=g;throw new Error(`Unsupported type: ${S}`)}}}async doGenerate(e){var t,n;const{args:r,warnings:s}=this.getArgs(e),{responseHeaders:i,value:l}=await pt({url:`${this.config.baseURL}/chat/completions`,headers:bt(this.config.headers(),e.headers),body:r,failedResponseHandler:kh,successfulResponseHandler:Gt(CD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:u,...d}=r,f=l.choices[0];let h=(t=f.message.content)!=null?t:void 0;const g=u[u.length-1];return g.role==="assistant"&&(h!=null&&h.startsWith(g.content))&&(h=h.slice(g.content.length)),{text:h,toolCalls:(n=f.message.tool_calls)==null?void 0:n.map(v=>({toolCallType:"function",toolCallId:v.id,toolName:v.function.name,args:v.function.arguments})),finishReason:p1(f.finish_reason),usage:{promptTokens:l.usage.prompt_tokens,completionTokens:l.usage.completion_tokens},rawCall:{rawPrompt:u,rawSettings:d},rawResponse:{headers:i},request:{body:JSON.stringify(r)},response:h1(l),warnings:s}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0},{responseHeaders:s,value:i}=await pt({url:`${this.config.baseURL}/chat/completions`,headers:bt(this.config.headers(),e.headers),body:r,failedResponseHandler:kh,successfulResponseHandler:Da(TD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...u}=t;let d="unknown",f={promptTokens:Number.NaN,completionTokens:Number.NaN},h=0,g=!1;return{stream:i.pipeThrough(new TransformStream({transform(v,x){if(!v.success){x.enqueue({type:"error",error:v.error});return}h++;const S=v.value;h===1&&x.enqueue({type:"response-metadata",...h1(S)}),S.usage!=null&&(f={promptTokens:S.usage.prompt_tokens,completionTokens:S.usage.completion_tokens});const _=S.choices[0];if((_==null?void 0:_.finish_reason)!=null&&(d=p1(_.finish_reason)),(_==null?void 0:_.delta)==null)return;const C=_.delta;if(h<=2){const k=l[l.length-1];if(k.role==="assistant"&&C.content===k.content.trimEnd()){C.content.length<k.content.length&&(g=!0);return}}if(C.content!=null&&(x.enqueue({type:"text-delta",textDelta:g?C.content.trimStart():C.content}),g=!1),C.tool_calls!=null)for(const k of C.tool_calls)x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:k.id,toolName:k.function.name,argsTextDelta:k.function.arguments}),x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:k.id,toolName:k.function.name,args:k.function.arguments})},flush(v){v.enqueue({type:"finish",finishReason:d,usage:f})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},request:{body:JSON.stringify(r)},warnings:n}}},CD=w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({message:w.object({role:w.literal("assistant"),content:w.string().nullable(),tool_calls:w.array(w.object({id:w.string(),function:w.object({name:w.string(),arguments:w.string()})})).nullish()}),index:w.number(),finish_reason:w.string().nullish()})),object:w.literal("chat.completion"),usage:w.object({prompt_tokens:w.number(),completion_tokens:w.number()})}),TD=w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({delta:w.object({role:w.enum(["assistant"]).optional(),content:w.string().nullish(),tool_calls:w.array(w.object({id:w.string(),function:w.object({name:w.string(),arguments:w.string()})})).nullish()}),finish_reason:w.string().nullish(),index:w.number()})),usage:w.object({prompt_tokens:w.number(),completion_tokens:w.number()}).nullish()}),ED=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:32}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!1}async doEmbed({values:e,abortSignal:t,headers:n}){if(e.length>this.maxEmbeddingsPerCall)throw new Tl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:s}=await pt({url:`${this.config.baseURL}/embeddings`,headers:bt(this.config.headers(),n),body:{model:this.modelId,input:e,encoding_format:"float"},failedResponseHandler:kh,successfulResponseHandler:Gt(ID),abortSignal:t,fetch:this.config.fetch});return{embeddings:s.data.map(i=>i.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},ID=w.object({data:w.array(w.object({embedding:w.array(w.number())})),usage:w.object({prompt_tokens:w.number()}).nullish()});function dk(e={}){var t;const n=(t=Gr(e.baseURL))!=null?t:"https://api.mistral.ai/v1",r=()=>({Authorization:`Bearer ${Aa({apiKey:e.apiKey,environmentVariableName:"MISTRAL_API_KEY",description:"Mistral"})}`,...e.headers}),s=(u,d={})=>new _D(u,d,{provider:"mistral.chat",baseURL:n,headers:r,fetch:e.fetch}),i=(u,d={})=>new ED(u,d,{provider:"mistral.embedding",baseURL:n,headers:r,fetch:e.fetch}),l=function(u,d){if(new.target)throw new Error("The Mistral model function cannot be called with the new keyword.");return s(u,d)};return l.languageModel=s,l.chat=s,l.embedding=i,l.textEmbedding=i,l.textEmbeddingModel=i,l}dk();function ND({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:n="system"}){const r=[];for(const{role:s,content:i}of e)switch(s){case"system":{switch(n){case"system":{r.push({role:"system",content:i});break}case"developer":{r.push({role:"developer",content:i});break}case"remove":break;default:{const l=n;throw new Error(`Unsupported system message mode: ${l}`)}}break}case"user":{if(i.length===1&&i[0].type==="text"){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(l=>{var u,d,f;switch(l.type){case"text":return{type:"text",text:l.text};case"image":return{type:"image_url",image_url:{url:l.image instanceof URL?l.image.toString():`data:${(u=l.mimeType)!=null?u:"image/jpeg"};base64,${Vr(l.image)}`,detail:(f=(d=l.providerMetadata)==null?void 0:d.openai)==null?void 0:f.imageDetail}};case"file":{if(l.data instanceof URL)throw new ze({functionality:"'File content parts with URL data' functionality not supported."});switch(l.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:l.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:l.data,format:"mp3"}};default:throw new ze({functionality:`File content part type ${l.mimeType} in user messages`})}}}})});break}case"assistant":{let l="";const u=[];for(const d of i)switch(d.type){case"text":{l+=d.text;break}case"tool-call":{u.push({id:d.toolCallId,type:"function",function:{name:d.toolName,arguments:JSON.stringify(d.args)}});break}default:{const f=d;throw new Error(`Unsupported part: ${f}`)}}if(t){if(u.length>1)throw new ze({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:l,function_call:u.length>0?u[0].function:void 0})}else r.push({role:"assistant",content:l,tool_calls:u.length>0?u:void 0});break}case"tool":{for(const l of i)t?r.push({role:"function",name:l.toolName,content:JSON.stringify(l.result)}):r.push({role:"tool",tool_call_id:l.toolCallId,content:JSON.stringify(l.result)});break}default:{const l=s;throw new Error(`Unsupported role: ${l}`)}}return r}function m1(e){var t,n;return(n=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:r,logprob:s,top_logprobs:i})=>({token:r,logprob:s,topLogprobs:i?i.map(({token:l,logprob:u})=>({token:l,logprob:u})):[]})))!=null?n:void 0}function Nc(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Im=w.object({error:w.object({message:w.string(),type:w.string().nullish(),param:w.any().nullish(),code:w.union([w.string(),w.number()]).nullish()})}),gi=Er({errorSchema:Im,errorToMessage:e=>e.error.message});function Oc({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function OD({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n}){var r;const s=(r=e.tools)!=null&&r.length?e.tools:void 0,i=[];if(s==null)return{tools:void 0,tool_choice:void 0,toolWarnings:i};const l=e.toolChoice;if(t){const f=[];for(const g of s)g.type==="provider-defined"?i.push({type:"unsupported-tool",tool:g}):f.push({name:g.name,description:g.description,parameters:g.parameters});if(l==null)return{functions:f,function_call:void 0,toolWarnings:i};switch(l.type){case"auto":case"none":case void 0:return{functions:f,function_call:void 0,toolWarnings:i};case"required":throw new ze({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:f,function_call:{name:l.toolName},toolWarnings:i}}}const u=[];for(const f of s)f.type==="provider-defined"?i.push({type:"unsupported-tool",tool:f}):u.push({type:"function",function:{name:f.name,description:f.description,parameters:f.parameters,strict:n?!0:void 0}});if(l==null)return{tools:u,tool_choice:void 0,toolWarnings:i};const d=l.type;switch(d){case"auto":case"none":case"required":return{tools:u,tool_choice:d,toolWarnings:i};case"tool":return{tools:u,tool_choice:{type:"function",function:{name:l.toolName}},toolWarnings:i};default:{const f=d;throw new ze({functionality:`Unsupported tool choice type: ${f}`})}}}var jD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:jc(this.modelId)}get defaultObjectGenerationMode(){return AD(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:d,responseFormat:f,seed:h,providerMetadata:g}){var v,x,S,_,C,k,I,N;const j=e.type,L=[];i!=null&&L.push({type:"unsupported-setting",setting:"topK"}),(f==null?void 0:f.type)==="json"&&f.schema!=null&&!this.supportsStructuredOutputs&&L.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const A=this.settings.useLegacyFunctionCalling;if(A&&this.settings.parallelToolCalls===!0)throw new ze({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(A&&this.supportsStructuredOutputs)throw new ze({functionality:"structuredOutputs with useLegacyFunctionCalling"});g1(this.modelId)==="remove"&&t.some(X=>X.role==="system")&&L.push({type:"other",message:"system messages are removed for this model"});const U={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:u,response_format:(f==null?void 0:f.type)==="json"?this.supportsStructuredOutputs&&f.schema!=null?{type:"json_schema",json_schema:{schema:f.schema,strict:!0,name:(v=f.name)!=null?v:"response",description:f.description}}:{type:"json_object"}:void 0,stop:d,seed:h,max_completion_tokens:(x=g==null?void 0:g.openai)==null?void 0:x.maxCompletionTokens,store:(S=g==null?void 0:g.openai)==null?void 0:S.store,metadata:(_=g==null?void 0:g.openai)==null?void 0:_.metadata,prediction:(C=g==null?void 0:g.openai)==null?void 0:C.prediction,reasoning_effort:(I=(k=g==null?void 0:g.openai)==null?void 0:k.reasoningEffort)!=null?I:this.settings.reasoningEffort,messages:ND({prompt:t,useLegacyFunctionCalling:A,systemMessageMode:g1(this.modelId)})};switch(jc(this.modelId)&&(U.temperature!=null&&(U.temperature=void 0,L.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),U.top_p!=null&&(U.top_p=void 0,L.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),U.frequency_penalty!=null&&(U.frequency_penalty=void 0,L.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),U.presence_penalty!=null&&(U.presence_penalty=void 0,L.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),U.logit_bias!=null&&(U.logit_bias=void 0,L.push({type:"other",message:"logitBias is not supported for reasoning models"})),U.logprobs!=null&&(U.logprobs=void 0,L.push({type:"other",message:"logprobs is not supported for reasoning models"})),U.top_logprobs!=null&&(U.top_logprobs=void 0,L.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),U.max_tokens!=null&&(U.max_completion_tokens==null&&(U.max_completion_tokens=U.max_tokens),U.max_tokens=void 0)),j){case"regular":{const{tools:X,tool_choice:W,functions:Q,function_call:K,toolWarnings:J}=OD({mode:e,useLegacyFunctionCalling:A,structuredOutputs:this.supportsStructuredOutputs});return{args:{...U,tools:X,tool_choice:W,functions:Q,function_call:K},warnings:[...L,...J]}}case"object-json":return{args:{...U,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(N=e.name)!=null?N:"response",description:e.description}}:{type:"json_object"}},warnings:L};case"object-tool":return{args:A?{...U,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...U,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:L};default:{const X=j;throw new Error(`Unsupported type: ${X}`)}}}async doGenerate(e){var t,n,r,s,i,l,u,d;const{args:f,warnings:h}=this.getArgs(e),{responseHeaders:g,value:v}=await pt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:f,failedResponseHandler:gi,successfulResponseHandler:Gt(RD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:x,...S}=f,_=v.choices[0],C=(t=v.usage)==null?void 0:t.completion_tokens_details,k=(n=v.usage)==null?void 0:n.prompt_tokens_details,I={openai:{}};return(C==null?void 0:C.reasoning_tokens)!=null&&(I.openai.reasoningTokens=C==null?void 0:C.reasoning_tokens),(C==null?void 0:C.accepted_prediction_tokens)!=null&&(I.openai.acceptedPredictionTokens=C==null?void 0:C.accepted_prediction_tokens),(C==null?void 0:C.rejected_prediction_tokens)!=null&&(I.openai.rejectedPredictionTokens=C==null?void 0:C.rejected_prediction_tokens),(k==null?void 0:k.cached_tokens)!=null&&(I.openai.cachedPromptTokens=k==null?void 0:k.cached_tokens),{text:(r=_.message.content)!=null?r:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&_.message.function_call?[{toolCallType:"function",toolCallId:nn(),toolName:_.message.function_call.name,args:_.message.function_call.arguments}]:(s=_.message.tool_calls)==null?void 0:s.map(N=>{var j;return{toolCallType:"function",toolCallId:(j=N.id)!=null?j:nn(),toolName:N.function.name,args:N.function.arguments}}),finishReason:Nc(_.finish_reason),usage:{promptTokens:(l=(i=v.usage)==null?void 0:i.prompt_tokens)!=null?l:NaN,completionTokens:(d=(u=v.usage)==null?void 0:u.completion_tokens)!=null?d:NaN},rawCall:{rawPrompt:x,rawSettings:S},rawResponse:{headers:g},request:{body:JSON.stringify(f)},response:Oc(v),warnings:h,logprobs:m1(_.logprobs),providerMetadata:I}}async doStream(e){var t;if((t=this.settings.simulateStreaming)!=null?t:DD(this.modelId)){const C=await this.doGenerate(e);return{stream:new ReadableStream({start(I){if(I.enqueue({type:"response-metadata",...C.response}),C.text&&I.enqueue({type:"text-delta",textDelta:C.text}),C.toolCalls)for(const N of C.toolCalls)I.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:N.toolCallId,toolName:N.toolName,argsTextDelta:N.args}),I.enqueue({type:"tool-call",...N});I.enqueue({type:"finish",finishReason:C.finishReason,usage:C.usage,logprobs:C.logprobs,providerMetadata:C.providerMetadata}),I.close()}}),rawCall:C.rawCall,rawResponse:C.rawResponse,warnings:C.warnings}}const{args:n,warnings:r}=this.getArgs(e),s={...n,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:i,value:l}=await pt({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:s,failedResponseHandler:gi,successfulResponseHandler:Da(PD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:u,...d}=n,f=[];let h="unknown",g={promptTokens:void 0,completionTokens:void 0},v,x=!0;const{useLegacyFunctionCalling:S}=this.settings,_={openai:{}};return{stream:l.pipeThrough(new TransformStream({transform(C,k){var I,N,j,L,A,U,X,W,Q,K,J,ee;if(!C.success){h="error",k.enqueue({type:"error",error:C.error});return}const G=C.value;if("error"in G){h="error",k.enqueue({type:"error",error:G.error});return}if(x&&(x=!1,k.enqueue({type:"response-metadata",...Oc(G)})),G.usage!=null){const{prompt_tokens:Y,completion_tokens:E,prompt_tokens_details:D,completion_tokens_details:z}=G.usage;g={promptTokens:Y??void 0,completionTokens:E??void 0},(z==null?void 0:z.reasoning_tokens)!=null&&(_.openai.reasoningTokens=z==null?void 0:z.reasoning_tokens),(z==null?void 0:z.accepted_prediction_tokens)!=null&&(_.openai.acceptedPredictionTokens=z==null?void 0:z.accepted_prediction_tokens),(z==null?void 0:z.rejected_prediction_tokens)!=null&&(_.openai.rejectedPredictionTokens=z==null?void 0:z.rejected_prediction_tokens),(D==null?void 0:D.cached_tokens)!=null&&(_.openai.cachedPromptTokens=D==null?void 0:D.cached_tokens)}const re=G.choices[0];if((re==null?void 0:re.finish_reason)!=null&&(h=Nc(re.finish_reason)),(re==null?void 0:re.delta)==null)return;const de=re.delta;de.content!=null&&k.enqueue({type:"text-delta",textDelta:de.content});const V=m1(re==null?void 0:re.logprobs);V!=null&&V.length&&(v===void 0&&(v=[]),v.push(...V));const q=S&&de.function_call!=null?[{type:"function",id:nn(),function:de.function_call,index:0}]:de.tool_calls;if(q!=null)for(const Y of q){const E=Y.index;if(f[E]==null){if(Y.type!=="function")throw new Br({data:Y,message:"Expected 'function' type."});if(Y.id==null)throw new Br({data:Y,message:"Expected 'id' to be a string."});if(((I=Y.function)==null?void 0:I.name)==null)throw new Br({data:Y,message:"Expected 'function.name' to be a string."});f[E]={id:Y.id,type:"function",function:{name:Y.function.name,arguments:(N=Y.function.arguments)!=null?N:""},hasFinished:!1};const z=f[E];((j=z.function)==null?void 0:j.name)!=null&&((L=z.function)==null?void 0:L.arguments)!=null&&(z.function.arguments.length>0&&k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:z.id,toolName:z.function.name,argsTextDelta:z.function.arguments}),di(z.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(A=z.id)!=null?A:nn(),toolName:z.function.name,args:z.function.arguments}),z.hasFinished=!0));continue}const D=f[E];D.hasFinished||(((U=Y.function)==null?void 0:U.arguments)!=null&&(D.function.arguments+=(W=(X=Y.function)==null?void 0:X.arguments)!=null?W:""),k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:D.id,toolName:D.function.name,argsTextDelta:(Q=Y.function.arguments)!=null?Q:""}),((K=D.function)==null?void 0:K.name)!=null&&((J=D.function)==null?void 0:J.arguments)!=null&&di(D.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ee=D.id)!=null?ee:nn(),toolName:D.function.name,args:D.function.arguments}),D.hasFinished=!0))}},flush(C){var k,I;C.enqueue({type:"finish",finishReason:h,logprobs:v,usage:{promptTokens:(k=g.promptTokens)!=null?k:NaN,completionTokens:(I=g.completionTokens)!=null?I:NaN},..._!=null?{providerMetadata:_}:{}})}})),rawCall:{rawPrompt:u,rawSettings:d},rawResponse:{headers:i},request:{body:JSON.stringify(s)},warnings:r}}},fk=w.object({prompt_tokens:w.number().nullish(),completion_tokens:w.number().nullish(),prompt_tokens_details:w.object({cached_tokens:w.number().nullish()}).nullish(),completion_tokens_details:w.object({reasoning_tokens:w.number().nullish(),accepted_prediction_tokens:w.number().nullish(),rejected_prediction_tokens:w.number().nullish()}).nullish()}).nullish(),RD=w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({message:w.object({role:w.literal("assistant").nullish(),content:w.string().nullish(),function_call:w.object({arguments:w.string(),name:w.string()}).nullish(),tool_calls:w.array(w.object({id:w.string().nullish(),type:w.literal("function"),function:w.object({name:w.string(),arguments:w.string()})})).nullish()}),index:w.number(),logprobs:w.object({content:w.array(w.object({token:w.string(),logprob:w.number(),top_logprobs:w.array(w.object({token:w.string(),logprob:w.number()}))})).nullable()}).nullish(),finish_reason:w.string().nullish()})),usage:fk}),PD=w.union([w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({delta:w.object({role:w.enum(["assistant"]).nullish(),content:w.string().nullish(),function_call:w.object({name:w.string().optional(),arguments:w.string().optional()}).nullish(),tool_calls:w.array(w.object({index:w.number(),id:w.string().nullish(),type:w.literal("function").optional(),function:w.object({name:w.string().nullish(),arguments:w.string().nullish()})})).nullish()}).nullish(),logprobs:w.object({content:w.array(w.object({token:w.string(),logprob:w.number(),top_logprobs:w.array(w.object({token:w.string(),logprob:w.number()}))})).nullable()}).nullish(),finish_reason:w.string().nullable().optional(),index:w.number()})),usage:fk}),Im]);function jc(e){return e==="o1"||e.startsWith("o1-")||e==="o3"||e.startsWith("o3-")}function AD(e){return e.startsWith("gpt-4o-audio-preview")}function g1(e){var t,n;return jc(e)?(n=(t=pk[e])==null?void 0:t.systemMessageMode)!=null?n:"developer":"system"}function DD(e){var t,n;return jc(e)?(n=(t=pk[e])==null?void 0:t.simulateStreamingByDefault)!=null?n:!0:!1}var pk={"o1-mini":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-mini-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o3-mini":{systemMessageMode:"developer",simulateStreamingByDefault:!1},"o3-mini-2025-01-31":{systemMessageMode:"developer",simulateStreamingByDefault:!1}};function MD({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(const{role:i,content:l}of e)switch(i){case"system":throw new ba({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const u=l.map(d=>{switch(d.type){case"text":return d.text;case"image":throw new ze({functionality:"images"})}}).join("");s+=`${n}:
${u}

`;break}case"assistant":{const u=l.map(d=>{switch(d.type){case"text":return d.text;case"tool-call":throw new ze({functionality:"tool-call messages"})}}).join("");s+=`${r}:
${u}

`;break}case"tool":throw new ze({functionality:"tool messages"});default:{const u=i;throw new Error(`Unsupported role: ${u}`)}}return s+=`${r}:
`,{prompt:s,stopSequences:[`
${n}:`]}}function y1(e){return e==null?void 0:e.tokens.map((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map(([r,s])=>({token:r,logprob:s})):[]}))}var LD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:s,topP:i,topK:l,frequencyPenalty:u,presencePenalty:d,stopSequences:f,responseFormat:h,seed:g}){var v;const x=e.type,S=[];l!=null&&S.push({type:"unsupported-setting",setting:"topK"}),h!=null&&h.type!=="text"&&S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:_,stopSequences:C}=MD({prompt:n,inputFormat:t}),k=[...C??[],...f??[]],I={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:s,top_p:i,frequency_penalty:u,presence_penalty:d,seed:g,prompt:_,stop:k.length>0?k:void 0};switch(x){case"regular":{if((v=e.tools)!=null&&v.length)throw new ze({functionality:"tools"});if(e.toolChoice)throw new ze({functionality:"toolChoice"});return{args:I,warnings:S}}case"object-json":throw new ze({functionality:"object-json mode"});case"object-tool":throw new ze({functionality:"object-tool mode"});default:{const N=x;throw new Error(`Unsupported type: ${N}`)}}}async doGenerate(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:s}=await pt({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:t,failedResponseHandler:gi,successfulResponseHandler:Gt(FD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:i,...l}=t,u=s.choices[0];return{text:u.text,usage:{promptTokens:s.usage.prompt_tokens,completionTokens:s.usage.completion_tokens},finishReason:Nc(u.finish_reason),logprobs:y1(u.logprobs),rawCall:{rawPrompt:i,rawSettings:l},rawResponse:{headers:r},response:Oc(s),warnings:n,request:{body:JSON.stringify(t)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:s,value:i}=await pt({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:bt(this.config.headers(),e.headers),body:r,failedResponseHandler:gi,successfulResponseHandler:Da(zD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...u}=t;let d="unknown",f={promptTokens:Number.NaN,completionTokens:Number.NaN},h,g=!0;return{stream:i.pipeThrough(new TransformStream({transform(v,x){if(!v.success){d="error",x.enqueue({type:"error",error:v.error});return}const S=v.value;if("error"in S){d="error",x.enqueue({type:"error",error:S.error});return}g&&(g=!1,x.enqueue({type:"response-metadata",...Oc(S)})),S.usage!=null&&(f={promptTokens:S.usage.prompt_tokens,completionTokens:S.usage.completion_tokens});const _=S.choices[0];(_==null?void 0:_.finish_reason)!=null&&(d=Nc(_.finish_reason)),(_==null?void 0:_.text)!=null&&x.enqueue({type:"text-delta",textDelta:_.text});const C=y1(_==null?void 0:_.logprobs);C!=null&&C.length&&(h===void 0&&(h=[]),h.push(...C))},flush(v){v.enqueue({type:"finish",finishReason:d,logprobs:h,usage:f})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(r)}}}},FD=w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({text:w.string(),finish_reason:w.string(),logprobs:w.object({tokens:w.array(w.string()),token_logprobs:w.array(w.number()),top_logprobs:w.array(w.record(w.string(),w.number())).nullable()}).nullish()})),usage:w.object({prompt_tokens:w.number(),completion_tokens:w.number()})}),zD=w.union([w.object({id:w.string().nullish(),created:w.number().nullish(),model:w.string().nullish(),choices:w.array(w.object({text:w.string(),finish_reason:w.string().nullish(),index:w.number(),logprobs:w.object({tokens:w.array(w.string()),token_logprobs:w.array(w.number()),top_logprobs:w.array(w.record(w.string(),w.number())).nullable()}).nullish()})),usage:w.object({prompt_tokens:w.number(),completion_tokens:w.number()}).nullish()}),Im]),$D=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new Tl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:s}=await pt({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:bt(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:gi,successfulResponseHandler:Gt(UD),abortSignal:n,fetch:this.config.fetch});return{embeddings:s.data.map(i=>i.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},UD=w.object({data:w.array(w.object({embedding:w.array(w.number())})),usage:w.object({prompt_tokens:w.number()}).nullish()}),BD={"dall-e-3":1,"dall-e-2":10},HD=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:BD[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:s,providerOptions:i,headers:l,abortSignal:u}){var d,f,h,g;const v=[];r!=null&&v.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),s!=null&&v.push({type:"unsupported-setting",setting:"seed"});const x=(h=(f=(d=this.config._internal)==null?void 0:d.currentDate)==null?void 0:f.call(d))!=null?h:new Date,{value:S,responseHeaders:_}=await pt({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:bt(this.config.headers(),l),body:{model:this.modelId,prompt:e,n:t,size:n,...(g=i.openai)!=null?g:{},response_format:"b64_json"},failedResponseHandler:gi,successfulResponseHandler:Gt(qD),abortSignal:u,fetch:this.config.fetch});return{images:S.data.map(C=>C.b64_json),warnings:v,response:{timestamp:x,modelId:this.modelId,headers:_}}}},qD=w.object({data:w.array(w.object({b64_json:w.string()}))});function hk(e={}){var t,n,r;const s=(t=Gr(e.baseURL))!=null?t:"https://api.openai.com/v1",i=(n=e.compatibility)!=null?n:"compatible",l=(r=e.name)!=null?r:"openai",u=()=>({Authorization:`Bearer ${Aa({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),d=(S,_={})=>new jD(S,_,{provider:`${l}.chat`,url:({path:C})=>`${s}${C}`,headers:u,compatibility:i,fetch:e.fetch}),f=(S,_={})=>new LD(S,_,{provider:`${l}.completion`,url:({path:C})=>`${s}${C}`,headers:u,compatibility:i,fetch:e.fetch}),h=(S,_={})=>new $D(S,_,{provider:`${l}.embedding`,url:({path:C})=>`${s}${C}`,headers:u,fetch:e.fetch}),g=(S,_={})=>new HD(S,_,{provider:`${l}.image`,url:({path:C})=>`${s}${C}`,headers:u,fetch:e.fetch}),v=(S,_)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return S==="gpt-3.5-turbo-instruct"?f(S,_):d(S,_)},x=function(S,_){return v(S,_)};return x.languageModel=v,x.chat=d,x.completion=f,x.embedding=h,x.textEmbedding=h,x.textEmbeddingModel=h,x.image=g,x.imageModel=g,x}hk({compatibility:"strict"});var VD=w.object({detail:w.string().optional(),error:w.string().optional()}),v1=Er({errorSchema:VD,errorToMessage:e=>{var t,n;return(n=(t=e.detail)!=null?t:e.error)!=null?n:"Unknown Replicate error"}}),WD=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get provider(){return this.config.provider}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:1}async doGenerate({prompt:e,n:t,aspectRatio:n,size:r,seed:s,providerOptions:i,headers:l,abortSignal:u}){var d,f,h,g;const v=[],[x,S]=this.modelId.split(":"),_=(h=(f=(d=this.config._internal)==null?void 0:d.currentDate)==null?void 0:f.call(d))!=null?h:new Date,{value:{output:C},responseHeaders:k}=await pt({url:S!=null?`${this.config.baseURL}/predictions`:`${this.config.baseURL}/models/${x}/predictions`,headers:bt(await Do(this.config.headers),l,{prefer:"wait"}),body:{input:{prompt:e,aspect_ratio:n,size:r,seed:s,num_outputs:t,...(g=i.replicate)!=null?g:{}},...S!=null?{version:S}:{}},successfulResponseHandler:Gt(ZD),failedResponseHandler:v1,abortSignal:u,fetch:this.config.fetch}),I=Array.isArray(C)?C:[C];return{images:await Promise.all(I.map(async j=>{const{value:L}=await fj({url:j,successfulResponseHandler:bj(),failedResponseHandler:v1,abortSignal:u,fetch:this.config.fetch});return L})),warnings:v,response:{timestamp:_,modelId:this.modelId,headers:k}}}},ZD=w.object({output:w.union([w.array(w.string()),w.string()])});function JD(e={}){const t=(n,r)=>{var s;return new WD(n,r??{},{provider:"replicate",baseURL:(s=e.baseURL)!=null?s:"https://api.replicate.com/v1",headers:{Authorization:`Bearer ${Aa({apiKey:e.apiToken,environmentVariableName:"REPLICATE_API_TOKEN",description:"Replicate"})}`,...e.headers},fetch:e.fetch})};return{image:t,imageModel:t,languageModel:()=>{throw new ci({modelId:"languageModel",modelType:"languageModel"})},textEmbeddingModel:()=>{throw new ci({modelId:"textEmbeddingModel",modelType:"textEmbeddingModel"})}}}function GD(e){return["grok-2-1212","grok-2-vision-1212"].includes(e)}var YD=w.object({code:w.string(),error:w.string()}),KD={errorSchema:YD,errorToMessage:e=>e.error};function mk(e={}){var t;const n=Gr((t=e.baseURL)!=null?t:"https://api.x.ai/v1"),r=()=>({Authorization:`Bearer ${Aa({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"})}`,...e.headers}),s=(l,u={})=>{const d=GD(l);return new Em(l,u,{provider:"xai.chat",url:({path:f})=>`${n}${f}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:d?"json":"tool",errorStructure:KD,supportsStructuredOutputs:d})},i=(l,u)=>s(l,u);return i.languageModel=s,i.chat=s,i.textEmbeddingModel=l=>{throw new ci({modelId:l,modelType:"textEmbeddingModel"})},i}mk();var ts={},mp={},x1;function w1(){return x1||(x1=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Allow=e.ALL=e.COLLECTION=e.ATOM=e.SPECIAL=e.INF=e._INFINITY=e.INFINITY=e.NAN=e.BOOL=e.NULL=e.OBJ=e.ARR=e.NUM=e.STR=void 0,e.STR=1,e.NUM=2,e.ARR=4,e.OBJ=8,e.NULL=16,e.BOOL=32,e.NAN=64,e.INFINITY=128,e._INFINITY=256,e.INF=e.INFINITY|e._INFINITY,e.SPECIAL=e.NULL|e.BOOL|e.INF|e.NAN,e.ATOM=e.STR|e.NUM|e.SPECIAL,e.COLLECTION=e.ARR|e.OBJ,e.ALL=e.ATOM|e.COLLECTION,e.Allow={STR:e.STR,NUM:e.NUM,ARR:e.ARR,OBJ:e.OBJ,NULL:e.NULL,BOOL:e.BOOL,NAN:e.NAN,INFINITY:e.INFINITY,_INFINITY:e._INFINITY,INF:e.INF,SPECIAL:e.SPECIAL,ATOM:e.ATOM,COLLECTION:e.COLLECTION,ALL:e.ALL},e.default=e.Allow}(mp)),mp}var b1;function XD(){return b1||(b1=1,function(e){var t=ts&&ts.__createBinding||(Object.create?function(f,h,g,v){v===void 0&&(v=g);var x=Object.getOwnPropertyDescriptor(h,g);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(f,v,x)}:function(f,h,g,v){v===void 0&&(v=g),f[v]=h[g]}),n=ts&&ts.__exportStar||function(f,h){for(var g in f)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&t(h,f,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.Allow=e.MalformedJSON=e.PartialJSON=e.parseJSON=e.parse=void 0;const r=w1();Object.defineProperty(e,"Allow",{enumerable:!0,get:function(){return r.Allow}}),n(w1(),e);class s extends Error{}e.PartialJSON=s;class i extends Error{}e.MalformedJSON=i;function l(f,h=r.Allow.ALL){if(typeof f!="string")throw new TypeError(`expecting str, got ${typeof f}`);if(!f.trim())throw new Error(`${f} is empty`);return u(f.trim(),h)}e.parseJSON=l;const u=(f,h)=>{const g=f.length;let v=0;const x=L=>{throw new s(`${L} at position ${v}`)},S=L=>{throw new i(`${L} at position ${v}`)},_=()=>(j(),v>=g&&x("Unexpected end of input"),f[v]==='"'?C():f[v]==="{"?k():f[v]==="["?I():f.substring(v,v+4)==="null"||r.Allow.NULL&h&&g-v<4&&"null".startsWith(f.substring(v))?(v+=4,null):f.substring(v,v+4)==="true"||r.Allow.BOOL&h&&g-v<4&&"true".startsWith(f.substring(v))?(v+=4,!0):f.substring(v,v+5)==="false"||r.Allow.BOOL&h&&g-v<5&&"false".startsWith(f.substring(v))?(v+=5,!1):f.substring(v,v+8)==="Infinity"||r.Allow.INFINITY&h&&g-v<8&&"Infinity".startsWith(f.substring(v))?(v+=8,1/0):f.substring(v,v+9)==="-Infinity"||r.Allow._INFINITY&h&&1<g-v&&g-v<9&&"-Infinity".startsWith(f.substring(v))?(v+=9,-1/0):f.substring(v,v+3)==="NaN"||r.Allow.NAN&h&&g-v<3&&"NaN".startsWith(f.substring(v))?(v+=3,NaN):N()),C=()=>{const L=v;let A=!1;for(v++;v<g&&(f[v]!=='"'||A&&f[v-1]==="\\");)A=f[v]==="\\"?!A:!1,v++;if(f.charAt(v)=='"')try{return JSON.parse(f.substring(L,++v-Number(A)))}catch(U){S(String(U))}else if(r.Allow.STR&h)try{return JSON.parse(f.substring(L,v-Number(A))+'"')}catch{return JSON.parse(f.substring(L,f.lastIndexOf("\\"))+'"')}x("Unterminated string literal")},k=()=>{v++,j();const L={};try{for(;f[v]!=="}";){if(j(),v>=g&&r.Allow.OBJ&h)return L;const A=C();j(),v++;try{const U=_();L[A]=U}catch(U){if(r.Allow.OBJ&h)return L;throw U}j(),f[v]===","&&v++}}catch{if(r.Allow.OBJ&h)return L;x("Expected '}' at end of object")}return v++,L},I=()=>{v++;const L=[];try{for(;f[v]!=="]";)L.push(_()),j(),f[v]===","&&v++}catch{if(r.Allow.ARR&h)return L;x("Expected ']' at end of array")}return v++,L},N=()=>{if(v===0){f==="-"&&S("Not sure what '-' is");try{return JSON.parse(f)}catch(A){if(r.Allow.NUM&h)try{return JSON.parse(f.substring(0,f.lastIndexOf("e")))}catch{}S(String(A))}}const L=v;for(f[v]==="-"&&v++;f[v]&&",]}".indexOf(f[v])===-1;)v++;v==g&&!(r.Allow.NUM&h)&&x("Unterminated number literal");try{return JSON.parse(f.substring(L,v))}catch{f.substring(L,v)==="-"&&x("Not sure what '-' is");try{return JSON.parse(f.substring(L,f.lastIndexOf("e")))}catch(U){S(String(U))}}},j=()=>{for(;v<g&&` 
\r	`.includes(f[v]);)v++};return _()},d=l;e.parse=d}(ts)),ts}var QD=XD();function gp(e){const t=[];for(const{content:n,role:r}of e)switch(r){case"system":{t.push({content:n,role:"system"});break}case"user":{t.push({...n.reduce((s,i)=>{if(i.type==="text")s.content+=i.text;else{if(i.type==="image"&&i.image instanceof URL)throw new ze({functionality:"Image URLs in user messages"});i.type==="image"&&i.image instanceof Uint8Array&&(s.images=s.images||[],s.images.push(Vr(i.image)))}return s},{content:""}),role:"user"});break}case"assistant":{const s=[],i=[];for(const l of n)switch(l.type){case"text":{s.push(l.text);break}case"tool-call":{i.push({function:{arguments:l.args,name:l.toolName},id:l.toolCallId,type:"function"});break}default:{const u=l;throw new Error(`Unsupported part: ${u}`)}}t.push({content:s.join(","),role:"assistant",tool_calls:i.length>0?i:void 0});break}case"tool":{t.push(...n.map(s=>({content:typeof s.result=="object"?JSON.stringify(s.result):`${s.result}`,role:"tool",tool_call_id:s.toolCallId})));break}default:{const s=r;throw new Error(`Unsupported role: ${s}`)}}return t}var eM=class{constructor({tools:e,type:t}){this._firstMessage=!0,this._tools=e,this._toolPartial="",this._toolCalls=[],this._type=t,this._detectedToolCall=!1}get toolCalls(){return this._toolCalls}get detectedToolCall(){return this._detectedToolCall}parse({controller:e,delta:t}){var n;if(this.detectToolCall(t),!this._detectedToolCall)return!1;this._toolPartial+=t;let r=QD.parse(this._toolPartial);Array.isArray(r)||(r=[r]);for(const[s,i]of r.entries()){const l=(n=JSON.stringify(i==null?void 0:i.parameters))!=null?n:"";if(l==="")continue;this._toolCalls[s]||(this._toolCalls[s]={function:{arguments:"",name:i.name},id:nn(),type:"function"});const u=this._toolCalls[s];u.function.arguments=l,e.enqueue({argsTextDelta:t,toolCallId:u.id,toolCallType:"function",toolName:u.function.name,type:"tool-call-delta"})}return!0}finish({controller:e}){for(const t of this.toolCalls)e.enqueue({args:t.function.arguments,toolCallId:t.id,toolCallType:"function",toolName:t.function.name,type:"tool-call"});return this.finishReason()}detectToolCall(e){!this._tools||this._tools.length===0||this._firstMessage&&(this._type==="object-tool"?this._detectedToolCall=!0:this._type==="regular"&&(e.trim().startsWith("{")||e.trim().startsWith("["))&&(this._detectedToolCall=!0),this._firstMessage=!1)}finishReason(){return this.detectedToolCall?this._type==="object-tool"?"stop":"tool-calls":"stop"}};function tM({finishReason:e,hasToolCalls:t}){switch(e){case"stop":return t?"tool-calls":"stop";default:return"other"}}var nM=w.object({error:w.object({code:w.string().nullable(),message:w.string(),param:w.any().nullable(),type:w.string()})}),_h=Er({errorSchema:nM,errorToMessage:e=>e.error.message});function rM({mode:e}){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],s=e.toolChoice;if(n===void 0)return{tools:void 0,toolWarnings:r};const i=[];for(const u of n)u.type==="provider-defined"?r.push({tool:u,type:"unsupported-tool"}):i.push({function:{description:u.description,name:u.name,parameters:u.parameters},type:"function"});if(s===void 0)return{tools:i,toolWarnings:r};const l=s.type;switch(l){case"auto":return{tools:i,toolWarnings:r};case"none":return{tools:void 0,toolWarnings:r};default:{const u=l;throw new ze({functionality:`Unsupported tool choice type: ${u}`})}}}function aM(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}var sM=class extends TransformStream{constructor(){super({flush:e=>{this.buffer.length!==0&&e.enqueue(this.buffer)},transform:(e,t)=>{for(e=this.buffer+e;;){const n=e.indexOf(`
`);if(n===-1)break;t.enqueue(e.slice(0,n)),e=e.slice(n+1)}this.buffer=e}}),this.buffer=""}},iM=e=>async({response:t})=>{const n=xs(t);if(t.body===null)throw new db({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new sM).pipeThrough(new TransformStream({transform(r,s){s.enqueue(ps({schema:e,text:r}))}}))}},oM=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!1}get provider(){return this.config.provider}getArguments({frequencyPenalty:e,maxTokens:t,mode:n,presencePenalty:r,prompt:s,responseFormat:i,seed:l,stopSequences:u,temperature:d,topK:f,topP:h}){const g=n.type,v=[];i!==void 0&&i.type==="json"&&i.schema!==void 0&&!this.supportsStructuredOutputs&&v.push({details:"JSON response format schema is only supported with structuredOutputs",setting:"responseFormat",type:"unsupported-setting"});const x={format:i==null?void 0:i.type,model:this.modelId,options:aM({f16_kv:this.settings.f16Kv,frequency_penalty:e,low_vram:this.settings.lowVram,main_gpu:this.settings.mainGpu,min_p:this.settings.minP,mirostat:this.settings.mirostat,mirostat_eta:this.settings.mirostatEta,mirostat_tau:this.settings.mirostatTau,num_batch:this.settings.numBatch,num_ctx:this.settings.numCtx,num_gpu:this.settings.numGpu,num_keep:this.settings.numKeep,num_predict:t,num_thread:this.settings.numThread,numa:this.settings.numa,penalize_newline:this.settings.penalizeNewline,presence_penalty:r,repeat_last_n:this.settings.repeatLastN,repeat_penalty:this.settings.repeatPenalty,seed:l,stop:u,temperature:d,tfs_z:this.settings.tfsZ,top_k:f,top_p:h,typical_p:this.settings.typicalP,use_mlock:this.settings.useMlock,use_mmap:this.settings.useMmap,vocab_only:this.settings.vocabOnly})};switch(g){case"regular":{const{tools:S,toolWarnings:_}=rM({mode:n});return{args:{...x,messages:gp(s),tools:S},type:g,warnings:[...v,..._]}}case"object-json":return{args:{...x,format:this.supportsStructuredOutputs&&n.schema!==void 0?n.schema:"json",messages:gp(s)},type:g,warnings:v};case"object-tool":return{args:{...x,messages:gp(s),tool_choice:{function:{name:n.tool.name},type:"function"},tools:[{function:{description:n.tool.description,name:n.tool.name,parameters:n.tool.parameters},type:"function"}]},type:g,warnings:v};default:{const S=g;throw new Error(`Unsupported type: ${S}`)}}}async doGenerate(e){var t,n;const{args:r,warnings:s}=this.getArguments(e),i={...r,stream:!1},{responseHeaders:l,value:u}=await pt({abortSignal:e.abortSignal,body:i,failedResponseHandler:_h,fetch:this.config.fetch,headers:bt(this.config.headers(),e.headers),successfulResponseHandler:Gt(lM),url:`${this.config.baseURL}/chat`}),{messages:d,...f}=i,h=(t=u.message.tool_calls)==null?void 0:t.map(g=>{var v;return{args:JSON.stringify(g.function.arguments),toolCallId:(v=g.id)!=null?v:nn(),toolCallType:"function",toolName:g.function.name}});return{finishReason:tM({finishReason:u.done_reason,hasToolCalls:h!==void 0&&h.length>0}),rawCall:{rawPrompt:d,rawSettings:f},rawResponse:{headers:l},request:{body:JSON.stringify(i)},text:(n=u.message.content)!=null?n:void 0,toolCalls:h,usage:{completionTokens:u.eval_count||0,promptTokens:u.prompt_eval_count||0},warnings:s}}async doStream(e){if(this.settings.simulateStreaming){const x=await this.doGenerate(e),S=new ReadableStream({start(_){if(_.enqueue({type:"response-metadata",...x.response}),x.text&&_.enqueue({textDelta:x.text,type:"text-delta"}),x.toolCalls)for(const C of x.toolCalls)_.enqueue({argsTextDelta:C.args,toolCallId:C.toolCallId,toolCallType:"function",toolName:C.toolName,type:"tool-call-delta"}),_.enqueue({type:"tool-call",...C});_.enqueue({finishReason:x.finishReason,logprobs:x.logprobs,providerMetadata:x.providerMetadata,type:"finish",usage:x.usage}),_.close()}});return{rawCall:x.rawCall,rawResponse:x.rawResponse,stream:S,warnings:x.warnings}}const{args:t,type:n,warnings:r}=this.getArguments(e),{responseHeaders:s,value:i}=await pt({abortSignal:e.abortSignal,body:t,failedResponseHandler:_h,fetch:this.config.fetch,headers:bt(this.config.headers(),e.headers),successfulResponseHandler:iM(uM),url:`${this.config.baseURL}/chat`}),{messages:l,...u}=t,d=e.mode.type==="regular"?e.mode.tools:e.mode.type==="object-tool"?[e.mode.tool]:void 0,f=new eM({tools:d,type:n});let h="other",g={completionTokens:Number.NaN,promptTokens:Number.NaN};const{experimentalStreamTools:v=!0}=this.settings;return{rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},request:{body:JSON.stringify(t)},stream:i.pipeThrough(new TransformStream({async flush(x){x.enqueue({finishReason:h,type:"finish",usage:g})},async transform(x,S){if(!x.success){S.enqueue({error:x.error,type:"error"});return}const _=x.value;if(_.done){h=f.finish({controller:S}),g={completionTokens:_.eval_count,promptTokens:_.prompt_eval_count||0};return}v&&f.parse({controller:S,delta:_.message.content})||_.message.content!==null&&S.enqueue({textDelta:_.message.content,type:"text-delta"})}})),warnings:r}}},lM=w.object({created_at:w.string(),done:w.literal(!0),done_reason:w.string().optional().nullable(),eval_count:w.number(),eval_duration:w.number(),load_duration:w.number().optional(),message:w.object({content:w.string(),role:w.string(),tool_calls:w.array(w.object({function:w.object({arguments:w.record(w.any()),name:w.string()}),id:w.string().optional()})).optional().nullable()}),model:w.string(),prompt_eval_count:w.number().optional(),prompt_eval_duration:w.number().optional(),total_duration:w.number()}),uM=w.discriminatedUnion("done",[w.object({created_at:w.string(),done:w.literal(!1),message:w.object({content:w.string(),role:w.string()}),model:w.string()}),w.object({created_at:w.string(),done:w.literal(!0),eval_count:w.number(),eval_duration:w.number(),load_duration:w.number().optional(),model:w.string(),prompt_eval_count:w.number().optional(),prompt_eval_duration:w.number().optional(),total_duration:w.number()})]),cM=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){return!1}async doEmbed({abortSignal:e,values:t}){if(t.length>this.maxEmbeddingsPerCall)throw new Tl({maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,modelId:this.modelId,provider:this.provider,values:t});const{responseHeaders:n,value:r}=await pt({abortSignal:e,body:{input:t,model:this.modelId},failedResponseHandler:_h,fetch:this.config.fetch,headers:this.config.headers(),successfulResponseHandler:Gt(dM),url:`${this.config.baseURL}/embed`});return{embeddings:r.embeddings,rawResponse:{headers:n},usage:r.prompt_eval_count?{tokens:r.prompt_eval_count}:void 0}}},dM=w.object({embeddings:w.array(w.array(w.number())),prompt_eval_count:w.number().nullable()});function gk(e={}){var t;const n=(t=Gr(e.baseURL))!=null?t:"http://127.0.0.1:11434/api",r=()=>({...e.headers}),s=(u,d={})=>new oM(u,d,{baseURL:n,fetch:e.fetch,headers:r,provider:"ollama.chat"}),i=(u,d={})=>new cM(u,d,{baseURL:n,fetch:e.fetch,headers:r,provider:"ollama.embedding"}),l=function(u,d){if(new.target)throw new Error("The Ollama model function cannot be called with the new keyword.");return s(u,d)};return l.chat=s,l.embedding=i,l.languageModel=s,l.textEmbedding=i,l.textEmbeddingModel=i,l}gk();const yk=({aiService:e,modelName:t})=>{switch(e==null?void 0:e.service){case"Ollama":{if(!e.url)throw new Error("No Ollama URL found");return gk({baseURL:e.url})(t)}case"OpenAI":{if(!e.apiKey)throw new Error("No OpenAI API key found");return hk({apiKey:e.apiKey,compatibility:"strict"})(t)}case"Anthropic":{if(!e.apiKey)throw new Error("No Anthropic URL found");return nk({apiKey:e.apiKey})(t)}case"Google":{if(!e.apiKey)throw new Error("No Google API key found");return lk({apiKey:e.apiKey})(t)}case"Mistral":return dk({apiKey:e.apiKey})(t);case"xAI":return mk({apiKey:e.apiKey})(t);case"DeepSeek":return ak({apiKey:e.apiKey})(t);case"Groq":return ck({apiKey:e.apiKey})(t);case"Replicate":throw e.apiKey?(JD({apiToken:e.apiKey,baseURL:e.url}),new Error("Replicate not implemented")):new Error("No Replicate API key found");case"OpenAI Compatible":{if(!e.url)throw new Error("No OpenAI Compatible API key found");return nD({apiKey:e.apiKey,baseURL:e.url,name:""})(t)}default:return null}},fM=async({chats:e,streamingCallback:t,chatHistory:n=20,aiService:r,modelName:s,systemPrompt:i})=>{try{const l=yk({aiService:r,modelName:s});if(!l)throw new Error("No SDK found");const u=e.slice(-n).map(h=>{var g;return h.role==="assistant"&&((g=h.data)!=null&&g.url)?{role:h.role,content:h.data.url.content||h.data.url.url}:{role:h.role,content:h.text}});i&&u.unshift({role:"system",content:i});const d=xA({model:l,messages:u});let f="";for await(const h of d.textStream)f+=h,t&&t({fullText:f,delta:h});return f}catch(l){console.error(l)}},pM=async({aiService:e,modelName:t,prompt:n,responseType:r,streamingCallback:s})=>{const i=yk({aiService:e,modelName:t});if(!i)throw new Error("No SDK found");const{partialObjectStream:l}=K5({model:i,prompt:n,schema:r,mode:"json"});let u={};for await(const d of l)u=d,s&&s(d);return u},Jc=()=>({actions:{streamMessage:fM,streamObject:pM}}),vk=O.createContext(void 0),hM=({children:e})=>{const[t,n]=O.useState(null),[r,s]=O.useState([]),[i,l]=O.useState(!1),[u,d]=O.useState([]),f=O.useRef(!1),h=Tr(),g=Jc(),v=O.useCallback(async j=>{if(i)return;l(!0);const L=await Sa.getById(j);if(!L){l(!1),n(null),s([]);return}n(L);const A=await xo.getByConversationId(j);s(A||[]),l(!1)},[i]);O.useEffect(()=>{(async()=>{if(!(t!=null&&t.aiServiceId))return;const L=await ai.getAllConfigs();L&&d(L)})()},[t]);const x=O.useMemo(()=>{if(t!=null&&t.aiServiceId)return u.find(j=>j.id===t.aiServiceId)},[u,t==null?void 0:t.aiServiceId]),S=tb({config:x}),_=O.useCallback(async j=>{if(!t){console.warn("No conversation found");return}await Sa.update((j==null?void 0:j.id)||t.id,j),n(L=>L?{...L,...j}:null)},[t]);O.useEffect(()=>{if(f.current||t!=null&&t.aiGeneratedTitle||r.length<2||!(t!=null&&t.aiServiceId)||!x||!t.modelName)return;(async()=>{if(f.current||(f.current=!0,!t.modelName))return;const L=await g.actions.streamMessage({aiService:x,modelName:t.modelName,chats:[{role:"system",text:"You are an expert at finding titles for conversations",id:0,createdAt:0,conversationId:0},{role:"user",text:`I need a title for this conversation, it needs to concise and descriptive. <chats>${r.map(A=>`<chat><from>${A.role}</from><messages>${A.text}</message></chat>`)}</chats>  Just give me the title and nothing else. No quotes, no mention of "Title", just the title. Be strict with yourself.`,id:1,conversationId:t.id,createdAt:Date.now()}]});if(f.current=!1,L){const A=L.replace(/<think>[\s\S]*?<\/think>/g,"").trim().replace(/["']/g,"").replace(/[*_`#]/g,"").trim();if(!A)return;await _({id:t.id,name:A,aiGeneratedTitle:!0}),h.actions.conversations.update({id:t.id,partial:{name:A,aiGeneratedTitle:!0}})}})()},[t,x,r,_,g.actions,h.actions.conversations]);const C=O.useCallback(async j=>{if(!t){console.warn("No conversation found");return}const L={...j,conversationId:j.conversationId||t.id,createdAt:Date.now(),id:0,role:j.role||"user",text:j.text||""};j.conversationId||(j.conversationId=t.id),j.createdAt||(j.createdAt=Date.now());const A=await xo.create(L);if(!A){console.warn("Failed to create chat");return}return s(U=>[...U,A]),A},[t]),k=O.useCallback(async j=>{if(!r.find(A=>A.id===j)){console.warn("Chat not found");return}await xo.delete(j),s(A=>A.filter(U=>U.id!==j))},[r]),I=O.useCallback(async(j,L)=>{await xo.update(j,L),s(A=>A.find(X=>X.id===j)?A.map(X=>X.id===j?{...X,...L}:X):(console.warn("Chat not found"),A))},[]),N={conversation:t,chats:r,isLoading:i,selectedConfig:x,configChecker:S,actions:{getByConversationId:v,update:_,chat:{add:C,delete:k,update:I}}};return y.jsx(vk.Provider,{value:N,children:e})},Il=()=>{const e=O.useContext(vk);if(e===void 0)throw new Error("useConversation must be used within a ConversationProvider");return e};function mM(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const gM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,yM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vM={};function S1(e,t){return(vM.jsx?yM:gM).test(e)}const xM=/[ \t\n\f\r]/g;function wM(e){return typeof e=="object"?e.type==="text"?k1(e.value):!1:k1(e)}function k1(e){return e.replace(xM,"")===""}class Nl{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Nl.prototype.property={};Nl.prototype.normal={};Nl.prototype.space=null;function xk(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new Nl(n,r,t)}function Ch(e){return e.toLowerCase()}class Un{constructor(t,n){this.property=t,this.attribute=n}}Un.prototype.space=null;Un.prototype.boolean=!1;Un.prototype.booleanish=!1;Un.prototype.overloadedBoolean=!1;Un.prototype.number=!1;Un.prototype.commaSeparated=!1;Un.prototype.spaceSeparated=!1;Un.prototype.commaOrSpaceSeparated=!1;Un.prototype.mustUseProperty=!1;Un.prototype.defined=!1;let bM=0;const Le=bs(),Nt=bs(),wk=bs(),oe=bs(),st=bs(),ii=bs(),bn=bs();function bs(){return 2**++bM}const Th=Object.freeze(Object.defineProperty({__proto__:null,boolean:Le,booleanish:Nt,commaOrSpaceSeparated:bn,commaSeparated:ii,number:oe,overloadedBoolean:wk,spaceSeparated:st},Symbol.toStringTag,{value:"Module"})),yp=Object.keys(Th);class Nm extends Un{constructor(t,n,r,s){let i=-1;if(super(t,n),_1(this,"space",s),typeof r=="number")for(;++i<yp.length;){const l=yp[i];_1(this,yp[i],(r&Th[l])===Th[l])}}}Nm.prototype.defined=!0;function _1(e,t,n){n&&(e[t]=n)}const SM={}.hasOwnProperty;function Si(e){const t={},n={};let r;for(r in e.properties)if(SM.call(e.properties,r)){const s=e.properties[r],i=new Nm(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[Ch(r)]=r,n[Ch(i.attribute)]=r}return new Nl(t,n,e.space)}const bk=Si({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Sk=Si({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function kk(e,t){return t in e?e[t]:t}function _k(e,t){return kk(e,t.toLowerCase())}const Ck=Si({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:_k,properties:{xmlns:null,xmlnsXLink:null}}),Tk=Si({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Nt,ariaAutoComplete:null,ariaBusy:Nt,ariaChecked:Nt,ariaColCount:oe,ariaColIndex:oe,ariaColSpan:oe,ariaControls:st,ariaCurrent:null,ariaDescribedBy:st,ariaDetails:null,ariaDisabled:Nt,ariaDropEffect:st,ariaErrorMessage:null,ariaExpanded:Nt,ariaFlowTo:st,ariaGrabbed:Nt,ariaHasPopup:null,ariaHidden:Nt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:st,ariaLevel:oe,ariaLive:null,ariaModal:Nt,ariaMultiLine:Nt,ariaMultiSelectable:Nt,ariaOrientation:null,ariaOwns:st,ariaPlaceholder:null,ariaPosInSet:oe,ariaPressed:Nt,ariaReadOnly:Nt,ariaRelevant:null,ariaRequired:Nt,ariaRoleDescription:st,ariaRowCount:oe,ariaRowIndex:oe,ariaRowSpan:oe,ariaSelected:Nt,ariaSetSize:oe,ariaSort:null,ariaValueMax:oe,ariaValueMin:oe,ariaValueNow:oe,ariaValueText:null,role:null}}),kM=Si({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:_k,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ii,acceptCharset:st,accessKey:st,action:null,allow:null,allowFullScreen:Le,allowPaymentRequest:Le,allowUserMedia:Le,alt:null,as:null,async:Le,autoCapitalize:null,autoComplete:st,autoFocus:Le,autoPlay:Le,blocking:st,capture:null,charSet:null,checked:Le,cite:null,className:st,cols:oe,colSpan:null,content:null,contentEditable:Nt,controls:Le,controlsList:st,coords:oe|ii,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Le,defer:Le,dir:null,dirName:null,disabled:Le,download:wk,draggable:Nt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Le,formTarget:null,headers:st,height:oe,hidden:Le,high:oe,href:null,hrefLang:null,htmlFor:st,httpEquiv:st,id:null,imageSizes:null,imageSrcSet:null,inert:Le,inputMode:null,integrity:null,is:null,isMap:Le,itemId:null,itemProp:st,itemRef:st,itemScope:Le,itemType:st,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Le,low:oe,manifest:null,max:null,maxLength:oe,media:null,method:null,min:null,minLength:oe,multiple:Le,muted:Le,name:null,nonce:null,noModule:Le,noValidate:Le,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Le,optimum:oe,pattern:null,ping:st,placeholder:null,playsInline:Le,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Le,referrerPolicy:null,rel:st,required:Le,reversed:Le,rows:oe,rowSpan:oe,sandbox:st,scope:null,scoped:Le,seamless:Le,selected:Le,shadowRootClonable:Le,shadowRootDelegatesFocus:Le,shadowRootMode:null,shape:null,size:oe,sizes:null,slot:null,span:oe,spellCheck:Nt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:oe,step:null,style:null,tabIndex:oe,target:null,title:null,translate:null,type:null,typeMustMatch:Le,useMap:null,value:Nt,width:oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:st,axis:null,background:null,bgColor:null,border:oe,borderColor:null,bottomMargin:oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Le,declare:Le,event:null,face:null,frame:null,frameBorder:null,hSpace:oe,leftMargin:oe,link:null,longDesc:null,lowSrc:null,marginHeight:oe,marginWidth:oe,noResize:Le,noHref:Le,noShade:Le,noWrap:Le,object:null,profile:null,prompt:null,rev:null,rightMargin:oe,rules:null,scheme:null,scrolling:Nt,standby:null,summary:null,text:null,topMargin:oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Le,disableRemotePlayback:Le,prefix:null,property:null,results:oe,security:null,unselectable:null}}),_M=Si({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:kk,properties:{about:bn,accentHeight:oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:oe,amplitude:oe,arabicForm:null,ascent:oe,attributeName:null,attributeType:null,azimuth:oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:oe,by:null,calcMode:null,capHeight:oe,className:st,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:oe,diffuseConstant:oe,direction:null,display:null,dur:null,divisor:oe,dominantBaseline:null,download:Le,dx:null,dy:null,edgeMode:null,editable:null,elevation:oe,enableBackground:null,end:null,event:null,exponent:oe,externalResourcesRequired:null,fill:null,fillOpacity:oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ii,g2:ii,glyphName:ii,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:oe,horizOriginX:oe,horizOriginY:oe,id:null,ideographic:oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:oe,k:oe,k1:oe,k2:oe,k3:oe,k4:oe,kernelMatrix:bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:oe,overlineThickness:oe,paintOrder:null,panose1:null,path:null,pathLength:oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:st,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:oe,pointsAtY:oe,pointsAtZ:oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bn,rev:bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bn,requiredFeatures:bn,requiredFonts:bn,requiredFormats:bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:oe,specularExponent:oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:oe,strikethroughThickness:oe,string:null,stroke:null,strokeDashArray:bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:oe,strokeOpacity:oe,strokeWidth:null,style:null,surfaceScale:oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bn,tabIndex:oe,tableValues:null,target:null,targetX:oe,targetY:oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:oe,underlineThickness:oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:oe,values:null,vAlphabetic:oe,vMathematical:oe,vectorEffect:null,vHanging:oe,vIdeographic:oe,version:null,vertAdvY:oe,vertOriginX:oe,vertOriginY:oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),CM=/^data[-\w.:]+$/i,C1=/-[a-z]/g,TM=/[A-Z]/g;function EM(e,t){const n=Ch(t);let r=t,s=Un;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&CM.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(C1,NM);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!C1.test(i)){let l=i.replace(TM,IM);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=Nm}return new s(r,t)}function IM(e){return"-"+e.toLowerCase()}function NM(e){return e.charAt(1).toUpperCase()}const OM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},jM=xk([Sk,bk,Ck,Tk,kM],"html"),Om=xk([Sk,bk,Ck,Tk,_M],"svg");function RM(e){return e.join(" ").trim()}var Ys={},vp,T1;function PM(){if(T1)return vp;T1=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,d=`
`,f="/",h="*",g="",v="comment",x="declaration";vp=function(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var k=1,I=1;function N(ee){var G=ee.match(t);G&&(k+=G.length);var re=ee.lastIndexOf(d);I=~re?ee.length-re:I+ee.length}function j(){var ee={line:k,column:I};return function(G){return G.position=new L(ee),X(),G}}function L(ee){this.start=ee,this.end={line:k,column:I},this.source=C.source}L.prototype.content=_;function A(ee){var G=new Error(C.source+":"+k+":"+I+": "+ee);if(G.reason=ee,G.filename=C.source,G.line=k,G.column=I,G.source=_,!C.silent)throw G}function U(ee){var G=ee.exec(_);if(G){var re=G[0];return N(re),_=_.slice(re.length),G}}function X(){U(n)}function W(ee){var G;for(ee=ee||[];G=Q();)G!==!1&&ee.push(G);return ee}function Q(){var ee=j();if(!(f!=_.charAt(0)||h!=_.charAt(1))){for(var G=2;g!=_.charAt(G)&&(h!=_.charAt(G)||f!=_.charAt(G+1));)++G;if(G+=2,g===_.charAt(G-1))return A("End of comment missing");var re=_.slice(2,G-2);return I+=2,N(re),_=_.slice(G),I+=2,ee({type:v,comment:re})}}function K(){var ee=j(),G=U(r);if(G){if(Q(),!U(s))return A("property missing ':'");var re=U(i),de=ee({type:x,property:S(G[0].replace(e,g)),value:re?S(re[0].replace(e,g)):g});return U(l),de}}function J(){var ee=[];W(ee);for(var G;G=K();)G!==!1&&(ee.push(G),W(ee));return ee}return X(),J()};function S(_){return _?_.replace(u,g):g}return vp}var E1;function AM(){if(E1)return Ys;E1=1;var e=Ys&&Ys.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.default=n;var t=e(PM());function n(r,s){var i=null;if(!r||typeof r!="string")return i;var l=(0,t.default)(r),u=typeof s=="function";return l.forEach(function(d){if(d.type==="declaration"){var f=d.property,h=d.value;u?s(f,h,d):h&&(i=i||{},i[f]=h)}}),i}return Ys}var DM=AM();const I1=yi(DM),MM=I1.default||I1,Ek=Ik("end"),jm=Ik("start");function Ik(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function LM(e){const t=jm(e),n=Ek(e);if(t&&n)return{start:t,end:n}}function Io(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?N1(e.position):"start"in e||"end"in e?N1(e):"line"in e||"column"in e?Eh(e):""}function Eh(e){return O1(e&&e.line)+":"+O1(e&&e.column)}function N1(e){return Eh(e&&e.start)+"-"+Eh(e&&e.end)}function O1(e){return e&&typeof e=="number"?e:1}class Yt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(l=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const d=r.indexOf(":");d===-1?i.ruleId=r:(i.source=r.slice(0,d),i.ruleId=r.slice(d+1))}if(!i.place&&i.ancestors&&i.ancestors){const d=i.ancestors[i.ancestors.length-1];d&&(i.place=d.position)}const u=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=u?u.line:void 0,this.name=Io(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Yt.prototype.file="";Yt.prototype.name="";Yt.prototype.reason="";Yt.prototype.message="";Yt.prototype.stack="";Yt.prototype.column=void 0;Yt.prototype.line=void 0;Yt.prototype.ancestors=void 0;Yt.prototype.cause=void 0;Yt.prototype.fatal=void 0;Yt.prototype.place=void 0;Yt.prototype.ruleId=void 0;Yt.prototype.source=void 0;const Rm={}.hasOwnProperty,FM=new Map,zM=/[A-Z]/g,$M=/-([a-z])/g,UM=new Set(["table","tbody","thead","tfoot","tr"]),BM=new Set(["td","th"]),Nk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function HM(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=KM(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=YM(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Om:jM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=Ok(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function Ok(e,t,n){if(t.type==="element")return qM(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return VM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return ZM(e,t,n);if(t.type==="mdxjsEsm")return WM(e,t);if(t.type==="root")return JM(e,t,n);if(t.type==="text")return GM(e,t)}function qM(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Om,e.schema=s),e.ancestors.push(t);const i=Rk(e,t.tagName,!1),l=XM(e,t);let u=Am(e,t);return UM.has(t.tagName)&&(u=u.filter(function(d){return typeof d=="string"?!wM(d):!0})),jk(e,l,i,t),Pm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function VM(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}vl(e,t.position)}function WM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);vl(e,t.position)}function ZM(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Om,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:Rk(e,t.name,!0),l=QM(e,t),u=Am(e,t);return jk(e,l,i,t),Pm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function JM(e,t,n){const r={};return Pm(r,Am(e,t)),e.create(t,e.Fragment,r,n)}function GM(e,t){return t.value}function jk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Pm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function YM(e,t,n){return r;function r(s,i,l,u){const f=Array.isArray(l.children)?n:t;return u?f(i,l,u):f(i,l)}}function KM(e,t){return n;function n(r,s,i,l){const u=Array.isArray(i.children),d=jm(r);return t(s,i,l,u,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function XM(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Rm.call(t.properties,s)){const i=e6(e,s,t.properties[s]);if(i){const[l,u]=i;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&BM.has(t.tagName)?r=u:n[l]=u}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function QM(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else vl(e,t.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,i=e.evaluater.evaluateExpression(u.expression)}else vl(e,t.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function Am(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:FM;for(;++r<t.children.length;){const i=t.children[r];let l;if(e.passKeys){const d=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(d){const f=s.get(d)||0;l=d+"-"+f,s.set(d,f+1)}}const u=Ok(e,i,l);u!==void 0&&n.push(u)}return n}function e6(e,t,n){const r=EM(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?mM(n):RM(n)),r.property==="style"){let s=typeof n=="object"?n:t6(e,String(n));return e.stylePropertyNameCase==="css"&&(s=n6(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?OM[r.property]||r.property:r.attribute,n]}}function t6(e,t){const n={};try{MM(t,r)}catch(s){if(!e.ignoreInvalidStyle){const i=s,l=new Yt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=Nk+"#cannot-parse-style-attribute",l}}return n;function r(s,i){let l=s;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace($M,a6)),n[l]=i}}function Rk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,l;for(;++i<s.length;){const u=S1(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(i&&u.type==="Literal"),optional:!1}:u}r=l}else r=S1(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Rm.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);vl(e)}function vl(e,t){const n=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Nk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function n6(e){const t={};let n;for(n in e)Rm.call(e,n)&&(t[r6(n)]=e[n]);return t}function r6(e){let t=e.replace(zM,s6);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function a6(e,t){return t.toUpperCase()}function s6(e){return"-"+e.toLowerCase()}const xp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},i6={};function o6(e,t){const n=i6,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Pk(e,r,s)}function Pk(e,t,n){if(l6(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return j1(e.children,t,n)}return Array.isArray(e)?j1(e,t,n):""}function j1(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=Pk(e[s],t,n);return r.join("")}function l6(e){return!!(e&&typeof e=="object")}const R1=document.createElement("i");function Dm(e){const t="&"+e+";";R1.innerHTML=t;const n=R1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function kr(e,t,n,r){const s=e.length;let i=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function $n(e,t){return e.length>0?(kr(e,e.length,0,t),e):t}const P1={}.hasOwnProperty;function u6(e){const t={};let n=-1;for(;++n<e.length;)c6(t,e[n]);return t}function c6(e,t){let n;for(n in t){const s=(P1.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let l;if(i)for(l in i){P1.call(s,l)||(s[l]=[]);const u=i[l];d6(s[l],Array.isArray(u)?u:u?[u]:[])}}}function d6(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);kr(e,0,0,r)}function Ak(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function oi(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const mr=Ma(/[A-Za-z]/),kn=Ma(/[\dA-Za-z]/),f6=Ma(/[#-'*+\--9=?A-Z^-~]/);function Ih(e){return e!==null&&(e<32||e===127)}const Nh=Ma(/\d/),p6=Ma(/[\dA-Fa-f]/),h6=Ma(/[!-/:-@[-`{-~]/);function Re(e){return e!==null&&e<-2}function mn(e){return e!==null&&(e<0||e===32)}function et(e){return e===-2||e===-1||e===32}const m6=Ma(new RegExp("\\p{P}|\\p{S}","u")),g6=Ma(/\s/);function Ma(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function ki(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let l="";if(i===37&&kn(e.charCodeAt(n+1))&&kn(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const u=e.charCodeAt(n+1);i<56320&&u>56319&&u<57344?(l=String.fromCharCode(i,u),s=1):l=""}else l=String.fromCharCode(i);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function it(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(d){return et(d)?(e.enter(n),u(d)):t(d)}function u(d){return et(d)&&i++<s?(e.consume(d),u):(e.exit(n),t(d))}}const y6={tokenize:v6};function v6(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),it(e,t,"linePrefix")}function s(u){return e.enter("paragraph"),i(u)}function i(u){const d=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=d),n=d,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Re(u)?(e.consume(u),e.exit("chunkText"),i):(e.consume(u),l)}}const x6={tokenize:w6},A1={tokenize:b6};function w6(e){const t=this,n=[];let r=0,s,i,l;return u;function u(N){if(r<n.length){const j=n[r];return t.containerState=j[1],e.attempt(j[0].continuation,d,f)(N)}return f(N)}function d(N){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&I();const j=t.events.length;let L=j,A;for(;L--;)if(t.events[L][0]==="exit"&&t.events[L][1].type==="chunkFlow"){A=t.events[L][1].end;break}k(r);let U=j;for(;U<t.events.length;)t.events[U][1].end={...A},U++;return kr(t.events,L+1,0,t.events.slice(j)),t.events.length=U,f(N)}return u(N)}function f(N){if(r===n.length){if(!s)return v(N);if(s.currentConstruct&&s.currentConstruct.concrete)return S(N);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(A1,h,g)(N)}function h(N){return s&&I(),k(r),v(N)}function g(N){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,S(N)}function v(N){return t.containerState={},e.attempt(A1,x,S)(N)}function x(N){return r++,n.push([t.currentConstruct,t.containerState]),v(N)}function S(N){if(N===null){s&&I(),k(0),e.consume(N);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),_(N)}function _(N){if(N===null){C(e.exit("chunkFlow"),!0),k(0),e.consume(N);return}return Re(N)?(e.consume(N),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(N),_)}function C(N,j){const L=t.sliceStream(N);if(j&&L.push(null),N.previous=i,i&&(i.next=N),i=N,s.defineSkip(N.start),s.write(L),t.parser.lazy[N.start.line]){let A=s.events.length;for(;A--;)if(s.events[A][1].start.offset<l&&(!s.events[A][1].end||s.events[A][1].end.offset>l))return;const U=t.events.length;let X=U,W,Q;for(;X--;)if(t.events[X][0]==="exit"&&t.events[X][1].type==="chunkFlow"){if(W){Q=t.events[X][1].end;break}W=!0}for(k(r),A=U;A<t.events.length;)t.events[A][1].end={...Q},A++;kr(t.events,X+1,0,t.events.slice(U)),t.events.length=A}}function k(N){let j=n.length;for(;j-- >N;){const L=n[j];t.containerState=L[1],L[0].exit.call(t,e)}n.length=N}function I(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function b6(e,t,n){return it(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function D1(e){if(e===null||mn(e)||g6(e))return 1;if(m6(e))return 2}function Mm(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const Oh={name:"attention",resolveAll:S6,tokenize:k6};function S6(e,t){let n=-1,r,s,i,l,u,d,f,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;d=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},v={...e[n][1].start};M1(g,-d),M1(v,d),l={type:d>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},u={type:d>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:v},i={type:d>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:d>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=$n(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=$n(f,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",i,t]]),f=$n(f,Mm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=$n(f,[["exit",i,t],["enter",u,t],["exit",u,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,f=$n(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,kr(e,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function k6(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=D1(r);let i;return l;function l(d){return i=d,e.enter("attentionSequence"),u(d)}function u(d){if(d===i)return e.consume(d),u;const f=e.exit("attentionSequence"),h=D1(d),g=!h||h===2&&s||n.includes(d),v=!s||s===2&&h||n.includes(r);return f._open=!!(i===42?g:g&&(s||!v)),f._close=!!(i===42?v:v&&(h||!g)),t(d)}}function M1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const _6={name:"autolink",tokenize:C6};function C6(e,t,n){let r=0;return s;function s(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(x){return mr(x)?(e.consume(x),l):x===64?n(x):f(x)}function l(x){return x===43||x===45||x===46||kn(x)?(r=1,u(x)):f(x)}function u(x){return x===58?(e.consume(x),r=0,d):(x===43||x===45||x===46||kn(x))&&r++<32?(e.consume(x),u):(r=0,f(x))}function d(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||Ih(x)?n(x):(e.consume(x),d)}function f(x){return x===64?(e.consume(x),h):f6(x)?(e.consume(x),f):n(x)}function h(x){return kn(x)?g(x):n(x)}function g(x){return x===46?(e.consume(x),r=0,h):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):v(x)}function v(x){if((x===45||kn(x))&&r++<63){const S=x===45?v:g;return e.consume(x),S}return n(x)}}const Gc={partial:!0,tokenize:T6};function T6(e,t,n){return r;function r(i){return et(i)?it(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||Re(i)?t(i):n(i)}}const Dk={continuation:{tokenize:I6},exit:N6,name:"blockQuote",tokenize:E6};function E6(e,t,n){const r=this;return s;function s(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return n(l)}function i(l){return et(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function I6(e,t,n){const r=this;return s;function s(l){return et(l)?it(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(Dk,t,n)(l)}}function N6(e){e.exit("blockQuote")}const Mk={name:"characterEscape",tokenize:O6};function O6(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return h6(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const Lk={name:"characterReference",tokenize:j6};function j6(e,t,n){const r=this;let s=0,i,l;return u;function u(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),d}function d(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),i=31,l=kn,h(g))}function f(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=p6,h):(e.enter("characterReferenceValue"),i=7,l=Nh,h(g))}function h(g){if(g===59&&s){const v=e.exit("characterReferenceValue");return l===kn&&!Dm(r.sliceSerialize(v))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&s++<i?(e.consume(g),h):n(g)}}const L1={partial:!0,tokenize:P6},F1={concrete:!0,name:"codeFenced",tokenize:R6};function R6(e,t,n){const r=this,s={partial:!0,tokenize:L};let i=0,l=0,u;return d;function d(A){return f(A)}function f(A){const U=r.events[r.events.length-1];return i=U&&U[1].type==="linePrefix"?U[2].sliceSerialize(U[1],!0).length:0,u=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===u?(l++,e.consume(A),h):l<3?n(A):(e.exit("codeFencedFenceSequence"),et(A)?it(e,g,"whitespace")(A):g(A))}function g(A){return A===null||Re(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(L1,_,j)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(A))}function v(A){return A===null||Re(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(A)):et(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),it(e,x,"whitespace")(A)):A===96&&A===u?n(A):(e.consume(A),v)}function x(A){return A===null||Re(A)?g(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(A))}function S(A){return A===null||Re(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(A)):A===96&&A===u?n(A):(e.consume(A),S)}function _(A){return e.attempt(s,j,C)(A)}function C(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),k}function k(A){return i>0&&et(A)?it(e,I,"linePrefix",i+1)(A):I(A)}function I(A){return A===null||Re(A)?e.check(L1,_,j)(A):(e.enter("codeFlowValue"),N(A))}function N(A){return A===null||Re(A)?(e.exit("codeFlowValue"),I(A)):(e.consume(A),N)}function j(A){return e.exit("codeFenced"),t(A)}function L(A,U,X){let W=0;return Q;function Q(re){return A.enter("lineEnding"),A.consume(re),A.exit("lineEnding"),K}function K(re){return A.enter("codeFencedFence"),et(re)?it(A,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(re):J(re)}function J(re){return re===u?(A.enter("codeFencedFenceSequence"),ee(re)):X(re)}function ee(re){return re===u?(W++,A.consume(re),ee):W>=l?(A.exit("codeFencedFenceSequence"),et(re)?it(A,G,"whitespace")(re):G(re)):X(re)}function G(re){return re===null||Re(re)?(A.exit("codeFencedFence"),U(re)):X(re)}}}function P6(e,t,n){const r=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const wp={name:"codeIndented",tokenize:D6},A6={partial:!0,tokenize:M6};function D6(e,t,n){const r=this;return s;function s(f){return e.enter("codeIndented"),it(e,i,"linePrefix",5)(f)}function i(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(f):n(f)}function l(f){return f===null?d(f):Re(f)?e.attempt(A6,l,d)(f):(e.enter("codeFlowValue"),u(f))}function u(f){return f===null||Re(f)?(e.exit("codeFlowValue"),l(f)):(e.consume(f),u)}function d(f){return e.exit("codeIndented"),t(f)}}function M6(e,t,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):Re(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):it(e,i,"linePrefix",5)(l)}function i(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Re(l)?s(l):n(l)}}const L6={name:"codeText",previous:z6,resolve:F6,tokenize:$6};function F6(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function z6(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $6(e,t,n){let r=0,s,i;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),u(g)}function u(g){return g===96?(e.consume(g),r++,u):(e.exit("codeTextSequence"),d(g))}function d(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),d):g===96?(i=e.enter("codeTextSequence"),s=0,h(g)):Re(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),d):(e.enter("codeTextData"),f(g))}function f(g){return g===null||g===32||g===96||Re(g)?(e.exit("codeTextData"),d(g)):(e.consume(g),f)}function h(g){return g===96?(e.consume(g),s++,h):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(i.type="codeTextData",f(g))}}class U6{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&ho(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ho(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ho(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ho(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ho(this.left,n.reverse())}}}function ho(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Fk(e){const t={};let n=-1,r,s,i,l,u,d,f;const h=new U6(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(d=r[1]._tokenizer.events,i=0,i<d.length&&d[i][1].type==="lineEndingBlank"&&(i+=2),i<d.length&&d[i][1].type==="content"))for(;++i<d.length&&d[i][1].type!=="content";)d[i][1].type==="chunkText"&&(d[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,B6(h,n)),n=t[n],f=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(l=h.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=i);else if(l[1].type!=="linePrefix")break;s&&(r[1].end={...h.get(s)[1].start},u=h.slice(s,n),u.unshift(r),h.splice(s,n-s+1,u))}}return kr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!f}function B6(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,d=[],f={};let h,g,v=-1,x=n,S=0,_=0;const C=[_];for(;x;){for(;e.get(++s)[1]!==x;);i.push(s),x._tokenizer||(h=r.sliceStream(x),x.next||h.push(null),g&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=n;++v<u.length;)u[v][0]==="exit"&&u[v-1][0]==="enter"&&u[v][1].type===u[v-1][1].type&&u[v][1].start.line!==u[v][1].end.line&&(_=v+1,C.push(_),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):C.pop(),v=C.length;v--;){const k=u.slice(C[v],C[v+1]),I=i.pop();d.push([I,I+k.length-1]),e.splice(I,2,k)}for(d.reverse(),v=-1;++v<d.length;)f[S+d[v][0]]=S+d[v][1],S+=d[v][1]-d[v][0]-1;return f}const H6={resolve:V6,tokenize:W6},q6={partial:!0,tokenize:Z6};function V6(e){return Fk(e),e}function W6(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?i(u):Re(u)?e.check(q6,l,i)(u):(e.consume(u),s)}function i(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function Z6(e,t,n){const r=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),it(e,i,"linePrefix")}function i(l){if(l===null||Re(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function zk(e,t,n,r,s,i,l,u,d){const f=d||Number.POSITIVE_INFINITY;let h=0;return g;function g(k){return k===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(k),e.exit(i),v):k===null||k===32||k===41||Ih(k)?n(k):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),_(k))}function v(k){return k===62?(e.enter(i),e.consume(k),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),x(k))}function x(k){return k===62?(e.exit("chunkString"),e.exit(u),v(k)):k===null||k===60||Re(k)?n(k):(e.consume(k),k===92?S:x)}function S(k){return k===60||k===62||k===92?(e.consume(k),x):x(k)}function _(k){return!h&&(k===null||k===41||mn(k))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(k)):h<f&&k===40?(e.consume(k),h++,_):k===41?(e.consume(k),h--,_):k===null||k===32||k===40||Ih(k)?n(k):(e.consume(k),k===92?C:_)}function C(k){return k===40||k===41||k===92?(e.consume(k),_):_(k)}}function $k(e,t,n,r,s,i){const l=this;let u=0,d;return f;function f(x){return e.enter(r),e.enter(s),e.consume(x),e.exit(s),e.enter(i),h}function h(x){return u>999||x===null||x===91||x===93&&!d||x===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(i),e.enter(s),e.consume(x),e.exit(s),e.exit(r),t):Re(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||Re(x)||u++>999?(e.exit("chunkString"),h(x)):(e.consume(x),d||(d=!et(x)),x===92?v:g)}function v(x){return x===91||x===92||x===93?(e.consume(x),u++,g):g(x)}}function Uk(e,t,n,r,s,i){let l;return u;function u(v){return v===34||v===39||v===40?(e.enter(r),e.enter(s),e.consume(v),e.exit(s),l=v===40?41:v,d):n(v)}function d(v){return v===l?(e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):(e.enter(i),f(v))}function f(v){return v===l?(e.exit(i),d(l)):v===null?n(v):Re(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),it(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(v))}function h(v){return v===l||v===null||Re(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?g:h)}function g(v){return v===l||v===92?(e.consume(v),h):h(v)}}function No(e,t){let n;return r;function r(s){return Re(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):et(s)?it(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const J6={name:"definition",tokenize:Y6},G6={partial:!0,tokenize:K6};function Y6(e,t,n){const r=this;let s;return i;function i(x){return e.enter("definition"),l(x)}function l(x){return $k.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function u(x){return s=oi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),d):n(x)}function d(x){return mn(x)?No(e,f)(x):f(x)}function f(x){return zk(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return e.attempt(G6,g,g)(x)}function g(x){return et(x)?it(e,v,"whitespace")(x):v(x)}function v(x){return x===null||Re(x)?(e.exit("definition"),r.parser.defined.push(s),t(x)):n(x)}}function K6(e,t,n){return r;function r(u){return mn(u)?No(e,s)(u):n(u)}function s(u){return Uk(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function i(u){return et(u)?it(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Re(u)?t(u):n(u)}}const X6={name:"hardBreakEscape",tokenize:Q6};function Q6(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return Re(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const eL={name:"headingAtx",resolve:tL,tokenize:nL};function tL(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},kr(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function nL(e,t,n){let r=0;return s;function s(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||mn(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),d(h)):h===null||Re(h)?(e.exit("atxHeading"),t(h)):et(h)?it(e,u,"whitespace")(h):(e.enter("atxHeadingText"),f(h))}function d(h){return h===35?(e.consume(h),d):(e.exit("atxHeadingSequence"),u(h))}function f(h){return h===null||h===35||mn(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),f)}}const rL=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],z1=["pre","script","style","textarea"],aL={concrete:!0,name:"htmlFlow",resolveTo:oL,tokenize:lL},sL={partial:!0,tokenize:cL},iL={partial:!0,tokenize:uL};function oL(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function lL(e,t,n){const r=this;let s,i,l,u,d;return f;function f(R){return h(R)}function h(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),g}function g(R){return R===33?(e.consume(R),v):R===47?(e.consume(R),i=!0,_):R===63?(e.consume(R),s=3,r.interrupt?t:E):mr(R)?(e.consume(R),l=String.fromCharCode(R),C):n(R)}function v(R){return R===45?(e.consume(R),s=2,x):R===91?(e.consume(R),s=5,u=0,S):mr(R)?(e.consume(R),s=4,r.interrupt?t:E):n(R)}function x(R){return R===45?(e.consume(R),r.interrupt?t:E):n(R)}function S(R){const ve="CDATA[";return R===ve.charCodeAt(u++)?(e.consume(R),u===ve.length?r.interrupt?t:J:S):n(R)}function _(R){return mr(R)?(e.consume(R),l=String.fromCharCode(R),C):n(R)}function C(R){if(R===null||R===47||R===62||mn(R)){const ve=R===47,me=l.toLowerCase();return!ve&&!i&&z1.includes(me)?(s=1,r.interrupt?t(R):J(R)):rL.includes(l.toLowerCase())?(s=6,ve?(e.consume(R),k):r.interrupt?t(R):J(R)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):i?I(R):N(R))}return R===45||kn(R)?(e.consume(R),l+=String.fromCharCode(R),C):n(R)}function k(R){return R===62?(e.consume(R),r.interrupt?t:J):n(R)}function I(R){return et(R)?(e.consume(R),I):Q(R)}function N(R){return R===47?(e.consume(R),Q):R===58||R===95||mr(R)?(e.consume(R),j):et(R)?(e.consume(R),N):Q(R)}function j(R){return R===45||R===46||R===58||R===95||kn(R)?(e.consume(R),j):L(R)}function L(R){return R===61?(e.consume(R),A):et(R)?(e.consume(R),L):N(R)}function A(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),d=R,U):et(R)?(e.consume(R),A):X(R)}function U(R){return R===d?(e.consume(R),d=null,W):R===null||Re(R)?n(R):(e.consume(R),U)}function X(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||mn(R)?L(R):(e.consume(R),X)}function W(R){return R===47||R===62||et(R)?N(R):n(R)}function Q(R){return R===62?(e.consume(R),K):n(R)}function K(R){return R===null||Re(R)?J(R):et(R)?(e.consume(R),K):n(R)}function J(R){return R===45&&s===2?(e.consume(R),de):R===60&&s===1?(e.consume(R),V):R===62&&s===4?(e.consume(R),D):R===63&&s===3?(e.consume(R),E):R===93&&s===5?(e.consume(R),Y):Re(R)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(sL,z,ee)(R)):R===null||Re(R)?(e.exit("htmlFlowData"),ee(R)):(e.consume(R),J)}function ee(R){return e.check(iL,G,z)(R)}function G(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),re}function re(R){return R===null||Re(R)?ee(R):(e.enter("htmlFlowData"),J(R))}function de(R){return R===45?(e.consume(R),E):J(R)}function V(R){return R===47?(e.consume(R),l="",q):J(R)}function q(R){if(R===62){const ve=l.toLowerCase();return z1.includes(ve)?(e.consume(R),D):J(R)}return mr(R)&&l.length<8?(e.consume(R),l+=String.fromCharCode(R),q):J(R)}function Y(R){return R===93?(e.consume(R),E):J(R)}function E(R){return R===62?(e.consume(R),D):R===45&&s===2?(e.consume(R),E):J(R)}function D(R){return R===null||Re(R)?(e.exit("htmlFlowData"),z(R)):(e.consume(R),D)}function z(R){return e.exit("htmlFlow"),t(R)}}function uL(e,t,n){const r=this;return s;function s(l){return Re(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function cL(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(Gc,t,n)}}const dL={name:"htmlText",tokenize:fL};function fL(e,t,n){const r=this;let s,i,l;return u;function u(E){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(E),d}function d(E){return E===33?(e.consume(E),f):E===47?(e.consume(E),L):E===63?(e.consume(E),N):mr(E)?(e.consume(E),X):n(E)}function f(E){return E===45?(e.consume(E),h):E===91?(e.consume(E),i=0,S):mr(E)?(e.consume(E),I):n(E)}function h(E){return E===45?(e.consume(E),x):n(E)}function g(E){return E===null?n(E):E===45?(e.consume(E),v):Re(E)?(l=g,V(E)):(e.consume(E),g)}function v(E){return E===45?(e.consume(E),x):g(E)}function x(E){return E===62?de(E):E===45?v(E):g(E)}function S(E){const D="CDATA[";return E===D.charCodeAt(i++)?(e.consume(E),i===D.length?_:S):n(E)}function _(E){return E===null?n(E):E===93?(e.consume(E),C):Re(E)?(l=_,V(E)):(e.consume(E),_)}function C(E){return E===93?(e.consume(E),k):_(E)}function k(E){return E===62?de(E):E===93?(e.consume(E),k):_(E)}function I(E){return E===null||E===62?de(E):Re(E)?(l=I,V(E)):(e.consume(E),I)}function N(E){return E===null?n(E):E===63?(e.consume(E),j):Re(E)?(l=N,V(E)):(e.consume(E),N)}function j(E){return E===62?de(E):N(E)}function L(E){return mr(E)?(e.consume(E),A):n(E)}function A(E){return E===45||kn(E)?(e.consume(E),A):U(E)}function U(E){return Re(E)?(l=U,V(E)):et(E)?(e.consume(E),U):de(E)}function X(E){return E===45||kn(E)?(e.consume(E),X):E===47||E===62||mn(E)?W(E):n(E)}function W(E){return E===47?(e.consume(E),de):E===58||E===95||mr(E)?(e.consume(E),Q):Re(E)?(l=W,V(E)):et(E)?(e.consume(E),W):de(E)}function Q(E){return E===45||E===46||E===58||E===95||kn(E)?(e.consume(E),Q):K(E)}function K(E){return E===61?(e.consume(E),J):Re(E)?(l=K,V(E)):et(E)?(e.consume(E),K):W(E)}function J(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),s=E,ee):Re(E)?(l=J,V(E)):et(E)?(e.consume(E),J):(e.consume(E),G)}function ee(E){return E===s?(e.consume(E),s=void 0,re):E===null?n(E):Re(E)?(l=ee,V(E)):(e.consume(E),ee)}function G(E){return E===null||E===34||E===39||E===60||E===61||E===96?n(E):E===47||E===62||mn(E)?W(E):(e.consume(E),G)}function re(E){return E===47||E===62||mn(E)?W(E):n(E)}function de(E){return E===62?(e.consume(E),e.exit("htmlTextData"),e.exit("htmlText"),t):n(E)}function V(E){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),q}function q(E){return et(E)?it(e,Y,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):Y(E)}function Y(E){return e.enter("htmlTextData"),l(E)}}const Lm={name:"labelEnd",resolveAll:gL,resolveTo:yL,tokenize:vL},pL={tokenize:xL},hL={tokenize:wL},mL={tokenize:bL};function gL(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&kr(e,0,e.length,n),e}function yL(e,t){let n=e.length,r=0,s,i,l,u;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const d={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",d,t],["enter",f,t]],u=$n(u,e.slice(i+1,i+r+3)),u=$n(u,[["enter",h,t]]),u=$n(u,Mm(t.parser.constructs.insideSpan.null,e.slice(i+r+4,l-3),t)),u=$n(u,[["exit",h,t],e[l-2],e[l-1],["exit",f,t]]),u=$n(u,e.slice(l+1)),u=$n(u,[["exit",d,t]]),kr(e,i,e.length,u),e}function vL(e,t,n){const r=this;let s=r.events.length,i,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return u;function u(v){return i?i._inactive?g(v):(l=r.parser.defined.includes(oi(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),d):n(v)}function d(v){return v===40?e.attempt(pL,h,l?h:g)(v):v===91?e.attempt(hL,h,l?f:g)(v):l?h(v):g(v)}function f(v){return e.attempt(mL,h,g)(v)}function h(v){return t(v)}function g(v){return i._balanced=!0,n(v)}}function xL(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),s}function s(g){return mn(g)?No(e,i)(g):i(g)}function i(g){return g===41?h(g):zk(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return mn(g)?No(e,d)(g):h(g)}function u(g){return n(g)}function d(g){return g===34||g===39||g===40?Uk(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function f(g){return mn(g)?No(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function wL(e,t,n){const r=this;return s;function s(u){return $k.call(r,e,i,l,"reference","referenceMarker","referenceString")(u)}function i(u){return r.parser.defined.includes(oi(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function bL(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const SL={name:"labelStartImage",resolveAll:Lm.resolveAll,tokenize:kL};function kL(e,t,n){const r=this;return s;function s(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),i}function i(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const _L={name:"labelStartLink",resolveAll:Lm.resolveAll,tokenize:CL};function CL(e,t,n){const r=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const bp={name:"lineEnding",tokenize:TL};function TL(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),it(e,t,"linePrefix")}}const sc={name:"thematicBreak",tokenize:EL};function EL(e,t,n){let r=0,s;return i;function i(f){return e.enter("thematicBreak"),l(f)}function l(f){return s=f,u(f)}function u(f){return f===s?(e.enter("thematicBreakSequence"),d(f)):r>=3&&(f===null||Re(f))?(e.exit("thematicBreak"),t(f)):n(f)}function d(f){return f===s?(e.consume(f),r++,d):(e.exit("thematicBreakSequence"),et(f)?it(e,u,"whitespace")(f):u(f))}}const hn={continuation:{tokenize:jL},exit:PL,name:"list",tokenize:OL},IL={partial:!0,tokenize:AL},NL={partial:!0,tokenize:RL};function OL(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(x){const S=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:Nh(x)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(sc,n,f)(x):f(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(x)}return n(x)}function d(x){return Nh(x)&&++l<10?(e.consume(x),d):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),f(x)):n(x)}function f(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(Gc,r.interrupt?n:h,e.attempt(IL,v,g))}function h(x){return r.containerState.initialBlankLine=!0,i++,v(x)}function g(x){return et(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),v):n(x)}function v(x){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function jL(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Gc,s,i);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,it(e,t,"listItemIndent",r.containerState.size+1)(u)}function i(u){return r.containerState.furtherBlankLines||!et(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(NL,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,it(e,e.attempt(hn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function RL(e,t,n){const r=this;return it(e,s,"listItemIndent",r.containerState.size+1);function s(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(i):n(i)}}function PL(e){e.exit(this.containerState.type)}function AL(e,t,n){const r=this;return it(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const l=r.events[r.events.length-1];return!et(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const $1={name:"setextUnderline",resolveTo:DL,tokenize:ML};function DL(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",l,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function ML(e,t,n){const r=this;let s;return i;function i(f){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),s=f,l(f)):n(f)}function l(f){return e.enter("setextHeadingLineSequence"),u(f)}function u(f){return f===s?(e.consume(f),u):(e.exit("setextHeadingLineSequence"),et(f)?it(e,d,"lineSuffix")(f):d(f))}function d(f){return f===null||Re(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const LL={tokenize:FL};function FL(e){const t=this,n=e.attempt(Gc,r,e.attempt(this.parser.constructs.flowInitial,s,it(e,e.attempt(this.parser.constructs.flow,s,e.attempt(H6,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const zL={resolveAll:Hk()},$L=Bk("string"),UL=Bk("text");function Bk(e){return{resolveAll:Hk(e==="text"?BL:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,l,u);return l;function l(h){return f(h)?i(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),d}function d(h){return f(h)?(n.exit("data"),i(h)):(n.consume(h),d)}function f(h){if(h===null)return!0;const g=s[h];let v=-1;if(g)for(;++v<g.length;){const x=g[v];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function Hk(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function BL(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,l=-1,u=0,d;for(;i--;){const f=s[i];if(typeof f=="string"){for(l=f.length;f.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(f===-2)d=!0,u++;else if(f!==-1){i++;break}}if(u){const f={type:n===e.length||d||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const HL={42:hn,43:hn,45:hn,48:hn,49:hn,50:hn,51:hn,52:hn,53:hn,54:hn,55:hn,56:hn,57:hn,62:Dk},qL={91:J6},VL={[-2]:wp,[-1]:wp,32:wp},WL={35:eL,42:sc,45:[$1,sc],60:aL,61:$1,95:sc,96:F1,126:F1},ZL={38:Lk,92:Mk},JL={[-5]:bp,[-4]:bp,[-3]:bp,33:SL,38:Lk,42:Oh,60:[_6,dL],91:_L,92:[X6,Mk],93:Lm,95:Oh,96:L6},GL={null:[Oh,zL]},YL={null:[42,95]},KL={null:[]},XL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:YL,contentInitial:qL,disable:KL,document:HL,flow:WL,flowInitial:VL,insideSpan:GL,string:ZL,text:JL},Symbol.toStringTag,{value:"Module"}));function QL(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let l=[],u=[];const d={attempt:U(L),check:U(A),consume:I,enter:N,exit:j,interrupt:U(A,{interrupt:!0})},f={code:null,containerState:{},defineSkip:_,events:[],now:S,parser:e,previous:null,sliceSerialize:v,sliceStream:x,write:g};let h=t.tokenize.call(f,d);return t.resolveAll&&i.push(t),f;function g(K){return l=$n(l,K),C(),l[l.length-1]!==null?[]:(X(t,0),f.events=Mm(i,f.events,f),f.events)}function v(K,J){return t8(x(K),J)}function x(K){return e8(l,K)}function S(){const{_bufferIndex:K,_index:J,line:ee,column:G,offset:re}=r;return{_bufferIndex:K,_index:J,line:ee,column:G,offset:re}}function _(K){s[K.line]=K.column,Q()}function C(){let K;for(;r._index<l.length;){const J=l[r._index];if(typeof J=="string")for(K=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===K&&r._bufferIndex<J.length;)k(J.charCodeAt(r._bufferIndex));else k(J)}}function k(K){h=h(K)}function I(K){Re(K)?(r.line++,r.column=1,r.offset+=K===-3?2:1,Q()):K!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=K}function N(K,J){const ee=J||{};return ee.type=K,ee.start=S(),f.events.push(["enter",ee,f]),u.push(ee),ee}function j(K){const J=u.pop();return J.end=S(),f.events.push(["exit",J,f]),J}function L(K,J){X(K,J.from)}function A(K,J){J.restore()}function U(K,J){return ee;function ee(G,re,de){let V,q,Y,E;return Array.isArray(G)?z(G):"tokenize"in G?z([G]):D(G);function D(be){return Be;function Be(De){const He=De!==null&&be[De],ot=De!==null&&be.null,qe=[...Array.isArray(He)?He:He?[He]:[],...Array.isArray(ot)?ot:ot?[ot]:[]];return z(qe)(De)}}function z(be){return V=be,q=0,be.length===0?de:R(be[q])}function R(be){return Be;function Be(De){return E=W(),Y=be,be.partial||(f.currentConstruct=be),be.name&&f.parser.constructs.disable.null.includes(be.name)?me():be.tokenize.call(J?Object.assign(Object.create(f),J):f,d,ve,me)(De)}}function ve(be){return K(Y,E),re}function me(be){return E.restore(),++q<V.length?R(V[q]):de}}}function X(K,J){K.resolveAll&&!i.includes(K)&&i.push(K),K.resolve&&kr(f.events,J,f.events.length-J,K.resolve(f.events.slice(J),f)),K.resolveTo&&(f.events=K.resolveTo(f.events,f))}function W(){const K=S(),J=f.previous,ee=f.currentConstruct,G=f.events.length,re=Array.from(u);return{from:G,restore:de};function de(){r=K,f.previous=J,f.currentConstruct=ee,f.events.length=G,u=re,Q()}}function Q(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function e8(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(r,i)];else{if(l=e.slice(n,s),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}i>0&&l.push(e[s].slice(0,i))}return l}function t8(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(i)}s=i===-2,r.push(l)}return r.join("")}function n8(e){const r={constructs:u6([XL,...(e||{}).extensions||[]]),content:s(y6),defined:[],document:s(x6),flow:s(LL),lazy:{},string:s($L),text:s(UL)};return r;function s(i){return l;function l(u){return QL(r,i,u)}}}function r8(e){for(;!Fk(e););return e}const U1=/[\0\t\n\r]/g;function a8(){let e=1,t="",n=!0,r;return s;function s(i,l,u){const d=[];let f,h,g,v,x;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),g=0,t="",n&&(i.charCodeAt(0)===65279&&g++,n=void 0);g<i.length;){if(U1.lastIndex=g,f=U1.exec(i),v=f&&f.index!==void 0?f.index:i.length,x=i.charCodeAt(v),!f){t=i.slice(g);break}if(x===10&&g===v&&r)d.push(-3),r=void 0;else switch(r&&(d.push(-5),r=void 0),g<v&&(d.push(i.slice(g,v)),e+=v-g),x){case 0:{d.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,d.push(-2);e++<h;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:r=!0,e=1}g=v+1}return u&&(r&&d.push(-5),t&&d.push(t),d.push(null)),d}}const s8=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function i8(e){return e.replace(s8,o8)}function o8(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return Ak(n.slice(i?2:1),i?16:10)}return Dm(n)||e}const qk={}.hasOwnProperty;function l8(e,t,n){return typeof t!="string"&&(n=t,t=void 0),u8(n)(r8(n8(n).document().write(a8()(e,t,!0))))}function u8(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Bn),autolinkProtocol:W,autolinkEmail:W,atxHeading:i(ge),blockQuote:i(ot),characterEscape:W,characterReference:W,codeFenced:i(qe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(qe,l),codeText:i(Ae,l),codeTextData:W,data:W,codeFlowValue:W,definition:i(rt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(Ot),hardBreakEscape:i(Qe),hardBreakTrailing:i(Qe),htmlFlow:i(Ft,l),htmlFlowData:W,htmlText:i(Ft,l),htmlTextData:W,image:i(St),label:l,link:i(Bn),listItem:i(gn),listItemValue:v,listOrdered:i(ir,g),listUnordered:i(ir),paragraph:i(Yr),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(ge),strong:i(Kr),thematicBreak:i(Fa)},exit:{atxHeading:d(),atxHeadingSequence:L,autolink:d(),autolinkEmail:He,autolinkProtocol:De,blockQuote:d(),characterEscapeValue:Q,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:be,characterReference:Be,codeFenced:d(C),codeFencedFence:_,codeFencedFenceInfo:x,codeFencedFenceMeta:S,codeFlowValue:Q,codeIndented:d(k),codeText:d(re),codeTextData:Q,data:Q,definition:d(),definitionDestinationString:j,definitionLabelString:I,definitionTitleString:N,emphasis:d(),hardBreakEscape:d(J),hardBreakTrailing:d(J),htmlFlow:d(ee),htmlFlowData:Q,htmlText:d(G),htmlTextData:Q,image:d(V),label:Y,labelText:q,lineEnding:K,link:d(de),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ve,resourceDestinationString:E,resourceTitleString:D,resource:z,setextHeading:d(X),setextHeadingLineSequence:U,setextHeadingText:A,strong:d(),thematicBreak:d()}};Vk(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Z){let ce={type:"root",children:[]};const Ce={stack:[ce],tokenStack:[],config:t,enter:u,exit:f,buffer:l,resume:h,data:n},Me=[];let Ze=-1;for(;++Ze<Z.length;)if(Z[Ze][1].type==="listOrdered"||Z[Ze][1].type==="listUnordered")if(Z[Ze][0]==="enter")Me.push(Ze);else{const ht=Me.pop();Ze=s(Z,ht,Ze)}for(Ze=-1;++Ze<Z.length;){const ht=t[Z[Ze][0]];qk.call(ht,Z[Ze][1].type)&&ht[Z[Ze][1].type].call(Object.assign({sliceSerialize:Z[Ze][2].sliceSerialize},Ce),Z[Ze][1])}if(Ce.tokenStack.length>0){const ht=Ce.tokenStack[Ce.tokenStack.length-1];(ht[1]||B1).call(Ce,void 0,ht[0])}for(ce.position={start:wa(Z.length>0?Z[0][1].start:{line:1,column:1,offset:0}),end:wa(Z.length>0?Z[Z.length-2][1].end:{line:1,column:1,offset:0})},Ze=-1;++Ze<t.transforms.length;)ce=t.transforms[Ze](ce)||ce;return ce}function s(Z,ce,Ce){let Me=ce-1,Ze=-1,ht=!1,Tn,an,Hn,Kt;for(;++Me<=Ce;){const Ct=Z[Me];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?Ze++:Ze--,Kt=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(Tn&&!Kt&&!Ze&&!Hn&&(Hn=Me),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!Ze&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||Ze===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(Tn){let Pt=Me;for(an=void 0;Pt--;){const kt=Z[Pt];if(kt[1].type==="lineEnding"||kt[1].type==="lineEndingBlank"){if(kt[0]==="exit")continue;an&&(Z[an][1].type="lineEndingBlank",ht=!0),kt[1].type="lineEnding",an=Pt}else if(!(kt[1].type==="linePrefix"||kt[1].type==="blockQuotePrefix"||kt[1].type==="blockQuotePrefixWhitespace"||kt[1].type==="blockQuoteMarker"||kt[1].type==="listItemIndent"))break}Hn&&(!an||Hn<an)&&(Tn._spread=!0),Tn.end=Object.assign({},an?Z[an][1].start:Ct[1].end),Z.splice(an||Me,0,["exit",Tn,Ct[2]]),Me++,Ce++}if(Ct[1].type==="listItemPrefix"){const Pt={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};Tn=Pt,Z.splice(Me,0,["enter",Pt,Ct[2]]),Me++,Ce++,Hn=void 0,Kt=!0}}}return Z[ce][1]._spread=ht,Ce}function i(Z,ce){return Ce;function Ce(Me){u.call(this,Z(Me),Me),ce&&ce.call(this,Me)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(Z,ce,Ce){this.stack[this.stack.length-1].children.push(Z),this.stack.push(Z),this.tokenStack.push([ce,Ce||void 0]),Z.position={start:wa(ce.start),end:void 0}}function d(Z){return ce;function ce(Ce){Z&&Z.call(this,Ce),f.call(this,Ce)}}function f(Z,ce){const Ce=this.stack.pop(),Me=this.tokenStack.pop();if(Me)Me[0].type!==Z.type&&(ce?ce.call(this,Z,Me[0]):(Me[1]||B1).call(this,Z,Me[0]));else throw new Error("Cannot close `"+Z.type+"` ("+Io({start:Z.start,end:Z.end})+"): its not open");Ce.position.end=wa(Z.end)}function h(){return o6(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function v(Z){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(Z),10),this.data.expectingFirstListItemValue=void 0}}function x(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=Z}function S(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=Z}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z.replace(/(\r?\n|\r)$/g,"")}function I(Z){const ce=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ce,Ce.identifier=oi(this.sliceSerialize(Z)).toLowerCase()}function N(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.title=Z}function j(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.url=Z}function L(Z){const ce=this.stack[this.stack.length-1];if(!ce.depth){const Ce=this.sliceSerialize(Z).length;ce.depth=Ce}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function U(Z){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(Z).codePointAt(0)===61?1:2}function X(){this.data.setextHeadingSlurpLineEnding=void 0}function W(Z){const Ce=this.stack[this.stack.length-1].children;let Me=Ce[Ce.length-1];(!Me||Me.type!=="text")&&(Me=La(),Me.position={start:wa(Z.start),end:void 0},Ce.push(Me)),this.stack.push(Me)}function Q(Z){const ce=this.stack.pop();ce.value+=this.sliceSerialize(Z),ce.position.end=wa(Z.end)}function K(Z){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ce.children[ce.children.length-1];Ce.position.end=wa(Z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(W.call(this,Z),Q.call(this,Z))}function J(){this.data.atHardBreak=!0}function ee(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function G(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function re(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.value=Z}function de(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ce,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function V(){const Z=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";Z.type+="Reference",Z.referenceType=ce,delete Z.url,delete Z.title}else delete Z.identifier,delete Z.label;this.data.referenceType=void 0}function q(Z){const ce=this.sliceSerialize(Z),Ce=this.stack[this.stack.length-2];Ce.label=i8(ce),Ce.identifier=oi(ce).toLowerCase()}function Y(){const Z=this.stack[this.stack.length-1],ce=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Me=Z.children;Ce.children=Me}else Ce.alt=ce}function E(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.url=Z}function D(){const Z=this.resume(),ce=this.stack[this.stack.length-1];ce.title=Z}function z(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function ve(Z){const ce=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ce,Ce.identifier=oi(this.sliceSerialize(Z)).toLowerCase(),this.data.referenceType="full"}function me(Z){this.data.characterReferenceType=Z.type}function be(Z){const ce=this.sliceSerialize(Z),Ce=this.data.characterReferenceType;let Me;Ce?(Me=Ak(ce,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Me=Dm(ce);const Ze=this.stack[this.stack.length-1];Ze.value+=Me}function Be(Z){const ce=this.stack.pop();ce.position.end=wa(Z.end)}function De(Z){Q.call(this,Z);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(Z)}function He(Z){Q.call(this,Z);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(Z)}function ot(){return{type:"blockquote",children:[]}}function qe(){return{type:"code",lang:null,meta:null,value:""}}function Ae(){return{type:"inlineCode",value:""}}function rt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ot(){return{type:"emphasis",children:[]}}function ge(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function Ft(){return{type:"html",value:""}}function St(){return{type:"image",title:null,url:"",alt:null}}function Bn(){return{type:"link",title:null,url:"",children:[]}}function ir(Z){return{type:"list",ordered:Z.type==="listOrdered",start:null,spread:Z._spread,children:[]}}function gn(Z){return{type:"listItem",spread:Z._spread,checked:null,children:[]}}function Yr(){return{type:"paragraph",children:[]}}function Kr(){return{type:"strong",children:[]}}function La(){return{type:"text",value:""}}function Fa(){return{type:"thematicBreak"}}}function wa(e){return{line:e.line,column:e.column,offset:e.offset}}function Vk(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Vk(e,r):c8(e,r)}}function c8(e,t){let n;for(n in t)if(qk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function B1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Io({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Io({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Io({start:t.start,end:t.end})+") is still open")}function d8(e){const t=this;t.parser=n;function n(r){return l8(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function f8(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function p8(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function h8(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function m8(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function g8(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function y8(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=ki(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=i+1,u+=1,e.footnoteCounts.set(r,u);const d={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,d);const f={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(t,f),e.applyData(t,f)}function v8(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function x8(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Wk(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function w8(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Wk(e,t);const s={src:ki(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function b8(e,t){const n={src:ki(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function S8(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function k8(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Wk(e,t);const s={href:ki(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function _8(e,t){const n={href:ki(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function C8(e,t,n){const r=e.all(t),s=n?T8(n):Zk(t),i={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(s||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?l.push(...h.children):l.push(h)}const d=r[r.length-1];d&&(s||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,f),e.applyData(t,f)}function T8(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Zk(n[r])}return t}function Zk(e){const t=e.spread;return t??e.children.length>1}function E8(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function I8(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function N8(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function O8(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function j8(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=jm(t.children[1]),d=Ek(t.children[t.children.length-1]);u&&d&&(l.position={start:u,end:d}),s.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function R8(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let d=-1;const f=[];for(;++d<u;){const g=t.children[d],v={},x=l?l[d]:void 0;x&&(v.align=x);let S={type:"element",tagName:i,properties:v,children:[]};g&&(S.children=e.all(g),e.patch(g,S),S=e.applyData(g,S)),f.push(S)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,h),e.applyData(t,h)}function P8(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const H1=9,q1=32;function A8(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(V1(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(V1(t.slice(s),s>0,!1)),i.join("")}function V1(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===H1||i===q1;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===H1||i===q1;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function D8(e,t){const n={type:"text",value:A8(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function M8(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const L8={blockquote:f8,break:p8,code:h8,delete:m8,emphasis:g8,footnoteReference:y8,heading:v8,html:x8,imageReference:w8,image:b8,inlineCode:S8,linkReference:k8,link:_8,listItem:C8,list:E8,paragraph:I8,root:N8,strong:O8,table:j8,tableCell:P8,tableRow:R8,text:D8,thematicBreak:M8,toml:Wu,yaml:Wu,definition:Wu,footnoteDefinition:Wu};function Wu(){}const Jk=-1,Yc=0,Oo=1,Rc=2,Fm=3,zm=4,$m=5,Um=6,Gk=7,Yk=8,W1=typeof self=="object"?self:globalThis,F8=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,l]=t[s];switch(i){case Yc:case Jk:return n(l,s);case Oo:{const u=n([],s);for(const d of l)u.push(r(d));return u}case Rc:{const u=n({},s);for(const[d,f]of l)u[r(d)]=r(f);return u}case Fm:return n(new Date(l),s);case zm:{const{source:u,flags:d}=l;return n(new RegExp(u,d),s)}case $m:{const u=n(new Map,s);for(const[d,f]of l)u.set(r(d),r(f));return u}case Um:{const u=n(new Set,s);for(const d of l)u.add(r(d));return u}case Gk:{const{name:u,message:d}=l;return n(new W1[u](d),s)}case Yk:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new W1[i](l),s)};return r},Z1=e=>F8(new Map,e)(0),Ks="",{toString:z8}={},{keys:$8}=Object,mo=e=>{const t=typeof e;if(t!=="object"||!e)return[Yc,t];const n=z8.call(e).slice(8,-1);switch(n){case"Array":return[Oo,Ks];case"Object":return[Rc,Ks];case"Date":return[Fm,Ks];case"RegExp":return[zm,Ks];case"Map":return[$m,Ks];case"Set":return[Um,Ks];case"DataView":return[Oo,n]}return n.includes("Array")?[Oo,n]:n.includes("Error")?[Gk,n]:[Rc,n]},Zu=([e,t])=>e===Yc&&(t==="function"||t==="symbol"),U8=(e,t,n,r)=>{const s=(l,u)=>{const d=r.push(l)-1;return n.set(u,d),d},i=l=>{if(n.has(l))return n.get(l);let[u,d]=mo(l);switch(u){case Yc:{let h=l;switch(d){case"bigint":u=Yk,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return s([Jk],l)}return s([u,h],l)}case Oo:{if(d){let v=l;return d==="DataView"?v=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(v=new Uint8Array(l)),s([d,[...v]],l)}const h=[],g=s([u,h],l);for(const v of l)h.push(i(v));return g}case Rc:{if(d)switch(d){case"BigInt":return s([d,l.toString()],l);case"Boolean":case"Number":case"String":return s([d,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const h=[],g=s([u,h],l);for(const v of $8(l))(e||!Zu(mo(l[v])))&&h.push([i(v),i(l[v])]);return g}case Fm:return s([u,l.toISOString()],l);case zm:{const{source:h,flags:g}=l;return s([u,{source:h,flags:g}],l)}case $m:{const h=[],g=s([u,h],l);for(const[v,x]of l)(e||!(Zu(mo(v))||Zu(mo(x))))&&h.push([i(v),i(x)]);return g}case Um:{const h=[],g=s([u,h],l);for(const v of l)(e||!Zu(mo(v)))&&h.push(i(v));return g}}const{message:f}=l;return s([u,{name:d,message:f}],l)};return i},J1=(e,{json:t,lossy:n}={})=>{const r=[];return U8(!(t||n),!!t,new Map,r)(e),r},Pc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Z1(J1(e,t)):structuredClone(e):(e,t)=>Z1(J1(e,t));function B8(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function H8(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function q8(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||B8,r=e.options.footnoteBackLabel||H8,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let d=-1;for(;++d<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[d]);if(!f)continue;const h=e.all(f),g=String(f.identifier).toUpperCase(),v=ki(g.toLowerCase());let x=0;const S=[],_=e.footnoteCounts.get(g);for(;_!==void 0&&++x<=_;){S.length>0&&S.push({type:"text",value:" "});let I=typeof n=="string"?n:n(d,x);typeof I=="string"&&(I={type:"text",value:I}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(d,x),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const C=h[h.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const I=C.children[C.children.length-1];I&&I.type==="text"?I.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...S)}else h.push(...S);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(h,!0)};e.patch(f,k),u.push(k)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Pc(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const Kk=function(e){if(e==null)return J8;if(typeof e=="function")return Kc(e);if(typeof e=="object")return Array.isArray(e)?V8(e):W8(e);if(typeof e=="string")return Z8(e);throw new Error("Expected function, string, or object as test")};function V8(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Kk(e[n]);return Kc(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function W8(e){const t=e;return Kc(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function Z8(e){return Kc(t);function t(n){return n&&n.type===e}}function Kc(e){return t;function t(n,r,s){return!!(G8(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function J8(){return!0}function G8(e){return e!==null&&typeof e=="object"&&"type"in e}const Xk=[],Y8=!0,G1=!1,K8="skip";function X8(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=Kk(s),l=r?-1:1;u(e,void 0,[])();function u(d,f,h){const g=d&&typeof d=="object"?d:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(d.type+(x?"<"+x+">":""))+")"})}return v;function v(){let x=Xk,S,_,C;if((!t||i(d,f,h[h.length-1]||void 0))&&(x=Q8(n(d,h)),x[0]===G1))return x;if("children"in d&&d.children){const k=d;if(k.children&&x[0]!==K8)for(_=(r?k.children.length:-1)+l,C=h.concat(k);_>-1&&_<k.children.length;){const I=k.children[_];if(S=u(I,_,C)(),S[0]===G1)return S;_=typeof S[1]=="number"?S[1]:_+l}}return x}}}function Q8(e){return Array.isArray(e)?e:typeof e=="number"?[Y8,e]:e==null?Xk:[e]}function Qk(e,t,n,r){let s,i,l;typeof t=="function"?(i=void 0,l=t,s=n):(i=t,l=n,s=r),X8(e,i,u,s);function u(d,f){const h=f[f.length-1],g=h?h.children.indexOf(d):void 0;return l(d,g,h)}}const jh={}.hasOwnProperty,e9={};function t9(e,t){const n=t||e9,r=new Map,s=new Map,i=new Map,l={...L8,...n.handlers},u={all:f,applyData:r9,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:l,one:d,options:n,patch:n9,wrap:s9};return Qk(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const g=h.type==="definition"?r:s,v=String(h.identifier).toUpperCase();g.has(v)||g.set(v,h)}}),u;function d(h,g){const v=h.type,x=u.handlers[v];if(jh.call(u.handlers,v)&&x)return x(u,h,g);if(u.options.passThrough&&u.options.passThrough.includes(v)){if("children"in h){const{children:_,...C}=h,k=Pc(C);return k.children=u.all(h),k}return Pc(h)}return(u.options.unknownHandler||a9)(u,h,g)}function f(h){const g=[];if("children"in h){const v=h.children;let x=-1;for(;++x<v.length;){const S=u.one(v[x],h);if(S){if(x&&v[x-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=Y1(S.value)),!Array.isArray(S)&&S.type==="element")){const _=S.children[0];_&&_.type==="text"&&(_.value=Y1(_.value))}Array.isArray(S)?g.push(...S):g.push(S)}}}return g}}function n9(e,t){e.position&&(t.position=LM(e))}function r9(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,Pc(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function a9(e,t){const n=t.data||{},r="value"in t&&!(jh.call(n,"hProperties")||jh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function s9(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Y1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function K1(e,t){const n=t9(e,t),r=n.one(e,void 0),s=q8(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function i9(e,t){return e&&"run"in e?async function(n,r){const s=K1(n,{file:r,...t});await e.run(s,r)}:function(n,r){return K1(n,{file:r,...e||t})}}function X1(e){if(e)throw e}var Sp,Q1;function o9(){if(Q1)return Sp;Q1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},i=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var h=e.call(f,"constructor"),g=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!g)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},l=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},u=function(f,h){if(h==="__proto__")if(e.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return Sp=function d(){var f,h,g,v,x,S,_=arguments[0],C=1,k=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},C=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});C<k;++C)if(f=arguments[C],f!=null)for(h in f)g=u(_,h),v=u(f,h),_!==v&&(I&&v&&(i(v)||(x=s(v)))?(x?(x=!1,S=g&&s(g)?g:[]):S=g&&i(g)?g:{},l(_,{name:h,newValue:d(I,S,v)})):typeof v<"u"&&l(_,{name:h,newValue:v}));return _},Sp}var l9=o9();const kp=yi(l9);function Rh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function u9(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(d,...f){const h=e[++i];let g=-1;if(d){l(d);return}for(;++g<s.length;)(f[g]===null||f[g]===void 0)&&(f[g]=s[g]);s=f,h?c9(h,u)(...f):l(null,...f)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function c9(e,t){let n;return r;function r(...l){const u=e.length>l.length;let d;u&&l.push(s);try{d=e.apply(this,l)}catch(f){const h=f;if(u&&n)throw h;return s(h)}u||(d&&d.then&&typeof d.then=="function"?d.then(i,s):d instanceof Error?s(d):i(d))}function s(l,...u){n||(n=!0,t(l,...u))}function i(l){s(null,l)}}const fr={basename:d9,dirname:f9,extname:p9,join:h9,sep:"/"};function d9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ol(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else l<0&&(i=!0,l=s+1),u>-1&&(e.codePointAt(s)===t.codePointAt(u--)?u<0&&(r=s):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function f9(e){if(Ol(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function p9(e){Ol(e);let t=e.length,n=-1,r=0,s=-1,i=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function h9(...e){let t=-1,n;for(;++t<e.length;)Ol(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":m9(n)}function m9(e){Ol(e);const t=e.codePointAt(0)===47;let n=g9(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function g9(e,t){let n="",r=0,s=-1,i=0,l=-1,u,d;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(s===l-1||i===1))if(s!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(d=n.lastIndexOf("/"),d!==n.length-1){d<0?(n="",r=0):(n=n.slice(0,d),r=n.length-1-n.lastIndexOf("/")),s=l,i=0;continue}}else if(n.length>0){n="",r=0,s=l,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),r=l-s-1;s=l,i=0}else u===46&&i>-1?i++:i=-1}return n}function Ol(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const y9={cwd:v9};function v9(){return"/"}function Ph(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function x9(e){if(typeof e=="string")e=new URL(e);else if(!Ph(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return w9(e)}function w9(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const _p=["history","path","basename","stem","extname","dirname"];class e_{constructor(t){let n;t?Ph(t)?n={path:t}:typeof t=="string"||b9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":y9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<_p.length;){const i=_p[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)_p.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?fr.basename(this.path):void 0}set basename(t){Tp(t,"basename"),Cp(t,"basename"),this.path=fr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?fr.dirname(this.path):void 0}set dirname(t){ex(this.basename,"dirname"),this.path=fr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?fr.extname(this.path):void 0}set extname(t){if(Cp(t,"extname"),ex(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=fr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Ph(t)&&(t=x9(t)),Tp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?fr.basename(this.path,this.extname):void 0}set stem(t){Tp(t,"stem"),Cp(t,"stem"),this.path=fr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Yt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Cp(e,t){if(e&&e.includes(fr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+fr.sep+"`")}function Tp(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ex(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function b9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const S9=function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},k9={}.hasOwnProperty;class Bm extends S9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=u9()}copy(){const t=new Bm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(kp(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Np("data",this.frozen),this.namespace[t]=n,this):k9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Np("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ju(t),r=this.parser||this.Parser;return Ep("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Ep("process",this.parser||this.Parser),Ip("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,l){const u=Ju(t),d=r.parse(u);r.run(d,u,function(h,g,v){if(h||!g||!v)return f(h);const x=g,S=r.stringify(x,v);T9(S)?v.value=S:v.result=S,f(h,v)});function f(h,g){h||!g?l(h):i?i(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),Ep("processSync",this.parser||this.Parser),Ip("processSync",this.compiler||this.Compiler),this.process(t,s),nx("processSync","process",n),r;function s(i,l){n=!0,X1(i),r=l}}run(t,n,r){tx(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,u){const d=Ju(n);s.run(t,d,f);function f(h,g,v){const x=g||t;h?u(h):l?l(x):r(void 0,x,v)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),nx("runSync","run",r),s;function i(l,u){X1(l),s=u,r=!0}}stringify(t,n){this.freeze();const r=Ju(n),s=this.compiler||this.Compiler;return Ip("stringify",s),tx(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Np("use",this.frozen),t!=null)if(typeof t=="function")d(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(f){if(typeof f=="function")d(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...g]=f;d(h,g)}else l(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function l(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(f.plugins),f.settings&&(s.settings=kp(!0,s.settings,f.settings))}function u(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const g=f[h];i(g)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function d(f,h){let g=-1,v=-1;for(;++g<r.length;)if(r[g][0]===f){v=g;break}if(v===-1)r.push([f,...h]);else if(h.length>0){let[x,...S]=h;const _=r[v][1];Rh(_)&&Rh(x)&&(x=kp(!0,_,x)),r[v]=[f,x,...S]}}}}const _9=new Bm().freeze();function Ep(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ip(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Np(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function tx(e){if(!Rh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function nx(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ju(e){return C9(e)?e:new e_(e)}function C9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function T9(e){return typeof e=="string"||E9(e)}function E9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const I9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",rx=[],ax={allowDangerousHtml:!0},N9=/^(https?|ircs?|mailto|xmpp)$/i,O9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Gu(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",s=e.className,i=e.components,l=e.disallowedElements,u=e.rehypePlugins||rx,d=e.remarkPlugins||rx,f=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ax}:ax,h=e.skipHtml,g=e.unwrapDisallowed,v=e.urlTransform||j9,x=_9().use(d8).use(d).use(i9,f).use(u),S=new e_;typeof r=="string"&&(S.value=r);for(const I of O9)Object.hasOwn(e,I.from)&&(""+I.from+(I.to?"use `"+I.to+"` instead":"remove it")+I9+I.id,void 0);const _=x.parse(S);let C=x.runSync(_,S);return s&&(C={type:"element",tagName:"div",properties:{className:s},children:C.type==="root"?C.children:[C]}),Qk(C,k),HM(C,{Fragment:y.Fragment,components:i,ignoreInvalidStyle:!0,jsx:y.jsx,jsxs:y.jsxs,passKeys:!0,passNode:!0});function k(I,N,j){if(I.type==="raw"&&j&&typeof N=="number")return h?j.children.splice(N,1):j.children[N]={type:"text",value:I.value},N;if(I.type==="element"){let L;for(L in xp)if(Object.hasOwn(xp,L)&&Object.hasOwn(I.properties,L)){const A=I.properties[L],U=xp[L];(U===null||U.includes(I.tagName))&&(I.properties[L]=v(String(A||""),L,I))}}if(I.type==="element"){let L=t?!t.includes(I.tagName):l?l.includes(I.tagName):!1;if(!L&&n&&typeof N=="number"&&(L=!n(I,N,j)),L&&j&&typeof N=="number")return g&&I.children?j.children.splice(N,1,...I.children):j.children.splice(N,1),N}}}function j9(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||N9.test(e.slice(0,t))?e:""}const Ah=()=>y.jsx("span",{className:"loading loading-dots loading-md"}),Dh=({chat:e,maxWidth:t})=>{var d;const[n,r]=O.useState(!0),s=Il(),[i,l]=O.useState(!1),u=O.useMemo(()=>{if(!e.text)return{response:""};if(!e.text.includes("<think>"))return{response:e.text};if(e.text.includes("<think>")&&e.text.includes("</think>")){const[f,h,g]=e.text.match(/<think>(.*?)<\/think>(.*)/s)||[];return{thinking:h,response:g}}if(e.text.includes("<think>")){const[f,h]=e.text.match(/<think>(.*)$/s)||[];return{thinking:h,isThinking:!0}}return{response:e.text}},[e.text]);return e.role==="user"?y.jsx("div",{className:`${t||""} group px-4 lg:px-0`,children:y.jsxs("div",{className:"flex justify-end items-start gap-4",children:[y.jsx("div",{className:"",children:y.jsx(Ie,{theme:"custom",isOutline:!0,isSmall:!0,className:"opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 p-2 hover:text-red-500",onClick:()=>s==null?void 0:s.actions.chat.delete(e.id),children:y.jsx(Ne,{icon:as})})}),y.jsx("div",{className:"max-w-lg px-4 rounded-xl bg-base-200",children:y.jsxs("div",{className:"markdown",children:[u.thinking&&y.jsxs(y.Fragment,{children:[y.jsx(Ie,{theme:"ghost",isSmall:!0,onClick:()=>r(!n),className:`mb-2 ${u.isThinking?"animate-pulse":""}`,children:n?"Hide thinking":"Show thinking"}),n&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"opacity-50 mb-6 max-w-full",children:y.jsx(Gu,{children:u.thinking})})})]}),u.response&&y.jsx(Gu,{children:u.response})]})})]})}):e.role==="assistant"&&((d=e.data)!=null&&d.url)?y.jsx("div",{className:`${t||""} group px-4 lg:px-1`,children:y.jsxs("div",{className:"flex flex-row gap-2 items-start",children:[y.jsx("div",{className:"flex-grow",children:y.jsxs("div",{className:"markdown",children:[!e.data.url.content&&y.jsx(y.Fragment,{children:y.jsx(Ah,{})}),e.data.url.content&&y.jsx("div",{children:y.jsxs("div",{className:"mockup-browser border-base-100 border",children:[y.jsx("div",{className:"mockup-browser-toolbar",children:y.jsx("div",{className:"input border-base-100 border",children:e.data.url.url})}),y.jsxs("div",{className:"border-base-300 bg-base-200 flex flex-col justify-center border-t px-4 pt-4 pb-0",children:[y.jsx("div",{className:`w-full rl ${i?"max-h-96 overflow-y-auto":"line-clamp-5"}`,children:e.data.url.content}),y.jsx("p",{className:"text-center",children:y.jsxs(Ie,{theme:"ghost",isSmall:!0,onClick:()=>l(!i),children:[y.jsx(Ne,{icon:Ux,className:`${i?"rotate-180":""} mr-2`}),i?"Show less":"Show more"]})})]})]})})]})}),y.jsx("div",{className:"",children:y.jsx(Ie,{theme:"custom",isOutline:!0,isSmall:!0,className:"opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 p-2 hover:text-red-500",onClick:()=>s==null?void 0:s.actions.chat.delete(e.id),children:y.jsx(Ne,{icon:as})})})]})}):y.jsx("div",{className:`${t||""} group px-4 lg:px-0`,children:y.jsxs("div",{className:"flex flex-row gap-2 items-start",children:[y.jsx("div",{className:"flex-grow",children:y.jsxs("div",{className:"markdown",children:[!e.text&&y.jsx(y.Fragment,{children:y.jsx(Ah,{})}),u.thinking&&y.jsxs(y.Fragment,{children:[y.jsx(Ie,{theme:"custom",isSmall:!0,onClick:()=>r(!n),className:`mb-2 ${u.isThinking?"animate-pulse":""}`,children:n?"Hide thinking":"Show thinking"}),n&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"opacity-50 mb-6",children:y.jsx(Gu,{children:u.thinking})})})]}),u.response&&y.jsx(Gu,{children:u.response})]})}),y.jsx("div",{className:"",children:y.jsx(Ie,{theme:"custom",isOutline:!0,isSmall:!0,className:"opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 p-2 hover:text-red-500",onClick:()=>s==null?void 0:s.actions.chat.delete(e.id),children:y.jsx(Ne,{icon:as})})})]})})},Yu="max-w-3xl w-full mx-2 lg:mx-auto",R9=()=>{const e=Zr(),t=xi(),n=Il(),r=n==null?void 0:n.conversation,s=n==null?void 0:n.chats,i=er.useRef(null),l=Jc(),[u,d]=O.useState(!1),f=er.useRef(!1),h=er.useRef(null),[g,v]=O.useState(void 0),x=er.useRef(!1),[S,_]=O.useState(""),[C,k]=O.useState((r==null?void 0:r.instruction)||"You are a helpful assistant"),[I,N]=O.useState(!1),[j,L]=O.useState(!1),[A,U]=O.useState(!1),[X,W]=O.useState([""]),[Q,K]=O.useState(!1),J=O.useCallback(()=>{if(!i.current)return!0;const E=i.current;return E.scrollHeight-E.scrollTop-E.clientHeight<=100},[]),ee=(E,D)=>{const z=[...X];z[E]=D,D&&E===X.length-1&&z.push(""),!D&&E!==X.length-1&&z.splice(E,1),W(z)},G=O.useCallback(()=>{setTimeout(()=>{i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},50)},[]);O.useEffect(()=>{r&&!Q&&(G(),K(!0))},[r,Q,G]);const re=O.useCallback(E=>{v(E.fullText),J()&&G()},[J,G]),de=O.useCallback(async E=>{var R,ve;if(u||f.current)return;const D=E||S;if(!D.trim())return;const z=await(n==null?void 0:n.actions.chat.add({role:"user",text:D}));if(!z){alert("Failed to send message");return}if(!r){alert("Invalid conversation");return}if(!n.selectedConfig){alert("Invalid config");return}(R=h.current)==null||R.focus();try{d(!0),f.current=!0,_(""),setTimeout(()=>{var be;(be=h.current)==null||be.focus()},0);const me=await l.actions.streamMessage({aiService:n.selectedConfig,modelName:r.modelName||"",text:D,chats:[...s,z],streamingCallback:re});f.current=!1,d(!1),v(void 0),me&&(await(n==null?void 0:n.actions.chat.add({role:"assistant",text:me})),G(),(ve=h.current)==null||ve.focus())}catch(me){d(!1),f.current=!1,console.error("Failed to generate AI response",me),me instanceof Error?alert(me.message):alert("Failed to generate AI response")}},[u,S,n==null?void 0:n.actions.chat,n.selectedConfig,r,l.actions,s,re,G]),V=O.useCallback(async E=>{if(!r){alert("Invalid conversation");return}if(!n.selectedConfig){alert("Invalid config");return}if(!E){alert("Invalid URL");return}if(!E.startsWith("http")){alert("Invalid URL");return}try{d(!0),f.current=!0;const D=await _a.urlScrape(E);f.current=!1,d(!1),v(void 0),D&&await(n==null?void 0:n.actions.chat.add({role:"assistant",data:{url:{url:E,content:`The user wants you to have the context of this URL: ${E}
<website-content>
${D}
</website-content>`}}}))}catch(D){d(!1),f.current=!1,console.error("Failed to generate AI response",D),D instanceof Error?alert(D.message):alert("Failed to generate AI response")}},[r,n.selectedConfig,n==null?void 0:n.actions.chat]);O.useEffect(()=>{var z;if(!r||n.isLoading||!((z=e.state)!=null&&z.initialMessage)||x.current||f.current||parseInt(e.pathname.split("/").pop()||"0")!==r.id)return;(async()=>{x.current=!0;const R=e.state.urls||[];if(R.length>0)for(const ve of R)await V(ve.url);t(e.pathname,{replace:!0}),de(e.state.initialMessage)})()},[r,n.isLoading,V,e.pathname,e.state,t,de]);const q=async E=>{E.preventDefault(),await de()},Y=async E=>{E&&E.preventDefault(),r&&(j||(L(!0),await(n==null?void 0:n.actions.update({id:r.id,instruction:C})),L(!1),N(!0),setTimeout(()=>{N(!1)},3e3)))};return y.jsx("div",{className:"w-full h-full",children:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",ref:i,children:[y.jsx("div",{className:"h-8"}),y.jsxs("form",{onSubmit:Y,className:`${Yu} relative text-center text-sm text-gray-500 pb-6`,children:[y.jsx(ui,{id:"chat-instruction",value:C,className:"border-transparent text-center",disabled:j,onChange:E=>k(E.target.value),onSubmit:Y}),I&&y.jsxs("p",{className:"absolute bottom-0 left-0 w-full text-center italic font-medium text-success/50",children:[y.jsx(Ne,{icon:Fv,className:"mr-2"}),"Instruction saved"]}),j&&y.jsxs("p",{className:"absolute bottom-0 left-0 w-full text-center italic font-medium text-primary/50 animate-pulse",children:[y.jsx(Ne,{icon:Fv,className:"mr-2"}),"Instruction saved"]})]}),s.map(E=>{const D=E.role==="user";return y.jsx("div",{className:D?"pt-12":"pt-4",children:y.jsx(Dh,{chat:E,maxWidth:Yu})},E.id)}),(g||u)&&y.jsx(y.Fragment,{children:y.jsx(Dh,{maxWidth:Yu,chat:{id:-1,role:"assistant",text:g||"",createdAt:Date.now(),conversationId:(r==null?void 0:r.id)||0}})}),!n.selectedConfig&&y.jsx("p",{className:"text-red-500 text-center",children:"No config"}),y.jsx("div",{className:"h-12"})]}),y.jsx("form",{onSubmit:q,className:"py-4 relative",children:y.jsxs("div",{className:`${Yu} space-y-2`,children:[A&&X.length>0&&y.jsx("div",{className:"space-y-2 bg-base-200 p-2 rounded-xl",children:X.map((E,D)=>y.jsxs("label",{className:"input w-full flex items-center gap-2",children:[y.jsx(Ne,{icon:oc}),y.jsx("input",{type:"url",className:"grow",placeholder:"Enter a URL",value:E,onChange:z=>ee(D,z.target.value)})]},D))}),y.jsxs("div",{className:"flex gap-2 bg-base-100 rounded-xl relative",children:[y.jsx(ui,{id:"chat-input",ref:h,autoFocus:!0,maxRows:6,value:S,onChange:E=>{u||_(E.target.value)},onSubmit:async()=>{if(X.length>0){try{for(const E of X)E&&(await V(E),W(X.filter(D=>D!==E)))}catch(E){console.error(E)}W([])}setTimeout(()=>{de()},100)},className:`flex-1 border-transparent ${u?"opacity-50":""}`,placeholder:"Type your message..."}),y.jsx("div",{className:"absolute right-0 top-2 flex gap-2",children:y.jsx(Ie,{theme:"ghost",type:"button",onClick:()=>{U(!A),W([""])},className:"",children:y.jsx(Ne,{icon:oc})})})]})]})})]})})};function Ir(){}Ir.prototype={diff:function(t,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.callback;typeof s=="function"&&(i=s,s={});var l=this;function u(j){return j=l.postProcess(j,s),i?(setTimeout(function(){i(j)},0),!0):j}t=this.castInput(t,s),n=this.castInput(n,s),t=this.removeEmpty(this.tokenize(t,s)),n=this.removeEmpty(this.tokenize(n,s));var d=n.length,f=t.length,h=1,g=d+f;s.maxEditLength!=null&&(g=Math.min(g,s.maxEditLength));var v=(r=s.timeout)!==null&&r!==void 0?r:1/0,x=Date.now()+v,S=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(S[0],n,t,0,s);if(S[0].oldPos+1>=f&&_+1>=d)return u(sx(l,S[0].lastComponent,n,t,l.useLongestToken));var C=-1/0,k=1/0;function I(){for(var j=Math.max(C,-h);j<=Math.min(k,h);j+=2){var L=void 0,A=S[j-1],U=S[j+1];A&&(S[j-1]=void 0);var X=!1;if(U){var W=U.oldPos-j;X=U&&0<=W&&W<d}var Q=A&&A.oldPos+1<f;if(!X&&!Q){S[j]=void 0;continue}if(!Q||X&&A.oldPos<U.oldPos?L=l.addToPath(U,!0,!1,0,s):L=l.addToPath(A,!1,!0,1,s),_=l.extractCommon(L,n,t,j,s),L.oldPos+1>=f&&_+1>=d)return u(sx(l,L.lastComponent,n,t,l.useLongestToken));S[j]=L,L.oldPos+1>=f&&(k=Math.min(k,j-1)),_+1>=d&&(C=Math.max(C,j+1))}h++}if(i)(function j(){setTimeout(function(){if(h>g||Date.now()>x)return i();I()||j()},0)})();else for(;h<=g&&Date.now()<=x;){var N=I();if(N)return N}},addToPath:function(t,n,r,s,i){var l=t.lastComponent;return l&&!i.oneChangePerToken&&l.added===n&&l.removed===r?{oldPos:t.oldPos+s,lastComponent:{count:l.count+1,added:n,removed:r,previousComponent:l.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:n,removed:r,previousComponent:l}}},extractCommon:function(t,n,r,s,i){for(var l=n.length,u=r.length,d=t.oldPos,f=d-s,h=0;f+1<l&&d+1<u&&this.equals(r[d+1],n[f+1],i);)f++,d++,h++,i.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return h&&!i.oneChangePerToken&&(t.lastComponent={count:h,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=d,f},equals:function(t,n,r){return r.comparator?r.comparator(t,n):t===n||r.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};function sx(e,t,n,r,s){for(var i=[],l;t;)i.push(t),l=t.previousComponent,delete t.previousComponent,t=l;i.reverse();for(var u=0,d=i.length,f=0,h=0;u<d;u++){var g=i[u];if(g.removed)g.value=e.join(r.slice(h,h+g.count)),h+=g.count;else{if(!g.added&&s){var v=n.slice(f,f+g.count);v=v.map(function(x,S){var _=r[h+S];return _.length>x.length?_:x}),g.value=e.join(v)}else g.value=e.join(n.slice(f,f+g.count));f+=g.count,g.added||(h+=g.count)}}return i}function ix(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function ox(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function Mh(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function Lh(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function go(e,t){return Mh(e,t,"")}function Ku(e,t){return Lh(e,t,"")}function lx(e,t){return t.slice(0,P9(e,t))}function P9(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var s=Array(r),i=0;s[0]=0;for(var l=1;l<r;l++){for(t[l]==t[i]?s[l]=s[i]:s[l]=i;i>0&&t[l]!=t[i];)i=s[i];t[l]==t[i]&&i++}i=0;for(var u=n;u<e.length;u++){for(;i>0&&e[u]!=t[i];)i=s[i];e[u]==t[i]&&i++}return i}var Ac="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",A9=new RegExp("[".concat(Ac,"]+|\\s+|[^").concat(Ac,"]"),"ug"),Xc=new Ir;Xc.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};Xc.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(i){return i.segment})}else n=e.match(A9)||[];var r=[],s=null;return n.forEach(function(i){/\s/.test(i)?s==null?r.push(i):r.push(r.pop()+i):/\s/.test(s)?r[r.length-1]==s?r.push(r.pop()+i):r.push(s+i):r.push(i),s=i}),r};Xc.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};Xc.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,s=null;return e.forEach(function(i){i.added?r=i:i.removed?s=i:((r||s)&&ux(n,s,r,i),n=i,r=null,s=null)}),(r||s)&&ux(n,s,r,null),e};function ux(e,t,n,r){if(t&&n){var s=t.value.match(/^\s*/)[0],i=t.value.match(/\s*$/)[0],l=n.value.match(/^\s*/)[0],u=n.value.match(/\s*$/)[0];if(e){var d=ix(s,l);e.value=Lh(e.value,l,d),t.value=go(t.value,d),n.value=go(n.value,d)}if(r){var f=ox(i,u);r.value=Mh(r.value,u,f),t.value=Ku(t.value,f),n.value=Ku(n.value,f)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var h=r.value.match(/^\s*/)[0],g=t.value.match(/^\s*/)[0],v=t.value.match(/\s*$/)[0],x=ix(h,g);t.value=go(t.value,x);var S=ox(go(h,x),v);t.value=Ku(t.value,S),r.value=Mh(r.value,h,S),e.value=Lh(e.value,h,h.slice(0,h.length-S.length))}else if(r){var _=r.value.match(/^\s*/)[0],C=t.value.match(/\s*$/)[0],k=lx(C,_);t.value=Ku(t.value,k)}else if(e){var I=e.value.match(/\s*$/)[0],N=t.value.match(/^\s*/)[0],j=lx(I,N);t.value=go(t.value,j)}}var D9=new Ir;D9.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Ac,"]+|[^\\S\\n\\r]+|[^").concat(Ac,"]"),"ug");return e.match(t)||[]};var Hm=new Ir;Hm.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var s=0;s<r.length;s++){var i=r[s];s%2&&!t.newlineIsToken?n[n.length-1]+=i:n.push(i)}return n};Hm.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Ir.prototype.equals.call(this,e,t,n)};var t_=new Ir;t_.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function M9(e,t,n){return t_.diff(e,t,n)}var L9=new Ir;L9.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}var xl=new Ir;xl.useLongestToken=!0;xl.tokenize=Hm.tokenize;xl.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,s=r===void 0?function(i,l){return typeof l>"u"?n:l}:r;return typeof e=="string"?e:JSON.stringify(zh(e,null,null,s),s,"  ")};xl.equals=function(e,t,n){return Ir.prototype.equals.call(xl,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function zh(e,t,n,r,s){t=t||[],n=n||[],r&&(e=r(s,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return n[i];var l;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),l=new Array(e.length),n.push(l),i=0;i<e.length;i+=1)l[i]=zh(e[i],t,n,r,s);return t.pop(),n.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),Fh(e)==="object"&&e!==null){t.push(e),l={},n.push(l);var u=[],d;for(d in e)Object.prototype.hasOwnProperty.call(e,d)&&u.push(d);for(u.sort(),i=0;i<u.length;i+=1)d=u[i],l[d]=zh(e[d],t,n,r,d);t.pop(),n.pop()}else l=e;return l}var $h=new Ir;$h.tokenize=function(e){return e.slice()};$h.join=$h.removeEmpty=function(e){return e};const F9=({oldText:e,newText:t})=>{const n=M9(e,t,{ignoreCase:!1});return y.jsx("div",{className:"font-mono whitespace-pre-wrap",children:n.map((r,s)=>{const i=r.added?"bg-green-100 text-green-900":r.removed?"bg-red-100 text-red-900 line-through":"text-base-content";return y.jsx("span",{className:i,title:r.added?"Added":r.removed?"Removed":void 0,children:r.value},s)})})},z9=()=>{var de;const e=Il(),t=e==null?void 0:e.conversation,n=e==null?void 0:e.chats,r=O.useRef(null),s=Jc(),[i,l]=O.useState(!1),u=O.useRef(!1),[d,f]=O.useState(void 0),[h,g]=O.useState(""),[v,x]=O.useState(""),[S,_]=O.useState(null),C=O.useRef(null),k=O.useRef(""),I=O.useRef(!1),N=O.useRef(null),j=O.useRef(null),L=O.useRef(!1),A=O.useMemo(()=>n==null?void 0:n.find(V=>{var q;return((q=V.data)==null?void 0:q.currentText)!==void 0}),[n]),U=O.useCallback(V=>{if(!A||V===k.current)return;const q=setTimeout(async()=>{await(e==null?void 0:e.actions.chat.update(A.id,{data:{...A.data,currentText:V}})),k.current=V},1e3);return()=>clearTimeout(q)},[A,e==null?void 0:e.actions.chat]);O.useEffect(()=>{if(!A)return;const V=U(v);return()=>V==null?void 0:V()},[v,U,A]),O.useEffect(()=>{var q;if(L.current||!n||!n.length)return;L.current=!0;const V=n[0];x(((q=V==null?void 0:V.data)==null?void 0:q.currentText)||"")},[n]),O.useEffect(()=>{if(!t||e.isLoading||n&&n.length>0||I.current)return;(async()=>{I.current=!0,await(e==null?void 0:e.actions.chat.add({role:"user",text:"Initial text",data:{currentText:"",text:""}}))})()},[t,e.isLoading,n,e==null?void 0:e.actions.chat]),O.useEffect(()=>{r.current&&r.current.scrollTo({top:r.current.scrollHeight,behavior:"smooth"})},[n,d]);const X=()=>{const V=document.querySelector("textarea");if(!V)return;const q=V.selectionStart,Y=V.selectionEnd,E=V.value.substring(q,Y);_(E?{text:E,start:q,end:Y}:null)},W=O.useCallback(V=>{f(V.text||"")},[]),Q=O.useCallback(async()=>{var E;if(u.current||d)return;if(!h.trim()){alert("Please enter a message");return}let V=v;if(V.length>3e3){const D=(S==null?void 0:S.start)||0,z=(S==null?void 0:S.end)||0,R=Math.max(0,D-1500),ve=Math.min(V.length,z+1500);V=V.substring(R,ve)}const q=`You are an expert copywriter helping the user change their text.

Here is the text or a segment of their text:
<original_text>
${v}
</original_text>

${S&&`
The user wants to change this part of the text and only this part:
<selected_text>
${S.text}
</selected_text>

`}

Here is their messages on the edits they would like:
<user_message>
${h}
</user_message>

Your task is to help the user change the text to match their message.
${S&&"You change edit and return only the selected text of the user, nothing else."}

`;if(!await(e==null?void 0:e.actions.chat.add({role:"user",text:h}))||!t||!e.selectedConfig){alert("Failed to send message");return}if(!((E=e.conversation)!=null&&E.modelName)){alert("Invalid conversation");return}try{l(!0),u.current=!0;const D=w.object({text:w.string().describe("The edited text based on the user request.")});await s.actions.streamObject({aiService:e.selectedConfig,modelName:e.conversation.modelName,prompt:q,responseType:D,streamingCallback:W}),l(!1),u.current=!1,g(""),setTimeout(()=>{var z,R;(z=r.current)==null||z.scrollTo({top:r.current.scrollHeight,behavior:"smooth"}),(R=C.current)==null||R.focus()},100)}catch(D){l(!1),u.current=!1,console.error("Failed to generate AI response",D),alert("Failed to generate AI response")}},[h,v,S,e==null?void 0:e.actions.chat,e.selectedConfig,(de=e.conversation)==null?void 0:de.modelName,t,s.actions,W,d]),K=async V=>{V.preventDefault(),await Q()},J=O.useMemo(()=>{if(!d)return v;if(!S)return d;const V=v.slice(0,S.start),q=v.slice(S.end);return V+d+q},[d,S,v]),ee=async()=>{const V=n[n.length-1];V&&(await(e==null?void 0:e.actions.chat.update(V.id,{data:{...V.data,text:J}})),x(J),f(void 0),_(null),setTimeout(()=>{var q;(q=j.current)==null||q.focus()},50))},G=async()=>{var V;f(void 0),_(null),(V=j.current)==null||V.focus()},re=()=>{_(null)};return y.jsxs("div",{className:"w-full h-full flex",children:[y.jsx("div",{className:"flex-1 h-full rounded-r-6xl border-l border-base-100",children:y.jsxs("div",{className:"max-w-xl mx-auto h-full",children:[d&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"w-full h-full p-4 pt-12 overflow-auto",children:y.jsx(F9,{oldText:v,newText:J})})}),!d&&y.jsx(y.Fragment,{children:y.jsx("textarea",{ref:N,value:v,disabled:i,onChange:V=>{i||(x(V.target.value),S&&_(null))},onSelect:X,className:"w-full h-full resize-none p-4 pt-12 focus:outline-none border-0",placeholder:"Enter or paste your text here..."})})]})}),y.jsxs("div",{className:"w-[400px] min-w-[200px] max-w-[600px] flex flex-col border-r border-base-300",children:[y.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",ref:r,children:[n.map((V,q)=>{var E,D;if(q===0)return null;const Y=q===n.length-1;return y.jsxs("div",{className:"pt-6",children:[y.jsx(Dh,{chat:V,maxWidth:"max-w-full mx-4"}),((E=V.data)==null?void 0:E.text)&&y.jsxs("div",{className:"flex flex-row justify-end pr-3 mt-1",children:[Y&&i&&y.jsx(y.Fragment,{children:y.jsx(Ah,{})}),y.jsx(Ie,{theme:"ghost",isExtraSmall:!0,disabled:i||v===((D=V.data)==null?void 0:D.text)||d!==void 0,onClick:()=>{var z;return x(((z=V.data)==null?void 0:z.text)||"")},children:"Revert"})]})]},V.id)}),d&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex flex-row gap-2 items-center justify-end pr-4 pt-2",children:[y.jsx(Ie,{theme:"success",disabled:i,ref:C,onClick:ee,children:"Approve"}),y.jsx(Ie,{theme:"warning",disabled:i,onClick:G,children:"Reject"})]})}),y.jsx("div",{className:"h-8"})]}),y.jsxs("form",{onSubmit:K,className:"p-4 bg-base-200",children:[S&&y.jsxs("div",{className:"mb-2 p-2 bg-base-300 rounded text-sm",children:[y.jsxs("div",{className:"flex flex-row items-center",children:[y.jsxs("div",{className:"font-semibold text-xs flex-grow",children:["Selected text (pos: ",S.start,"-",S.end,"):"]}),y.jsx(Ie,{theme:"custom",isOutline:!0,isSmall:!0,className:"text-xs py-0 px-1 border rounded-xl hover:bg-accent",onClick:re,children:"Clear"})]}),y.jsx("div",{className:"truncate",children:S.text})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(ui,{autoFocus:!0,ref:j,disabled:i,maxRows:3,value:h,onChange:V=>!i&&g(V.target.value),className:`flex-1 px-3 py-2 border-transparent ${i?"opacity-50":""}`,placeholder:"Type a message...",onSubmit:Q}),y.jsx(Ie,{type:"submit",theme:"custom",className:"opacity-0 absolute right-0 top-0 h-0 w-0",children:"Send"})]})]})]})]})};function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(null,arguments)}function $9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var U9=O.useLayoutEffect,B9=function(t){var n=er.useRef(t);return U9(function(){n.current=t}),n},cx=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},H9=function(t,n){var r=er.useRef();return er.useCallback(function(s){t.current=s,r.current&&cx(r.current,null),r.current=n,n&&cx(n,s)},[n])},dx={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},q9=function(t){Object.keys(dx).forEach(function(n){t.style.setProperty(n,dx[n],"important")})},fx=q9,tn=null,px=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function V9(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),tn||(tn=document.createElement("textarea"),tn.setAttribute("tabindex","-1"),tn.setAttribute("aria-hidden","true"),fx(tn)),tn.parentNode===null&&document.body.appendChild(tn);var s=e.paddingSize,i=e.borderSize,l=e.sizingStyle,u=l.boxSizing;Object.keys(l).forEach(function(v){var x=v;tn.style[x]=l[x]}),fx(tn),tn.value=t;var d=px(tn,e);tn.value=t,d=px(tn,e),tn.value="x";var f=tn.scrollHeight-s,h=f*n;u==="border-box"&&(h=h+s+i),d=Math.max(h,d);var g=f*r;return u==="border-box"&&(g=g+s+i),d=Math.min(g,d),[d,f]}var hx=function(){},W9=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},Z9=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],J9=!!document.documentElement.currentStyle,G9=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=W9(Z9,n),s=r.boxSizing;if(s==="")return null;J9&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),l=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:l}},Y9=G9;function qm(e,t,n){var r=B9(n);O.useLayoutEffect(function(){var s=function(l){return r.current(l)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var K9=function(t,n){qm(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},X9=function(t){qm(window,"resize",t)},Q9=function(t){qm(document.fonts,"loadingdone",t)},eF=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],tF=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,i=t.minRows,l=t.onChange,u=l===void 0?hx:l,d=t.onHeightChange,f=d===void 0?hx:d,h=$9(t,eF),g=h.value!==void 0,v=O.useRef(null),x=H9(v,n),S=O.useRef(0),_=O.useRef(),C=function(){var N=v.current,j=r&&_.current?_.current:Y9(N);if(j){_.current=j;var L=V9(j,N.value||N.placeholder||"x",i,s),A=L[0],U=L[1];S.current!==A&&(S.current=A,N.style.setProperty("height",A+"px","important"),f(A,{rowHeight:U}))}},k=function(N){g||C(),u(N)};return O.useLayoutEffect(C),K9(v,function(){if(!g){var I=v.current,N=I.value;requestAnimationFrame(function(){N!==I.value&&C()})}}),X9(C),Q9(C),O.createElement("textarea",Uh({},h,{onChange:k,ref:x}))},nF=O.forwardRef(tF);const rF=O.forwardRef(({className:e,...t},n)=>y.jsx(nF,{ref:n,className:`textarea ${e}`,...t})),aF=()=>{var W,Q,K;const e=Il(),t=e==null?void 0:e.conversation,n=e==null?void 0:e.chats,[r,s]=O.useState(!1),[i,l]=O.useState(!1),[u,d]=O.useState({prompt:"",label:""}),f=O.useRef(!1),[h,g]=O.useState(""),v=Jc(),[x,S]=O.useState(!1),[_,C]=O.useState(void 0),[k,I]=O.useState(void 0),[N,j]=O.useState(!1);O.useEffect(()=>{var ee;if(!(n!=null&&n.length))return;const J=n[0];((ee=J==null?void 0:J.data)==null?void 0:ee.prompt)!==void 0&&(d({prompt:J.data.prompt||"",label:J.data.label||""}),s(!1),l(!1))},[n]),O.useEffect(()=>{if(!t||e.isLoading||n&&n.length>0||f.current)return;s(!0),(async()=>{f.current=!0,await(e==null?void 0:e.actions.chat.add({role:"user",text:"Initial setup",data:{prompt:"",label:""}}))})()},[t,e.isLoading,n,e==null?void 0:e.actions.chat]);const L=J=>{d({...u,[J.target.name]:J.target.value}),l(!0)},A=async J=>{J.preventDefault(),n!=null&&n.length&&(await(e==null?void 0:e.actions.chat.update(n[0].id,{data:{prompt:u.prompt,label:u.label}})),l(!1),s(!1))},U=O.useCallback(J=>{I(J.text||"")},[]),X=async J=>{var re;if(J&&J.preventDefault(),!h.trim())return;if(!t){alert("Invalid conversation");return}if(!(e!=null&&e.selectedConfig)){alert("Invalid config");return}if(!((re=e==null?void 0:e.conversation)!=null&&re.modelName)){alert("Invalid model");return}const ee=await(e==null?void 0:e.actions.chat.add({role:"user",text:h}));if(!ee){alert("Failed to send message");return}C(ee);const G=`${u.prompt}
"""
${h}
"""`;try{S(!0);const de=w.object({text:w.string().describe("The response to the user request.")}),V=await v.actions.streamObject({aiService:e.selectedConfig,modelName:e.conversation.modelName,prompt:G,responseType:de,streamingCallback:U});S(!1),g(""),e==null||e.actions.chat.update(ee.id,{data:{...ee.data||{},response:V.text}})}catch(de){S(!1),C(void 0),console.error("Failed to generate AI response",de),alert("Failed to generate AI response")}};return console.log(n),y.jsx("div",{className:"w-full h-full min-h-screen overflow-y-auto",children:y.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 max-w-x mx-auto py-12",children:[r&&y.jsx(y.Fragment,{children:y.jsxs("form",{onSubmit:A,className:"max-w-xl w-full flex flex-col space-y-4 p-4 rounded-xl bg-base-100",children:[y.jsx(ec,{label:"Enter the label",name:"label",value:u.label,onChange:L,placeholder:"Ex: Tell me what to do..."}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"mainPrompt",className:"font-medium mb-2 block",children:"Enter the main prompt"}),y.jsx(rF,{className:"textarea w-full",name:"prompt",value:u.prompt,onChange:L,placeholder:"Type your main prompt here..."})]}),y.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[y.jsx(Ie,{type:"submit",theme:"primary",disabled:!i,children:"Save"}),y.jsx(Ie,{type:"button",theme:"ghost",onClick:()=>{var J,ee,G,re;s(!1),d({prompt:((ee=(J=n==null?void 0:n[0])==null?void 0:J.data)==null?void 0:ee.prompt)||"",label:((re=(G=n==null?void 0:n[0])==null?void 0:G.data)==null?void 0:re.label)||""})},children:"Cancel"})]})]})}),!r&&y.jsxs(y.Fragment,{children:[!_&&y.jsx(y.Fragment,{children:y.jsxs("form",{onSubmit:X,className:"max-w-xl w-full flex flex-col space-y-4 p-4 rounded-xl bg-base-100",children:[y.jsx("label",{htmlFor:"chatInput",className:"pl-1 font-medium flex-grow text-center",children:u.label||"Tell me what to do..."}),y.jsx(ui,{className:"textarea w-full",placeholder:"Type your message here...",startingRows:4,maxRows:15,value:h,onChange:J=>g(J.target.value),onSubmit:()=>{X()}}),y.jsxs("div",{className:"flex flex-row justify-end gap-2 items-center",children:[y.jsxs(Ie,{theme:"ghost",isSmall:!0,className:"opacity-40 hover:opacity-100",onClick:()=>s(!r),type:"button",children:[y.jsx(Ne,{icon:$x})," ",r?"Hide setup":"Setup"]}),y.jsx(Ie,{theme:"primary",type:"submit",children:y.jsx(Ne,{icon:Ap})})]})]})}),_&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"max-w-xl w-full flex flex-col space-y-4 p-4 rounded-xl bg-base-100",children:[y.jsxs("div",{className:"rounded-xl bg-base-300 py-4 px-6 relative pr-6",children:[y.jsx("p",{className:"line-clamp-2",children:_.text}),y.jsx(Ie,{theme:"ghost",type:"button",isSmall:!0,textToCopy:_.text,className:"absolute top-1 right-2",children:y.jsx(Ne,{icon:zv})})]}),y.jsxs("div",{className:`markdown ${x?"animate-pulse":""} px-4`,children:[((W=_.data)==null?void 0:W.response)||k,!k&&!((Q=_.data)!=null&&Q.response)&&y.jsx(y.Fragment,{children:y.jsx(Ne,{icon:ss,spin:!0})})]}),!x&&y.jsxs("div",{className:"flex flex-row gap-4 items-center justify-end",children:[y.jsx(Ie,{theme:"ghost",type:"button",onClick:()=>{e==null||e.actions.chat.delete(_.id),C(void 0),I(void 0)},children:y.jsx(Ne,{icon:as})}),y.jsxs(Ie,{theme:"ghost",type:"button",textToCopy:((K=_.data)==null?void 0:K.response)||k,children:[y.jsx(Ne,{icon:zv})," Copy"]}),y.jsx(Ie,{theme:"ghost",onClick:()=>{C(void 0),g(""),I(void 0)},children:"Restart"})]})]})}),(n==null?void 0:n.length)>1&&y.jsxs(y.Fragment,{children:[y.jsxs(Ie,{theme:"ghost",className:"opacity-40 hover:opacity-100",onClick:()=>j(!N),children:[y.jsx(Ne,{icon:N?Ux:DT,className:"mr-2"}),N?"Hide":"Show"," History"]}),N&&y.jsx(y.Fragment,{children:n.slice(1).map((J,ee)=>{var G;return y.jsxs("button",{type:"button",onClick:()=>C(J),className:"max-w-xl w-full flex flex-row items-center p-4 gap-4 text-left rounded-xl bg-base-100 hover:bg-base-100/40",children:[y.jsx("div",{className:"flex-1",children:y.jsx("p",{className:"line-clamp-2",children:J.text})}),y.jsx("div",{children:y.jsx(Ne,{icon:Ap})}),y.jsx("div",{className:"flex-1",children:y.jsx("p",{className:"line-clamp-2",children:(G=J.data)==null?void 0:G.response})})]},J.id)})})]})]})]})})},sF=()=>y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"w-full min-h-full"}),y.jsxs("p",{children:["IDEA:",y.jsx("br",{}),"The original AI Juicing concept"]}),y.jsx("p",{children:"My thought: - I know this one by heart, it's the original AI Juicing concept"})]}),iF=["chat","co-authoring","repeater"],oF=({conversationId:e})=>{var l,u,d,f;const t=Il(),n=t==null?void 0:t.conversation,r=O.useRef(void 0),[s,i]=O.useState(!1);return O.useEffect(()=>{e&&(t!=null&&t.isLoading||r.current!==parseInt(e)&&(t==null||t.actions.getByConversationId(parseInt(e)),r.current=parseInt(e)))},[e,t==null?void 0:t.actions,t==null?void 0:t.isLoading]),O.useEffect(()=>{var h;t!=null&&t.selectedConfig&&((h=t==null?void 0:t.selectedConfig)==null||h.service)},[t==null?void 0:t.selectedConfig,t==null?void 0:t.configChecker]),t!=null&&t.isLoading||(t==null?void 0:t.isLoading)===void 0?y.jsx(y.Fragment,{children:"Loading..."}):n?y.jsxs(y.Fragment,{children:[y.jsx(eb,{isOpen:s,onSelect:(h,g)=>{t==null||t.actions.update({aiServiceId:h.id,modelName:g||void 0}),i(!1)},onCancel:()=>i(!1)}),iF.includes(n.type)&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"absolute top-0 right-3 w-full flex flex-row gap-2 items-center ",children:[y.jsx("div",{className:"flex-grow"}),y.jsxs(Ie,{theme:"ghost",onClick:()=>i(!0),className:"rounded-tr-3xl rounded-b-none rounded-l-none flex flex-row gap-3 items-center",children:[((l=t==null?void 0:t.selectedConfig)==null?void 0:l.service)==="Ollama"&&y.jsxs(y.Fragment,{children:[(t==null?void 0:t.configChecker.isRunning)&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"})}),!(t!=null&&t.configChecker.isRunning)&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"})})]}),y.jsx("span",{children:((u=t.selectedConfig)==null?void 0:u.name)||"No config"}),((d=t.conversation)==null?void 0:d.modelName)&&y.jsx("span",{children:(f=t.conversation)==null?void 0:f.modelName})]})]})}),n.type==="chat"&&y.jsx(y.Fragment,{children:y.jsx(R9,{})}),n.type==="co-authoring"&&y.jsx(y.Fragment,{children:y.jsx(z9,{})}),n.type==="repeater"&&y.jsx(y.Fragment,{children:y.jsx(aF,{})}),n.type==="chain"&&y.jsx(y.Fragment,{children:y.jsx(sF,{})})]}):y.jsx(y.Fragment,{children:"Conversation not found"})},lF=()=>{const[e,t]=O.useState(!0),{conversationId:n}=AC(),r=O.useMemo(()=>window.location.hostname==="localhost",[]),s=()=>{t(!e)};return y.jsxs("div",{className:"h-screen relative flex overflow-hidden",children:[y.jsxs("div",{className:`absolute h-full w-64 transition-transform duration-300 ${e?"translate-x-0":"-translate-x-full"} flex flex-col`,children:[y.jsxs("div",{className:"flex justify-between items-center mt-6 pb-6",children:[y.jsx(zx,{}),y.jsx(Ie,{"aria-label":"Hide menu",theme:"ghost",onClick:s,children:y.jsx(Ne,{icon:WT})})]}),y.jsx("div",{className:"w-full block px-3 pb-2",children:y.jsxs(is,{href:"/chat",theme:"primary",isButton:!0,className:"w-full",children:[y.jsx(Ne,{icon:Bx})," Chat"]})}),y.jsx("div",{className:"flex-grow w-full overflow-y-auto overflow-x-hidden",children:y.jsx(EO,{conversationId:n})}),y.jsxs("ul",{className:"menu w-full border-t border-base-100",children:[y.jsx("li",{children:y.jsxs(is,{href:"/settings",theme:"custom",className:"",children:[y.jsx(Ne,{icon:$x})," Settings"]})}),r&&y.jsx("li",{children:y.jsxs(is,{href:"/welcome",theme:"custom",className:"",children:[y.jsx(Ne,{icon:GT})," Onboarding"]})})]})]}),y.jsx("div",{className:`flex-1 transition-all duration-300 p-4 pl-0 ${e?"ml-64":"ml-0 pl-4"} relative`,children:y.jsxs("div",{id:"chat-content",className:"h-full rounded-xl overflow-hidden relative",children:[!n&&y.jsx(MO,{}),n&&y.jsx(oF,{conversationId:n}),y.jsx("div",{className:"absolute top-0 left-0 flex flex-row gap-2 items-center ",children:!e&&y.jsx(Ie,{"aria-label":"Hide menu",onClick:s,theme:"ghost",children:y.jsx(Ne,{icon:ZT})})})]})})]})},mx=()=>y.jsx(hM,{children:y.jsx(lF,{})}),gx=()=>{const e=xi(),t=O.useRef(!1),[n,r]=O.useState(null),s=O.useCallback(async()=>{if(t.current)return;t.current=!0;const i=await ai.getAllConfigs();r(i)},[]);return O.useEffect(()=>{s()},[s]),O.useEffect(()=>{if(n){if(n&&n.length>0){e("chat");return}e("welcome")}},[n,t,e]),y.jsx(y.Fragment,{})},ys=({children:e,title:t})=>y.jsxs("div",{className:"bg-base-200 p-4 rounded flex flex-col space-y-4",children:[t&&y.jsx("h2",{className:"text-xl",children:t}),e]}),uF=()=>{const[e,t]=O.useState(null),[n,r]=O.useState(!1),s=O.useCallback(async()=>{r(!0);try{const i=await _a.systemInfoGet();t(i)}finally{r(!1)}},[]);return O.useEffect(()=>{s()},[s]),y.jsx(ys,{title:"System Information",children:n?y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ne,{icon:ss,className:"animate-spin"}),y.jsx("span",{children:"Loading system information..."})]}):e?y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold mb-2",children:"Operating System"}),y.jsxs("div",{className:"space-y-1 text-sm",children:[y.jsxs("p",{children:["Platform: ",e.os.platform]}),y.jsxs("p",{children:["Distribution: ",e.os.distro]}),y.jsxs("p",{children:["Release: ",e.os.release]}),y.jsxs("p",{children:["Architecture: ",e.os.arch]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold mb-2",children:"CPU"}),y.jsxs("div",{className:"space-y-1 text-sm",children:[y.jsxs("p",{children:["Model: ",e.cpu.brand]}),y.jsxs("p",{children:["Manufacturer: ",e.cpu.manufacturer]}),y.jsxs("p",{children:["Cores: ",e.cpu.cores]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold mb-2",children:"Memory"}),y.jsxs("div",{className:"space-y-1 text-sm",children:[y.jsxs("p",{children:["Total: ",(e.memory.total/(1024*1024*1024)).toFixed(2)," GB"]}),y.jsxs("p",{children:["Free: ",(e.memory.free/(1024*1024*1024)).toFixed(2)," GB"]}),y.jsxs("p",{children:["Used: ",((e.memory.total-e.memory.free)/(1024*1024*1024)).toFixed(2)," GB"]})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold mb-2",children:"Storage"}),y.jsxs("div",{className:"space-y-1 text-sm",children:[y.jsxs("p",{children:["Total: ",(e.disk.total/(1024*1024*1024)).toFixed(2)," GB"]}),y.jsxs("p",{children:["Free: ",(e.disk.free/(1024*1024*1024)).toFixed(2)," GB"]}),y.jsxs("p",{children:["Used: ",((e.disk.total-e.disk.free)/(1024*1024*1024)).toFixed(2)," GB"]})]})]}),e.graphics.controllers.length>0&&y.jsxs("div",{className:"md:col-span-2",children:[y.jsx("h3",{className:"font-bold mb-2",children:"Graphics"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.graphics.controllers.map((i,l)=>y.jsxs("div",{className:"space-y-1 text-sm",children:[y.jsxs("p",{children:["Model: ",i.model]}),i.vram>0&&y.jsxs("p",{children:["VRAM: ",(i.vram/1024).toFixed(2)," GB"]})]},l))})]})]}):y.jsx("div",{className:"text-gray-500",children:"Unable to load system information"})})},cF=({configChecker:e})=>{const t=n=>n?Xw(n,{addSuffix:!0}):"Never";return y.jsxs(ys,{title:"Status",children:[y.jsxs("div",{className:"flex items-center gap-3 ",children:[y.jsx("div",{className:`w-3 h-3 rounded-full ${e.isRunning?"bg-green-500":"bg-red-500"}`}),y.jsxs("span",{className:"flex-grow",children:["Ollama Status: ",e.isRunning?"Online":"Offline"]}),y.jsx(Ie,{theme:"ghost",isLoading:e.isCheckingRunning,onClick:e.actions.checkStatus,children:y.jsx(Ne,{icon:So,className:e.isCheckingRunning?"animate-spin":""})})]}),e.isLocalServer&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex items-center gap-3 bg-base-200 pl-8 pr-4 rounded",children:[y.jsx(Ne,{icon:e.isCheckingInstall?ss:e.isInstalled?$v:Ro,className:`text-xl ${e.isCheckingInstall?"animate-spin":e.isInstalled?"text-green-500":"text-red-500"}`}),y.jsxs("div",{className:"flex-grow",children:[y.jsxs("span",{className:"block",children:["Ollama Installed: ",e.isInstalled?"Yes":"No"]}),y.jsxs("span",{className:"text-sm opacity-50 relative -top-2",children:["Last checked: ",t(e.lastInstallCheck)]}),e.isLocalServer&&y.jsx(y.Fragment,{children:!e.isInstalled&&y.jsxs(ys,{title:"Installation",children:[y.jsx("p",{children:"Looks like you don't have Ollama installed on your computer."}),y.jsxs("p",{children:["You can either follow the instructions on this page: ",y.jsx("a",{href:"https://ollama.com/download",target:"_blank",children:"Download Ollama yourself"}),"."]}),y.jsx("p",{children:"Or you can use the button below to install Ollama automatically."})]})})]}),y.jsx(Ie,{theme:"ghost",isLoading:e.isCheckingInstall,onClick:e.actions.checkInstall,children:y.jsx(Ne,{icon:So,className:e.isCheckingInstall?"animate-spin":""})})]})}),y.jsxs("div",{className:"flex items-center gap-3 bg-base-200 pl-8 pr-4 rounded",children:[y.jsx(Ne,{icon:e.isCheckingRunning?ss:e.isRunning?$v:Ro,className:`text-xl ${e.isCheckingRunning?"animate-spin":e.isRunning?"text-green-500":"text-red-500"}`}),y.jsxs("div",{className:"flex-grow",children:[y.jsxs("span",{className:"block",children:["Ollama Server Running: ",e.isRunning?"Yes":"No"]}),y.jsxs("span",{className:"text-sm opacity-50 relative -top-2",children:["Last checked: ",t(e.lastRunningCheck)]})]}),y.jsx(Ie,{theme:"ghost",isLoading:e.isCheckingRunning,onClick:e.actions.checkStatusWithPing,children:y.jsx(Ne,{icon:So,className:e.isCheckingRunning?"animate-spin":""})})]}),y.jsxs("div",{className:"flex flex-row gap-2 items-center pt-4",children:[y.jsx(Ie,{onClick:e.actions.toggleServer,theme:"primary",isOutline:!0,disabled:e.isTogglingServer||!e.isLocalServer,children:e.isTogglingServer?y.jsxs(y.Fragment,{children:[y.jsx(Ne,{icon:ss,className:"animate-spin mr-2"}),e.isRunning?"Stopping Server...":"Starting Server..."]}):e.isRunning?"Stop Server":"Start Server"}),!e.isLocalServer&&y.jsx("p",{className:"text-red-500",children:"This is not a local server, we cannot start and stop it."})]})]})},dF=({configChecker:e,selectedConfig:t,configs:n})=>{const[r,s]=O.useState([]),[i,l]=O.useState(!1),u=er.useRef(!1),[d,f]=O.useState(!1),[h,g]=O.useState([]),[v,x]=O.useState(!1),S=O.useCallback(async()=>{if(u.current||!t||!e.isRunning||i)return;const k=n.find(I=>I.id===t);if(k&&k.url){u.current=!0,l(!0);try{const I=await jw({url:k.url});u.current=!1,I.success&&s(I.models)}finally{l(!1)}}},[t,e.isRunning,i,n]);O.useEffect(()=>{!t||!e.isRunning||i||r.length>0||S()},[S,i,e.isRunning,r.length,t]);const _=async k=>{if(confirm(`Are you sure you want to remove ${k}?`))try{await _a.ollamaModelRemove(k),S()}catch(I){console.error("Error removing model:",I)}},C=O.useCallback(async()=>{if(!v){x(!0);try{const k=await _a.ollamaModelRemote();g(k),x(!1)}catch(k){x(!1),console.error(k)}}},[v]);return y.jsxs(ys,{title:"Models",children:[i&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ne,{icon:ss,className:"animate-spin"}),y.jsx("span",{children:"Loading models..."})]})}),!i&&y.jsxs(y.Fragment,{children:[r.length===0&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"opacity-70 italic",children:"No models found"})}),r.length>0&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(k=>y.jsx("div",{className:"bg-base-300 p-4 rounded",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:k.name}),y.jsxs("div",{className:"text-sm opacity-50",children:["Size: ",(k.size/(1024*1024*1024)).toFixed(1),"GB"]})]}),y.jsx(Ie,{theme:"danger",isSmall:!0,onClick:()=>_(k.name),children:y.jsx(Ne,{icon:as})})]})},k.name))})})]}),y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsxs(Ie,{theme:"primary",isOutline:!0,onClick:S,isLoading:i,children:[y.jsx(Ne,{icon:So,className:"mr-2"}),"Refresh Models"]}),y.jsx(Ie,{theme:"primary",isOutline:!0,disabled:!0,onClick:()=>{f(!d),C()},children:"Download New Models (Coming soon)"})]}),d&&y.jsxs(y.Fragment,{children:[v&&y.jsx(y.Fragment,{children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ne,{icon:ss,className:"animate-spin"}),y.jsx("span",{children:"Loading remote models..."})]})}),!v&&y.jsxs(y.Fragment,{children:[h.length===0&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"opacity-70 italic",children:"No models found"})}),h.length>0&&y.jsx(y.Fragment,{children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(k=>y.jsx("div",{className:"bg-base-300 p-4 rounded",children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-bold",children:k.name}),y.jsx("div",{className:"text-sm opacity-50"})]}),y.jsx(Ie,{theme:"primary",isSmall:!0,onClick:()=>{},children:"Download"})]})},k.name))})})]})]})]})},fF=()=>{const[e,t]=O.useState([]),[n,r]=O.useState(null),s=O.useRef(!1),i=er.useRef(null),l=O.useMemo(()=>e.find(h=>h.id===n),[e,n]),u=tb({config:l}),{isRunning:d}=u;O.useEffect(()=>{l&&i.current!==l.id&&(u.isCheckingInstall||u.isCheckingRunning||(i.current=l.id,u.actions.checkStatus()))},[u.actions,l,u.isCheckingInstall,u.isCheckingRunning]);const f=O.useCallback(async()=>{if(s.current)return;s.current=!0;const h=await ai.getAllConfigs();t(h),h.length>0&&(n||r(h[0].id)),s.current=!1},[n]);return O.useEffect(()=>{f()},[f]),y.jsxs("div",{className:"space-y-8",children:[y.jsx(ys,{title:"Test configuration",children:y.jsx(im,{label:"Select LLM Configuration",value:(n==null?void 0:n.toString())||"",onChange:h=>r(parseInt(h.target.value)),options:[{value:"",label:"Select LLM Configuration",disabled:!0},...e.map(h=>({value:h.id.toString(),label:h.name}))]})}),n&&y.jsxs(y.Fragment,{children:[y.jsx(cF,{configChecker:u}),d&&y.jsx(y.Fragment,{children:y.jsx(dF,{configChecker:u,selectedConfig:n,configs:e})})]}),y.jsx(uF,{})]})},pF=()=>{const[e,t]=O.useState(!1),[n,r]=O.useState(!1),[s,i]=O.useState(!1),l=async()=>{try{t(!0);const d=["llm-configs","conversations","folders"],f={};for(const x of d){const S=Co(x);f[x]=await S.getAll()}if(s){const x=Co("chats");f.chats=await x.getAll()}else f.chats=[];const h=new Blob([JSON.stringify(f,null,2)],{type:"application/json"}),g=URL.createObjectURL(h),v=document.createElement("a");v.href=g,v.download=`juicebox-backup-${new Date().toISOString()}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)}catch(d){console.error("Export failed:",d),alert("Export failed. Please try again.")}finally{t(!1)}},u=async d=>{var f;try{r(!0);const h=(f=d.target.files)==null?void 0:f[0];if(!h)return;const g=await h.text(),v=JSON.parse(g);if(!(S=>typeof S=="object"&&S!==null&&["llm-configs","conversations","folders","chats"].every(C=>C in S&&Array.isArray(S[C])))(v))throw new Error("Invalid import data format");for(const[S,_]of Object.entries(v)){const C=Co(S);for(const k of _)await C.create(k)}alert("Import successful! Please refresh the page.")}catch(h){console.error("Import failed:",h),alert("Import failed. Please check the file format and try again.")}finally{r(!1),d.target&&(d.target.value="")}};return y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("input",{type:"checkbox",id:"includeChats",checked:s,onChange:d=>i(d.target.checked),className:""}),y.jsx("label",{htmlFor:"includeChats",className:"t",children:"Include chat history in export"})]}),y.jsxs("div",{className:"flex gap-4 items-center",children:[y.jsxs(Ie,{theme:"ghost",onClick:l,disabled:e,className:"flex items-center gap-2",children:[y.jsx(Ne,{icon:UT,className:"h-5 w-5"}),e?"Exporting...":"Export Data"]}),y.jsxs("div",{className:"relative",children:[y.jsxs(Ie,{theme:"ghost",disabled:n,className:"flex items-center gap-2",children:[y.jsx(Ne,{icon:BT,className:"h-5 w-5"}),n?"Importing...":"Import Data"]}),y.jsx("input",{"aria-label":"Import Data",type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".json",onChange:u,disabled:n})]})]})]})},hF=()=>y.jsxs("div",{className:"space-y-6 max-w-2xl w-full mx-auto",children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),y.jsx(ys,{title:"Import <> Export",children:y.jsx(pF,{})})]}),mF=[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"cupcake",label:"Cupcake"},{value:"bumblebee",label:"Bumblebee"},{value:"emerald",label:"Emerald"},{value:"corporate",label:"Corporate"},{value:"synthwave",label:"Synthwave"},{value:"retro",label:"Retro"},{value:"cyberpunk",label:"Cyberpunk"},{value:"valentine",label:"Valentine"},{value:"halloween",label:"Halloween"},{value:"garden",label:"Garden"},{value:"forest",label:"Forest"},{value:"aqua",label:"Aqua"},{value:"lofi",label:"Lo-Fi"},{value:"pastel",label:"Pastel"},{value:"fantasy",label:"Fantasy"},{value:"wireframe",label:"Wireframe"},{value:"black",label:"Black"},{value:"luxury",label:"Luxury"},{value:"dracula",label:"Dracula"},{value:"cmyk",label:"CMYK"},{value:"autumn",label:"Autumn"},{value:"business",label:"Business"},{value:"acid",label:"Acid"},{value:"lemonade",label:"Lemonade"},{value:"night",label:"Night"},{value:"coffee",label:"Coffee"},{value:"winter",label:"Winter"},{value:"dim",label:"Dim"},{value:"nord",label:"Nord"},{value:"sunset",label:"Sunset"}],yx=()=>{const{userSettings:e,actions:t}=Tr(),n=r=>{const s=r.target.value;t.userSettings.update({theme:s})};return y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-4 space-y-8",children:[y.jsx("div",{className:"flex flex-row gap-2 items-center pt-8",children:y.jsx("h1",{className:"text-2xl font-bold flex-grow",children:"Theme Settings"})}),y.jsx(ys,{title:"Theme selection",children:y.jsx(im,{label:"Select Theme",options:mF,value:(e==null?void 0:e.theme)||"dim",onChange:n,description:"Choose your preferred theme for the application"})})]})},vx=({id:e,title:t,message:n,children:r})=>y.jsx("dialog",{id:e,className:"modal",children:y.jsxs("div",{className:"modal-box",children:[y.jsx("form",{method:"dialog",children:y.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""})}),t&&y.jsx("h3",{className:"font-bold text-lg",children:t}),n&&y.jsx("p",{className:"py-4",children:n}),r]})}),xx=e=>{const t=document.getElementById(e);t==null||t.showModal()},wx=e=>{const t=document.getElementById(e);t==null||t.close()},Op="new-config-modal",jp="edit-config-modal",gF=()=>{const{aiServices:e,actions:t}=Tr(),[n,r]=O.useState(null),s=async l=>{await t.aiServices.delete({configId:l})},i=[...Cw].sort().reduce((l,u)=>{const d=e.filter(f=>f.service===u);return d.length>0&&(l[u]=d),l},{});return y.jsxs("div",{className:"w-full max-w-2xl mx-auto px-4 space-y-8",children:[y.jsxs("div",{className:"flex flex-row gap-2 items-center pt-8",children:[y.jsx("h1",{className:"text-2xl font-bold flex-grow",children:"Your AI services"}),y.jsx(Ie,{onClick:()=>xx(Op),theme:"primary",className:"flex-shrink-0",children:"Add service"})]}),y.jsx("p",{className:"italic",children:"Adding services allows you to connect to different AI models. We recommend Ollama for the most privacy."}),y.jsx("div",{className:"space-y-8",children:Object.entries(i).map(([l,u])=>y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-xl font-semibold border-b border-base-300 pb-2",children:l}),y.jsx("ul",{className:"space-y-4",children:u.map(d=>y.jsxs("li",{className:"bg-base-200 p-4 rounded-xl flex flex-col gap-4",children:[y.jsx("p",{className:"text-xl font-black",children:d.name}),y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx(Ie,{onClick:()=>{r(d),xx(jp)},theme:"secondary",isOutline:!0,isSmall:!0,children:"Edit"}),y.jsx(Ie,{onClick:()=>s(d.id),theme:"danger",isOutline:!0,isSmall:!0,children:y.jsx(Ne,{icon:as})}),y.jsx("div",{className:"flex-grow"})]})]},d.id))})]},l))}),y.jsx(vx,{id:Op,title:"Create New Config",children:y.jsx(eh,{afterSubmit:()=>{wx(Op)}})}),y.jsx(vx,{id:jp,title:"Edit Config",children:n&&y.jsx(eh,{initialValues:n,configId:n.id,afterSubmit:()=>{r(null),wx(jp)}})})]})},yF=()=>{const t=Zr().pathname.split("/settings/")[1]||"theme";return y.jsxs("div",{className:"flex h-screen",children:[y.jsxs("nav",{className:"min-w-3xs max-w-[250px] w-full bg-base-200 pt-8 flex flex-col gap-4",children:[y.jsx(zx,{}),y.jsxs(is,{href:"/chat",theme:"custom",className:"w-full text-left px-4 pr-2 py-2 hover:bg-base-300",children:[y.jsx(Ne,{icon:zT,className:"mr-1"})," Back"]}),y.jsx("ul",{className:"menu rounded-box w-full",children:[{href:"/settings/theme",text:"Theme"},{href:"/settings/llm-configs",text:"Your AI services"},{href:"/settings/settings",text:"General options"},{href:"/settings/ollama",text:"Local Ollama"}].map(({href:n,text:r})=>{const s=t===n.replace("/settings/","");return y.jsx("li",{children:y.jsx(is,{theme:"custom",href:n,className:s?"bg-primary/30":"",children:r})},n)})})]}),y.jsx("main",{className:"w-full p-4 h-full bg-base-100 overflow-y-auto",children:y.jsxs(Rx,{children:[y.jsx(Fn,{path:"/",element:y.jsx(yx,{})}),y.jsx(Fn,{path:"/theme",element:y.jsx(yx,{})}),y.jsx(Fn,{path:"/llm-configs",element:y.jsx(gF,{})}),y.jsx(Fn,{path:"/settings",element:y.jsx(hF,{})}),y.jsx(Fn,{path:"/ollama",element:y.jsx(fF,{})})]})})]})};function vF(){return y.jsx(y4,{children:y.jsx(vT,{children:y.jsxs(Rx,{children:[y.jsx(Fn,{path:"/",element:y.jsx(gx,{})}),y.jsx(Fn,{path:"/chat",element:y.jsx(mx,{})}),y.jsx(Fn,{path:"/chat/:conversationId",element:y.jsx(mx,{})}),y.jsx(Fn,{path:"/welcome",element:y.jsx(k4,{})}),y.jsx(Fn,{path:"/settings/*",element:y.jsx(yF,{})}),y.jsx(Fn,{path:"*",element:y.jsx(gx,{})})," "]})})})}aC.createRoot(document.getElementById("root")).render(y.jsx(O.StrictMode,{children:y.jsx(vF,{})}));
