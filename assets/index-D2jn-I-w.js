var P2=Object.defineProperty;var R2=(e,t,n)=>t in e?P2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ya=(e,t,n)=>R2(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nf={exports:{}},no={},Of={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function j2(){if(hv)return He;hv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function C(M,B,R){this.props=M,this.context=B,this.refs=_,this.updater=R||v}C.prototype.isReactComponent={},C.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function k(){}k.prototype=C.prototype;function I(M,B,R){this.props=M,this.context=B,this.refs=_,this.updater=R||v}var E=I.prototype=new k;E.constructor=I,S(E,C.prototype),E.isPureReactComponent=!0;var P=Array.isArray,D=Object.prototype.hasOwnProperty,A={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function K(M,B,R){var ke,xe={},Se=null,$e=null;if(B!=null)for(ke in B.ref!==void 0&&($e=B.ref),B.key!==void 0&&(Se=""+B.key),B)D.call(B,ke)&&!$.hasOwnProperty(ke)&&(xe[ke]=B[ke]);var je=arguments.length-2;if(je===1)xe.children=R;else if(1<je){for(var Ue=Array(je),ot=0;ot<je;ot++)Ue[ot]=arguments[ot+2];xe.children=Ue}if(M&&M.defaultProps)for(ke in je=M.defaultProps,je)xe[ke]===void 0&&(xe[ke]=je[ke]);return{$$typeof:e,type:M,key:Se,ref:$e,props:xe,_owner:A.current}}function ce(M,B){return{$$typeof:e,type:M.type,key:B,ref:M.ref,props:M.props,_owner:M._owner}}function de(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function te(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(R){return B[R]})}var oe=/\/+/g;function ae(M,B){return typeof M=="object"&&M!==null&&M.key!=null?te(""+M.key):B.toString(36)}function q(M,B,R,ke,xe){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var $e=!1;if(M===null)$e=!0;else switch(Se){case"string":case"number":$e=!0;break;case"object":switch(M.$$typeof){case e:case t:$e=!0}}if($e)return $e=M,xe=xe($e),M=ke===""?"."+ae($e,0):ke,P(xe)?(R="",M!=null&&(R=M.replace(oe,"$&/")+"/"),q(xe,B,R,"",function(ot){return ot})):xe!=null&&(de(xe)&&(xe=ce(xe,R+(!xe.key||$e&&$e.key===xe.key?"":(""+xe.key).replace(oe,"$&/")+"/")+M)),B.push(xe)),1;if($e=0,ke=ke===""?".":ke+":",P(M))for(var je=0;je<M.length;je++){Se=M[je];var Ue=ke+ae(Se,je);$e+=q(Se,B,R,Ue,xe)}else if(Ue=y(M),typeof Ue=="function")for(M=Ue.call(M),je=0;!(Se=M.next()).done;)Se=Se.value,Ue=ke+ae(Se,je++),$e+=q(Se,B,R,Ue,xe);else if(Se==="object")throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return $e}function J(M,B,R){if(M==null)return M;var ke=[],xe=0;return q(M,ke,"","",function(Se){return B.call(R,Se,xe++)}),ke}function ie(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(R){(M._status===0||M._status===-1)&&(M._status=1,M._result=R)},function(R){(M._status===0||M._status===-1)&&(M._status=2,M._result=R)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var le={current:null},V={transition:null},Z={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:V,ReactCurrentOwner:A};function N(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:J,forEach:function(M,B,R){J(M,function(){B.apply(this,arguments)},R)},count:function(M){var B=0;return J(M,function(){B++}),B},toArray:function(M){return J(M,function(B){return B})||[]},only:function(M){if(!de(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},He.Component=C,He.Fragment=n,He.Profiler=s,He.PureComponent=I,He.StrictMode=r,He.Suspense=f,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,He.act=N,He.cloneElement=function(M,B,R){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ke=S({},M.props),xe=M.key,Se=M.ref,$e=M._owner;if(B!=null){if(B.ref!==void 0&&(Se=B.ref,$e=A.current),B.key!==void 0&&(xe=""+B.key),M.type&&M.type.defaultProps)var je=M.type.defaultProps;for(Ue in B)D.call(B,Ue)&&!$.hasOwnProperty(Ue)&&(ke[Ue]=B[Ue]===void 0&&je!==void 0?je[Ue]:B[Ue])}var Ue=arguments.length-2;if(Ue===1)ke.children=R;else if(1<Ue){je=Array(Ue);for(var ot=0;ot<Ue;ot++)je[ot]=arguments[ot+2];ke.children=je}return{$$typeof:e,type:M.type,key:xe,ref:Se,props:ke,_owner:$e}},He.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:i,_context:M},M.Consumer=M},He.createElement=K,He.createFactory=function(M){var B=K.bind(null,M);return B.type=M,B},He.createRef=function(){return{current:null}},He.forwardRef=function(M){return{$$typeof:u,render:M}},He.isValidElement=de,He.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:ie}},He.memo=function(M,B){return{$$typeof:d,type:M,compare:B===void 0?null:B}},He.startTransition=function(M){var B=V.transition;V.transition={};try{M()}finally{V.transition=B}},He.unstable_act=N,He.useCallback=function(M,B){return le.current.useCallback(M,B)},He.useContext=function(M){return le.current.useContext(M)},He.useDebugValue=function(){},He.useDeferredValue=function(M){return le.current.useDeferredValue(M)},He.useEffect=function(M,B){return le.current.useEffect(M,B)},He.useId=function(){return le.current.useId()},He.useImperativeHandle=function(M,B,R){return le.current.useImperativeHandle(M,B,R)},He.useInsertionEffect=function(M,B){return le.current.useInsertionEffect(M,B)},He.useLayoutEffect=function(M,B){return le.current.useLayoutEffect(M,B)},He.useMemo=function(M,B){return le.current.useMemo(M,B)},He.useReducer=function(M,B,R){return le.current.useReducer(M,B,R)},He.useRef=function(M){return le.current.useRef(M)},He.useState=function(M){return le.current.useState(M)},He.useSyncExternalStore=function(M,B,R){return le.current.useSyncExternalStore(M,B,R)},He.useTransition=function(){return le.current.useTransition()},He.version="18.3.1",He}var mv;function Ah(){return mv||(mv=1,Of.exports=j2()),Of.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv;function A2(){if(gv)return no;gv=1;var e=Ah(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(u,f,d){var h,g={},y=null,v=null;d!==void 0&&(y=""+d),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(v=f.ref);for(h in f)r.call(f,h)&&!i.hasOwnProperty(h)&&(g[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)g[h]===void 0&&(g[h]=f[h]);return{$$typeof:t,type:u,key:y,ref:v,props:g,_owner:s.current}}return no.Fragment=n,no.jsx=l,no.jsxs=l,no}var yv;function D2(){return yv||(yv=1,Nf.exports=A2()),Nf.exports}var w=D2(),O=Ah();const $n=hi(O);var Ou={},Pf={exports:{}},fn={},Rf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv;function M2(){return vv||(vv=1,function(e){function t(V,Z){var N=V.length;V.push(Z);e:for(;0<N;){var M=N-1>>>1,B=V[M];if(0<s(B,Z))V[M]=Z,V[N]=B,N=M;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Z=V[0],N=V.pop();if(N!==Z){V[0]=N;e:for(var M=0,B=V.length,R=B>>>1;M<R;){var ke=2*(M+1)-1,xe=V[ke],Se=ke+1,$e=V[Se];if(0>s(xe,N))Se<B&&0>s($e,xe)?(V[M]=$e,V[Se]=N,M=Se):(V[M]=xe,V[ke]=N,M=ke);else if(Se<B&&0>s($e,N))V[M]=$e,V[Se]=N,M=Se;else break e}}return Z}function s(V,Z){var N=V.sortIndex-Z.sortIndex;return N!==0?N:V.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,g=null,y=3,v=!1,S=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(V){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=V)r(d),Z.sortIndex=Z.expirationTime,t(f,Z);else break;Z=n(d)}}function P(V){if(_=!1,E(V),!S)if(n(f)!==null)S=!0,ie(D);else{var Z=n(d);Z!==null&&le(P,Z.startTime-V)}}function D(V,Z){S=!1,_&&(_=!1,k(K),K=-1),v=!0;var N=y;try{for(E(Z),g=n(f);g!==null&&(!(g.expirationTime>Z)||V&&!te());){var M=g.callback;if(typeof M=="function"){g.callback=null,y=g.priorityLevel;var B=M(g.expirationTime<=Z);Z=e.unstable_now(),typeof B=="function"?g.callback=B:g===n(f)&&r(f),E(Z)}else r(f);g=n(f)}if(g!==null)var R=!0;else{var ke=n(d);ke!==null&&le(P,ke.startTime-Z),R=!1}return R}finally{g=null,y=N,v=!1}}var A=!1,$=null,K=-1,ce=5,de=-1;function te(){return!(e.unstable_now()-de<ce)}function oe(){if($!==null){var V=e.unstable_now();de=V;var Z=!0;try{Z=$(!0,V)}finally{Z?ae():(A=!1,$=null)}}else A=!1}var ae;if(typeof I=="function")ae=function(){I(oe)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=oe,ae=function(){J.postMessage(null)}}else ae=function(){C(oe,0)};function ie(V){$=V,A||(A=!0,ae())}function le(V,Z){K=C(function(){V(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){S||v||(S=!0,ie(D))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(V){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var N=y;y=Z;try{return V()}finally{y=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Z){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var N=y;y=V;try{return Z()}finally{y=N}},e.unstable_scheduleCallback=function(V,Z,N){var M=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?M+N:M):N=M,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=N+B,V={id:h++,callback:Z,priorityLevel:V,startTime:N,expirationTime:B,sortIndex:-1},N>M?(V.sortIndex=N,t(d,V),n(f)===null&&V===n(d)&&(_?(k(K),K=-1):_=!0,le(P,N-M))):(V.sortIndex=B,t(f,V),S||v||(S=!0,ie(D))),V},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(V){var Z=y;return function(){var N=y;y=Z;try{return V.apply(this,arguments)}finally{y=N}}}}(jf)),jf}var xv;function L2(){return xv||(xv=1,Rf.exports=M2()),Rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function F2(){if(wv)return fn;wv=1;var e=Ah(),t=L2();function n(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(a,o){l(a,o),l(a+"Capture",o)}function l(a,o){for(s[a]=o,a=0;a<o.length;a++)r.add(o[a])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function y(a){return f.call(g,a)?!0:f.call(h,a)?!1:d.test(a)?g[a]=!0:(h[a]=!0,!1)}function v(a,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function S(a,o,c,p){if(o===null||typeof o>"u"||v(a,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function _(a,o,c,p,m,b,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=a,this.type=o,this.sanitizeURL=b,this.removeEmptyString=T}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new _(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];C[o]=new _(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new _(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new _(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new _(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new _(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new _(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new _(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new _(a,5,!1,a.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function I(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(k,I);C[o]=new _(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(k,I);C[o]=new _(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(k,I);C[o]=new _(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new _(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new _(a,1,!1,a.toLowerCase(),null,!0,!0)});function E(a,o,c,p){var m=C.hasOwnProperty(o)?C[o]:null;(m!==null?m.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,c,m,p)&&(c=null),p||m===null?y(o)&&(c===null?a.removeAttribute(o):a.setAttribute(o,""+c)):m.mustUseProperty?a[m.propertyName]=c===null?m.type===3?!1:"":c:(o=m.attributeName,p=m.attributeNamespace,c===null?a.removeAttribute(o):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,p?a.setAttributeNS(p,o,c):a.setAttribute(o,c))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),A=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),te=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),V=Symbol.iterator;function Z(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var N=Object.assign,M;function B(a){if(M===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+a}var R=!1;function ke(a,o){if(!a||R)return"";R=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(H){var p=H}Reflect.construct(a,[],o)}else{try{o.call()}catch(H){p=H}a.call(o.prototype)}else{try{throw Error()}catch(H){p=H}a()}}catch(H){if(H&&p&&typeof H.stack=="string"){for(var m=H.stack.split(`
`),b=p.stack.split(`
`),T=m.length-1,j=b.length-1;1<=T&&0<=j&&m[T]!==b[j];)j--;for(;1<=T&&0<=j;T--,j--)if(m[T]!==b[j]){if(T!==1||j!==1)do if(T--,j--,0>j||m[T]!==b[j]){var L=`
`+m[T].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=T&&0<=j);break}}}finally{R=!1,Error.prepareStackTrace=c}return(a=a?a.displayName||a.name:"")?B(a):""}function xe(a){switch(a.tag){case 5:return B(a.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return a=ke(a.type,!1),a;case 11:return a=ke(a.type.render,!1),a;case 1:return a=ke(a.type,!0),a;default:return""}}function Se(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case $:return"Fragment";case A:return"Portal";case ce:return"Profiler";case K:return"StrictMode";case ae:return"Suspense";case q:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case te:return(a.displayName||"Context")+".Consumer";case de:return(a._context.displayName||"Context")+".Provider";case oe:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case J:return o=a.displayName||null,o!==null?o:Se(a.type)||"Memo";case ie:o=a._payload,a=a._init;try{return Se(a(o))}catch{}}return null}function $e(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=o.render,a=a.displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(o);case 8:return o===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function je(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ue(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ot(a){var o=Ue(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),p=""+a[o];if(!a.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){p=""+T,b.call(this,T)}}),Object.defineProperty(a,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function Be(a){a._valueTracker||(a._valueTracker=ot(a))}function Re(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return a&&(p=Ue(a)?a.checked?"true":"false":a.value),a=p,a!==c?(o.setValue(a),!0):!1}function rt(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ot(a,o){var c=o.checked;return N({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??a._wrapperState.initialChecked})}function me(a,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=je(o.value!=null?o.value:c),a._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Qe(a,o){o=o.checked,o!=null&&E(a,"checked",o,!1)}function Ft(a,o){Qe(a,o);var c=je(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}o.hasOwnProperty("value")?Bn(a,o.type,c):o.hasOwnProperty("defaultValue")&&Bn(a,o.type,je(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function bt(a,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,c||o===a.value||(a.value=o),a.defaultValue=o}c=a.name,c!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,c!==""&&(a.name=c)}function Bn(a,o,c){(o!=="number"||rt(a.ownerDocument)!==a)&&(c==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}var sr=Array.isArray;function mn(a,o,c,p){if(a=a.options,o){o={};for(var m=0;m<c.length;m++)o["$"+c[m]]=!0;for(c=0;c<a.length;c++)m=o.hasOwnProperty("$"+a[c].value),a[c].selected!==m&&(a[c].selected=m),m&&p&&(a[c].defaultSelected=!0)}else{for(c=""+je(c),o=null,m=0;m<a.length;m++){if(a[m].value===c){a[m].selected=!0,p&&(a[m].defaultSelected=!0);return}o!==null||a[m].disabled||(o=a[m])}o!==null&&(o.selected=!0)}}function Gr(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return N({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Yr(a,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(n(92));if(sr(c)){if(1<c.length)throw Error(n(93));c=c[0]}o=c}o==null&&(o=""),c=o}a._wrapperState={initialValue:je(c)}}function Da(a,o){var c=je(o.value),p=je(o.defaultValue);c!=null&&(c=""+c,c!==a.value&&(a.value=c),o.defaultValue==null&&a.defaultValue!==c&&(a.defaultValue=c)),p!=null&&(a.defaultValue=""+p)}function Ma(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function W(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?W(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Ce,Ae=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,m){MSApp.execUnsafeLocalFunction(function(){return a(o,c,p,m)})}:a}(function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for(Ce=Ce||document.createElement("div"),Ce.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ce.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}});function We(a,o){if(o){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=o;return}}a.textContent=o}var pt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cn=["Webkit","ms","Moz","O"];Object.keys(pt).forEach(function(a){Cn.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),pt[o]=pt[a]})});function rn(a,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||pt.hasOwnProperty(a)&&pt[a]?(""+o).trim():o+"px"}function Hn(a,o){a=a.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,m=rn(c,o[c],p);c==="float"&&(c="cssFloat"),p?a.setProperty(c,m):a[c]=m}}var Kt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ct(a,o){if(o){if(Kt[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function jt(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var St=null;function La(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bs=null,Tn=null,Kr=null;function wi(a){if(a=Ui(a)){if(typeof bs!="function")throw Error(n(280));var o=a.stateNode;o&&(o=Vl(o),bs(a.stateNode,a.type,o))}}function Ss(a){Tn?Kr?Kr.push(a):Kr=[a]:Tn=a}function an(){if(Tn){var a=Tn,o=Kr;if(Kr=Tn=null,wi(a),o)for(a=0;a<o.length;a++)wi(o[a])}}function Nr(a,o){return a(o)}function bi(){}var _s=!1;function Si(a,o,c){if(_s)return a(o,c);_s=!0;try{return Nr(a,o,c)}finally{_s=!1,(Tn!==null||Kr!==null)&&(bi(),an())}}function Or(a,o){var c=a.stateNode;if(c===null)return null;var p=Vl(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,o,typeof c));return c}var Ze=!1;if(u)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){Ze=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{Ze=!1}function En(a,o,c,p,m,b,T,j,L){var H=Array.prototype.slice.call(arguments,3);try{o.apply(c,H)}catch(Y){this.onError(Y)}}var qn=!1,In=null,Fa=!1,sn=null,ks={onError:function(a){qn=!0,In=a}};function z_(a,o,c,p,m,b,T,j,L){qn=!1,In=null,En.apply(ks,arguments)}function $_(a,o,c,p,m,b,T,j,L){if(z_.apply(this,arguments),qn){if(qn){var H=In;qn=!1,In=null}else throw Error(n(198));Fa||(Fa=!0,sn=H)}}function za(a){var o=a,c=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,o.flags&4098&&(c=o.return),a=o.return;while(a)}return o.tag===3?c:null}function Lm(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function Fm(a){if(za(a)!==a)throw Error(n(188))}function U_(a){var o=a.alternate;if(!o){if(o=za(a),o===null)throw Error(n(188));return o!==a?null:a}for(var c=a,p=o;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(p=m.return,p!==null){c=p;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return Fm(m),a;if(b===p)return Fm(m),o;b=b.sibling}throw Error(n(188))}if(c.return!==p.return)c=m,p=b;else{for(var T=!1,j=m.child;j;){if(j===c){T=!0,c=m,p=b;break}if(j===p){T=!0,p=m,c=b;break}j=j.sibling}if(!T){for(j=b.child;j;){if(j===c){T=!0,c=b,p=m;break}if(j===p){T=!0,p=b,c=m;break}j=j.sibling}if(!T)throw Error(n(189))}}if(c.alternate!==p)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:o}function zm(a){return a=U_(a),a!==null?$m(a):null}function $m(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=$m(a);if(o!==null)return o;a=a.sibling}return null}var Um=t.unstable_scheduleCallback,Bm=t.unstable_cancelCallback,B_=t.unstable_shouldYield,H_=t.unstable_requestPaint,Tt=t.unstable_now,q_=t.unstable_getCurrentPriorityLevel,Jc=t.unstable_ImmediatePriority,Hm=t.unstable_UserBlockingPriority,Cl=t.unstable_NormalPriority,V_=t.unstable_LowPriority,qm=t.unstable_IdlePriority,Tl=null,ir=null;function W_(a){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Tl,a,void 0,(a.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:G_,Z_=Math.log,J_=Math.LN2;function G_(a){return a>>>=0,a===0?32:31-(Z_(a)/J_|0)|0}var El=64,Il=4194304;function _i(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Nl(a,o){var c=a.pendingLanes;if(c===0)return 0;var p=0,m=a.suspendedLanes,b=a.pingedLanes,T=c&268435455;if(T!==0){var j=T&~m;j!==0?p=_i(j):(b&=T,b!==0&&(p=_i(b)))}else T=c&~m,T!==0?p=_i(T):b!==0&&(p=_i(b));if(p===0)return 0;if(o!==0&&o!==p&&!(o&m)&&(m=p&-p,b=o&-o,m>=b||m===16&&(b&4194240)!==0))return o;if(p&4&&(p|=c&16),o=a.entangledLanes,o!==0)for(a=a.entanglements,o&=p;0<o;)c=31-Vn(o),m=1<<c,p|=a[c],o&=~m;return p}function Y_(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K_(a,o){for(var c=a.suspendedLanes,p=a.pingedLanes,m=a.expirationTimes,b=a.pendingLanes;0<b;){var T=31-Vn(b),j=1<<T,L=m[T];L===-1?(!(j&c)||j&p)&&(m[T]=Y_(j,o)):L<=o&&(a.expiredLanes|=j),b&=~j}}function Gc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Vm(){var a=El;return El<<=1,!(El&4194240)&&(El=64),a}function Yc(a){for(var o=[],c=0;31>c;c++)o.push(a);return o}function ki(a,o,c){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,o=31-Vn(o),a[o]=c}function X_(a,o){var c=a.pendingLanes&~o;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=o,a.mutableReadLanes&=o,a.entangledLanes&=o,o=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<c;){var m=31-Vn(c),b=1<<m;o[m]=0,p[m]=-1,a[m]=-1,c&=~b}}function Kc(a,o){var c=a.entangledLanes|=o;for(a=a.entanglements;c;){var p=31-Vn(c),m=1<<p;m&o|a[p]&o&&(a[p]|=o),c&=~m}}var tt=0;function Wm(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Zm,Xc,Jm,Gm,Ym,Qc=!1,Ol=[],Xr=null,Qr=null,ea=null,Ci=new Map,Ti=new Map,ta=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Km(a,o){switch(a){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":Ci.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ti.delete(o.pointerId)}}function Ei(a,o,c,p,m,b){return a===null||a.nativeEvent!==b?(a={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Ui(o),o!==null&&Xc(o)),a):(a.eventSystemFlags|=p,o=a.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),a)}function ek(a,o,c,p,m){switch(o){case"focusin":return Xr=Ei(Xr,a,o,c,p,m),!0;case"dragenter":return Qr=Ei(Qr,a,o,c,p,m),!0;case"mouseover":return ea=Ei(ea,a,o,c,p,m),!0;case"pointerover":var b=m.pointerId;return Ci.set(b,Ei(Ci.get(b)||null,a,o,c,p,m)),!0;case"gotpointercapture":return b=m.pointerId,Ti.set(b,Ei(Ti.get(b)||null,a,o,c,p,m)),!0}return!1}function Xm(a){var o=$a(a.target);if(o!==null){var c=za(o);if(c!==null){if(o=c.tag,o===13){if(o=Lm(c),o!==null){a.blockedOn=o,Ym(a.priority,function(){Jm(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Pl(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var c=td(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(c===null){c=a.nativeEvent;var p=new c.constructor(c.type,c);St=p,c.target.dispatchEvent(p),St=null}else return o=Ui(c),o!==null&&Xc(o),a.blockedOn=c,!1;o.shift()}return!0}function Qm(a,o,c){Pl(a)&&c.delete(o)}function tk(){Qc=!1,Xr!==null&&Pl(Xr)&&(Xr=null),Qr!==null&&Pl(Qr)&&(Qr=null),ea!==null&&Pl(ea)&&(ea=null),Ci.forEach(Qm),Ti.forEach(Qm)}function Ii(a,o){a.blockedOn===o&&(a.blockedOn=null,Qc||(Qc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tk)))}function Ni(a){function o(m){return Ii(m,a)}if(0<Ol.length){Ii(Ol[0],a);for(var c=1;c<Ol.length;c++){var p=Ol[c];p.blockedOn===a&&(p.blockedOn=null)}}for(Xr!==null&&Ii(Xr,a),Qr!==null&&Ii(Qr,a),ea!==null&&Ii(ea,a),Ci.forEach(o),Ti.forEach(o),c=0;c<ta.length;c++)p=ta[c],p.blockedOn===a&&(p.blockedOn=null);for(;0<ta.length&&(c=ta[0],c.blockedOn===null);)Xm(c),c.blockedOn===null&&ta.shift()}var Cs=P.ReactCurrentBatchConfig,Rl=!0;function nk(a,o,c,p){var m=tt,b=Cs.transition;Cs.transition=null;try{tt=1,ed(a,o,c,p)}finally{tt=m,Cs.transition=b}}function rk(a,o,c,p){var m=tt,b=Cs.transition;Cs.transition=null;try{tt=4,ed(a,o,c,p)}finally{tt=m,Cs.transition=b}}function ed(a,o,c,p){if(Rl){var m=td(a,o,c,p);if(m===null)vd(a,o,p,jl,c),Km(a,p);else if(ek(m,a,o,c,p))p.stopPropagation();else if(Km(a,p),o&4&&-1<Q_.indexOf(a)){for(;m!==null;){var b=Ui(m);if(b!==null&&Zm(b),b=td(a,o,c,p),b===null&&vd(a,o,p,jl,c),b===m)break;m=b}m!==null&&p.stopPropagation()}else vd(a,o,p,null,c)}}var jl=null;function td(a,o,c,p){if(jl=null,a=La(p),a=$a(a),a!==null)if(o=za(a),o===null)a=null;else if(c=o.tag,c===13){if(a=Lm(o),a!==null)return a;a=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return jl=a,null}function eg(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(q_()){case Jc:return 1;case Hm:return 4;case Cl:case V_:return 16;case qm:return 536870912;default:return 16}default:return 16}}var na=null,nd=null,Al=null;function tg(){if(Al)return Al;var a,o=nd,c=o.length,p,m="value"in na?na.value:na.textContent,b=m.length;for(a=0;a<c&&o[a]===m[a];a++);var T=c-a;for(p=1;p<=T&&o[c-p]===m[b-p];p++);return Al=m.slice(a,1<p?1-p:void 0)}function Dl(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Ml(){return!0}function ng(){return!1}function gn(a){function o(c,p,m,b,T){this._reactName=c,this._targetInst=m,this.type=p,this.nativeEvent=b,this.target=T,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(c=a[j],this[j]=c?c(b):b[j]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ml:ng,this.isPropagationStopped=ng,this}return N(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),o}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rd=gn(Ts),Oi=N({},Ts,{view:0,detail:0}),ak=gn(Oi),ad,sd,Pi,Ll=N({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:od,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pi&&(Pi&&a.type==="mousemove"?(ad=a.screenX-Pi.screenX,sd=a.screenY-Pi.screenY):sd=ad=0,Pi=a),ad)},movementY:function(a){return"movementY"in a?a.movementY:sd}}),rg=gn(Ll),sk=N({},Ll,{dataTransfer:0}),ik=gn(sk),ok=N({},Oi,{relatedTarget:0}),id=gn(ok),lk=N({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),uk=gn(lk),ck=N({},Ts,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),dk=gn(ck),fk=N({},Ts,{data:0}),ag=gn(fk),pk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gk(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=mk[a])?!!o[a]:!1}function od(){return gk}var yk=N({},Oi,{key:function(a){if(a.key){var o=pk[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Dl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?hk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:od,charCode:function(a){return a.type==="keypress"?Dl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Dl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),vk=gn(yk),xk=N({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=gn(xk),wk=N({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:od}),bk=gn(wk),Sk=N({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),_k=gn(Sk),kk=N({},Ll,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Ck=gn(kk),Tk=[9,13,27,32],ld=u&&"CompositionEvent"in window,Ri=null;u&&"documentMode"in document&&(Ri=document.documentMode);var Ek=u&&"TextEvent"in window&&!Ri,ig=u&&(!ld||Ri&&8<Ri&&11>=Ri),og=" ",lg=!1;function ug(a,o){switch(a){case"keyup":return Tk.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Es=!1;function Ik(a,o){switch(a){case"compositionend":return cg(o);case"keypress":return o.which!==32?null:(lg=!0,og);case"textInput":return a=o.data,a===og&&lg?null:a;default:return null}}function Nk(a,o){if(Es)return a==="compositionend"||!ld&&ug(a,o)?(a=tg(),Al=nd=na=null,Es=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ig&&o.locale!=="ko"?null:o.data;default:return null}}var Ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Ok[a.type]:o==="textarea"}function fg(a,o,c,p){Ss(p),o=Bl(o,"onChange"),0<o.length&&(c=new rd("onChange","change",null,c,p),a.push({event:c,listeners:o}))}var ji=null,Ai=null;function Pk(a){Og(a,0)}function Fl(a){var o=Rs(a);if(Re(o))return a}function Rk(a,o){if(a==="change")return o}var pg=!1;if(u){var ud;if(u){var cd="oninput"in document;if(!cd){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),cd=typeof hg.oninput=="function"}ud=cd}else ud=!1;pg=ud&&(!document.documentMode||9<document.documentMode)}function mg(){ji&&(ji.detachEvent("onpropertychange",gg),Ai=ji=null)}function gg(a){if(a.propertyName==="value"&&Fl(Ai)){var o=[];fg(o,Ai,a,La(a)),Si(Pk,o)}}function jk(a,o,c){a==="focusin"?(mg(),ji=o,Ai=c,ji.attachEvent("onpropertychange",gg)):a==="focusout"&&mg()}function Ak(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Fl(Ai)}function Dk(a,o){if(a==="click")return Fl(o)}function Mk(a,o){if(a==="input"||a==="change")return Fl(o)}function Lk(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var Wn=typeof Object.is=="function"?Object.is:Lk;function Di(a,o){if(Wn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var c=Object.keys(a),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var m=c[p];if(!f.call(o,m)||!Wn(a[m],o[m]))return!1}return!0}function yg(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function vg(a,o){var c=yg(a);a=0;for(var p;c;){if(c.nodeType===3){if(p=a+c.textContent.length,a<=o&&p>=o)return{node:c,offset:o-a};a=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=yg(c)}}function xg(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?xg(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function wg(){for(var a=window,o=rt();o instanceof a.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)a=o.contentWindow;else break;o=rt(a.document)}return o}function dd(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Fk(a){var o=wg(),c=a.focusedElem,p=a.selectionRange;if(o!==c&&c&&c.ownerDocument&&xg(c.ownerDocument.documentElement,c)){if(p!==null&&dd(c)){if(o=p.start,a=p.end,a===void 0&&(a=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(a,c.value.length);else if(a=(o=c.ownerDocument||document)&&o.defaultView||window,a.getSelection){a=a.getSelection();var m=c.textContent.length,b=Math.min(p.start,m);p=p.end===void 0?b:Math.min(p.end,m),!a.extend&&b>p&&(m=p,p=b,b=m),m=vg(c,b);var T=vg(c,p);m&&T&&(a.rangeCount!==1||a.anchorNode!==m.node||a.anchorOffset!==m.offset||a.focusNode!==T.node||a.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),a.removeAllRanges(),b>p?(a.addRange(o),a.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),a.addRange(o)))}}for(o=[],a=c;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)a=o[c],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var zk=u&&"documentMode"in document&&11>=document.documentMode,Is=null,fd=null,Mi=null,pd=!1;function bg(a,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;pd||Is==null||Is!==rt(p)||(p=Is,"selectionStart"in p&&dd(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Mi&&Di(Mi,p)||(Mi=p,p=Bl(fd,"onSelect"),0<p.length&&(o=new rd("onSelect","select",null,o,c),a.push({event:o,listeners:p}),o.target=Is)))}function zl(a,o){var c={};return c[a.toLowerCase()]=o.toLowerCase(),c["Webkit"+a]="webkit"+o,c["Moz"+a]="moz"+o,c}var Ns={animationend:zl("Animation","AnimationEnd"),animationiteration:zl("Animation","AnimationIteration"),animationstart:zl("Animation","AnimationStart"),transitionend:zl("Transition","TransitionEnd")},hd={},Sg={};u&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function $l(a){if(hd[a])return hd[a];if(!Ns[a])return a;var o=Ns[a],c;for(c in o)if(o.hasOwnProperty(c)&&c in Sg)return hd[a]=o[c];return a}var _g=$l("animationend"),kg=$l("animationiteration"),Cg=$l("animationstart"),Tg=$l("transitionend"),Eg=new Map,Ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(a,o){Eg.set(a,o),i(o,[a])}for(var md=0;md<Ig.length;md++){var gd=Ig[md],$k=gd.toLowerCase(),Uk=gd[0].toUpperCase()+gd.slice(1);ra($k,"on"+Uk)}ra(_g,"onAnimationEnd"),ra(kg,"onAnimationIteration"),ra(Cg,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(Tg,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Li));function Ng(a,o,c){var p=a.type||"unknown-event";a.currentTarget=c,$_(p,o,void 0,a),a.currentTarget=null}function Og(a,o){o=(o&4)!==0;for(var c=0;c<a.length;c++){var p=a[c],m=p.event;p=p.listeners;e:{var b=void 0;if(o)for(var T=p.length-1;0<=T;T--){var j=p[T],L=j.instance,H=j.currentTarget;if(j=j.listener,L!==b&&m.isPropagationStopped())break e;Ng(m,j,H),b=L}else for(T=0;T<p.length;T++){if(j=p[T],L=j.instance,H=j.currentTarget,j=j.listener,L!==b&&m.isPropagationStopped())break e;Ng(m,j,H),b=L}}}if(Fa)throw a=sn,Fa=!1,sn=null,a}function lt(a,o){var c=o[kd];c===void 0&&(c=o[kd]=new Set);var p=a+"__bubble";c.has(p)||(Pg(o,a,2,!1),c.add(p))}function yd(a,o,c){var p=0;o&&(p|=4),Pg(c,a,p,o)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function Fi(a){if(!a[Ul]){a[Ul]=!0,r.forEach(function(c){c!=="selectionchange"&&(Bk.has(c)||yd(c,!1,a),yd(c,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Ul]||(o[Ul]=!0,yd("selectionchange",!1,o))}}function Pg(a,o,c,p){switch(eg(o)){case 1:var m=nk;break;case 4:m=rk;break;default:m=ed}c=m.bind(null,o,c,a),m=void 0,!Ze||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),p?m!==void 0?a.addEventListener(o,c,{capture:!0,passive:m}):a.addEventListener(o,c,!0):m!==void 0?a.addEventListener(o,c,{passive:m}):a.addEventListener(o,c,!1)}function vd(a,o,c,p,m){var b=p;if(!(o&1)&&!(o&2)&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var j=p.stateNode.containerInfo;if(j===m||j.nodeType===8&&j.parentNode===m)break;if(T===4)for(T=p.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;j!==null;){if(T=$a(j),T===null)return;if(L=T.tag,L===5||L===6){p=b=T;continue e}j=j.parentNode}}p=p.return}Si(function(){var H=b,Y=La(c),X=[];e:{var G=Eg.get(a);if(G!==void 0){var pe=rd,ye=a;switch(a){case"keypress":if(Dl(c)===0)break e;case"keydown":case"keyup":pe=vk;break;case"focusin":ye="focus",pe=id;break;case"focusout":ye="blur",pe=id;break;case"beforeblur":case"afterblur":pe=id;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=rg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ik;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=bk;break;case _g:case kg:case Cg:pe=uk;break;case Tg:pe=_k;break;case"scroll":pe=ak;break;case"wheel":pe=Ck;break;case"copy":case"cut":case"paste":pe=dk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=sg}var ve=(o&4)!==0,Et=!ve&&a==="scroll",z=ve?G!==null?G+"Capture":null:G;ve=[];for(var F=H,U;F!==null;){U=F;var se=U.stateNode;if(U.tag===5&&se!==null&&(U=se,z!==null&&(se=Or(F,z),se!=null&&ve.push(zi(F,se,U)))),Et)break;F=F.return}0<ve.length&&(G=new pe(G,ye,null,c,Y),X.push({event:G,listeners:ve}))}}if(!(o&7)){e:{if(G=a==="mouseover"||a==="pointerover",pe=a==="mouseout"||a==="pointerout",G&&c!==St&&(ye=c.relatedTarget||c.fromElement)&&($a(ye)||ye[Pr]))break e;if((pe||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,pe?(ye=c.relatedTarget||c.toElement,pe=H,ye=ye?$a(ye):null,ye!==null&&(Et=za(ye),ye!==Et||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=H),pe!==ye)){if(ve=rg,se="onMouseLeave",z="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(ve=sg,se="onPointerLeave",z="onPointerEnter",F="pointer"),Et=pe==null?G:Rs(pe),U=ye==null?G:Rs(ye),G=new ve(se,F+"leave",pe,c,Y),G.target=Et,G.relatedTarget=U,se=null,$a(Y)===H&&(ve=new ve(z,F+"enter",ye,c,Y),ve.target=U,ve.relatedTarget=Et,se=ve),Et=se,pe&&ye)t:{for(ve=pe,z=ye,F=0,U=ve;U;U=Os(U))F++;for(U=0,se=z;se;se=Os(se))U++;for(;0<F-U;)ve=Os(ve),F--;for(;0<U-F;)z=Os(z),U--;for(;F--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=Os(ve),z=Os(z)}ve=null}else ve=null;pe!==null&&Rg(X,G,pe,ve,!1),ye!==null&&Et!==null&&Rg(X,Et,ye,ve,!0)}}e:{if(G=H?Rs(H):window,pe=G.nodeName&&G.nodeName.toLowerCase(),pe==="select"||pe==="input"&&G.type==="file")var we=Rk;else if(dg(G))if(pg)we=Mk;else{we=Ak;var Te=jk}else(pe=G.nodeName)&&pe.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(we=Dk);if(we&&(we=we(a,H))){fg(X,we,c,Y);break e}Te&&Te(a,G,H),a==="focusout"&&(Te=G._wrapperState)&&Te.controlled&&G.type==="number"&&Bn(G,"number",G.value)}switch(Te=H?Rs(H):window,a){case"focusin":(dg(Te)||Te.contentEditable==="true")&&(Is=Te,fd=H,Mi=null);break;case"focusout":Mi=fd=Is=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,bg(X,c,Y);break;case"selectionchange":if(zk)break;case"keydown":case"keyup":bg(X,c,Y)}var Ee;if(ld)e:{switch(a){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Es?ug(a,c)&&(Ne="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Ne="onCompositionStart");Ne&&(ig&&c.locale!=="ko"&&(Es||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Es&&(Ee=tg()):(na=Y,nd="value"in na?na.value:na.textContent,Es=!0)),Te=Bl(H,Ne),0<Te.length&&(Ne=new ag(Ne,a,null,c,Y),X.push({event:Ne,listeners:Te}),Ee?Ne.data=Ee:(Ee=cg(c),Ee!==null&&(Ne.data=Ee)))),(Ee=Ek?Ik(a,c):Nk(a,c))&&(H=Bl(H,"onBeforeInput"),0<H.length&&(Y=new ag("onBeforeInput","beforeinput",null,c,Y),X.push({event:Y,listeners:H}),Y.data=Ee))}Og(X,o)})}function zi(a,o,c){return{instance:a,listener:o,currentTarget:c}}function Bl(a,o){for(var c=o+"Capture",p=[];a!==null;){var m=a,b=m.stateNode;m.tag===5&&b!==null&&(m=b,b=Or(a,c),b!=null&&p.unshift(zi(a,b,m)),b=Or(a,o),b!=null&&p.push(zi(a,b,m))),a=a.return}return p}function Os(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Rg(a,o,c,p,m){for(var b=o._reactName,T=[];c!==null&&c!==p;){var j=c,L=j.alternate,H=j.stateNode;if(L!==null&&L===p)break;j.tag===5&&H!==null&&(j=H,m?(L=Or(c,b),L!=null&&T.unshift(zi(c,L,j))):m||(L=Or(c,b),L!=null&&T.push(zi(c,L,j)))),c=c.return}T.length!==0&&a.push({event:o,listeners:T})}var Hk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function jg(a){return(typeof a=="string"?a:""+a).replace(Hk,`
`).replace(qk,"")}function Hl(a,o,c){if(o=jg(o),jg(a)!==o&&c)throw Error(n(425))}function ql(){}var xd=null,wd=null;function bd(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Sd=typeof setTimeout=="function"?setTimeout:void 0,Vk=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,Wk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(a){return Ag.resolve(null).then(a).catch(Zk)}:Sd;function Zk(a){setTimeout(function(){throw a})}function _d(a,o){var c=o,p=0;do{var m=c.nextSibling;if(a.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(p===0){a.removeChild(m),Ni(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=m}while(c);Ni(o)}function aa(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function Dg(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return a;o--}else c==="/$"&&o++}a=a.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),or="__reactFiber$"+Ps,$i="__reactProps$"+Ps,Pr="__reactContainer$"+Ps,kd="__reactEvents$"+Ps,Jk="__reactListeners$"+Ps,Gk="__reactHandles$"+Ps;function $a(a){var o=a[or];if(o)return o;for(var c=a.parentNode;c;){if(o=c[Pr]||c[or]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(a=Dg(a);a!==null;){if(c=a[or])return c;a=Dg(a)}return o}a=c,c=a.parentNode}return null}function Ui(a){return a=a[or]||a[Pr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Rs(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Vl(a){return a[$i]||null}var Cd=[],js=-1;function sa(a){return{current:a}}function ut(a){0>js||(a.current=Cd[js],Cd[js]=null,js--)}function at(a,o){js++,Cd[js]=a.current,a.current=o}var ia={},Ht=sa(ia),on=sa(!1),Ua=ia;function As(a,o){var c=a.type.contextTypes;if(!c)return ia;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var m={},b;for(b in c)m[b]=o[b];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=m),m}function ln(a){return a=a.childContextTypes,a!=null}function Wl(){ut(on),ut(Ht)}function Mg(a,o,c){if(Ht.current!==ia)throw Error(n(168));at(Ht,o),at(on,c)}function Lg(a,o,c){var p=a.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var m in p)if(!(m in o))throw Error(n(108,$e(a)||"Unknown",m));return N({},c,p)}function Zl(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ia,Ua=Ht.current,at(Ht,a),at(on,on.current),!0}function Fg(a,o,c){var p=a.stateNode;if(!p)throw Error(n(169));c?(a=Lg(a,o,Ua),p.__reactInternalMemoizedMergedChildContext=a,ut(on),ut(Ht),at(Ht,a)):ut(on),at(on,c)}var Rr=null,Jl=!1,Td=!1;function zg(a){Rr===null?Rr=[a]:Rr.push(a)}function Yk(a){Jl=!0,zg(a)}function oa(){if(!Td&&Rr!==null){Td=!0;var a=0,o=tt;try{var c=Rr;for(tt=1;a<c.length;a++){var p=c[a];do p=p(!0);while(p!==null)}Rr=null,Jl=!1}catch(m){throw Rr!==null&&(Rr=Rr.slice(a+1)),Um(Jc,oa),m}finally{tt=o,Td=!1}}return null}var Ds=[],Ms=0,Gl=null,Yl=0,Nn=[],On=0,Ba=null,jr=1,Ar="";function Ha(a,o){Ds[Ms++]=Yl,Ds[Ms++]=Gl,Gl=a,Yl=o}function $g(a,o,c){Nn[On++]=jr,Nn[On++]=Ar,Nn[On++]=Ba,Ba=a;var p=jr;a=Ar;var m=32-Vn(p)-1;p&=~(1<<m),c+=1;var b=32-Vn(o)+m;if(30<b){var T=m-m%5;b=(p&(1<<T)-1).toString(32),p>>=T,m-=T,jr=1<<32-Vn(o)+m|c<<m|p,Ar=b+a}else jr=1<<b|c<<m|p,Ar=a}function Ed(a){a.return!==null&&(Ha(a,1),$g(a,1,0))}function Id(a){for(;a===Gl;)Gl=Ds[--Ms],Ds[Ms]=null,Yl=Ds[--Ms],Ds[Ms]=null;for(;a===Ba;)Ba=Nn[--On],Nn[On]=null,Ar=Nn[--On],Nn[On]=null,jr=Nn[--On],Nn[On]=null}var yn=null,vn=null,mt=!1,Zn=null;function Ug(a,o){var c=An(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=a,o=a.deletions,o===null?(a.deletions=[c],a.flags|=16):o.push(c)}function Bg(a,o){switch(a.tag){case 5:var c=a.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(a.stateNode=o,yn=a,vn=aa(o.firstChild),!0):!1;case 6:return o=a.pendingProps===""||o.nodeType!==3?null:o,o!==null?(a.stateNode=o,yn=a,vn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Ba!==null?{id:jr,overflow:Ar}:null,a.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=An(18,null,null,0),c.stateNode=o,c.return=a,a.child=c,yn=a,vn=null,!0):!1;default:return!1}}function Nd(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Od(a){if(mt){var o=vn;if(o){var c=o;if(!Bg(a,o)){if(Nd(a))throw Error(n(418));o=aa(c.nextSibling);var p=yn;o&&Bg(a,o)?Ug(p,c):(a.flags=a.flags&-4097|2,mt=!1,yn=a)}}else{if(Nd(a))throw Error(n(418));a.flags=a.flags&-4097|2,mt=!1,yn=a}}}function Hg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;yn=a}function Kl(a){if(a!==yn)return!1;if(!mt)return Hg(a),mt=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=a.type,o=o!=="head"&&o!=="body"&&!bd(a.type,a.memoizedProps)),o&&(o=vn)){if(Nd(a))throw qg(),Error(n(418));for(;o;)Ug(a,o),o=aa(o.nextSibling)}if(Hg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"){if(o===0){vn=aa(a.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}a=a.nextSibling}vn=null}}else vn=yn?aa(a.stateNode.nextSibling):null;return!0}function qg(){for(var a=vn;a;)a=aa(a.nextSibling)}function Ls(){vn=yn=null,mt=!1}function Pd(a){Zn===null?Zn=[a]:Zn.push(a)}var Kk=P.ReactCurrentBatchConfig;function Bi(a,o,c){if(a=c.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var p=c.stateNode}if(!p)throw Error(n(147,a));var m=p,b=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(T){var j=m.refs;T===null?delete j[b]:j[b]=T},o._stringRef=b,o)}if(typeof a!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,a))}return a}function Xl(a,o){throw a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function Vg(a){var o=a._init;return o(a._payload)}function Wg(a){function o(z,F){if(a){var U=z.deletions;U===null?(z.deletions=[F],z.flags|=16):U.push(F)}}function c(z,F){if(!a)return null;for(;F!==null;)o(z,F),F=F.sibling;return null}function p(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(z,F){return z=ma(z,F),z.index=0,z.sibling=null,z}function b(z,F,U){return z.index=U,a?(U=z.alternate,U!==null?(U=U.index,U<F?(z.flags|=2,F):U):(z.flags|=2,F)):(z.flags|=1048576,F)}function T(z){return a&&z.alternate===null&&(z.flags|=2),z}function j(z,F,U,se){return F===null||F.tag!==6?(F=_f(U,z.mode,se),F.return=z,F):(F=m(F,U),F.return=z,F)}function L(z,F,U,se){var we=U.type;return we===$?Y(z,F,U.props.children,se,U.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ie&&Vg(we)===F.type)?(se=m(F,U.props),se.ref=Bi(z,F,U),se.return=z,se):(se=Su(U.type,U.key,U.props,null,z.mode,se),se.ref=Bi(z,F,U),se.return=z,se)}function H(z,F,U,se){return F===null||F.tag!==4||F.stateNode.containerInfo!==U.containerInfo||F.stateNode.implementation!==U.implementation?(F=kf(U,z.mode,se),F.return=z,F):(F=m(F,U.children||[]),F.return=z,F)}function Y(z,F,U,se,we){return F===null||F.tag!==7?(F=Ka(U,z.mode,se,we),F.return=z,F):(F=m(F,U),F.return=z,F)}function X(z,F,U){if(typeof F=="string"&&F!==""||typeof F=="number")return F=_f(""+F,z.mode,U),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return U=Su(F.type,F.key,F.props,null,z.mode,U),U.ref=Bi(z,null,F),U.return=z,U;case A:return F=kf(F,z.mode,U),F.return=z,F;case ie:var se=F._init;return X(z,se(F._payload),U)}if(sr(F)||Z(F))return F=Ka(F,z.mode,U,null),F.return=z,F;Xl(z,F)}return null}function G(z,F,U,se){var we=F!==null?F.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return we!==null?null:j(z,F,""+U,se);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===we?L(z,F,U,se):null;case A:return U.key===we?H(z,F,U,se):null;case ie:return we=U._init,G(z,F,we(U._payload),se)}if(sr(U)||Z(U))return we!==null?null:Y(z,F,U,se,null);Xl(z,U)}return null}function pe(z,F,U,se,we){if(typeof se=="string"&&se!==""||typeof se=="number")return z=z.get(U)||null,j(F,z,""+se,we);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case D:return z=z.get(se.key===null?U:se.key)||null,L(F,z,se,we);case A:return z=z.get(se.key===null?U:se.key)||null,H(F,z,se,we);case ie:var Te=se._init;return pe(z,F,U,Te(se._payload),we)}if(sr(se)||Z(se))return z=z.get(U)||null,Y(F,z,se,we,null);Xl(F,se)}return null}function ye(z,F,U,se){for(var we=null,Te=null,Ee=F,Ne=F=0,Mt=null;Ee!==null&&Ne<U.length;Ne++){Ee.index>Ne?(Mt=Ee,Ee=null):Mt=Ee.sibling;var Ke=G(z,Ee,U[Ne],se);if(Ke===null){Ee===null&&(Ee=Mt);break}a&&Ee&&Ke.alternate===null&&o(z,Ee),F=b(Ke,F,Ne),Te===null?we=Ke:Te.sibling=Ke,Te=Ke,Ee=Mt}if(Ne===U.length)return c(z,Ee),mt&&Ha(z,Ne),we;if(Ee===null){for(;Ne<U.length;Ne++)Ee=X(z,U[Ne],se),Ee!==null&&(F=b(Ee,F,Ne),Te===null?we=Ee:Te.sibling=Ee,Te=Ee);return mt&&Ha(z,Ne),we}for(Ee=p(z,Ee);Ne<U.length;Ne++)Mt=pe(Ee,z,Ne,U[Ne],se),Mt!==null&&(a&&Mt.alternate!==null&&Ee.delete(Mt.key===null?Ne:Mt.key),F=b(Mt,F,Ne),Te===null?we=Mt:Te.sibling=Mt,Te=Mt);return a&&Ee.forEach(function(ga){return o(z,ga)}),mt&&Ha(z,Ne),we}function ve(z,F,U,se){var we=Z(U);if(typeof we!="function")throw Error(n(150));if(U=we.call(U),U==null)throw Error(n(151));for(var Te=we=null,Ee=F,Ne=F=0,Mt=null,Ke=U.next();Ee!==null&&!Ke.done;Ne++,Ke=U.next()){Ee.index>Ne?(Mt=Ee,Ee=null):Mt=Ee.sibling;var ga=G(z,Ee,Ke.value,se);if(ga===null){Ee===null&&(Ee=Mt);break}a&&Ee&&ga.alternate===null&&o(z,Ee),F=b(ga,F,Ne),Te===null?we=ga:Te.sibling=ga,Te=ga,Ee=Mt}if(Ke.done)return c(z,Ee),mt&&Ha(z,Ne),we;if(Ee===null){for(;!Ke.done;Ne++,Ke=U.next())Ke=X(z,Ke.value,se),Ke!==null&&(F=b(Ke,F,Ne),Te===null?we=Ke:Te.sibling=Ke,Te=Ke);return mt&&Ha(z,Ne),we}for(Ee=p(z,Ee);!Ke.done;Ne++,Ke=U.next())Ke=pe(Ee,z,Ne,Ke.value,se),Ke!==null&&(a&&Ke.alternate!==null&&Ee.delete(Ke.key===null?Ne:Ke.key),F=b(Ke,F,Ne),Te===null?we=Ke:Te.sibling=Ke,Te=Ke);return a&&Ee.forEach(function(O2){return o(z,O2)}),mt&&Ha(z,Ne),we}function Et(z,F,U,se){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:e:{for(var we=U.key,Te=F;Te!==null;){if(Te.key===we){if(we=U.type,we===$){if(Te.tag===7){c(z,Te.sibling),F=m(Te,U.props.children),F.return=z,z=F;break e}}else if(Te.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ie&&Vg(we)===Te.type){c(z,Te.sibling),F=m(Te,U.props),F.ref=Bi(z,Te,U),F.return=z,z=F;break e}c(z,Te);break}else o(z,Te);Te=Te.sibling}U.type===$?(F=Ka(U.props.children,z.mode,se,U.key),F.return=z,z=F):(se=Su(U.type,U.key,U.props,null,z.mode,se),se.ref=Bi(z,F,U),se.return=z,z=se)}return T(z);case A:e:{for(Te=U.key;F!==null;){if(F.key===Te)if(F.tag===4&&F.stateNode.containerInfo===U.containerInfo&&F.stateNode.implementation===U.implementation){c(z,F.sibling),F=m(F,U.children||[]),F.return=z,z=F;break e}else{c(z,F);break}else o(z,F);F=F.sibling}F=kf(U,z.mode,se),F.return=z,z=F}return T(z);case ie:return Te=U._init,Et(z,F,Te(U._payload),se)}if(sr(U))return ye(z,F,U,se);if(Z(U))return ve(z,F,U,se);Xl(z,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,F!==null&&F.tag===6?(c(z,F.sibling),F=m(F,U),F.return=z,z=F):(c(z,F),F=_f(U,z.mode,se),F.return=z,z=F),T(z)):c(z,F)}return Et}var Fs=Wg(!0),Zg=Wg(!1),Ql=sa(null),eu=null,zs=null,Rd=null;function jd(){Rd=zs=eu=null}function Ad(a){var o=Ql.current;ut(Ql),a._currentValue=o}function Dd(a,o,c){for(;a!==null;){var p=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),a===c)break;a=a.return}}function $s(a,o){eu=a,Rd=zs=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&o&&(un=!0),a.firstContext=null)}function Pn(a){var o=a._currentValue;if(Rd!==a)if(a={context:a,memoizedValue:o,next:null},zs===null){if(eu===null)throw Error(n(308));zs=a,eu.dependencies={lanes:0,firstContext:a}}else zs=zs.next=a;return o}var qa=null;function Md(a){qa===null?qa=[a]:qa.push(a)}function Jg(a,o,c,p){var m=o.interleaved;return m===null?(c.next=c,Md(o)):(c.next=m.next,m.next=c),o.interleaved=c,Dr(a,p)}function Dr(a,o){a.lanes|=o;var c=a.alternate;for(c!==null&&(c.lanes|=o),c=a,a=a.return;a!==null;)a.childLanes|=o,c=a.alternate,c!==null&&(c.childLanes|=o),c=a,a=a.return;return c.tag===3?c.stateNode:null}var la=!1;function Ld(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gg(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Mr(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function ua(a,o,c){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,Ye&2){var m=p.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),p.pending=o,Dr(a,c)}return m=p.interleaved,m===null?(o.next=o,Md(p)):(o.next=m.next,m.next=o),p.interleaved=o,Dr(a,c)}function tu(a,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=a.pendingLanes,c|=p,o.lanes=c,Kc(a,c)}}function Yg(a,o){var c=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};b===null?m=b=T:b=b.next=T,c=c.next}while(c!==null);b===null?m=b=o:b=b.next=o}else m=b=o;c={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:p.shared,effects:p.effects},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=o:a.next=o,c.lastBaseUpdate=o}function nu(a,o,c,p){var m=a.updateQueue;la=!1;var b=m.firstBaseUpdate,T=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var L=j,H=L.next;L.next=null,T===null?b=H:T.next=H,T=L;var Y=a.alternate;Y!==null&&(Y=Y.updateQueue,j=Y.lastBaseUpdate,j!==T&&(j===null?Y.firstBaseUpdate=H:j.next=H,Y.lastBaseUpdate=L))}if(b!==null){var X=m.baseState;T=0,Y=H=L=null,j=b;do{var G=j.lane,pe=j.eventTime;if((p&G)===G){Y!==null&&(Y=Y.next={eventTime:pe,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var ye=a,ve=j;switch(G=o,pe=c,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){X=ye.call(pe,X,G);break e}X=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,G=typeof ye=="function"?ye.call(pe,X,G):ye,G==null)break e;X=N({},X,G);break e;case 2:la=!0}}j.callback!==null&&j.lane!==0&&(a.flags|=64,G=m.effects,G===null?m.effects=[j]:G.push(j))}else pe={eventTime:pe,lane:G,tag:j.tag,payload:j.payload,callback:j.callback,next:null},Y===null?(H=Y=pe,L=X):Y=Y.next=pe,T|=G;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;G=j,j=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);if(Y===null&&(L=X),m.baseState=L,m.firstBaseUpdate=H,m.lastBaseUpdate=Y,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else b===null&&(m.shared.lanes=0);Za|=T,a.lanes=T,a.memoizedState=X}}function Kg(a,o,c){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var p=a[o],m=p.callback;if(m!==null){if(p.callback=null,p=c,typeof m!="function")throw Error(n(191,m));m.call(p)}}}var Hi={},lr=sa(Hi),qi=sa(Hi),Vi=sa(Hi);function Va(a){if(a===Hi)throw Error(n(174));return a}function Fd(a,o){switch(at(Vi,o),at(qi,a),at(lr,Hi),a=o.nodeType,a){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ue(null,"");break;default:a=a===8?o.parentNode:o,o=a.namespaceURI||null,a=a.tagName,o=ue(o,a)}ut(lr),at(lr,o)}function Us(){ut(lr),ut(qi),ut(Vi)}function Xg(a){Va(Vi.current);var o=Va(lr.current),c=ue(o,a.type);o!==c&&(at(qi,a),at(lr,c))}function zd(a){qi.current===a&&(ut(lr),ut(qi))}var gt=sa(0);function ru(a){for(var o=a;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var $d=[];function Ud(){for(var a=0;a<$d.length;a++)$d[a]._workInProgressVersionPrimary=null;$d.length=0}var au=P.ReactCurrentDispatcher,Bd=P.ReactCurrentBatchConfig,Wa=0,yt=null,Pt=null,At=null,su=!1,Wi=!1,Zi=0,Xk=0;function qt(){throw Error(n(321))}function Hd(a,o){if(o===null)return!1;for(var c=0;c<o.length&&c<a.length;c++)if(!Wn(a[c],o[c]))return!1;return!0}function qd(a,o,c,p,m,b){if(Wa=b,yt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,au.current=a===null||a.memoizedState===null?n2:r2,a=c(p,m),Wi){b=0;do{if(Wi=!1,Zi=0,25<=b)throw Error(n(301));b+=1,At=Pt=null,o.updateQueue=null,au.current=a2,a=c(p,m)}while(Wi)}if(au.current=lu,o=Pt!==null&&Pt.next!==null,Wa=0,At=Pt=yt=null,su=!1,o)throw Error(n(300));return a}function Vd(){var a=Zi!==0;return Zi=0,a}function ur(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?yt.memoizedState=At=a:At=At.next=a,At}function Rn(){if(Pt===null){var a=yt.alternate;a=a!==null?a.memoizedState:null}else a=Pt.next;var o=At===null?yt.memoizedState:At.next;if(o!==null)At=o,Pt=a;else{if(a===null)throw Error(n(310));Pt=a,a={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},At===null?yt.memoizedState=At=a:At=At.next=a}return At}function Ji(a,o){return typeof o=="function"?o(a):o}function Wd(a){var o=Rn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=Pt,m=p.baseQueue,b=c.pending;if(b!==null){if(m!==null){var T=m.next;m.next=b.next,b.next=T}p.baseQueue=m=b,c.pending=null}if(m!==null){b=m.next,p=p.baseState;var j=T=null,L=null,H=b;do{var Y=H.lane;if((Wa&Y)===Y)L!==null&&(L=L.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),p=H.hasEagerState?H.eagerState:a(p,H.action);else{var X={lane:Y,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};L===null?(j=L=X,T=p):L=L.next=X,yt.lanes|=Y,Za|=Y}H=H.next}while(H!==null&&H!==b);L===null?T=p:L.next=j,Wn(p,o.memoizedState)||(un=!0),o.memoizedState=p,o.baseState=T,o.baseQueue=L,c.lastRenderedState=p}if(a=c.interleaved,a!==null){m=a;do b=m.lane,yt.lanes|=b,Za|=b,m=m.next;while(m!==a)}else m===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Zd(a){var o=Rn(),c=o.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var p=c.dispatch,m=c.pending,b=o.memoizedState;if(m!==null){c.pending=null;var T=m=m.next;do b=a(b,T.action),T=T.next;while(T!==m);Wn(b,o.memoizedState)||(un=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),c.lastRenderedState=b}return[b,p]}function Qg(){}function ey(a,o){var c=yt,p=Rn(),m=o(),b=!Wn(p.memoizedState,m);if(b&&(p.memoizedState=m,un=!0),p=p.queue,Jd(ry.bind(null,c,p,a),[a]),p.getSnapshot!==o||b||At!==null&&At.memoizedState.tag&1){if(c.flags|=2048,Gi(9,ny.bind(null,c,p,m,o),void 0,null),Dt===null)throw Error(n(349));Wa&30||ty(c,o,m)}return m}function ty(a,o,c){a.flags|=16384,a={getSnapshot:o,value:c},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.stores=[a]):(c=o.stores,c===null?o.stores=[a]:c.push(a))}function ny(a,o,c,p){o.value=c,o.getSnapshot=p,ay(o)&&sy(a)}function ry(a,o,c){return c(function(){ay(o)&&sy(a)})}function ay(a){var o=a.getSnapshot;a=a.value;try{var c=o();return!Wn(a,c)}catch{return!0}}function sy(a){var o=Dr(a,1);o!==null&&Kn(o,a,1,-1)}function iy(a){var o=ur();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},o.queue=a,a=a.dispatch=t2.bind(null,yt,a),[o.memoizedState,a]}function Gi(a,o,c,p){return a={tag:a,create:o,destroy:c,deps:p,next:null},o=yt.updateQueue,o===null?(o={lastEffect:null,stores:null},yt.updateQueue=o,o.lastEffect=a.next=a):(c=o.lastEffect,c===null?o.lastEffect=a.next=a:(p=c.next,c.next=a,a.next=p,o.lastEffect=a)),a}function oy(){return Rn().memoizedState}function iu(a,o,c,p){var m=ur();yt.flags|=a,m.memoizedState=Gi(1|o,c,void 0,p===void 0?null:p)}function ou(a,o,c,p){var m=Rn();p=p===void 0?null:p;var b=void 0;if(Pt!==null){var T=Pt.memoizedState;if(b=T.destroy,p!==null&&Hd(p,T.deps)){m.memoizedState=Gi(o,c,b,p);return}}yt.flags|=a,m.memoizedState=Gi(1|o,c,b,p)}function ly(a,o){return iu(8390656,8,a,o)}function Jd(a,o){return ou(2048,8,a,o)}function uy(a,o){return ou(4,2,a,o)}function cy(a,o){return ou(4,4,a,o)}function dy(a,o){if(typeof o=="function")return a=a(),o(a),function(){o(null)};if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function fy(a,o,c){return c=c!=null?c.concat([a]):null,ou(4,4,dy.bind(null,o,a),c)}function Gd(){}function py(a,o){var c=Rn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Hd(o,p[1])?p[0]:(c.memoizedState=[a,o],a)}function hy(a,o){var c=Rn();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&Hd(o,p[1])?p[0]:(a=a(),c.memoizedState=[a,o],a)}function my(a,o,c){return Wa&21?(Wn(c,o)||(c=Vm(),yt.lanes|=c,Za|=c,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,un=!0),a.memoizedState=c)}function Qk(a,o){var c=tt;tt=c!==0&&4>c?c:4,a(!0);var p=Bd.transition;Bd.transition={};try{a(!1),o()}finally{tt=c,Bd.transition=p}}function gy(){return Rn().memoizedState}function e2(a,o,c){var p=pa(a);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},yy(a))vy(o,c);else if(c=Jg(a,o,c,p),c!==null){var m=Qt();Kn(c,a,p,m),xy(c,o,p)}}function t2(a,o,c){var p=pa(a),m={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(yy(a))vy(o,m);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var T=o.lastRenderedState,j=b(T,c);if(m.hasEagerState=!0,m.eagerState=j,Wn(j,T)){var L=o.interleaved;L===null?(m.next=m,Md(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}c=Jg(a,o,m,p),c!==null&&(m=Qt(),Kn(c,a,p,m),xy(c,o,p))}}function yy(a){var o=a.alternate;return a===yt||o!==null&&o===yt}function vy(a,o){Wi=su=!0;var c=a.pending;c===null?o.next=o:(o.next=c.next,c.next=o),a.pending=o}function xy(a,o,c){if(c&4194240){var p=o.lanes;p&=a.pendingLanes,c|=p,o.lanes=c,Kc(a,c)}}var lu={readContext:Pn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},n2={readContext:Pn,useCallback:function(a,o){return ur().memoizedState=[a,o===void 0?null:o],a},useContext:Pn,useEffect:ly,useImperativeHandle:function(a,o,c){return c=c!=null?c.concat([a]):null,iu(4194308,4,dy.bind(null,o,a),c)},useLayoutEffect:function(a,o){return iu(4194308,4,a,o)},useInsertionEffect:function(a,o){return iu(4,2,a,o)},useMemo:function(a,o){var c=ur();return o=o===void 0?null:o,a=a(),c.memoizedState=[a,o],a},useReducer:function(a,o,c){var p=ur();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},p.queue=a,a=a.dispatch=e2.bind(null,yt,a),[p.memoizedState,a]},useRef:function(a){var o=ur();return a={current:a},o.memoizedState=a},useState:iy,useDebugValue:Gd,useDeferredValue:function(a){return ur().memoizedState=a},useTransition:function(){var a=iy(!1),o=a[0];return a=Qk.bind(null,a[1]),ur().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,c){var p=yt,m=ur();if(mt){if(c===void 0)throw Error(n(407));c=c()}else{if(c=o(),Dt===null)throw Error(n(349));Wa&30||ty(p,o,c)}m.memoizedState=c;var b={value:c,getSnapshot:o};return m.queue=b,ly(ry.bind(null,p,b,a),[a]),p.flags|=2048,Gi(9,ny.bind(null,p,b,c,o),void 0,null),c},useId:function(){var a=ur(),o=Dt.identifierPrefix;if(mt){var c=Ar,p=jr;c=(p&~(1<<32-Vn(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=Zi++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=Xk++,o=":"+o+"r"+c.toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},r2={readContext:Pn,useCallback:py,useContext:Pn,useEffect:Jd,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:hy,useReducer:Wd,useRef:oy,useState:function(){return Wd(Ji)},useDebugValue:Gd,useDeferredValue:function(a){var o=Rn();return my(o,Pt.memoizedState,a)},useTransition:function(){var a=Wd(Ji)[0],o=Rn().memoizedState;return[a,o]},useMutableSource:Qg,useSyncExternalStore:ey,useId:gy,unstable_isNewReconciler:!1},a2={readContext:Pn,useCallback:py,useContext:Pn,useEffect:Jd,useImperativeHandle:fy,useInsertionEffect:uy,useLayoutEffect:cy,useMemo:hy,useReducer:Zd,useRef:oy,useState:function(){return Zd(Ji)},useDebugValue:Gd,useDeferredValue:function(a){var o=Rn();return Pt===null?o.memoizedState=a:my(o,Pt.memoizedState,a)},useTransition:function(){var a=Zd(Ji)[0],o=Rn().memoizedState;return[a,o]},useMutableSource:Qg,useSyncExternalStore:ey,useId:gy,unstable_isNewReconciler:!1};function Jn(a,o){if(a&&a.defaultProps){o=N({},o),a=a.defaultProps;for(var c in a)o[c]===void 0&&(o[c]=a[c]);return o}return o}function Yd(a,o,c,p){o=a.memoizedState,c=c(p,o),c=c==null?o:N({},o,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var uu={isMounted:function(a){return(a=a._reactInternals)?za(a)===a:!1},enqueueSetState:function(a,o,c){a=a._reactInternals;var p=Qt(),m=pa(a),b=Mr(p,m);b.payload=o,c!=null&&(b.callback=c),o=ua(a,b,m),o!==null&&(Kn(o,a,m,p),tu(o,a,m))},enqueueReplaceState:function(a,o,c){a=a._reactInternals;var p=Qt(),m=pa(a),b=Mr(p,m);b.tag=1,b.payload=o,c!=null&&(b.callback=c),o=ua(a,b,m),o!==null&&(Kn(o,a,m,p),tu(o,a,m))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var c=Qt(),p=pa(a),m=Mr(c,p);m.tag=2,o!=null&&(m.callback=o),o=ua(a,m,p),o!==null&&(Kn(o,a,p,c),tu(o,a,p))}};function wy(a,o,c,p,m,b,T){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,b,T):o.prototype&&o.prototype.isPureReactComponent?!Di(c,p)||!Di(m,b):!0}function by(a,o,c){var p=!1,m=ia,b=o.contextType;return typeof b=="object"&&b!==null?b=Pn(b):(m=ln(o)?Ua:Ht.current,p=o.contextTypes,b=(p=p!=null)?As(a,m):ia),o=new o(c,b),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=uu,a.stateNode=o,o._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=m,a.__reactInternalMemoizedMaskedChildContext=b),o}function Sy(a,o,c,p){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==a&&uu.enqueueReplaceState(o,o.state,null)}function Kd(a,o,c,p){var m=a.stateNode;m.props=c,m.state=a.memoizedState,m.refs={},Ld(a);var b=o.contextType;typeof b=="object"&&b!==null?m.context=Pn(b):(b=ln(o)?Ua:Ht.current,m.context=As(a,b)),m.state=a.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Yd(a,o,b,c),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&uu.enqueueReplaceState(m,m.state,null),nu(a,c,m,p),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308)}function Bs(a,o){try{var c="",p=o;do c+=xe(p),p=p.return;while(p);var m=c}catch(b){m=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:o,stack:m,digest:null}}function Xd(a,o,c){return{value:a,source:null,stack:c??null,digest:o??null}}function Qd(a,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var s2=typeof WeakMap=="function"?WeakMap:Map;function _y(a,o,c){c=Mr(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){gu||(gu=!0,mf=p),Qd(a,o)},c}function ky(a,o,c){c=Mr(-1,c),c.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var m=o.value;c.payload=function(){return p(m)},c.callback=function(){Qd(a,o)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(c.callback=function(){Qd(a,o),typeof p!="function"&&(da===null?da=new Set([this]):da.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),c}function Cy(a,o,c){var p=a.pingCache;if(p===null){p=a.pingCache=new s2;var m=new Set;p.set(o,m)}else m=p.get(o),m===void 0&&(m=new Set,p.set(o,m));m.has(c)||(m.add(c),a=x2.bind(null,a,o,c),o.then(a,a))}function Ty(a){do{var o;if((o=a.tag===13)&&(o=a.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return a;a=a.return}while(a!==null);return null}function Ey(a,o,c,p,m){return a.mode&1?(a.flags|=65536,a.lanes=m,a):(a===o?a.flags|=65536:(a.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Mr(-1,1),o.tag=2,ua(c,o,1))),c.lanes|=1),a)}var i2=P.ReactCurrentOwner,un=!1;function Xt(a,o,c,p){o.child=a===null?Zg(o,null,c,p):Fs(o,a.child,c,p)}function Iy(a,o,c,p,m){c=c.render;var b=o.ref;return $s(o,m),p=qd(a,o,c,p,b,m),c=Vd(),a!==null&&!un?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~m,Lr(a,o,m)):(mt&&c&&Ed(o),o.flags|=1,Xt(a,o,p,m),o.child)}function Ny(a,o,c,p,m){if(a===null){var b=c.type;return typeof b=="function"&&!Sf(b)&&b.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=b,Oy(a,o,b,p,m)):(a=Su(c.type,null,p,o,o.mode,m),a.ref=o.ref,a.return=o,o.child=a)}if(b=a.child,!(a.lanes&m)){var T=b.memoizedProps;if(c=c.compare,c=c!==null?c:Di,c(T,p)&&a.ref===o.ref)return Lr(a,o,m)}return o.flags|=1,a=ma(b,p),a.ref=o.ref,a.return=o,o.child=a}function Oy(a,o,c,p,m){if(a!==null){var b=a.memoizedProps;if(Di(b,p)&&a.ref===o.ref)if(un=!1,o.pendingProps=p=b,(a.lanes&m)!==0)a.flags&131072&&(un=!0);else return o.lanes=a.lanes,Lr(a,o,m)}return ef(a,o,c,p,m)}function Py(a,o,c){var p=o.pendingProps,m=p.children,b=a!==null?a.memoizedState:null;if(p.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(qs,xn),xn|=c;else{if(!(c&1073741824))return a=b!==null?b.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,at(qs,xn),xn|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=b!==null?b.baseLanes:c,at(qs,xn),xn|=p}else b!==null?(p=b.baseLanes|c,o.memoizedState=null):p=c,at(qs,xn),xn|=p;return Xt(a,o,m,c),o.child}function Ry(a,o){var c=o.ref;(a===null&&c!==null||a!==null&&a.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function ef(a,o,c,p,m){var b=ln(c)?Ua:Ht.current;return b=As(o,b),$s(o,m),c=qd(a,o,c,p,b,m),p=Vd(),a!==null&&!un?(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~m,Lr(a,o,m)):(mt&&p&&Ed(o),o.flags|=1,Xt(a,o,c,m),o.child)}function jy(a,o,c,p,m){if(ln(c)){var b=!0;Zl(o)}else b=!1;if($s(o,m),o.stateNode===null)du(a,o),by(o,c,p),Kd(o,c,p,m),p=!0;else if(a===null){var T=o.stateNode,j=o.memoizedProps;T.props=j;var L=T.context,H=c.contextType;typeof H=="object"&&H!==null?H=Pn(H):(H=ln(c)?Ua:Ht.current,H=As(o,H));var Y=c.getDerivedStateFromProps,X=typeof Y=="function"||typeof T.getSnapshotBeforeUpdate=="function";X||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==p||L!==H)&&Sy(o,T,p,H),la=!1;var G=o.memoizedState;T.state=G,nu(o,p,T,m),L=o.memoizedState,j!==p||G!==L||on.current||la?(typeof Y=="function"&&(Yd(o,c,Y,p),L=o.memoizedState),(j=la||wy(o,c,j,p,G,L,H))?(X||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=L),T.props=p,T.state=L,T.context=H,p=j):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{T=o.stateNode,Gg(a,o),j=o.memoizedProps,H=o.type===o.elementType?j:Jn(o.type,j),T.props=H,X=o.pendingProps,G=T.context,L=c.contextType,typeof L=="object"&&L!==null?L=Pn(L):(L=ln(c)?Ua:Ht.current,L=As(o,L));var pe=c.getDerivedStateFromProps;(Y=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(j!==X||G!==L)&&Sy(o,T,p,L),la=!1,G=o.memoizedState,T.state=G,nu(o,p,T,m);var ye=o.memoizedState;j!==X||G!==ye||on.current||la?(typeof pe=="function"&&(Yd(o,c,pe,p),ye=o.memoizedState),(H=la||wy(o,c,H,p,G,ye,L)||!1)?(Y||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ye,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ye,L)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||j===a.memoizedProps&&G===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&G===a.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ye),T.props=p,T.state=ye,T.context=L,p=H):(typeof T.componentDidUpdate!="function"||j===a.memoizedProps&&G===a.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||j===a.memoizedProps&&G===a.memoizedState||(o.flags|=1024),p=!1)}return tf(a,o,c,p,b,m)}function tf(a,o,c,p,m,b){Ry(a,o);var T=(o.flags&128)!==0;if(!p&&!T)return m&&Fg(o,c,!1),Lr(a,o,b);p=o.stateNode,i2.current=o;var j=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,a!==null&&T?(o.child=Fs(o,a.child,null,b),o.child=Fs(o,null,j,b)):Xt(a,o,j,b),o.memoizedState=p.state,m&&Fg(o,c,!0),o.child}function Ay(a){var o=a.stateNode;o.pendingContext?Mg(a,o.pendingContext,o.pendingContext!==o.context):o.context&&Mg(a,o.context,!1),Fd(a,o.containerInfo)}function Dy(a,o,c,p,m){return Ls(),Pd(m),o.flags|=256,Xt(a,o,c,p),o.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(a){return{baseLanes:a,cachePool:null,transitions:null}}function My(a,o,c){var p=o.pendingProps,m=gt.current,b=!1,T=(o.flags&128)!==0,j;if((j=T)||(j=a!==null&&a.memoizedState===null?!1:(m&2)!==0),j?(b=!0,o.flags&=-129):(a===null||a.memoizedState!==null)&&(m|=1),at(gt,m&1),a===null)return Od(o),a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(o.mode&1?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=p.children,a=p.fallback,b?(p=o.mode,b=o.child,T={mode:"hidden",children:T},!(p&1)&&b!==null?(b.childLanes=0,b.pendingProps=T):b=_u(T,p,0,null),a=Ka(a,p,c,null),b.return=o,a.return=o,b.sibling=a,o.child=b,o.child.memoizedState=rf(c),o.memoizedState=nf,a):af(o,T));if(m=a.memoizedState,m!==null&&(j=m.dehydrated,j!==null))return o2(a,o,T,p,j,m,c);if(b){b=p.fallback,T=o.mode,m=a.child,j=m.sibling;var L={mode:"hidden",children:p.children};return!(T&1)&&o.child!==m?(p=o.child,p.childLanes=0,p.pendingProps=L,o.deletions=null):(p=ma(m,L),p.subtreeFlags=m.subtreeFlags&14680064),j!==null?b=ma(j,b):(b=Ka(b,T,c,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,T=a.child.memoizedState,T=T===null?rf(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},b.memoizedState=T,b.childLanes=a.childLanes&~c,o.memoizedState=nf,p}return b=a.child,a=b.sibling,p=ma(b,{mode:"visible",children:p.children}),!(o.mode&1)&&(p.lanes=c),p.return=o,p.sibling=null,a!==null&&(c=o.deletions,c===null?(o.deletions=[a],o.flags|=16):c.push(a)),o.child=p,o.memoizedState=null,p}function af(a,o){return o=_u({mode:"visible",children:o},a.mode,0,null),o.return=a,a.child=o}function cu(a,o,c,p){return p!==null&&Pd(p),Fs(o,a.child,null,c),a=af(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function o2(a,o,c,p,m,b,T){if(c)return o.flags&256?(o.flags&=-257,p=Xd(Error(n(422))),cu(a,o,T,p)):o.memoizedState!==null?(o.child=a.child,o.flags|=128,null):(b=p.fallback,m=o.mode,p=_u({mode:"visible",children:p.children},m,0,null),b=Ka(b,m,T,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,o.mode&1&&Fs(o,a.child,null,T),o.child.memoizedState=rf(T),o.memoizedState=nf,b);if(!(o.mode&1))return cu(a,o,T,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var j=p.dgst;return p=j,b=Error(n(419)),p=Xd(b,p,void 0),cu(a,o,T,p)}if(j=(T&a.childLanes)!==0,un||j){if(p=Dt,p!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(p.suspendedLanes|T)?0:m,m!==0&&m!==b.retryLane&&(b.retryLane=m,Dr(a,m),Kn(p,a,m,-1))}return bf(),p=Xd(Error(n(421))),cu(a,o,T,p)}return m.data==="$?"?(o.flags|=128,o.child=a.child,o=w2.bind(null,a),m._reactRetry=o,null):(a=b.treeContext,vn=aa(m.nextSibling),yn=o,mt=!0,Zn=null,a!==null&&(Nn[On++]=jr,Nn[On++]=Ar,Nn[On++]=Ba,jr=a.id,Ar=a.overflow,Ba=o),o=af(o,p.children),o.flags|=4096,o)}function Ly(a,o,c){a.lanes|=o;var p=a.alternate;p!==null&&(p.lanes|=o),Dd(a.return,o,c)}function sf(a,o,c,p,m){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=p,b.tail=c,b.tailMode=m)}function Fy(a,o,c){var p=o.pendingProps,m=p.revealOrder,b=p.tail;if(Xt(a,o,p.children,c),p=gt.current,p&2)p=p&1|2,o.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ly(a,c,o);else if(a.tag===19)Ly(a,c,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(at(gt,p),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(c=o.child,m=null;c!==null;)a=c.alternate,a!==null&&ru(a)===null&&(m=c),c=c.sibling;c=m,c===null?(m=o.child,o.child=null):(m=c.sibling,c.sibling=null),sf(o,!1,m,c,b);break;case"backwards":for(c=null,m=o.child,o.child=null;m!==null;){if(a=m.alternate,a!==null&&ru(a)===null){o.child=m;break}a=m.sibling,m.sibling=c,c=m,m=a}sf(o,!0,c,null,b);break;case"together":sf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function du(a,o){!(o.mode&1)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function Lr(a,o,c){if(a!==null&&(o.dependencies=a.dependencies),Za|=o.lanes,!(c&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(a=o.child,c=ma(a,a.pendingProps),o.child=c,c.return=o;a.sibling!==null;)a=a.sibling,c=c.sibling=ma(a,a.pendingProps),c.return=o;c.sibling=null}return o.child}function l2(a,o,c){switch(o.tag){case 3:Ay(o),Ls();break;case 5:Xg(o);break;case 1:ln(o.type)&&Zl(o);break;case 4:Fd(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,m=o.memoizedProps.value;at(Ql,p._currentValue),p._currentValue=m;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(at(gt,gt.current&1),o.flags|=128,null):c&o.child.childLanes?My(a,o,c):(at(gt,gt.current&1),a=Lr(a,o,c),a!==null?a.sibling:null);at(gt,gt.current&1);break;case 19:if(p=(c&o.childLanes)!==0,a.flags&128){if(p)return Fy(a,o,c);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(gt,gt.current),p)break;return null;case 22:case 23:return o.lanes=0,Py(a,o,c)}return Lr(a,o,c)}var zy,of,$y,Uy;zy=function(a,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)a.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},of=function(){},$y=function(a,o,c,p){var m=a.memoizedProps;if(m!==p){a=o.stateNode,Va(lr.current);var b=null;switch(c){case"input":m=Ot(a,m),p=Ot(a,p),b=[];break;case"select":m=N({},m,{value:void 0}),p=N({},p,{value:void 0}),b=[];break;case"textarea":m=Gr(a,m),p=Gr(a,p),b=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=ql)}Ct(c,p);var T;c=null;for(H in m)if(!p.hasOwnProperty(H)&&m.hasOwnProperty(H)&&m[H]!=null)if(H==="style"){var j=m[H];for(T in j)j.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(s.hasOwnProperty(H)?b||(b=[]):(b=b||[]).push(H,null));for(H in p){var L=p[H];if(j=m!=null?m[H]:void 0,p.hasOwnProperty(H)&&L!==j&&(L!=null||j!=null))if(H==="style")if(j){for(T in j)!j.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in L)L.hasOwnProperty(T)&&j[T]!==L[T]&&(c||(c={}),c[T]=L[T])}else c||(b||(b=[]),b.push(H,c)),c=L;else H==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,j=j?j.__html:void 0,L!=null&&j!==L&&(b=b||[]).push(H,L)):H==="children"?typeof L!="string"&&typeof L!="number"||(b=b||[]).push(H,""+L):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(s.hasOwnProperty(H)?(L!=null&&H==="onScroll"&&lt("scroll",a),b||j===L||(b=[])):(b=b||[]).push(H,L))}c&&(b=b||[]).push("style",c);var H=b;(o.updateQueue=H)&&(o.flags|=4)}},Uy=function(a,o,c,p){c!==p&&(o.flags|=4)};function Yi(a,o){if(!mt)switch(a.tailMode){case"hidden":o=a.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Vt(a){var o=a.alternate!==null&&a.alternate.child===a.child,c=0,p=0;if(o)for(var m=a.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=p,a.childLanes=c,o}function u2(a,o,c){var p=o.pendingProps;switch(Id(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(o),null;case 1:return ln(o.type)&&Wl(),Vt(o),null;case 3:return p=o.stateNode,Us(),ut(on),ut(Ht),Ud(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Kl(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Zn!==null&&(vf(Zn),Zn=null))),of(a,o),Vt(o),null;case 5:zd(o);var m=Va(Vi.current);if(c=o.type,a!==null&&o.stateNode!=null)$y(a,o,c,p,m),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return Vt(o),null}if(a=Va(lr.current),Kl(o)){p=o.stateNode,c=o.type;var b=o.memoizedProps;switch(p[or]=o,p[$i]=b,a=(o.mode&1)!==0,c){case"dialog":lt("cancel",p),lt("close",p);break;case"iframe":case"object":case"embed":lt("load",p);break;case"video":case"audio":for(m=0;m<Li.length;m++)lt(Li[m],p);break;case"source":lt("error",p);break;case"img":case"image":case"link":lt("error",p),lt("load",p);break;case"details":lt("toggle",p);break;case"input":me(p,b),lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!b.multiple},lt("invalid",p);break;case"textarea":Yr(p,b),lt("invalid",p)}Ct(c,b),m=null;for(var T in b)if(b.hasOwnProperty(T)){var j=b[T];T==="children"?typeof j=="string"?p.textContent!==j&&(b.suppressHydrationWarning!==!0&&Hl(p.textContent,j,a),m=["children",j]):typeof j=="number"&&p.textContent!==""+j&&(b.suppressHydrationWarning!==!0&&Hl(p.textContent,j,a),m=["children",""+j]):s.hasOwnProperty(T)&&j!=null&&T==="onScroll"&&lt("scroll",p)}switch(c){case"input":Be(p),bt(p,b,!0);break;case"textarea":Be(p),Ma(p);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(p.onclick=ql)}p=m,o.updateQueue=p,p!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=W(c)),a==="http://www.w3.org/1999/xhtml"?c==="script"?(a=T.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=T.createElement(c,{is:p.is}):(a=T.createElement(c),c==="select"&&(T=a,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):a=T.createElementNS(a,c),a[or]=o,a[$i]=p,zy(a,o,!1,!1),o.stateNode=a;e:{switch(T=jt(c,p),c){case"dialog":lt("cancel",a),lt("close",a),m=p;break;case"iframe":case"object":case"embed":lt("load",a),m=p;break;case"video":case"audio":for(m=0;m<Li.length;m++)lt(Li[m],a);m=p;break;case"source":lt("error",a),m=p;break;case"img":case"image":case"link":lt("error",a),lt("load",a),m=p;break;case"details":lt("toggle",a),m=p;break;case"input":me(a,p),m=Ot(a,p),lt("invalid",a);break;case"option":m=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},m=N({},p,{value:void 0}),lt("invalid",a);break;case"textarea":Yr(a,p),m=Gr(a,p),lt("invalid",a);break;default:m=p}Ct(c,m),j=m;for(b in j)if(j.hasOwnProperty(b)){var L=j[b];b==="style"?Hn(a,L):b==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Ae(a,L)):b==="children"?typeof L=="string"?(c!=="textarea"||L!=="")&&We(a,L):typeof L=="number"&&We(a,""+L):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?L!=null&&b==="onScroll"&&lt("scroll",a):L!=null&&E(a,b,L,T))}switch(c){case"input":Be(a),bt(a,p,!1);break;case"textarea":Be(a),Ma(a);break;case"option":p.value!=null&&a.setAttribute("value",""+je(p.value));break;case"select":a.multiple=!!p.multiple,b=p.value,b!=null?mn(a,!!p.multiple,b,!1):p.defaultValue!=null&&mn(a,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(a.onclick=ql)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vt(o),null;case 6:if(a&&o.stateNode!=null)Uy(a,o,a.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(c=Va(Vi.current),Va(lr.current),Kl(o)){if(p=o.stateNode,c=o.memoizedProps,p[or]=o,(b=p.nodeValue!==c)&&(a=yn,a!==null))switch(a.tag){case 3:Hl(p.nodeValue,c,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Hl(p.nodeValue,c,(a.mode&1)!==0)}b&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[or]=o,o.stateNode=p}return Vt(o),null;case 13:if(ut(gt),p=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mt&&vn!==null&&o.mode&1&&!(o.flags&128))qg(),Ls(),o.flags|=98560,b=!1;else if(b=Kl(o),p!==null&&p.dehydrated!==null){if(a===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[or]=o}else Ls(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Vt(o),b=!1}else Zn!==null&&(vf(Zn),Zn=null),b=!0;if(!b)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(o.child.flags|=8192,o.mode&1&&(a===null||gt.current&1?Rt===0&&(Rt=3):bf())),o.updateQueue!==null&&(o.flags|=4),Vt(o),null);case 4:return Us(),of(a,o),a===null&&Fi(o.stateNode.containerInfo),Vt(o),null;case 10:return Ad(o.type._context),Vt(o),null;case 17:return ln(o.type)&&Wl(),Vt(o),null;case 19:if(ut(gt),b=o.memoizedState,b===null)return Vt(o),null;if(p=(o.flags&128)!==0,T=b.rendering,T===null)if(p)Yi(b,!1);else{if(Rt!==0||a!==null&&a.flags&128)for(a=o.child;a!==null;){if(T=ru(a),T!==null){for(o.flags|=128,Yi(b,!1),p=T.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)b=c,a=p,b.flags&=14680066,T=b.alternate,T===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=T.childLanes,b.lanes=T.lanes,b.child=T.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=T.memoizedProps,b.memoizedState=T.memoizedState,b.updateQueue=T.updateQueue,b.type=T.type,a=T.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),c=c.sibling;return at(gt,gt.current&1|2),o.child}a=a.sibling}b.tail!==null&&Tt()>Vs&&(o.flags|=128,p=!0,Yi(b,!1),o.lanes=4194304)}else{if(!p)if(a=ru(T),a!==null){if(o.flags|=128,p=!0,c=a.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Yi(b,!0),b.tail===null&&b.tailMode==="hidden"&&!T.alternate&&!mt)return Vt(o),null}else 2*Tt()-b.renderingStartTime>Vs&&c!==1073741824&&(o.flags|=128,p=!0,Yi(b,!1),o.lanes=4194304);b.isBackwards?(T.sibling=o.child,o.child=T):(c=b.last,c!==null?c.sibling=T:o.child=T,b.last=T)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Tt(),o.sibling=null,c=gt.current,at(gt,p?c&1|2:c&1),o):(Vt(o),null);case 22:case 23:return wf(),p=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(o.flags|=8192),p&&o.mode&1?xn&1073741824&&(Vt(o),o.subtreeFlags&6&&(o.flags|=8192)):Vt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function c2(a,o){switch(Id(o),o.tag){case 1:return ln(o.type)&&Wl(),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return Us(),ut(on),ut(Ht),Ud(),a=o.flags,a&65536&&!(a&128)?(o.flags=a&-65537|128,o):null;case 5:return zd(o),null;case 13:if(ut(gt),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ls()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return ut(gt),null;case 4:return Us(),null;case 10:return Ad(o.type._context),null;case 22:case 23:return wf(),null;case 24:return null;default:return null}}var fu=!1,Wt=!1,d2=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Hs(a,o){var c=a.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){_t(a,o,p)}else c.current=null}function lf(a,o,c){try{c()}catch(p){_t(a,o,p)}}var By=!1;function f2(a,o){if(xd=Rl,a=wg(),dd(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var m=p.anchorOffset,b=p.focusNode;p=p.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var T=0,j=-1,L=-1,H=0,Y=0,X=a,G=null;t:for(;;){for(var pe;X!==c||m!==0&&X.nodeType!==3||(j=T+m),X!==b||p!==0&&X.nodeType!==3||(L=T+p),X.nodeType===3&&(T+=X.nodeValue.length),(pe=X.firstChild)!==null;)G=X,X=pe;for(;;){if(X===a)break t;if(G===c&&++H===m&&(j=T),G===b&&++Y===p&&(L=T),(pe=X.nextSibling)!==null)break;X=G,G=X.parentNode}X=pe}c=j===-1||L===-1?null:{start:j,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(wd={focusedElem:a,selectionRange:c},Rl=!1,ge=o;ge!==null;)if(o=ge,a=o.child,(o.subtreeFlags&1028)!==0&&a!==null)a.return=o,ge=a;else for(;ge!==null;){o=ge;try{var ye=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,Et=ye.memoizedState,z=o.stateNode,F=z.getSnapshotBeforeUpdate(o.elementType===o.type?ve:Jn(o.type,ve),Et);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var U=o.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(se){_t(o,o.return,se)}if(a=o.sibling,a!==null){a.return=o.return,ge=a;break}ge=o.return}return ye=By,By=!1,ye}function Ki(a,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&a)===a){var b=m.destroy;m.destroy=void 0,b!==void 0&&lf(o,c,b)}m=m.next}while(m!==p)}}function pu(a,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&a)===a){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function uf(a){var o=a.ref;if(o!==null){var c=a.stateNode;switch(a.tag){case 5:a=c;break;default:a=c}typeof o=="function"?o(a):o.current=a}}function Hy(a){var o=a.alternate;o!==null&&(a.alternate=null,Hy(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&(delete o[or],delete o[$i],delete o[kd],delete o[Jk],delete o[Gk])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function qy(a){return a.tag===5||a.tag===3||a.tag===4}function Vy(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||qy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function cf(a,o,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(a,o):c.insertBefore(a,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(a,c)):(o=c,o.appendChild(a)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=ql));else if(p!==4&&(a=a.child,a!==null))for(cf(a,o,c),a=a.sibling;a!==null;)cf(a,o,c),a=a.sibling}function df(a,o,c){var p=a.tag;if(p===5||p===6)a=a.stateNode,o?c.insertBefore(a,o):c.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(df(a,o,c),a=a.sibling;a!==null;)df(a,o,c),a=a.sibling}var zt=null,Gn=!1;function ca(a,o,c){for(c=c.child;c!==null;)Wy(a,o,c),c=c.sibling}function Wy(a,o,c){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Tl,c)}catch{}switch(c.tag){case 5:Wt||Hs(c,o);case 6:var p=zt,m=Gn;zt=null,ca(a,o,c),zt=p,Gn=m,zt!==null&&(Gn?(a=zt,c=c.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):zt.removeChild(c.stateNode));break;case 18:zt!==null&&(Gn?(a=zt,c=c.stateNode,a.nodeType===8?_d(a.parentNode,c):a.nodeType===1&&_d(a,c),Ni(a)):_d(zt,c.stateNode));break;case 4:p=zt,m=Gn,zt=c.stateNode.containerInfo,Gn=!0,ca(a,o,c),zt=p,Gn=m;break;case 0:case 11:case 14:case 15:if(!Wt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var b=m,T=b.destroy;b=b.tag,T!==void 0&&(b&2||b&4)&&lf(c,o,T),m=m.next}while(m!==p)}ca(a,o,c);break;case 1:if(!Wt&&(Hs(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(j){_t(c,o,j)}ca(a,o,c);break;case 21:ca(a,o,c);break;case 22:c.mode&1?(Wt=(p=Wt)||c.memoizedState!==null,ca(a,o,c),Wt=p):ca(a,o,c);break;default:ca(a,o,c)}}function Zy(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var c=a.stateNode;c===null&&(c=a.stateNode=new d2),o.forEach(function(p){var m=b2.bind(null,a,p);c.has(p)||(c.add(p),p.then(m,m))})}}function Yn(a,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];try{var b=a,T=o,j=T;e:for(;j!==null;){switch(j.tag){case 5:zt=j.stateNode,Gn=!1;break e;case 3:zt=j.stateNode.containerInfo,Gn=!0;break e;case 4:zt=j.stateNode.containerInfo,Gn=!0;break e}j=j.return}if(zt===null)throw Error(n(160));Wy(b,T,m),zt=null,Gn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(H){_t(m,o,H)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Jy(o,a),o=o.sibling}function Jy(a,o){var c=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Yn(o,a),cr(a),p&4){try{Ki(3,a,a.return),pu(3,a)}catch(ve){_t(a,a.return,ve)}try{Ki(5,a,a.return)}catch(ve){_t(a,a.return,ve)}}break;case 1:Yn(o,a),cr(a),p&512&&c!==null&&Hs(c,c.return);break;case 5:if(Yn(o,a),cr(a),p&512&&c!==null&&Hs(c,c.return),a.flags&32){var m=a.stateNode;try{We(m,"")}catch(ve){_t(a,a.return,ve)}}if(p&4&&(m=a.stateNode,m!=null)){var b=a.memoizedProps,T=c!==null?c.memoizedProps:b,j=a.type,L=a.updateQueue;if(a.updateQueue=null,L!==null)try{j==="input"&&b.type==="radio"&&b.name!=null&&Qe(m,b),jt(j,T);var H=jt(j,b);for(T=0;T<L.length;T+=2){var Y=L[T],X=L[T+1];Y==="style"?Hn(m,X):Y==="dangerouslySetInnerHTML"?Ae(m,X):Y==="children"?We(m,X):E(m,Y,X,H)}switch(j){case"input":Ft(m,b);break;case"textarea":Da(m,b);break;case"select":var G=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!b.multiple;var pe=b.value;pe!=null?mn(m,!!b.multiple,pe,!1):G!==!!b.multiple&&(b.defaultValue!=null?mn(m,!!b.multiple,b.defaultValue,!0):mn(m,!!b.multiple,b.multiple?[]:"",!1))}m[$i]=b}catch(ve){_t(a,a.return,ve)}}break;case 6:if(Yn(o,a),cr(a),p&4){if(a.stateNode===null)throw Error(n(162));m=a.stateNode,b=a.memoizedProps;try{m.nodeValue=b}catch(ve){_t(a,a.return,ve)}}break;case 3:if(Yn(o,a),cr(a),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Ni(o.containerInfo)}catch(ve){_t(a,a.return,ve)}break;case 4:Yn(o,a),cr(a);break;case 13:Yn(o,a),cr(a),m=a.child,m.flags&8192&&(b=m.memoizedState!==null,m.stateNode.isHidden=b,!b||m.alternate!==null&&m.alternate.memoizedState!==null||(hf=Tt())),p&4&&Zy(a);break;case 22:if(Y=c!==null&&c.memoizedState!==null,a.mode&1?(Wt=(H=Wt)||Y,Yn(o,a),Wt=H):Yn(o,a),cr(a),p&8192){if(H=a.memoizedState!==null,(a.stateNode.isHidden=H)&&!Y&&a.mode&1)for(ge=a,Y=a.child;Y!==null;){for(X=ge=Y;ge!==null;){switch(G=ge,pe=G.child,G.tag){case 0:case 11:case 14:case 15:Ki(4,G,G.return);break;case 1:Hs(G,G.return);var ye=G.stateNode;if(typeof ye.componentWillUnmount=="function"){p=G,c=G.return;try{o=p,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){_t(p,c,ve)}}break;case 5:Hs(G,G.return);break;case 22:if(G.memoizedState!==null){Ky(X);continue}}pe!==null?(pe.return=G,ge=pe):Ky(X)}Y=Y.sibling}e:for(Y=null,X=a;;){if(X.tag===5){if(Y===null){Y=X;try{m=X.stateNode,H?(b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(j=X.stateNode,L=X.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,j.style.display=rn("display",T))}catch(ve){_t(a,a.return,ve)}}}else if(X.tag===6){if(Y===null)try{X.stateNode.nodeValue=H?"":X.memoizedProps}catch(ve){_t(a,a.return,ve)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===a)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===a)break e;for(;X.sibling===null;){if(X.return===null||X.return===a)break e;Y===X&&(Y=null),X=X.return}Y===X&&(Y=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Yn(o,a),cr(a),p&4&&Zy(a);break;case 21:break;default:Yn(o,a),cr(a)}}function cr(a){var o=a.flags;if(o&2){try{e:{for(var c=a.return;c!==null;){if(qy(c)){var p=c;break e}c=c.return}throw Error(n(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(We(m,""),p.flags&=-33);var b=Vy(a);df(a,b,m);break;case 3:case 4:var T=p.stateNode.containerInfo,j=Vy(a);cf(a,j,T);break;default:throw Error(n(161))}}catch(L){_t(a,a.return,L)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function p2(a,o,c){ge=a,Gy(a)}function Gy(a,o,c){for(var p=(a.mode&1)!==0;ge!==null;){var m=ge,b=m.child;if(m.tag===22&&p){var T=m.memoizedState!==null||fu;if(!T){var j=m.alternate,L=j!==null&&j.memoizedState!==null||Wt;j=fu;var H=Wt;if(fu=T,(Wt=L)&&!H)for(ge=m;ge!==null;)T=ge,L=T.child,T.tag===22&&T.memoizedState!==null?Xy(m):L!==null?(L.return=T,ge=L):Xy(m);for(;b!==null;)ge=b,Gy(b),b=b.sibling;ge=m,fu=j,Wt=H}Yy(a)}else m.subtreeFlags&8772&&b!==null?(b.return=m,ge=b):Yy(a)}}function Yy(a){for(;ge!==null;){var o=ge;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Wt||pu(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Wt)if(c===null)p.componentDidMount();else{var m=o.elementType===o.type?c.memoizedProps:Jn(o.type,c.memoizedProps);p.componentDidUpdate(m,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&Kg(o,b,p);break;case 3:var T=o.updateQueue;if(T!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Kg(o,T,c)}break;case 5:var j=o.stateNode;if(c===null&&o.flags&4){c=j;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&c.focus();break;case"img":L.src&&(c.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var H=o.alternate;if(H!==null){var Y=H.memoizedState;if(Y!==null){var X=Y.dehydrated;X!==null&&Ni(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wt||o.flags&512&&uf(o)}catch(G){_t(o,o.return,G)}}if(o===a){ge=null;break}if(c=o.sibling,c!==null){c.return=o.return,ge=c;break}ge=o.return}}function Ky(a){for(;ge!==null;){var o=ge;if(o===a){ge=null;break}var c=o.sibling;if(c!==null){c.return=o.return,ge=c;break}ge=o.return}}function Xy(a){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{pu(4,o)}catch(L){_t(o,c,L)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var m=o.return;try{p.componentDidMount()}catch(L){_t(o,m,L)}}var b=o.return;try{uf(o)}catch(L){_t(o,b,L)}break;case 5:var T=o.return;try{uf(o)}catch(L){_t(o,T,L)}}}catch(L){_t(o,o.return,L)}if(o===a){ge=null;break}var j=o.sibling;if(j!==null){j.return=o.return,ge=j;break}ge=o.return}}var h2=Math.ceil,hu=P.ReactCurrentDispatcher,ff=P.ReactCurrentOwner,jn=P.ReactCurrentBatchConfig,Ye=0,Dt=null,It=null,$t=0,xn=0,qs=sa(0),Rt=0,Xi=null,Za=0,mu=0,pf=0,Qi=null,cn=null,hf=0,Vs=1/0,Fr=null,gu=!1,mf=null,da=null,yu=!1,fa=null,vu=0,eo=0,gf=null,xu=-1,wu=0;function Qt(){return Ye&6?Tt():xu!==-1?xu:xu=Tt()}function pa(a){return a.mode&1?Ye&2&&$t!==0?$t&-$t:Kk.transition!==null?(wu===0&&(wu=Vm()),wu):(a=tt,a!==0||(a=window.event,a=a===void 0?16:eg(a.type)),a):1}function Kn(a,o,c,p){if(50<eo)throw eo=0,gf=null,Error(n(185));ki(a,c,p),(!(Ye&2)||a!==Dt)&&(a===Dt&&(!(Ye&2)&&(mu|=c),Rt===4&&ha(a,$t)),dn(a,p),c===1&&Ye===0&&!(o.mode&1)&&(Vs=Tt()+500,Jl&&oa()))}function dn(a,o){var c=a.callbackNode;K_(a,o);var p=Nl(a,a===Dt?$t:0);if(p===0)c!==null&&Bm(c),a.callbackNode=null,a.callbackPriority=0;else if(o=p&-p,a.callbackPriority!==o){if(c!=null&&Bm(c),o===1)a.tag===0?Yk(ev.bind(null,a)):zg(ev.bind(null,a)),Wk(function(){!(Ye&6)&&oa()}),c=null;else{switch(Wm(p)){case 1:c=Jc;break;case 4:c=Hm;break;case 16:c=Cl;break;case 536870912:c=qm;break;default:c=Cl}c=lv(c,Qy.bind(null,a))}a.callbackPriority=o,a.callbackNode=c}}function Qy(a,o){if(xu=-1,wu=0,Ye&6)throw Error(n(327));var c=a.callbackNode;if(Ws()&&a.callbackNode!==c)return null;var p=Nl(a,a===Dt?$t:0);if(p===0)return null;if(p&30||p&a.expiredLanes||o)o=bu(a,p);else{o=p;var m=Ye;Ye|=2;var b=nv();(Dt!==a||$t!==o)&&(Fr=null,Vs=Tt()+500,Ga(a,o));do try{y2();break}catch(j){tv(a,j)}while(!0);jd(),hu.current=b,Ye=m,It!==null?o=0:(Dt=null,$t=0,o=Rt)}if(o!==0){if(o===2&&(m=Gc(a),m!==0&&(p=m,o=yf(a,m))),o===1)throw c=Xi,Ga(a,0),ha(a,p),dn(a,Tt()),c;if(o===6)ha(a,p);else{if(m=a.current.alternate,!(p&30)&&!m2(m)&&(o=bu(a,p),o===2&&(b=Gc(a),b!==0&&(p=b,o=yf(a,b))),o===1))throw c=Xi,Ga(a,0),ha(a,p),dn(a,Tt()),c;switch(a.finishedWork=m,a.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:Ya(a,cn,Fr);break;case 3:if(ha(a,p),(p&130023424)===p&&(o=hf+500-Tt(),10<o)){if(Nl(a,0)!==0)break;if(m=a.suspendedLanes,(m&p)!==p){Qt(),a.pingedLanes|=a.suspendedLanes&m;break}a.timeoutHandle=Sd(Ya.bind(null,a,cn,Fr),o);break}Ya(a,cn,Fr);break;case 4:if(ha(a,p),(p&4194240)===p)break;for(o=a.eventTimes,m=-1;0<p;){var T=31-Vn(p);b=1<<T,T=o[T],T>m&&(m=T),p&=~b}if(p=m,p=Tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*h2(p/1960))-p,10<p){a.timeoutHandle=Sd(Ya.bind(null,a,cn,Fr),p);break}Ya(a,cn,Fr);break;case 5:Ya(a,cn,Fr);break;default:throw Error(n(329))}}}return dn(a,Tt()),a.callbackNode===c?Qy.bind(null,a):null}function yf(a,o){var c=Qi;return a.current.memoizedState.isDehydrated&&(Ga(a,o).flags|=256),a=bu(a,o),a!==2&&(o=cn,cn=c,o!==null&&vf(o)),a}function vf(a){cn===null?cn=a:cn.push.apply(cn,a)}function m2(a){for(var o=a;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var m=c[p],b=m.getSnapshot;m=m.value;try{if(!Wn(b(),m))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ha(a,o){for(o&=~pf,o&=~mu,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var c=31-Vn(o),p=1<<c;a[c]=-1,o&=~p}}function ev(a){if(Ye&6)throw Error(n(327));Ws();var o=Nl(a,0);if(!(o&1))return dn(a,Tt()),null;var c=bu(a,o);if(a.tag!==0&&c===2){var p=Gc(a);p!==0&&(o=p,c=yf(a,p))}if(c===1)throw c=Xi,Ga(a,0),ha(a,o),dn(a,Tt()),c;if(c===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Ya(a,cn,Fr),dn(a,Tt()),null}function xf(a,o){var c=Ye;Ye|=1;try{return a(o)}finally{Ye=c,Ye===0&&(Vs=Tt()+500,Jl&&oa())}}function Ja(a){fa!==null&&fa.tag===0&&!(Ye&6)&&Ws();var o=Ye;Ye|=1;var c=jn.transition,p=tt;try{if(jn.transition=null,tt=1,a)return a()}finally{tt=p,jn.transition=c,Ye=o,!(Ye&6)&&oa()}}function wf(){xn=qs.current,ut(qs)}function Ga(a,o){a.finishedWork=null,a.finishedLanes=0;var c=a.timeoutHandle;if(c!==-1&&(a.timeoutHandle=-1,Vk(c)),It!==null)for(c=It.return;c!==null;){var p=c;switch(Id(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Wl();break;case 3:Us(),ut(on),ut(Ht),Ud();break;case 5:zd(p);break;case 4:Us();break;case 13:ut(gt);break;case 19:ut(gt);break;case 10:Ad(p.type._context);break;case 22:case 23:wf()}c=c.return}if(Dt=a,It=a=ma(a.current,null),$t=xn=o,Rt=0,Xi=null,pf=mu=Za=0,cn=Qi=null,qa!==null){for(o=0;o<qa.length;o++)if(c=qa[o],p=c.interleaved,p!==null){c.interleaved=null;var m=p.next,b=c.pending;if(b!==null){var T=b.next;b.next=m,p.next=T}c.pending=p}qa=null}return a}function tv(a,o){do{var c=It;try{if(jd(),au.current=lu,su){for(var p=yt.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}su=!1}if(Wa=0,At=Pt=yt=null,Wi=!1,Zi=0,ff.current=null,c===null||c.return===null){Rt=1,Xi=o,It=null;break}e:{var b=a,T=c.return,j=c,L=o;if(o=$t,j.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var H=L,Y=j,X=Y.tag;if(!(Y.mode&1)&&(X===0||X===11||X===15)){var G=Y.alternate;G?(Y.updateQueue=G.updateQueue,Y.memoizedState=G.memoizedState,Y.lanes=G.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var pe=Ty(T);if(pe!==null){pe.flags&=-257,Ey(pe,T,j,b,o),pe.mode&1&&Cy(b,H,o),o=pe,L=H;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(L),o.updateQueue=ve}else ye.add(L);break e}else{if(!(o&1)){Cy(b,H,o),bf();break e}L=Error(n(426))}}else if(mt&&j.mode&1){var Et=Ty(T);if(Et!==null){!(Et.flags&65536)&&(Et.flags|=256),Ey(Et,T,j,b,o),Pd(Bs(L,j));break e}}b=L=Bs(L,j),Rt!==4&&(Rt=2),Qi===null?Qi=[b]:Qi.push(b),b=T;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var z=_y(b,L,o);Yg(b,z);break e;case 1:j=L;var F=b.type,U=b.stateNode;if(!(b.flags&128)&&(typeof F.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(da===null||!da.has(U)))){b.flags|=65536,o&=-o,b.lanes|=o;var se=ky(b,j,o);Yg(b,se);break e}}b=b.return}while(b!==null)}av(c)}catch(we){o=we,It===c&&c!==null&&(It=c=c.return);continue}break}while(!0)}function nv(){var a=hu.current;return hu.current=lu,a===null?lu:a}function bf(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Dt===null||!(Za&268435455)&&!(mu&268435455)||ha(Dt,$t)}function bu(a,o){var c=Ye;Ye|=2;var p=nv();(Dt!==a||$t!==o)&&(Fr=null,Ga(a,o));do try{g2();break}catch(m){tv(a,m)}while(!0);if(jd(),Ye=c,hu.current=p,It!==null)throw Error(n(261));return Dt=null,$t=0,Rt}function g2(){for(;It!==null;)rv(It)}function y2(){for(;It!==null&&!B_();)rv(It)}function rv(a){var o=ov(a.alternate,a,xn);a.memoizedProps=a.pendingProps,o===null?av(a):It=o,ff.current=null}function av(a){var o=a;do{var c=o.alternate;if(a=o.return,o.flags&32768){if(c=c2(c,o),c!==null){c.flags&=32767,It=c;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Rt=6,It=null;return}}else if(c=u2(c,o,xn),c!==null){It=c;return}if(o=o.sibling,o!==null){It=o;return}It=o=a}while(o!==null);Rt===0&&(Rt=5)}function Ya(a,o,c){var p=tt,m=jn.transition;try{jn.transition=null,tt=1,v2(a,o,c,p)}finally{jn.transition=m,tt=p}return null}function v2(a,o,c,p){do Ws();while(fa!==null);if(Ye&6)throw Error(n(327));c=a.finishedWork;var m=a.finishedLanes;if(c===null)return null;if(a.finishedWork=null,a.finishedLanes=0,c===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var b=c.lanes|c.childLanes;if(X_(a,b),a===Dt&&(It=Dt=null,$t=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||yu||(yu=!0,lv(Cl,function(){return Ws(),null})),b=(c.flags&15990)!==0,c.subtreeFlags&15990||b){b=jn.transition,jn.transition=null;var T=tt;tt=1;var j=Ye;Ye|=4,ff.current=null,f2(a,c),Jy(c,a),Fk(wd),Rl=!!xd,wd=xd=null,a.current=c,p2(c),H_(),Ye=j,tt=T,jn.transition=b}else a.current=c;if(yu&&(yu=!1,fa=a,vu=m),b=a.pendingLanes,b===0&&(da=null),W_(c.stateNode),dn(a,Tt()),o!==null)for(p=a.onRecoverableError,c=0;c<o.length;c++)m=o[c],p(m.value,{componentStack:m.stack,digest:m.digest});if(gu)throw gu=!1,a=mf,mf=null,a;return vu&1&&a.tag!==0&&Ws(),b=a.pendingLanes,b&1?a===gf?eo++:(eo=0,gf=a):eo=0,oa(),null}function Ws(){if(fa!==null){var a=Wm(vu),o=jn.transition,c=tt;try{if(jn.transition=null,tt=16>a?16:a,fa===null)var p=!1;else{if(a=fa,fa=null,vu=0,Ye&6)throw Error(n(331));var m=Ye;for(Ye|=4,ge=a.current;ge!==null;){var b=ge,T=b.child;if(ge.flags&16){var j=b.deletions;if(j!==null){for(var L=0;L<j.length;L++){var H=j[L];for(ge=H;ge!==null;){var Y=ge;switch(Y.tag){case 0:case 11:case 15:Ki(8,Y,b)}var X=Y.child;if(X!==null)X.return=Y,ge=X;else for(;ge!==null;){Y=ge;var G=Y.sibling,pe=Y.return;if(Hy(Y),Y===H){ge=null;break}if(G!==null){G.return=pe,ge=G;break}ge=pe}}}var ye=b.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var Et=ve.sibling;ve.sibling=null,ve=Et}while(ve!==null)}}ge=b}}if(b.subtreeFlags&2064&&T!==null)T.return=b,ge=T;else e:for(;ge!==null;){if(b=ge,b.flags&2048)switch(b.tag){case 0:case 11:case 15:Ki(9,b,b.return)}var z=b.sibling;if(z!==null){z.return=b.return,ge=z;break e}ge=b.return}}var F=a.current;for(ge=F;ge!==null;){T=ge;var U=T.child;if(T.subtreeFlags&2064&&U!==null)U.return=T,ge=U;else e:for(T=F;ge!==null;){if(j=ge,j.flags&2048)try{switch(j.tag){case 0:case 11:case 15:pu(9,j)}}catch(we){_t(j,j.return,we)}if(j===T){ge=null;break e}var se=j.sibling;if(se!==null){se.return=j.return,ge=se;break e}ge=j.return}}if(Ye=m,oa(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Tl,a)}catch{}p=!0}return p}finally{tt=c,jn.transition=o}}return!1}function sv(a,o,c){o=Bs(c,o),o=_y(a,o,1),a=ua(a,o,1),o=Qt(),a!==null&&(ki(a,1,o),dn(a,o))}function _t(a,o,c){if(a.tag===3)sv(a,a,c);else for(;o!==null;){if(o.tag===3){sv(o,a,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(da===null||!da.has(p))){a=Bs(c,a),a=ky(o,a,1),o=ua(o,a,1),a=Qt(),o!==null&&(ki(o,1,a),dn(o,a));break}}o=o.return}}function x2(a,o,c){var p=a.pingCache;p!==null&&p.delete(o),o=Qt(),a.pingedLanes|=a.suspendedLanes&c,Dt===a&&($t&c)===c&&(Rt===4||Rt===3&&($t&130023424)===$t&&500>Tt()-hf?Ga(a,0):pf|=c),dn(a,o)}function iv(a,o){o===0&&(a.mode&1?(o=Il,Il<<=1,!(Il&130023424)&&(Il=4194304)):o=1);var c=Qt();a=Dr(a,o),a!==null&&(ki(a,o,c),dn(a,c))}function w2(a){var o=a.memoizedState,c=0;o!==null&&(c=o.retryLane),iv(a,c)}function b2(a,o){var c=0;switch(a.tag){case 13:var p=a.stateNode,m=a.memoizedState;m!==null&&(c=m.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),iv(a,c)}var ov;ov=function(a,o,c){if(a!==null)if(a.memoizedProps!==o.pendingProps||on.current)un=!0;else{if(!(a.lanes&c)&&!(o.flags&128))return un=!1,l2(a,o,c);un=!!(a.flags&131072)}else un=!1,mt&&o.flags&1048576&&$g(o,Yl,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;du(a,o),a=o.pendingProps;var m=As(o,Ht.current);$s(o,c),m=qd(null,o,p,a,m,c);var b=Vd();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,ln(p)?(b=!0,Zl(o)):b=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ld(o),m.updater=uu,o.stateNode=m,m._reactInternals=o,Kd(o,p,a,c),o=tf(null,o,p,!0,b,c)):(o.tag=0,mt&&b&&Ed(o),Xt(null,o,m,c),o=o.child),o;case 16:p=o.elementType;e:{switch(du(a,o),a=o.pendingProps,m=p._init,p=m(p._payload),o.type=p,m=o.tag=_2(p),a=Jn(p,a),m){case 0:o=ef(null,o,p,a,c);break e;case 1:o=jy(null,o,p,a,c);break e;case 11:o=Iy(null,o,p,a,c);break e;case 14:o=Ny(null,o,p,Jn(p.type,a),c);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),ef(a,o,p,m,c);case 1:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),jy(a,o,p,m,c);case 3:e:{if(Ay(o),a===null)throw Error(n(387));p=o.pendingProps,b=o.memoizedState,m=b.element,Gg(a,o),nu(o,p,null,c);var T=o.memoizedState;if(p=T.element,b.isDehydrated)if(b={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){m=Bs(Error(n(423)),o),o=Dy(a,o,p,c,m);break e}else if(p!==m){m=Bs(Error(n(424)),o),o=Dy(a,o,p,c,m);break e}else for(vn=aa(o.stateNode.containerInfo.firstChild),yn=o,mt=!0,Zn=null,c=Zg(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ls(),p===m){o=Lr(a,o,c);break e}Xt(a,o,p,c)}o=o.child}return o;case 5:return Xg(o),a===null&&Od(o),p=o.type,m=o.pendingProps,b=a!==null?a.memoizedProps:null,T=m.children,bd(p,m)?T=null:b!==null&&bd(p,b)&&(o.flags|=32),Ry(a,o),Xt(a,o,T,c),o.child;case 6:return a===null&&Od(o),null;case 13:return My(a,o,c);case 4:return Fd(o,o.stateNode.containerInfo),p=o.pendingProps,a===null?o.child=Fs(o,null,p,c):Xt(a,o,p,c),o.child;case 11:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),Iy(a,o,p,m,c);case 7:return Xt(a,o,o.pendingProps,c),o.child;case 8:return Xt(a,o,o.pendingProps.children,c),o.child;case 12:return Xt(a,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,m=o.pendingProps,b=o.memoizedProps,T=m.value,at(Ql,p._currentValue),p._currentValue=T,b!==null)if(Wn(b.value,T)){if(b.children===m.children&&!on.current){o=Lr(a,o,c);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var j=b.dependencies;if(j!==null){T=b.child;for(var L=j.firstContext;L!==null;){if(L.context===p){if(b.tag===1){L=Mr(-1,c&-c),L.tag=2;var H=b.updateQueue;if(H!==null){H=H.shared;var Y=H.pending;Y===null?L.next=L:(L.next=Y.next,Y.next=L),H.pending=L}}b.lanes|=c,L=b.alternate,L!==null&&(L.lanes|=c),Dd(b.return,c,o),j.lanes|=c;break}L=L.next}}else if(b.tag===10)T=b.type===o.type?null:b.child;else if(b.tag===18){if(T=b.return,T===null)throw Error(n(341));T.lanes|=c,j=T.alternate,j!==null&&(j.lanes|=c),Dd(T,c,o),T=b.sibling}else T=b.child;if(T!==null)T.return=b;else for(T=b;T!==null;){if(T===o){T=null;break}if(b=T.sibling,b!==null){b.return=T.return,T=b;break}T=T.return}b=T}Xt(a,o,m.children,c),o=o.child}return o;case 9:return m=o.type,p=o.pendingProps.children,$s(o,c),m=Pn(m),p=p(m),o.flags|=1,Xt(a,o,p,c),o.child;case 14:return p=o.type,m=Jn(p,o.pendingProps),m=Jn(p.type,m),Ny(a,o,p,m,c);case 15:return Oy(a,o,o.type,o.pendingProps,c);case 17:return p=o.type,m=o.pendingProps,m=o.elementType===p?m:Jn(p,m),du(a,o),o.tag=1,ln(p)?(a=!0,Zl(o)):a=!1,$s(o,c),by(o,p,m),Kd(o,p,m,c),tf(null,o,p,!0,a,c);case 19:return Fy(a,o,c);case 22:return Py(a,o,c)}throw Error(n(156,o.tag))};function lv(a,o){return Um(a,o)}function S2(a,o,c,p){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(a,o,c,p){return new S2(a,o,c,p)}function Sf(a){return a=a.prototype,!(!a||!a.isReactComponent)}function _2(a){if(typeof a=="function")return Sf(a)?1:0;if(a!=null){if(a=a.$$typeof,a===oe)return 11;if(a===J)return 14}return 2}function ma(a,o){var c=a.alternate;return c===null?(c=An(a.tag,o,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=o,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&14680064,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,o=a.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function Su(a,o,c,p,m,b){var T=2;if(p=a,typeof a=="function")Sf(a)&&(T=1);else if(typeof a=="string")T=5;else e:switch(a){case $:return Ka(c.children,m,b,o);case K:T=8,m|=8;break;case ce:return a=An(12,c,o,m|2),a.elementType=ce,a.lanes=b,a;case ae:return a=An(13,c,o,m),a.elementType=ae,a.lanes=b,a;case q:return a=An(19,c,o,m),a.elementType=q,a.lanes=b,a;case le:return _u(c,m,b,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case de:T=10;break e;case te:T=9;break e;case oe:T=11;break e;case J:T=14;break e;case ie:T=16,p=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return o=An(T,c,o,m),o.elementType=a,o.type=p,o.lanes=b,o}function Ka(a,o,c,p){return a=An(7,a,p,o),a.lanes=c,a}function _u(a,o,c,p){return a=An(22,a,p,o),a.elementType=le,a.lanes=c,a.stateNode={isHidden:!1},a}function _f(a,o,c){return a=An(6,a,null,o),a.lanes=c,a}function kf(a,o,c){return o=An(4,a.children!==null?a.children:[],a.key,o),o.lanes=c,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function k2(a,o,c,p,m){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yc(0),this.expirationTimes=Yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yc(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Cf(a,o,c,p,m,b,T,j,L){return a=new k2(a,o,c,j,L),o===1?(o=1,b===!0&&(o|=8)):o=0,b=An(3,null,null,o),a.current=b,b.stateNode=a,b.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ld(b),a}function C2(a,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:p==null?null:""+p,children:a,containerInfo:o,implementation:c}}function uv(a){if(!a)return ia;a=a._reactInternals;e:{if(za(a)!==a||a.tag!==1)throw Error(n(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(ln(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(a.tag===1){var c=a.type;if(ln(c))return Lg(a,c,o)}return o}function cv(a,o,c,p,m,b,T,j,L){return a=Cf(c,p,!0,a,m,b,T,j,L),a.context=uv(null),c=a.current,p=Qt(),m=pa(c),b=Mr(p,m),b.callback=o??null,ua(c,b,m),a.current.lanes=m,ki(a,m,p),dn(a,p),a}function ku(a,o,c,p){var m=o.current,b=Qt(),T=pa(m);return c=uv(c),o.context===null?o.context=c:o.pendingContext=c,o=Mr(b,T),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=ua(m,o,T),a!==null&&(Kn(a,m,T,b),tu(a,m,T)),T}function Cu(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function dv(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<o?c:o}}function Tf(a,o){dv(a,o),(a=a.alternate)&&dv(a,o)}function T2(){return null}var fv=typeof reportError=="function"?reportError:function(a){console.error(a)};function Ef(a){this._internalRoot=a}Tu.prototype.render=Ef.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));ku(a,o,null,null)},Tu.prototype.unmount=Ef.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Ja(function(){ku(null,a,null,null)}),o[Pr]=null}};function Tu(a){this._internalRoot=a}Tu.prototype.unstable_scheduleHydration=function(a){if(a){var o=Gm();a={blockedOn:null,target:a,priority:o};for(var c=0;c<ta.length&&o!==0&&o<ta[c].priority;c++);ta.splice(c,0,a),c===0&&Xm(a)}};function If(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Eu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function pv(){}function E2(a,o,c,p,m){if(m){if(typeof p=="function"){var b=p;p=function(){var H=Cu(T);b.call(H)}}var T=cv(o,p,a,0,null,!1,!1,"",pv);return a._reactRootContainer=T,a[Pr]=T.current,Fi(a.nodeType===8?a.parentNode:a),Ja(),T}for(;m=a.lastChild;)a.removeChild(m);if(typeof p=="function"){var j=p;p=function(){var H=Cu(L);j.call(H)}}var L=Cf(a,0,!1,null,null,!1,!1,"",pv);return a._reactRootContainer=L,a[Pr]=L.current,Fi(a.nodeType===8?a.parentNode:a),Ja(function(){ku(o,L,c,p)}),L}function Iu(a,o,c,p,m){var b=c._reactRootContainer;if(b){var T=b;if(typeof m=="function"){var j=m;m=function(){var L=Cu(T);j.call(L)}}ku(o,T,a,m)}else T=E2(c,o,a,m,p);return Cu(T)}Zm=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var c=_i(o.pendingLanes);c!==0&&(Kc(o,c|1),dn(o,Tt()),!(Ye&6)&&(Vs=Tt()+500,oa()))}break;case 13:Ja(function(){var p=Dr(a,1);if(p!==null){var m=Qt();Kn(p,a,1,m)}}),Tf(a,1)}},Xc=function(a){if(a.tag===13){var o=Dr(a,134217728);if(o!==null){var c=Qt();Kn(o,a,134217728,c)}Tf(a,134217728)}},Jm=function(a){if(a.tag===13){var o=pa(a),c=Dr(a,o);if(c!==null){var p=Qt();Kn(c,a,o,p)}Tf(a,o)}},Gm=function(){return tt},Ym=function(a,o){var c=tt;try{return tt=a,o()}finally{tt=c}},bs=function(a,o,c){switch(o){case"input":if(Ft(a,c),o=c.name,c.type==="radio"&&o!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==a&&p.form===a.form){var m=Vl(p);if(!m)throw Error(n(90));Re(p),Ft(p,m)}}}break;case"textarea":Da(a,c);break;case"select":o=c.value,o!=null&&mn(a,!!c.multiple,o,!1)}},Nr=xf,bi=Ja;var I2={usingClientEntryPoint:!1,Events:[Ui,Rs,Vl,Ss,an,xf]},to={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},N2={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=zm(a),a===null?null:a.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||T2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{Tl=Nu.inject(N2),ir=Nu}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I2,fn.createPortal=function(a,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!If(o))throw Error(n(200));return C2(a,o,null,c)},fn.createRoot=function(a,o){if(!If(a))throw Error(n(299));var c=!1,p="",m=fv;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Cf(a,1,!1,null,null,c,!1,p,m),a[Pr]=o.current,Fi(a.nodeType===8?a.parentNode:a),new Ef(o)},fn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=zm(o),a=a===null?null:a.stateNode,a},fn.flushSync=function(a){return Ja(a)},fn.hydrate=function(a,o,c){if(!Eu(o))throw Error(n(200));return Iu(null,a,o,!0,c)},fn.hydrateRoot=function(a,o,c){if(!If(a))throw Error(n(405));var p=c!=null&&c.hydratedSources||null,m=!1,b="",T=fv;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(b=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),o=cv(o,null,a,1,c??null,m,!1,b,T),a[Pr]=o.current,Fi(a),p)for(a=0;a<p.length;a++)c=p[a],m=c._getVersion,m=m(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,m]:o.mutableSourceEagerHydrationData.push(c,m);return new Tu(o)},fn.render=function(a,o,c){if(!Eu(o))throw Error(n(200));return Iu(null,a,o,!1,c)},fn.unmountComponentAtNode=function(a){if(!Eu(a))throw Error(n(40));return a._reactRootContainer?(Ja(function(){Iu(null,null,a,!1,function(){a._reactRootContainer=null,a[Pr]=null})}),!0):!1},fn.unstable_batchedUpdates=xf,fn.unstable_renderSubtreeIntoContainer=function(a,o,c,p){if(!Eu(c))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Iu(a,o,c,!1,p)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var bv;function z2(){if(bv)return Pf.exports;bv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pf.exports=F2(),Pf.exports}var Sv;function $2(){if(Sv)return Ou;Sv=1;var e=z2();return Ou.createRoot=e.createRoot,Ou.hydrateRoot=e.hydrateRoot,Ou}var U2=$2(),ro={},_v;function B2(){if(_v)return ro;_v=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.parse=l,ro.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,i=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,v){const S=new i,_=y.length;if(_<2)return S;const C=(v==null?void 0:v.decode)||h;let k=0;do{const I=y.indexOf("=",k);if(I===-1)break;const E=y.indexOf(";",k),P=E===-1?_:E;if(I>P){k=y.lastIndexOf(";",I-1)+1;continue}const D=u(y,k,I),A=f(y,I,D),$=y.slice(D,A);if(S[$]===void 0){let K=u(y,I+1,P),ce=f(y,P,K);const de=C(y.slice(K,ce));S[$]=de}k=P+1}while(k<_);return S}function u(y,v,S){do{const _=y.charCodeAt(v);if(_!==32&&_!==9)return v}while(++v<S);return S}function f(y,v,S){for(;v>S;){const _=y.charCodeAt(--v);if(_!==32&&_!==9)return v+1}return S}function d(y,v,S){const _=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=_(v);if(!t.test(C))throw new TypeError(`argument val is invalid: ${v}`);let k=y+"="+C;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!g(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function h(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return s.call(y)==="[object Date]"}return ro}B2();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kv="popstate";function H2(e={}){function t(s,i){let{pathname:l="/",search:u="",hash:f=""}=gs(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ep("",{pathname:l,search:u,hash:f},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=s.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof i=="string"?i:Eo(i))}function r(s,i){rr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return V2(t,n,r,e)}function xt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function q2(){return Math.random().toString(36).substring(2,10)}function Cv(e,t){return{usr:e.state,key:e.key,idx:t}}function Ep(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gs(t):t,state:n,key:t&&t.key||r||q2()}}function Eo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function gs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function V2(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,u="POP",f=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function g(){u="POP";let C=h(),k=C==null?null:C-d;d=C,f&&f({action:u,location:_.location,delta:k})}function y(C,k){u="PUSH";let I=Ep(_.location,C,k);n&&n(I,C),d=h()+1;let E=Cv(I,d),P=_.createHref(I);try{l.pushState(E,"",P)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(P)}i&&f&&f({action:u,location:_.location,delta:1})}function v(C,k){u="REPLACE";let I=Ep(_.location,C,k);n&&n(I,C),d=h();let E=Cv(I,d),P=_.createHref(I);l.replaceState(E,"",P),i&&f&&f({action:u,location:_.location,delta:0})}function S(C){let k=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof C=="string"?C:Eo(C);return I=I.replace(/ $/,"%20"),xt(k,`No window.location.(origin|href) available to create URL for href: ${I}`),new URL(I,k)}let _={get action(){return u},get location(){return e(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(kv,g),f=C,()=>{s.removeEventListener(kv,g),f=null}},createHref(C){return t(s,C)},createURL:S,encodeLocation(C){let k=S(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:v,go(C){return l.go(C)}};return _}function s1(e,t,n="/"){return W2(e,t,n,!1)}function W2(e,t,n,r){let s=typeof t=="string"?gs(t):t,i=Sa(s.pathname||"/",n);if(i==null)return null;let l=i1(e);Z2(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=aC(i);u=nC(l[f],d,r)}return u}function i1(e,t=[],n=[],r=""){let s=(i,l,u)=>{let f={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};f.relativePath.startsWith("/")&&(xt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Ur([r,f.relativePath]),h=n.concat(f);i.children&&i.children.length>0&&(xt(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),i1(i.children,t,h,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:eC(d,i.index),routesMeta:h})};return e.forEach((i,l)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,l);else for(let f of o1(i.path))s(i,l,f)}),t}function o1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=o1(r.join("/")),u=[];return u.push(...l.map(f=>f===""?i:[i,f].join("/"))),s&&u.push(...l),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function Z2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var J2=/^:[\w-]+$/,G2=3,Y2=2,K2=1,X2=10,Q2=-2,Tv=e=>e==="*";function eC(e,t){let n=e.split("/"),r=n.length;return n.some(Tv)&&(r+=Q2),t&&(r+=Y2),n.filter(s=>!Tv(s)).reduce((s,i)=>s+(J2.test(i)?G2:i===""?K2:X2),r)}function tC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function nC(e,t,n=!1){let{routesMeta:r}=e,s={},i="/",l=[];for(let u=0;u<r.length;++u){let f=r[u],d=u===r.length-1,h=i==="/"?t:t.slice(i.length)||"/",g=Xu({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),y=f.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Xu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Ur([i,g.pathname]),pathnameBase:lC(Ur([i,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(i=Ur([i,g.pathnameBase]))}return l}function Xu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rC(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:g},y)=>{if(h==="*"){let S=u[y]||"";l=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=u[y];return g&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function rC(e,t=!1,n=!0){rr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function aC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sC(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?gs(e):e;return{pathname:n?n.startsWith("/")?n:iC(n,t):t,search:uC(r),hash:cC(s)}}function iC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Af(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function l1(e){let t=oC(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function u1(e,t,n,r=!1){let s;typeof e=="string"?s=gs(e):(s={...e},xt(!s.pathname||!s.pathname.includes("?"),Af("?","pathname","search",s)),xt(!s.pathname||!s.pathname.includes("#"),Af("#","pathname","hash",s)),xt(!s.search||!s.search.includes("#"),Af("#","search","hash",s)));let i=e===""||s.pathname==="",l=i?"/":s.pathname,u;if(l==null)u=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}u=g>=0?t[g]:"/"}let f=sC(s,u),d=l&&l!=="/"&&l.endsWith("/"),h=(i||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}var Ur=e=>e.join("/").replace(/\/\/+/g,"/"),lC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),uC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,cC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var c1=["POST","PUT","PATCH","DELETE"];new Set(c1);var fC=["GET",...c1];new Set(fC);var mi=O.createContext(null);mi.displayName="DataRouter";var Nc=O.createContext(null);Nc.displayName="DataRouterState";var d1=O.createContext({isTransitioning:!1});d1.displayName="ViewTransition";var pC=O.createContext(new Map);pC.displayName="Fetchers";var hC=O.createContext(null);hC.displayName="Await";var _r=O.createContext(null);_r.displayName="Navigation";var ml=O.createContext(null);ml.displayName="Location";var kr=O.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var Dh=O.createContext(null);Dh.displayName="RouteError";function mC(e,{relative:t}={}){xt(gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(_r),{hash:s,pathname:i,search:l}=yl(e,{relative:t}),u=i;return n!=="/"&&(u=i==="/"?n:Ur([n,i])),r.createHref({pathname:u,search:l,hash:s})}function gl(){return O.useContext(ml)!=null}function Cr(){return xt(gl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ml).location}var f1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function p1(e){O.useContext(_r).static||O.useLayoutEffect(e)}function ys(){let{isDataRoute:e}=O.useContext(kr);return e?NC():gC()}function gC(){xt(gl(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(mi),{basename:t,navigator:n}=O.useContext(_r),{matches:r}=O.useContext(kr),{pathname:s}=Cr(),i=JSON.stringify(l1(r)),l=O.useRef(!1);return p1(()=>{l.current=!0}),O.useCallback((f,d={})=>{if(rr(l.current,f1),!l.current)return;if(typeof f=="number"){n.go(f);return}let h=u1(f,JSON.parse(i),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ur([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,i,s,e])}O.createContext(null);function yC(){let{matches:e}=O.useContext(kr),t=e[e.length-1];return t?t.params:{}}function yl(e,{relative:t}={}){let{matches:n}=O.useContext(kr),{pathname:r}=Cr(),s=JSON.stringify(l1(n));return O.useMemo(()=>u1(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function vC(e,t){return h1(e,t)}function h1(e,t,n,r){var I;xt(gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=O.useContext(_r),{matches:l}=O.useContext(kr),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",g=u&&u.route;{let E=g&&g.path||"";m1(d,!g||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=Cr(),v;if(t){let E=typeof t=="string"?gs(t):t;xt(h==="/"||((I=E.pathname)==null?void 0:I.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=y;let S=v.pathname||"/",_=S;if(h!=="/"){let E=h.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let C=!i&&n&&n.matches&&n.matches.length>0?n.matches:s1(e,{pathname:_});rr(g||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),rr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=_C(C&&C.map(E=>Object.assign({},E,{params:Object.assign({},f,E.params),pathname:Ur([h,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:Ur([h,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),l,n,r);return t&&k?O.createElement(ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},k):k}function xC(){let e=IC(),t=dC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:i},"ErrorBoundary")," or"," ",O.createElement("code",{style:i},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:s},n):null,l)}var wC=O.createElement(xC,null),bC=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(kr.Provider,{value:this.props.routeContext},O.createElement(Dh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SC({routeContext:e,match:t,children:n}){let r=O.useContext(mi);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(kr.Provider,{value:e},n)}function _C(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,i=n==null?void 0:n.errors;if(i!=null){let f=s.findIndex(d=>d.route.id&&(i==null?void 0:i[d.route.id])!==void 0);xt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:g}=n,y=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,d,h)=>{let g,y=!1,v=null,S=null;n&&(g=i&&d.route.id?i[d.route.id]:void 0,v=d.route.errorElement||wC,l&&(u<0&&h===0?(m1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):u===h&&(y=!0,S=d.route.hydrateFallbackElement||null)));let _=t.concat(s.slice(0,h+1)),C=()=>{let k;return g?k=v:y?k=S:d.route.Component?k=O.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=f,O.createElement(SC,{match:d,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:k})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(bC,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function Mh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kC(e){let t=O.useContext(mi);return xt(t,Mh(e)),t}function CC(e){let t=O.useContext(Nc);return xt(t,Mh(e)),t}function TC(e){let t=O.useContext(kr);return xt(t,Mh(e)),t}function Lh(e){let t=TC(e),n=t.matches[t.matches.length-1];return xt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function EC(){return Lh("useRouteId")}function IC(){var r;let e=O.useContext(Dh),t=CC("useRouteError"),n=Lh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function NC(){let{router:e}=kC("useNavigate"),t=Lh("useNavigate"),n=O.useRef(!1);return p1(()=>{n.current=!0}),O.useCallback(async(s,i={})=>{rr(n.current,f1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...i}))},[e,t])}var Ev={};function m1(e,t,n){!t&&!Ev[e]&&(Ev[e]=!0,rr(!1,n))}O.memo(OC);function OC({routes:e,future:t,state:n}){return h1(e,void 0,n,t)}function Ln(e){xt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PC({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){xt(!gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:l,navigator:s,static:i,future:{}}),[l,s,i]);typeof n=="string"&&(n=gs(n));let{pathname:f="/",search:d="",hash:h="",state:g=null,key:y="default"}=n,v=O.useMemo(()=>{let S=Sa(f,l);return S==null?null:{location:{pathname:S,search:d,hash:h,state:g,key:y},navigationType:r}},[l,f,d,h,g,y,r]);return rr(v!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:O.createElement(_r.Provider,{value:u},O.createElement(ml.Provider,{children:t,value:v}))}function g1({children:e,location:t}){return vC(Ip(e),t)}function Ip(e,t=[]){let n=[];return O.Children.forEach(e,(r,s)=>{if(!O.isValidElement(r))return;let i=[...t,s];if(r.type===O.Fragment){n.push.apply(n,Ip(r.props.children,i));return}xt(r.type===Ln,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ip(r.props.children,i)),n.push(l)}),n}var Vu="get",Wu="application/x-www-form-urlencoded";function Oc(e){return e!=null&&typeof e.tagName=="string"}function RC(e){return Oc(e)&&e.tagName.toLowerCase()==="button"}function jC(e){return Oc(e)&&e.tagName.toLowerCase()==="form"}function AC(e){return Oc(e)&&e.tagName.toLowerCase()==="input"}function DC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MC(e,t){return e.button===0&&(!t||t==="_self")&&!DC(e)}var Pu=null;function LC(){if(Pu===null)try{new FormData(document.createElement("form"),0),Pu=!1}catch{Pu=!0}return Pu}var FC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Df(e){return e!=null&&!FC.has(e)?(rr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wu}"`),null):e}function zC(e,t){let n,r,s,i,l;if(jC(e)){let u=e.getAttribute("action");r=u?Sa(u,t):null,n=e.getAttribute("method")||Vu,s=Df(e.getAttribute("enctype"))||Wu,i=new FormData(e)}else if(RC(e)||AC(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(r=f?Sa(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Vu,s=Df(e.getAttribute("formenctype"))||Df(u.getAttribute("enctype"))||Wu,i=new FormData(u,e),!LC()){let{name:d,type:h,value:g}=e;if(h==="image"){let y=d?`${d}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else d&&i.append(d,g)}}else{if(Oc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vu,r=null,s=Wu,l=e}return i&&s==="text/plain"&&(l=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:l}}function Fh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function $C(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function BC(e,t,n){let r=await Promise.all(e.map(async s=>{let i=t.routes[s.route.id];if(i){let l=await $C(i,n);return l.links?l.links():[]}return[]}));return WC(r.flat(1).filter(UC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Iv(e,t,n,r,s,i){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,u=(f,d)=>{var h;return n[d].pathname!==f.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return i==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):i==="data"?t.filter((f,d)=>{var g;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function HC(e,t){return qC(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function qC(e){return[...new Set(e)]}function VC(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function WC(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let i=JSON.stringify(VC(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function ZC(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function JC(){let e=O.useContext(mi);return Fh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GC(){let e=O.useContext(Nc);return Fh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zh=O.createContext(void 0);zh.displayName="FrameworkContext";function y1(){let e=O.useContext(zh);return Fh(e,"You must render this element inside a <HydratedRouter> element"),e}function YC(e,t){let n=O.useContext(zh),[r,s]=O.useState(!1),[i,l]=O.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:h,onTouchStart:g}=t,y=O.useRef(null);O.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=k=>{k.forEach(I=>{l(I.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[e]),O.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let v=()=>{s(!0)},S=()=>{s(!1),l(!1)};return n?e!=="intent"?[i,y,{}]:[i,y,{onFocus:ao(u,v),onBlur:ao(f,S),onMouseEnter:ao(d,v),onMouseLeave:ao(h,S),onTouchStart:ao(g,v)}]:[!1,y,{}]}function ao(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function KC({page:e,...t}){let{router:n}=JC(),r=O.useMemo(()=>s1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(QC,{page:e,matches:r,...t}):null}function XC(e){let{manifest:t,routeModules:n}=y1(),[r,s]=O.useState([]);return O.useEffect(()=>{let i=!1;return BC(e,t,n).then(l=>{i||s(l)}),()=>{i=!0}},[e,t,n]),r}function QC({page:e,matches:t,...n}){let r=Cr(),{manifest:s,routeModules:i}=y1(),{loaderData:l,matches:u}=GC(),f=O.useMemo(()=>Iv(e,t,u,s,r,"data"),[e,t,u,s,r]),d=O.useMemo(()=>Iv(e,t,u,s,r,"assets"),[e,t,u,s,r]),h=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,S=!1;if(t.forEach(C=>{var I;let k=s.routes[C.route.id];!k||!k.hasLoader||(!f.some(E=>E.route.id===C.route.id)&&C.route.id in l&&((I=i[C.route.id])!=null&&I.shouldRevalidate)||k.hasClientLoader?S=!0:v.add(C.route.id))}),v.size===0)return[];let _=ZC(e);return S&&v.size>0&&_.searchParams.set("_routes",t.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[l,r,s,f,t,e,i]),g=O.useMemo(()=>HC(d,s),[d,s]),y=XC(d);return O.createElement(O.Fragment,null,h.map(v=>O.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),g.map(v=>O.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),y.map(({key:v,link:S})=>O.createElement("link",{key:v,...S})))}function eT(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var v1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v1&&(window.__reactRouterVersion="7.1.5")}catch{}function tT({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=H2({window:n,v5Compat:!0}));let s=r.current,[i,l]=O.useState({action:s.action,location:s.location}),u=O.useCallback(f=>{O.startTransition(()=>l(f))},[l]);return O.useLayoutEffect(()=>s.listen(u),[s,u]),O.createElement(PC,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:s})}var x1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$h=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:l,state:u,target:f,to:d,preventScrollReset:h,viewTransition:g,...y},v){let{basename:S}=O.useContext(_r),_=typeof d=="string"&&x1.test(d),C,k=!1;if(typeof d=="string"&&_&&(C=d,v1))try{let ce=new URL(window.location.href),de=d.startsWith("//")?new URL(ce.protocol+d):new URL(d),te=Sa(de.pathname,S);de.origin===ce.origin&&te!=null?d=te+de.search+de.hash:k=!0}catch{rr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=mC(d,{relative:s}),[E,P,D]=YC(r,y),A=sT(d,{replace:l,state:u,target:f,preventScrollReset:h,relative:s,viewTransition:g});function $(ce){t&&t(ce),ce.defaultPrevented||A(ce)}let K=O.createElement("a",{...y,...D,href:C||I,onClick:k||i?t:$,ref:eT(v,P),target:f,"data-discover":!_&&n==="render"?"true":void 0});return E&&!_?O.createElement(O.Fragment,null,K,O.createElement(KC,{page:I})):K});$h.displayName="Link";var nT=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:l,viewTransition:u,children:f,...d},h){let g=yl(l,{relative:d.relative}),y=Cr(),v=O.useContext(Nc),{navigator:S,basename:_}=O.useContext(_r),C=v!=null&&cT(g)&&u===!0,k=S.encodeLocation?S.encodeLocation(g).pathname:g.pathname,I=y.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(I=I.toLowerCase(),E=E?E.toLowerCase():null,k=k.toLowerCase()),E&&_&&(E=Sa(E,_)||E);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let D=I===k||!s&&I.startsWith(k)&&I.charAt(P)==="/",A=E!=null&&(E===k||!s&&E.startsWith(k)&&E.charAt(k.length)==="/"),$={isActive:D,isPending:A,isTransitioning:C},K=D?t:void 0,ce;typeof r=="function"?ce=r($):ce=[r,D?"active":null,A?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let de=typeof i=="function"?i($):i;return O.createElement($h,{...d,"aria-current":K,className:ce,ref:h,style:de,to:l,viewTransition:u},typeof f=="function"?f($):f)});nT.displayName="NavLink";var rT=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:i,method:l=Vu,action:u,onSubmit:f,relative:d,preventScrollReset:h,viewTransition:g,...y},v)=>{let S=lT(),_=uT(u,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&x1.test(u),I=E=>{if(f&&f(E),E.defaultPrevented)return;E.preventDefault();let P=E.nativeEvent.submitter,D=(P==null?void 0:P.getAttribute("formmethod"))||l;S(P||E.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:g})};return O.createElement("form",{ref:v,method:C,action:_,onSubmit:r?f:I,...y,"data-discover":!k&&e==="render"?"true":void 0})});rT.displayName="Form";function aT(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w1(e){let t=O.useContext(mi);return xt(t,aT(e)),t}function sT(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:l}={}){let u=ys(),f=Cr(),d=yl(e,{relative:i});return O.useCallback(h=>{if(MC(h,t)){h.preventDefault();let g=n!==void 0?n:Eo(f)===Eo(d);u(e,{replace:g,state:r,preventScrollReset:s,relative:i,viewTransition:l})}},[f,u,d,n,r,t,e,s,i,l])}var iT=0,oT=()=>`__${String(++iT)}__`;function lT(){let{router:e}=w1("useSubmit"),{basename:t}=O.useContext(_r),n=EC();return O.useCallback(async(r,s={})=>{let{action:i,method:l,encType:u,formData:f,body:d}=zC(r,t);if(s.navigate===!1){let h=s.fetcherKey||oT();await e.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function uT(e,{relative:t}={}){let{basename:n}=O.useContext(_r),r=O.useContext(kr);xt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...yl(e||".",{relative:t})},l=Cr();if(e==null){i.search=l.search;let u=new URLSearchParams(i.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();i.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Ur([n,i.pathname])),Eo(i)}function cT(e,t={}){let n=O.useContext(d1);xt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=w1("useViewTransitionState"),s=yl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Sa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Sa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Xu(s.pathname,l)!=null||Xu(s.pathname,i)!=null}new TextEncoder;const kt=window.electron,os={ollamaInstallCheck:async()=>(kt==null?void 0:kt.ollamaInstallCheck())??!1,ollamaServerToggle:async e=>(kt==null?void 0:kt.ollamaServerToggle(e))??!1,ollamaModelDownload:async e=>(kt==null?void 0:kt.ollamaModelDownload(e))??"Error: Electron bridge not available",ollamaModelRemove:async e=>(kt==null?void 0:kt.ollamaModelRemove(e))??"Error: Electron bridge not available",systemInfoGet:async()=>{const e=await(kt==null?void 0:kt.systemInfoGet());if(!e)throw new Error("SystemInfo not available");return e},ollamaModelRemote:async()=>(kt==null?void 0:kt.ollamaModelRemote())??[],goToUrl:e=>{console.log("goToUrl",e,kt),kt==null||kt.goToUrl(e)}},b1=({className:e})=>w.jsx("img",{src:"./logo.png",alt:"Logo",className:`h-8 aspect-square ${e||""}`}),S1=({className:e})=>w.jsx("span",{className:`font-black uppercase tracking-wide logo text-2xl ${e||""}`,children:"Juicebox"}),_1=({className:e,imgClassName:t})=>w.jsxs("h2",{className:"pl-4 flex flex-row gap-2 items-center ",children:[w.jsx(b1,{className:t}),w.jsx(S1,{className:e})]}),Nv=()=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current h-6 w-6 shrink-0",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),dT=()=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),fT=()=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),pT=()=>w.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),hT=e=>{switch(e){case"info":return w.jsx(Nv,{});case"success":return w.jsx(dT,{});case"warning":return w.jsx(fT,{});case"error":return w.jsx(pT,{});default:return w.jsx(Nv,{})}},mT=(e,t,n="")=>{const r="alert",s=t?"shadow-lg":"",i={default:"",info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-error"}[e];return[r,i,s,n].filter(Boolean).join(" ").trim()},Qu=({type:e="default",children:t,title:n,description:r,buttons:s,className:i=""})=>{const l=mT(e,!!n,i);return w.jsxs("div",{role:"alert",className:l,children:[hT(e),n?w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold",children:n}),w.jsx("div",{className:"text-xs",children:r||t})]}):w.jsx("span",{children:t}),s&&w.jsx("div",{children:s})]})},Mf=({label:e,description:t,className:n,topRight:r,...s})=>w.jsxs("div",{className:n||"",children:[w.jsxs("div",{className:"flex flex-row w-full items-center items-center mb-1",children:[w.jsx("label",{className:"flex-grow text-sm font-bold",children:e}),r&&w.jsx(w.Fragment,{children:r})]}),w.jsx("input",{className:"input input-bordered w-full",...s}),t&&w.jsx("p",{className:"text-xs italic mt-2 opacity-70",children:t})]});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const gT={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},yT={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},vT={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},vo=vT,xT={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},ec={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},wT={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},bT={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},ST={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},_T=ST,kT={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},CT={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},k1={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},TT={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},tc=TT,ET={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},IT={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},ns={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},NT={prefix:"fas",iconName:"robot",icon:[640,512,[129302],"f544","M320 0c17.7 0 32 14.3 32 32l0 64 120 0c39.8 0 72 32.2 72 72l0 272c0 39.8-32.2 72-72 72l-304 0c-39.8 0-72-32.2-72-72l0-272c0-39.8 32.2-72 72-72l120 0 0-64c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224l16 0 0 192-16 0c-26.5 0-48-21.5-48-48l0-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-16 0 0-192 16 0z"]},Ov={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},OT={prefix:"fas",iconName:"exclamation",icon:[128,512,[10069,10071,61738],"21","M96 64c0-17.7-14.3-32-32-32S32 46.3 32 64l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32L96 64zM64 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function PT(e,t,n){return(t=jT(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pv(Object(n),!0).forEach(function(r){PT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jT(e){var t=RT(e,"string");return typeof t=="symbol"?t:t+""}const Rv=()=>{};let Uh={},C1={},T1=null,E1={mark:Rv,measure:Rv};try{typeof window<"u"&&(Uh=window),typeof document<"u"&&(C1=document),typeof MutationObserver<"u"&&(T1=MutationObserver),typeof performance<"u"&&(E1=performance)}catch{}const{userAgent:jv=""}=Uh.navigator||{},_a=Uh,dt=C1,Av=T1,Ru=E1;_a.document;const Zr=!!dt.documentElement&&!!dt.head&&typeof dt.addEventListener=="function"&&typeof dt.createElement=="function",I1=~jv.indexOf("MSIE")||~jv.indexOf("Trident/");var AT=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,DT=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,N1={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},MT={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},O1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Zt="classic",Pc="duotone",LT="sharp",FT="sharp-duotone",P1=[Zt,Pc,LT,FT],zT={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},$T={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},UT=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),BT={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},HT=["fak","fa-kit","fakd","fa-kit-duotone"],Dv={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},qT=["kit"],VT={kit:{"fa-kit":"fak"}},WT=["fak","fakd"],ZT={kit:{fak:"fa-kit"}},Mv={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ju={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},JT=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],GT=["fak","fa-kit","fakd","fa-kit-duotone"],YT={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},KT={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},XT={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},Np={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},QT=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Op=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...JT,...QT],eE=["solid","regular","light","thin","duotone","brands"],R1=[1,2,3,4,5,6,7,8,9,10],tE=R1.concat([11,12,13,14,15,16,17,18,19,20]),nE=[...Object.keys(XT),...eE,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ju.GROUP,ju.SWAP_OPACITY,ju.PRIMARY,ju.SECONDARY].concat(R1.map(e=>"".concat(e,"x"))).concat(tE.map(e=>"w-".concat(e))),rE={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Hr="___FONT_AWESOME___",Pp=16,j1="fa",A1="svg-inline--fa",ls="data-fa-i2svg",Rp="data-fa-pseudo-element",aE="data-fa-pseudo-element-pending",Bh="data-prefix",Hh="data-icon",Lv="fontawesome-i2svg",sE="async",iE=["HTML","HEAD","STYLE","SCRIPT"],D1=(()=>{try{return!0}catch{return!1}})();function vl(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[Zt]}})}const M1=ee({},N1);M1[Zt]=ee(ee(ee(ee({},{"fa-duotone":"duotone"}),N1[Zt]),Dv.kit),Dv["kit-duotone"]);const oE=vl(M1),jp=ee({},BT);jp[Zt]=ee(ee(ee(ee({},{duotone:"fad"}),jp[Zt]),Mv.kit),Mv["kit-duotone"]);const Fv=vl(jp),Ap=ee({},Np);Ap[Zt]=ee(ee({},Ap[Zt]),ZT.kit);const qh=vl(Ap),Dp=ee({},KT);Dp[Zt]=ee(ee({},Dp[Zt]),VT.kit);vl(Dp);const lE=AT,L1="fa-layers-text",uE=DT,cE=ee({},zT);vl(cE);const dE=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Lf=MT,fE=[...qT,...nE],xo=_a.FontAwesomeConfig||{};function pE(e){var t=dt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function hE(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}dt&&typeof dt.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=hE(pE(n));s!=null&&(xo[r]=s)});const F1={styleDefault:"solid",familyDefault:Zt,cssPrefix:j1,replacementClass:A1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};xo.familyPrefix&&(xo.cssPrefix=xo.familyPrefix);const ii=ee(ee({},F1),xo);ii.autoReplaceSvg||(ii.observeMutations=!1);const _e={};Object.keys(F1).forEach(e=>{Object.defineProperty(_e,e,{enumerable:!0,set:function(t){ii[e]=t,wo.forEach(n=>n(_e))},get:function(){return ii[e]}})});Object.defineProperty(_e,"familyPrefix",{enumerable:!0,set:function(e){ii.cssPrefix=e,wo.forEach(t=>t(_e))},get:function(){return ii.cssPrefix}});_a.FontAwesomeConfig=_e;const wo=[];function mE(e){return wo.push(e),()=>{wo.splice(wo.indexOf(e),1)}}const va=Pp,mr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function gE(e){if(!e||!Zr)return;const t=dt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=dt.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const i=n[s],l=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=i)}return dt.head.insertBefore(t,r),e}const yE="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Io(){let e=12,t="";for(;e-- >0;)t+=yE[Math.random()*62|0];return t}function gi(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Vh(e){return e.classList?gi(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function z1(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function vE(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(z1(e[n]),'" '),"").trim()}function Rc(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function Wh(e){return e.size!==mr.size||e.x!==mr.x||e.y!==mr.y||e.rotate!==mr.rotate||e.flipX||e.flipY}function xE(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),u="rotate(".concat(t.rotate," 0 0)"),f={transform:"".concat(i," ").concat(l," ").concat(u)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:f,path:d}}function wE(e){let{transform:t,width:n=Pp,height:r=Pp,startCentered:s=!1}=e,i="";return s&&I1?i+="translate(".concat(t.x/va-n/2,"em, ").concat(t.y/va-r/2,"em) "):s?i+="translate(calc(-50% + ".concat(t.x/va,"em), calc(-50% + ").concat(t.y/va,"em)) "):i+="translate(".concat(t.x/va,"em, ").concat(t.y/va,"em) "),i+="scale(".concat(t.size/va*(t.flipX?-1:1),", ").concat(t.size/va*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}var bE=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function $1(){const e=j1,t=A1,n=_e.cssPrefix,r=_e.replacementClass;let s=bE;if(n!==e||r!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),l=new RegExp("\\--".concat(e,"\\-"),"g"),u=new RegExp("\\.".concat(t),"g");s=s.replace(i,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(u,".".concat(r))}return s}let zv=!1;function Ff(){_e.autoAddCss&&!zv&&(gE($1()),zv=!0)}var SE={mixout(){return{dom:{css:$1,insertCss:Ff}}},hooks(){return{beforeDOMElementCreation(){Ff()},beforeI2svg(){Ff()}}}};const qr=_a||{};qr[Hr]||(qr[Hr]={});qr[Hr].styles||(qr[Hr].styles={});qr[Hr].hooks||(qr[Hr].hooks={});qr[Hr].shims||(qr[Hr].shims=[]);var gr=qr[Hr];const U1=[],B1=function(){dt.removeEventListener("DOMContentLoaded",B1),nc=1,U1.map(e=>e())};let nc=!1;Zr&&(nc=(dt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(dt.readyState),nc||dt.addEventListener("DOMContentLoaded",B1));function _E(e){Zr&&(nc?setTimeout(e,0):U1.push(e))}function xl(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?z1(e):"<".concat(t," ").concat(vE(n),">").concat(r.map(xl).join(""),"</").concat(t,">")}function $v(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var zf=function(t,n,r,s){var i=Object.keys(t),l=i.length,u=n,f,d,h;for(r===void 0?(f=1,h=t[i[0]]):(f=0,h=r);f<l;f++)d=i[f],h=u(h,t[d],d,t);return h};function kE(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const i=e.charCodeAt(n++);(i&64512)==56320?t.push(((s&1023)<<10)+(i&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function Mp(e){const t=kE(e);return t.length===1?t[0].toString(16):null}function CE(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function Uv(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Lp(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=Uv(t);typeof gr.hooks.addPack=="function"&&!r?gr.hooks.addPack(e,Uv(t)):gr.styles[e]=ee(ee({},gr.styles[e]||{}),s),e==="fas"&&Lp("fa",t)}const{styles:No,shims:TE}=gr,H1=Object.keys(qh),EE=H1.reduce((e,t)=>(e[t]=Object.keys(qh[t]),e),{});let Zh=null,q1={},V1={},W1={},Z1={},J1={};function IE(e){return~fE.indexOf(e)}function NE(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!IE(s)?s:null}const G1=()=>{const e=r=>zf(No,(s,i,l)=>(s[l]=zf(i,r,{}),s),{});q1=e((r,s,i)=>(s[3]&&(r[s[3]]=i),s[2]&&s[2].filter(u=>typeof u=="number").forEach(u=>{r[u.toString(16)]=i}),r)),V1=e((r,s,i)=>(r[i]=i,s[2]&&s[2].filter(u=>typeof u=="string").forEach(u=>{r[u]=i}),r)),J1=e((r,s,i)=>{const l=s[2];return r[i]=i,l.forEach(u=>{r[u]=i}),r});const t="far"in No||_e.autoFetchSvg,n=zf(TE,(r,s)=>{const i=s[0];let l=s[1];const u=s[2];return l==="far"&&!t&&(l="fas"),typeof i=="string"&&(r.names[i]={prefix:l,iconName:u}),typeof i=="number"&&(r.unicodes[i.toString(16)]={prefix:l,iconName:u}),r},{names:{},unicodes:{}});W1=n.names,Z1=n.unicodes,Zh=jc(_e.styleDefault,{family:_e.familyDefault})};mE(e=>{Zh=jc(e.styleDefault,{family:_e.familyDefault})});G1();function Jh(e,t){return(q1[e]||{})[t]}function OE(e,t){return(V1[e]||{})[t]}function es(e,t){return(J1[e]||{})[t]}function Y1(e){return W1[e]||{prefix:null,iconName:null}}function PE(e){const t=Z1[e],n=Jh("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ka(){return Zh}const K1=()=>({prefix:null,iconName:null,rest:[]});function RE(e){let t=Zt;const n=H1.reduce((r,s)=>(r[s]="".concat(_e.cssPrefix,"-").concat(s),r),{});return P1.forEach(r=>{(e.includes(n[r])||e.some(s=>EE[r].includes(s)))&&(t=r)}),t}function jc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Zt}=t,r=oE[n][e];if(n===Pc&&!e)return"fad";const s=Fv[n][e]||Fv[n][r],i=e in gr.styles?e:null;return s||i||null}function jE(e){let t=[],n=null;return e.forEach(r=>{const s=NE(_e.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function Bv(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function Ac(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=Op.concat(GT),i=Bv(e.filter(g=>s.includes(g))),l=Bv(e.filter(g=>!Op.includes(g))),u=i.filter(g=>(r=g,!O1.includes(g))),[f=null]=u,d=RE(i),h=ee(ee({},jE(l)),{},{prefix:jc(f,{family:d})});return ee(ee(ee({},h),LE({values:e,family:d,styles:No,config:_e,canonical:h,givenPrefix:r})),AE(n,r,h))}function AE(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const i=t==="fa"?Y1(s):{},l=es(r,s);return s=i.iconName||l||s,r=i.prefix||r,r==="far"&&!No.far&&No.fas&&!_e.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const DE=P1.filter(e=>e!==Zt||e!==Pc),ME=Object.keys(Np).filter(e=>e!==Zt).map(e=>Object.keys(Np[e])).flat();function LE(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:i={},config:l={}}=e,u=n===Pc,f=t.includes("fa-duotone")||t.includes("fad"),d=l.familyDefault==="duotone",h=r.prefix==="fad"||r.prefix==="fa-duotone";if(!u&&(f||d||h)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&DE.includes(n)&&(Object.keys(i).find(y=>ME.includes(y))||l.autoFetchSvg)){const y=UT.get(n).defaultShortPrefixId;r.prefix=y,r.iconName=es(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=ka()||"fas"),r}class FE{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(i=>{this.definitions[i]=ee(ee({},this.definitions[i]||{}),s[i]),Lp(i,s[i]);const l=qh[Zt][i];l&&Lp(l,s[i]),G1()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:i,iconName:l,icon:u}=r[s],f=u[2];t[i]||(t[i]={}),f.length>0&&f.forEach(d=>{typeof d=="string"&&(t[i][d]=u)}),t[i][l]=u}),t}}let Hv=[],Xs={};const ti={},zE=Object.keys(ti);function $E(e,t){let{mixoutsTo:n}=t;return Hv=e,Xs={},Object.keys(ti).forEach(r=>{zE.indexOf(r)===-1&&delete ti[r]}),Hv.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(i=>{typeof s[i]=="function"&&(n[i]=s[i]),typeof s[i]=="object"&&Object.keys(s[i]).forEach(l=>{n[i]||(n[i]={}),n[i][l]=s[i][l]})}),r.hooks){const i=r.hooks();Object.keys(i).forEach(l=>{Xs[l]||(Xs[l]=[]),Xs[l].push(i[l])})}r.provides&&r.provides(ti)}),n}function Fp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Xs[e]||[]).forEach(l=>{t=l.apply(null,[t,...r])}),t}function us(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Xs[e]||[]).forEach(i=>{i.apply(null,n)})}function Ca(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ti[e]?ti[e].apply(null,t):void 0}function zp(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||ka();if(t)return t=es(n,t)||t,$v(X1.definitions,n,t)||$v(gr.styles,n,t)}const X1=new FE,UE=()=>{_e.autoReplaceSvg=!1,_e.observeMutations=!1,us("noAuto")},BE={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Zr?(us("beforeI2svg",e),Ca("pseudoElements2svg",e),Ca("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;_e.autoReplaceSvg===!1&&(_e.autoReplaceSvg=!0),_e.observeMutations=!0,_E(()=>{qE({autoReplaceSvgRoot:t}),us("watch",e)})}},HE={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:es(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=jc(e[0]);return{prefix:n,iconName:es(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(_e.cssPrefix,"-"))>-1||e.match(lE))){const t=Ac(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||ka(),iconName:es(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=ka();return{prefix:t,iconName:es(t,e)||e}}}},kn={noAuto:UE,config:_e,dom:BE,parse:HE,library:X1,findIconDefinition:zp,toHtml:xl},qE=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=dt}=e;(Object.keys(gr.styles).length>0||_e.autoFetchSvg)&&Zr&&_e.autoReplaceSvg&&kn.dom.i2svg({node:t})};function Dc(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>xl(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Zr)return;const n=dt.createElement("div");return n.innerHTML=e.html,n.children}}),e}function VE(e){let{children:t,main:n,mask:r,attributes:s,styles:i,transform:l}=e;if(Wh(l)&&n.found&&!r.found){const{width:u,height:f}=n,d={x:u/f/2,y:.5};s.style=Rc(ee(ee({},i),{},{"transform-origin":"".concat(d.x+l.x/16,"em ").concat(d.y+l.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function WE(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:i}=e;const l=i===!0?"".concat(t,"-").concat(_e.cssPrefix,"-").concat(n):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:ee(ee({},s),{},{id:l}),children:r}]}]}function Gh(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:i,symbol:l,title:u,maskId:f,titleId:d,extra:h,watchable:g=!1}=e,{width:y,height:v}=n.found?n:t,S=WT.includes(r),_=[_e.replacementClass,s?"".concat(_e.cssPrefix,"-").concat(s):""].filter(D=>h.classes.indexOf(D)===-1).filter(D=>D!==""||!!D).concat(h.classes).join(" ");let C={children:[],attributes:ee(ee({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:_,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(v)})};const k=S&&!~h.classes.indexOf("fa-fw")?{width:"".concat(y/v*16*.0625,"em")}:{};g&&(C.attributes[ls]=""),u&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(d||Io())},children:[u]}),delete C.attributes.title);const I=ee(ee({},C),{},{prefix:r,iconName:s,main:t,mask:n,maskId:f,transform:i,symbol:l,styles:ee(ee({},k),h.styles)}),{children:E,attributes:P}=n.found&&t.found?Ca("generateAbstractMask",I)||{children:[],attributes:{}}:Ca("generateAbstractIcon",I)||{children:[],attributes:{}};return I.children=E,I.attributes=P,l?WE(I):VE(I)}function qv(e){const{content:t,width:n,height:r,transform:s,title:i,extra:l,watchable:u=!1}=e,f=ee(ee(ee({},l.attributes),i?{title:i}:{}),{},{class:l.classes.join(" ")});u&&(f[ls]="");const d=ee({},l.styles);Wh(s)&&(d.transform=wE({transform:s,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const h=Rc(d);h.length>0&&(f.style=h);const g=[];return g.push({tag:"span",attributes:f,children:[t]}),i&&g.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),g}function ZE(e){const{content:t,title:n,extra:r}=e,s=ee(ee(ee({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),i=Rc(r.styles);i.length>0&&(s.style=i);const l=[];return l.push({tag:"span",attributes:s,children:[t]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}const{styles:$f}=gr;function $p(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(_e.cssPrefix,"-").concat(Lf.GROUP)},children:[{tag:"path",attributes:{class:"".concat(_e.cssPrefix,"-").concat(Lf.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(_e.cssPrefix,"-").concat(Lf.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const JE={found:!1,width:512,height:512};function GE(e,t){!D1&&!_e.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Up(e,t){let n=t;return t==="fa"&&_e.styleDefault!==null&&(t=ka()),new Promise((r,s)=>{if(n==="fa"){const i=Y1(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&$f[t]&&$f[t][e]){const i=$f[t][e];return r($p(i))}GE(e,t),r(ee(ee({},JE),{},{icon:_e.showMissingIcons&&e?Ca("missingIconAbstract")||{}:{}}))})}const Vv=()=>{},Bp=_e.measurePerformance&&Ru&&Ru.mark&&Ru.measure?Ru:{mark:Vv,measure:Vv},po='FA "6.7.2"',YE=e=>(Bp.mark("".concat(po," ").concat(e," begins")),()=>Q1(e)),Q1=e=>{Bp.mark("".concat(po," ").concat(e," ends")),Bp.measure("".concat(po," ").concat(e),"".concat(po," ").concat(e," begins"),"".concat(po," ").concat(e," ends"))};var Yh={begin:YE,end:Q1};const Zu=()=>{};function Wv(e){return typeof(e.getAttribute?e.getAttribute(ls):null)=="string"}function KE(e){const t=e.getAttribute?e.getAttribute(Bh):null,n=e.getAttribute?e.getAttribute(Hh):null;return t&&n}function XE(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(_e.replacementClass)}function QE(){return _e.autoReplaceSvg===!0?Ju.replace:Ju[_e.autoReplaceSvg]||Ju.replace}function eI(e){return dt.createElementNS("http://www.w3.org/2000/svg",e)}function tI(e){return dt.createElement(e)}function ew(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?eI:tI}=t;if(typeof e=="string")return dt.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(i){r.setAttribute(i,e.attributes[i])}),(e.children||[]).forEach(function(i){r.appendChild(ew(i,{ceFn:n}))}),r}function nI(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Ju={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(ew(n),t)}),t.getAttribute(ls)===null&&_e.keepOriginalSource){let n=dt.createComment(nI(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Vh(t).indexOf(_e.replacementClass))return Ju.replace(e);const r=new RegExp("".concat(_e.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const i=n[0].attributes.class.split(" ").reduce((l,u)=>(u===_e.replacementClass||u.match(r)?l.toSvg.push(u):l.toNode.push(u),l),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}const s=n.map(i=>xl(i)).join(`
`);t.setAttribute(ls,""),t.innerHTML=s}};function Zv(e){e()}function tw(e,t){const n=typeof t=="function"?t:Zu;if(e.length===0)n();else{let r=Zv;_e.mutateApproach===sE&&(r=_a.requestAnimationFrame||Zv),r(()=>{const s=QE(),i=Yh.begin("mutate");e.map(s),i(),n()})}}let Kh=!1;function nw(){Kh=!0}function Hp(){Kh=!1}let rc=null;function Jv(e){if(!Av||!_e.observeMutations)return;const{treeCallback:t=Zu,nodeCallback:n=Zu,pseudoElementsCallback:r=Zu,observeMutationsRoot:s=dt}=e;rc=new Av(i=>{if(Kh)return;const l=ka();gi(i).forEach(u=>{if(u.type==="childList"&&u.addedNodes.length>0&&!Wv(u.addedNodes[0])&&(_e.searchPseudoElements&&r(u.target),t(u.target)),u.type==="attributes"&&u.target.parentNode&&_e.searchPseudoElements&&r(u.target.parentNode),u.type==="attributes"&&Wv(u.target)&&~dE.indexOf(u.attributeName))if(u.attributeName==="class"&&KE(u.target)){const{prefix:f,iconName:d}=Ac(Vh(u.target));u.target.setAttribute(Bh,f||l),d&&u.target.setAttribute(Hh,d)}else XE(u.target)&&n(u.target)})}),Zr&&rc.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function rI(){rc&&rc.disconnect()}function aI(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const i=s.split(":"),l=i[0],u=i.slice(1);return l&&u.length>0&&(r[l]=u.join(":").trim()),r},{})),n}function sI(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=Ac(Vh(e));return s.prefix||(s.prefix=ka()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=OE(s.prefix,e.innerText)||Jh(s.prefix,Mp(e.innerText))),!s.iconName&&_e.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function iI(e){const t=gi(e.attributes).reduce((s,i)=>(s.name!=="class"&&s.name!=="style"&&(s[i.name]=i.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return _e.autoA11y&&(n?t["aria-labelledby"]="".concat(_e.replacementClass,"-title-").concat(r||Io()):(t["aria-hidden"]="true",t.focusable="false")),t}function oI(){return{iconName:null,title:null,titleId:null,prefix:null,transform:mr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Gv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=sI(e),i=iI(e),l=Fp("parseNodeAttributes",{},e);let u=t.styleParser?aI(e):[];return ee({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:mr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:u,attributes:i}},l)}const{styles:lI}=gr;function rw(e){const t=_e.autoReplaceSvg==="nest"?Gv(e,{styleParser:!1}):Gv(e);return~t.extra.classes.indexOf(L1)?Ca("generateLayersText",e,t):Ca("generateSvgReplacementMutation",e,t)}function uI(){return[...HT,...Op]}function Yv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Zr)return Promise.resolve();const n=dt.documentElement.classList,r=h=>n.add("".concat(Lv,"-").concat(h)),s=h=>n.remove("".concat(Lv,"-").concat(h)),i=_e.autoFetchSvg?uI():O1.concat(Object.keys(lI));i.includes("fa")||i.push("fa");const l=[".".concat(L1,":not([").concat(ls,"])")].concat(i.map(h=>".".concat(h,":not([").concat(ls,"])"))).join(", ");if(l.length===0)return Promise.resolve();let u=[];try{u=gi(e.querySelectorAll(l))}catch{}if(u.length>0)r("pending"),s("complete");else return Promise.resolve();const f=Yh.begin("onTree"),d=u.reduce((h,g)=>{try{const y=rw(g);y&&h.push(y)}catch(y){D1||y.name==="MissingIcon"&&console.error(y)}return h},[]);return new Promise((h,g)=>{Promise.all(d).then(y=>{tw(y,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),f(),h()})}).catch(y=>{f(),g(y)})})}function cI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;rw(e).then(n=>{n&&tw([n],t)})}function dI(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:zp(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:zp(s||{})),e(r,ee(ee({},n),{},{mask:s}))}}const fI=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=mr,symbol:r=!1,mask:s=null,maskId:i=null,title:l=null,titleId:u=null,classes:f=[],attributes:d={},styles:h={}}=t;if(!e)return;const{prefix:g,iconName:y,icon:v}=e;return Dc(ee({type:"icon"},e),()=>(us("beforeDOMElementCreation",{iconDefinition:e,params:t}),_e.autoA11y&&(l?d["aria-labelledby"]="".concat(_e.replacementClass,"-title-").concat(u||Io()):(d["aria-hidden"]="true",d.focusable="false")),Gh({icons:{main:$p(v),mask:s?$p(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:y,transform:ee(ee({},mr),n),symbol:r,title:l,maskId:i,titleId:u,extra:{attributes:d,styles:h,classes:f}})))};var pI={mixout(){return{icon:dI(fI)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Yv,e.nodeCallback=cI,e}}},provides(e){e.i2svg=function(t){const{node:n=dt,callback:r=()=>{}}=t;return Yv(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:i,prefix:l,transform:u,symbol:f,mask:d,maskId:h,extra:g}=n;return new Promise((y,v)=>{Promise.all([Up(r,l),d.iconName?Up(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(S=>{let[_,C]=S;y([t,Gh({icons:{main:_,mask:C},prefix:l,iconName:r,transform:u,symbol:f,maskId:h,title:s,titleId:i,extra:g,watchable:!0})])}).catch(v)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:i,styles:l}=t;const u=Rc(l);u.length>0&&(r.style=u);let f;return Wh(i)&&(f=Ca("generateAbstractTransformGrouping",{main:s,transform:i,containerWidth:s.width,iconWidth:s.width})),n.push(f||s.icon),{children:n,attributes:r}}}},hI={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Dc({type:"layer"},()=>{us("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(i=>{r=r.concat(i.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(_e.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},mI={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:i={}}=t;return Dc({type:"counter",content:e},()=>(us("beforeDOMElementCreation",{content:e,params:t}),ZE({content:e.toString(),title:n,extra:{attributes:s,styles:i,classes:["".concat(_e.cssPrefix,"-layers-counter"),...r]}})))}}}},gI={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=mr,title:r=null,classes:s=[],attributes:i={},styles:l={}}=t;return Dc({type:"text",content:e},()=>(us("beforeDOMElementCreation",{content:e,params:t}),qv({content:e,transform:ee(ee({},mr),n),title:r,extra:{attributes:i,styles:l,classes:["".concat(_e.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:i}=n;let l=null,u=null;if(I1){const f=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();l=d.width/f,u=d.height/f}return _e.autoA11y&&!r&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,qv({content:t.innerHTML,width:l,height:u,transform:s,title:r,extra:i,watchable:!0})])}}};const yI=new RegExp('"',"ug"),Kv=[1105920,1112319],Xv=ee(ee(ee(ee({},{FontAwesome:{normal:"fas",400:"fas"}}),$T),rE),YT),qp=Object.keys(Xv).reduce((e,t)=>(e[t.toLowerCase()]=Xv[t],e),{}),vI=Object.keys(qp).reduce((e,t)=>{const n=qp[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function xI(e){const t=e.replace(yI,""),n=CE(t,0),r=n>=Kv[0]&&n<=Kv[1],s=t.length===2?t[0]===t[1]:!1;return{value:Mp(s?t[0]:t),isSecondary:r||s}}function wI(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(qp[n]||{})[s]||vI[n]}function Qv(e,t){const n="".concat(aE).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const l=gi(e.children).filter(y=>y.getAttribute(Rp)===t)[0],u=_a.getComputedStyle(e,t),f=u.getPropertyValue("font-family"),d=f.match(uE),h=u.getPropertyValue("font-weight"),g=u.getPropertyValue("content");if(l&&!d)return e.removeChild(l),r();if(d&&g!=="none"&&g!==""){const y=u.getPropertyValue("content");let v=wI(f,h);const{value:S,isSecondary:_}=xI(y),C=d[0].startsWith("FontAwesome");let k=Jh(v,S),I=k;if(C){const E=PE(S);E.iconName&&E.prefix&&(k=E.iconName,v=E.prefix)}if(k&&!_&&(!l||l.getAttribute(Bh)!==v||l.getAttribute(Hh)!==I)){e.setAttribute(n,I),l&&e.removeChild(l);const E=oI(),{extra:P}=E;P.attributes[Rp]=t,Up(k,v).then(D=>{const A=Gh(ee(ee({},E),{},{icons:{main:D,mask:K1()},prefix:v,iconName:I,extra:P,watchable:!0})),$=dt.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore($,e.firstChild):e.appendChild($),$.outerHTML=A.map(K=>xl(K)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function bI(e){return Promise.all([Qv(e,"::before"),Qv(e,"::after")])}function SI(e){return e.parentNode!==document.head&&!~iE.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Rp)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function e0(e){if(Zr)return new Promise((t,n)=>{const r=gi(e.querySelectorAll("*")).filter(SI).map(bI),s=Yh.begin("searchPseudoElements");nw(),Promise.all(r).then(()=>{s(),Hp(),t()}).catch(()=>{s(),Hp(),n()})})}var _I={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=e0,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=dt}=t;_e.searchPseudoElements&&e0(n)}}};let t0=!1;var kI={mixout(){return{dom:{unwatch(){nw(),t0=!0}}}},hooks(){return{bootstrap(){Jv(Fp("mutationObserverCallbacks",{}))},noAuto(){rI()},watch(e){const{observeMutationsRoot:t}=e;t0?Hp():Jv(Fp("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const n0=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),i=s[0];let l=s.slice(1).join("-");if(i&&l==="h")return n.flipX=!0,n;if(i&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(i){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},t)};var CI={mixout(){return{parse:{transform:e=>n0(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=n0(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:i}=t;const l={transform:"translate(".concat(s/2," 256)")},u="translate(".concat(r.x*32,", ").concat(r.y*32,") "),f="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(u," ").concat(f," ").concat(d)},g={transform:"translate(".concat(i/2*-1," -256)")},y={outer:l,inner:h,path:g};return{tag:"g",attributes:ee({},y.outer),children:[{tag:"g",attributes:ee({},y.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:ee(ee({},n.icon.attributes),y.path)}]}]}}}};const Uf={x:0,y:0,width:"100%",height:"100%"};function r0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function TI(e){return e.tag==="g"?e.children:[e]}var EI={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Ac(n.split(" ").map(s=>s.trim())):K1();return r.prefix||(r.prefix=ka()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:i,maskId:l,transform:u}=t;const{width:f,icon:d}=s,{width:h,icon:g}=i,y=xE({transform:u,containerWidth:h,iconWidth:f}),v={tag:"rect",attributes:ee(ee({},Uf),{},{fill:"white"})},S=d.children?{children:d.children.map(r0)}:{},_={tag:"g",attributes:ee({},y.inner),children:[r0(ee({tag:d.tag,attributes:ee(ee({},d.attributes),y.path)},S))]},C={tag:"g",attributes:ee({},y.outer),children:[_]},k="mask-".concat(l||Io()),I="clip-".concat(l||Io()),E={tag:"mask",attributes:ee(ee({},Uf),{},{id:k,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[v,C]},P={tag:"defs",children:[{tag:"clipPath",attributes:{id:I},children:TI(g)},E]};return n.push(P,{tag:"rect",attributes:ee({fill:"currentColor","clip-path":"url(#".concat(I,")"),mask:"url(#".concat(k,")")},Uf)}),{children:n,attributes:r}}}},II={provides(e){let t=!1;_a.matchMedia&&(t=_a.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:ee(ee({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const i=ee(ee({},s),{},{attributeName:"opacity"}),l={tag:"circle",attributes:ee(ee({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||l.children.push({tag:"animate",attributes:ee(ee({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:ee(ee({},i),{},{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:ee(ee({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:ee(ee({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:ee(ee({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:ee(ee({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},NI={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},OI=[SE,pI,hI,mI,gI,_I,kI,CI,EI,II,NI];$E(OI,{mixoutsTo:kn});kn.noAuto;kn.config;kn.library;kn.dom;const Vp=kn.parse;kn.findIconDefinition;kn.toHtml;const PI=kn.icon;kn.layer;kn.text;kn.counter;var Bf={exports:{}},Hf,a0;function RI(){if(a0)return Hf;a0=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Hf=e,Hf}var qf,s0;function jI(){if(s0)return qf;s0=1;var e=RI();function t(){}function n(){}return n.resetWarningCache=t,qf=function(){function r(l,u,f,d,h,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},qf}var i0;function AI(){return i0||(i0=1,Bf.exports=jI()()),Bf.exports}var DI=AI();const qe=hi(DI);function o0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o0(Object(n),!0).forEach(function(r){Qs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ac(e){"@babel/helpers - typeof";return ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(e)}function Qs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MI(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function LI(e,t){if(e==null)return{};var n=MI(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wp(e){return FI(e)||zI(e)||$I(e)||UI()}function FI(e){if(Array.isArray(e))return Zp(e)}function zI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $I(e,t){if(e){if(typeof e=="string")return Zp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zp(e,t)}}function Zp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function UI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BI(e){var t,n=e.beat,r=e.fade,s=e.beatFade,i=e.bounce,l=e.shake,u=e.flash,f=e.spin,d=e.spinPulse,h=e.spinReverse,g=e.pulse,y=e.fixedWidth,v=e.inverse,S=e.border,_=e.listItem,C=e.flip,k=e.size,I=e.rotation,E=e.pull,P=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":i,"fa-shake":l,"fa-flash":u,"fa-spin":f,"fa-spin-reverse":h,"fa-spin-pulse":d,"fa-pulse":g,"fa-fw":y,"fa-inverse":v,"fa-border":S,"fa-li":_,"fa-flip":C===!0,"fa-flip-horizontal":C==="horizontal"||C==="both","fa-flip-vertical":C==="vertical"||C==="both"},Qs(t,"fa-".concat(k),typeof k<"u"&&k!==null),Qs(t,"fa-rotate-".concat(I),typeof I<"u"&&I!==null&&I!==0),Qs(t,"fa-pull-".concat(E),typeof E<"u"&&E!==null),Qs(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(P).map(function(D){return P[D]?D:null}).filter(function(D){return D})}function HI(e){return e=e-0,e===e}function aw(e){return HI(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var qI=["style"];function VI(e){return e.charAt(0).toUpperCase()+e.slice(1)}function WI(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=aw(n.slice(0,r)),i=n.slice(r+1).trim();return s.startsWith("webkit")?t[VI(s)]=i:t[s]=i,t},{})}function sw(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(f){return sw(e,f)}),s=Object.keys(t.attributes||{}).reduce(function(f,d){var h=t.attributes[d];switch(d){case"class":f.attrs.className=h,delete t.attributes.class;break;case"style":f.attrs.style=WI(h);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?f.attrs[d.toLowerCase()]=h:f.attrs[aw(d)]=h}return f},{attrs:{}}),i=n.style,l=i===void 0?{}:i,u=LI(n,qI);return s.attrs.style=fr(fr({},s.attrs.style),l),e.apply(void 0,[t.tag,fr(fr({},s.attrs),u)].concat(Wp(r)))}var iw=!1;try{iw=!0}catch{}function ZI(){if(!iw&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function l0(e){if(e&&ac(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Vp.icon)return Vp.icon(e);if(e===null)return null;if(e&&ac(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function Vf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Qs({},e,t):{}}var u0={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Je=$n.forwardRef(function(e,t){var n=fr(fr({},u0),e),r=n.icon,s=n.mask,i=n.symbol,l=n.className,u=n.title,f=n.titleId,d=n.maskId,h=l0(r),g=Vf("classes",[].concat(Wp(BI(n)),Wp((l||"").split(" ")))),y=Vf("transform",typeof n.transform=="string"?Vp.transform(n.transform):n.transform),v=Vf("mask",l0(s)),S=PI(h,fr(fr(fr(fr({},g),y),v),{},{symbol:i,title:u,titleId:f,maskId:d}));if(!S)return ZI("Could not find icon",h),null;var _=S.abstract,C={ref:t};return Object.keys(n).forEach(function(k){u0.hasOwnProperty(k)||(C[k]=n[k])}),JI(_[0],C)});Je.displayName="FontAwesomeIcon";Je.propTypes={beat:qe.bool,border:qe.bool,beatFade:qe.bool,bounce:qe.bool,className:qe.string,fade:qe.bool,flash:qe.bool,mask:qe.oneOfType([qe.object,qe.array,qe.string]),maskId:qe.string,fixedWidth:qe.bool,inverse:qe.bool,flip:qe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:qe.oneOfType([qe.object,qe.array,qe.string]),listItem:qe.bool,pull:qe.oneOf(["right","left"]),pulse:qe.bool,rotation:qe.oneOf([0,90,180,270]),shake:qe.bool,size:qe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:qe.bool,spinPulse:qe.bool,spinReverse:qe.bool,symbol:qe.oneOfType([qe.bool,qe.string]),title:qe.string,titleId:qe.string,transform:qe.oneOfType([qe.string,qe.object]),swapOpacity:qe.bool};var JI=sw.bind(null,$n.createElement);const Ve=O.forwardRef(({theme:e,children:t,className:n,isLoading:r,isBig:s,isSmall:i,isOutline:l,tooltip:u,tooltipPosition:f,isExtraSmall:d,isLoadingContent:h=w.jsx(Je,{icon:gT,spin:!0}),...g},y)=>{const v=O.useMemo(()=>{let _="btn ";switch(l&&(_+=" btn-outline"),e){case"primary":_+=" btn-primary";break;case"secondary":_+=" btn-secondary";break;case"danger":_+=" btn-error";break;case"success":_+=" btn-success";break;case"warning":_+=" btn-warning";break;case"info":_+=" btn-info";break;case"dark":_+=" btn-dark";break;case"light":_+=" btn-light";break;case"link":_+=" btn-link";break;case"ghost":_+=" btn-ghost";break;case"custom":_="";break;default:_+=" btn-primary";break}return n&&(_+=" "+n),s&&(_+=" btn-lg"),i&&(_+=" btn-sm"),d&&(_+=" btn-xs"),_},[l,e,n,s,i,d]),S={...g,className:v};return r&&(S.disabled=!0),u&&(S["data-tip"]=u,S.className+=" tooltip",f&&(S.className+=" tooltip-"+f)),w.jsx("button",{ref:y,...S,children:r?h:t})});Ve.displayName="Button";const rs=({theme:e,children:t,className:n,isLoading:r,isOutline:s,isBig:i,isButton:l,href:u,...f})=>{const d=O.useMemo(()=>{let g="link";switch(s&&(g+=" link-outline"),e){case"primary":g+=" link-primary";break;case"secondary":g+=" link-secondary";break;case"danger":g+=" link-danger";break;case"success":g+=" link-success";break;case"warning":g+=" link-warning";break;case"info":g+=" link-info";break;case"dark":g+=" link-dark";break;case"light":g+=" link-light";break;case"link":g+=" link-link";break;case"custom":g="";break;case"ghost":g+=" link-ghost";break;case"blank":g="";break;default:g+="";break}return n&&(g+=" "+n),i&&(g+=" btn-lg"),l&&(g=g.replace(/link/g,"btn")),g},[s,e,n,i,l]),h={...f,to:u||"#",className:d};return window.electron&&(u!=null&&u.startsWith("http"))&&(h.onClick=g=>{g.preventDefault(),os.goToUrl(u)}),r&&(h["aria-disabled"]=!0),w.jsx($h,{...h,children:t})},Xh=({label:e,options:t,description:n,className:r,...s})=>w.jsxs("div",{className:"w-full",children:[e&&w.jsx("label",{className:"block text-sm font-bold mb-2",children:e}),w.jsx("select",{className:`select select-bordered w-full ${r}`,...s,children:t.map(i=>w.jsx("option",{value:i.value,disabled:i.disabled,children:i.label},i.value))}),n&&w.jsx("p",{className:"opacity-70 text-xs italic mt-2",children:n})]}),ow=["Ollama","OpenAI","Anthropic","Google","DeepSeek","Mistral","xAI","Groq","Replicate","OpenAI Compatible"],Wf="juicebox-by-ai-juicing-user-settings",yr={get:async()=>{try{const e=localStorage.getItem(Wf);return e?JSON.parse(e):void 0}catch(e){throw console.error("Failed to get user settings:",e),e}},save:async e=>{try{const n={...await yr.get(),...e};return localStorage.setItem(Wf,JSON.stringify(n)),n}catch(t){throw console.error("Failed to save user settings:",t),t}},clear:async()=>{try{localStorage.removeItem(Wf)}catch(e){throw console.error("Failed to clear user settings:",e),e}}};class Zs{static async getFolders(){return(await yr.get()||{}).folders||[]}static async saveFolders(t){await yr.save({folders:t})}static async createFolder(t){const n=await this.getFolders(),r=n.length>0?Math.max(...n.map(i=>i.id))+1:1,s={...t,id:r};return n.push(s),await this.saveFolders(n),s}static async updateFolder(t,n){const r=await this.getFolders(),s=r.findIndex(i=>i.id===t);if(s===-1)throw new Error("Folder not found");r[s]={...r[s],...n},await this.saveFolders(r)}static async deleteFolder(t){const r=(await this.getFolders()).filter(s=>s.id!==t);await this.saveFolders(r)}static async getAllFolders(){return this.getFolders()}static async getFolderById(t){return(await this.getFolders()).find(r=>r.id===t)||null}}const lw=({setFolders:e})=>({toggle:async({folderId:t,isOpen:n})=>{await Zs.updateFolder(t,{isOpen:!n}),e(r=>r.map(s=>s.id===t?{...s,isOpen:!s.isOpen}:s))},rename:async({folderId:t,newName:n})=>{await Zs.updateFolder(t,{name:n}),e(r=>r.map(s=>s.id===t?{...s,name:n}:s))},delete:async({folderId:t})=>{await Zs.deleteFolder(t),e(n=>n.filter(r=>r.id!==t))},create:async({name:t})=>{if(!t.trim())return;let n=0;e(s=>(n=s.length,s));const r=await Zs.createFolder({id:1,name:t.trim(),type:"folder",isOpen:!0,parentId:null,order:n});e(s=>[...s,r])},move:async({dragId:t,hoverId:n})=>{let r=[];e(l=>{r=[...l].sort((g,y)=>g.order-y.order);const u=r.findIndex(g=>g.id===t),f=r.findIndex(g=>g.id===n),d=r[u],h=[...r];return h.splice(u,1),h.splice(f,0,d),h}),await Promise.all(r.map(async(l,u)=>{await Zs.updateFolder(l.id,{order:u})}));const i=(await Zs.getAllFolders()).sort((l,u)=>l.order-u.order);e(i)}}),uw=({setUserSettings:e})=>({update:async t=>{const n=await yr.save(t);e(n)}});class ni{static async getConfigs(){return(await yr.get()||{}).aiServices||[]}static async saveConfigs(t){await yr.save({aiServices:t})}static async createConfig(t){const n=await this.getConfigs(),r=n.length>0?Math.max(...n.map(i=>i.id))+1:1,s={...t,id:r};return n.push(s),await this.saveConfigs(n),s}static async updateConfig(t,n){const r=await this.getConfigs(),s=r.findIndex(i=>i.id===t);if(s===-1)throw new Error("Config not found");r[s]={...r[s],...n},await this.saveConfigs(r)}static async deleteConfig(t){const r=(await this.getConfigs()).filter(s=>s.id!==t);await this.saveConfigs(r)}static async getAllConfigs(){return this.getConfigs()}static async getConfigById(t){const r=(await this.getConfigs()).find(s=>s.id===t);if(!r)throw new Error("Config not found");return r}static async setDefaultConfig(t){const n=await this.getConfigs();if(!n.find(i=>i.id===t))throw new Error("Config not found");const s=n.map(i=>({...i,isDefault:i.id===t}));await this.saveConfigs(s)}}const cw=({setAiServices:e})=>({create:async t=>{const n=await ni.createConfig(t);e(r=>[...r,n])},update:async({configId:t,updates:n})=>{await ni.updateConfig(t,n),e(r=>r.map(s=>s.id===t?{...s,...n}:s))},delete:async({configId:t})=>{await ni.deleteConfig(t),e(n=>n.filter(r=>r.id!==t))},setDefault:async({configId:t})=>{e(n=>n.map(s=>({...s,isDefault:s.id===t})))}}),GI=2,YI=["llm-configs","conversations","folders","chats"];class KI{constructor(t){ya(this,"dbName","ai-juicing-juicebox");ya(this,"storeName");ya(this,"version",GI);ya(this,"db",null);ya(this,"initPromise");this.storeName=t,this.initPromise=this.init()}async init(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onupgradeneeded=()=>{const s=r.result;YI.forEach(i=>{s.objectStoreNames.contains(i)||s.createObjectStore(i,{keyPath:"id",autoIncrement:!0})})},r.onsuccess=()=>{this.db=r.result,t()},r.onerror=()=>{console.error(r.error),n(r.error)}})}async getStore(t){if(await this.initPromise,!this.db)throw new Error("Database not initialized");return this.db.transaction(this.storeName,t).objectStore(this.storeName)}create(t){return new Promise((n,r)=>{(async()=>{try{const s=await this.getStore("readwrite");delete t.id;const i=s.add(t);i.onsuccess=()=>{n({...t,id:i.result})},i.onerror=()=>{console.error(i.error),r(i.error)}}catch(s){r(s)}})()})}update(t,n){return new Promise((r,s)=>{(async()=>{try{const i=await this.getStore("readwrite"),l=i.get(t);l.onsuccess=()=>{const u={...l.result,...n},f=i.put(u);f.onsuccess=()=>{r()},f.onerror=()=>{s(f.error)}},l.onerror=()=>{s(l.error)}}catch(i){s(i)}})()})}delete(t){return new Promise((n,r)=>{(async()=>{try{const i=(await this.getStore("readwrite")).delete(t);i.onsuccess=()=>{n()},i.onerror=()=>{r(i.error)}}catch(s){r(s)}})()})}getAll(){return new Promise((t,n)=>{(async()=>{try{const s=(await this.getStore("readonly")).getAll();s.onsuccess=()=>{t(s.result)},s.onerror=()=>{n(s.error)}}catch(r){n(r)}})()})}getById(t){return new Promise((n,r)=>{(async()=>{try{const i=(await this.getStore("readonly")).get(t);i.onsuccess=()=>{i.result?n(i.result):r(new Error("Item not found"))},i.onerror=()=>{r(i.error)}}catch(s){r(s)}})()})}search(t,n=1,r=10){return new Promise((s,i)=>{(async()=>{try{const u=(await this.getStore("readonly")).openCursor(),f=[];let d=0;u.onsuccess=()=>{const h=u.result;if(h){const g=h.value;(t===""||JSON.stringify(g).toLowerCase().includes(t.toLowerCase()))&&(d>=(n-1)*r&&f.length<r&&f.push(g),d++),h.continue()}else s(f)},u.onerror=()=>{i(u.error)}}catch(l){i(l)}})()})}}function bo(e){return new KI(e)}class ba{static create(t){return this.dbService.create(t)}static update(t,n){return this.dbService.update(t,n)}static delete(t){return this.dbService.delete(t)}static getAll(){return this.dbService.getAll()}static getDefaults(){return this.dbService.getAll()}static getById(t){return this.dbService.getById(t)}static search(t,n=1,r=10){return this.dbService.search(t,n,r)}}ya(ba,"dbService",bo("conversations"));const dw=({setConversations:e})=>({create:async t=>{const n=await ba.create(t);return e(r=>[n,...r]),n},rename:async({id:t,newName:n})=>{await ba.update(t,{name:n}),e(r=>r.map(s=>s.id===t?{...s,name:n}:s).sort((s,i)=>new Date(i.updatedAt).getTime()-new Date(s.updatedAt).getTime()))},delete:async({id:t})=>{await ba.delete(t),e(n=>n.filter(r=>r.id!==t))},update:async({id:t,partial:n})=>{await ba.update(t,n),e(r=>r.map(s=>s.id===t?{...s,...n}:s).sort((s,i)=>new Date(i.updatedAt).getTime()-new Date(s.updatedAt).getTime()))}}),Au=e=>e,ho={userSettings:{},folders:[],aiServices:[],conversations:[],actions:{userSettings:uw({setUserSettings:Au}),folders:lw({setFolders:Au}),aiServices:cw({setAiServices:Au}),conversations:dw({setConversations:Au})}},c0=e=>{document.documentElement.setAttribute("data-theme",e)},fw=O.createContext(ho),XI=({children:e})=>{const[t,n]=O.useState(ho.userSettings),[r,s]=O.useState(ho.folders),[i,l]=O.useState(ho.aiServices),[u,f]=O.useState(ho.conversations),d=O.useRef(!1);O.useEffect(()=>{d.current||yr.get().then(C=>{if(d.current=!0,console.log("User settings loaded",C),!C)return;const{folders:k,aiServices:I,...E}=C;n(E),s(k||[]),l(I||[]),E.theme&&c0(E.theme||"dim")})},[]);const h=O.useCallback(async()=>{const k=(await ba.getDefaults()).sort((I,E)=>new Date(E.updatedAt).getTime()-new Date(I.updatedAt).getTime());f(k)},[]);O.useEffect(()=>{h()},[h]),O.useEffect(()=>{d.current&&t!=null&&t.theme&&c0(t.theme||"dim")},[t==null?void 0:t.theme]),O.useEffect(()=>{d.current&&t&&yr.save(t)},[t]),O.useEffect(()=>{d.current&&yr.save({folders:r})},[r]),O.useEffect(()=>{d.current&&yr.save({aiServices:i})},[i]);const g=O.useCallback(()=>lw({setFolders:s}),[]),y=O.useCallback(()=>cw({setAiServices:l}),[]),v=O.useCallback(()=>uw({setUserSettings:n}),[]),S=O.useCallback(()=>dw({setConversations:f}),[]),_=O.useMemo(()=>({userSettings:t,folders:r,aiServices:i,conversations:u,actions:{userSettings:v(),folders:g(),aiServices:y(),conversations:S()}}),[t,r,i,u,v,g,y,S]);return w.jsx(fw.Provider,{value:_,children:e})},Tr=()=>{const e=O.useContext(fw);if(!e)throw new Error("useMainContext must be used within a MainContextProvider");return e};async function pw({url:e}){if(!e)return console.error("Invalid URL"),{success:!1,message:"Invalid URL",models:[]};try{const t=await fetch(e+"/tags");if(!t.ok)return console.error("Network response was not ok"),{success:!1,message:"Network response was not ok",models:[]};const n=await t.json();return n?n.models?{success:!0,message:"Successfully fetched models",models:n.models}:(console.error("Invalid response (Models)"),{success:!1,message:"Invalid response (Models)",models:[]}):(console.error("Invalid response (Data)"),{success:!1,message:"Invalid response (Data)",models:[]})}catch(t){return console.error("Failed to fetch models",t),{success:!1,message:"Failed to fetch models",models:[]}}}const hw=({label:e,theme:t="primary",isSmall:n,isBig:r,className:s="",checked:i=!1,onChange:l,setTextToLeft:u=!1,...f})=>{const d=O.useMemo(()=>{const g=["radio"];switch(t){case"primary":g.push("radio-primary");break;case"secondary":g.push("radio-secondary");break;case"accent":g.push("radio-accent");break;case"success":g.push("radio-success");break;case"warning":g.push("radio-warning");break;case"info":g.push("radio-info");break;case"error":g.push("radio-error");break;case"custom":break;default:g.push("radio-primary");break}return n&&g.push("radio-sm"),r&&g.push("radio-lg"),s&&g.push(s),g.join(" ")},[t,n,r,s]),h=g=>{l&&l(g)};return w.jsx("div",{className:"form-control",children:w.jsxs("label",{className:"label cursor-pointer flex flex-row items-center gap-2",children:[u&&w.jsx("span",{className:"label-text",children:e}),w.jsx("input",{type:"radio",className:d,checked:i,onChange:h,...f}),!u&&w.jsx("span",{className:"label-text",children:e})]})})},Jp=({initialValues:e,configId:t,afterSubmit:n})=>{const{actions:r,aiServices:s}=Tr(),[i,l]=O.useState(e||{id:1,name:"",service:"Ollama",url:"",apiKey:"",models:[]}),[u,f]=O.useState(!1),[d,h]=O.useState(null),[g,y]=O.useState(null),v=I=>{l({...i,[I.target.name]:I.target.value})},S=I=>{l({...i,[I.target.name]:I.target.value})},_=I=>{l(E=>{var P;return{...E,models:(P=E.models)==null?void 0:P.map(D=>({...D,isDefault:D.name===I}))}})},C=async I=>{I.preventDefault();try{if(t)await r.aiServices.update({configId:t,updates:i});else{const E=!s.some(P=>P.service===i.service);await r.aiServices.create({...i,isDefault:E})}n&&n()}catch(E){console.error(E)}},k=async()=>{f(!0),h(null),y(null);try{if(!i.url){h("Please enter a URL");return}const I=await pw({url:i.url});if(!I.success){h(I.message);return}const E=I.models.map(P=>({name:P.name,isDefault:!1}));E.length>0&&(E[0].isDefault=!0),l(P=>({...P,models:E})),y(`Successfully loaded ${E.length} models`)}catch(I){h(I instanceof Error?I.message:"Failed to test connection")}finally{f(!1)}};return w.jsxs("form",{onSubmit:C,className:"max-w-sm mx-auto p-4 bg-base-100 rounded space-y-4 text-left",children:[w.jsx(Xh,{label:"Service",name:"service",value:i.service,onChange:S,options:[...ow.map(I=>({label:I,value:I}))]}),i.service==="Ollama"&&w.jsxs(w.Fragment,{children:[w.jsx(Mf,{label:"URL",name:"url",type:"text",placeholder:"Ex: http://localhost:11434",value:i.url,onChange:v,topRight:w.jsx(w.Fragment,{children:w.jsx(Ve,{type:"button",onClick:()=>{l({...i,url:"http://localhost:11434/api"})},theme:"ghost",isOutline:!0,className:"btn-xs",children:"LOCAL"})})}),w.jsxs("div",{className:"space-y-2",children:[w.jsxs(Ve,{type:"button",onClick:k,isLoading:u,disabled:!i.url,theme:"secondary",className:"w-full",children:[w.jsx(Je,{icon:vo,className:"mr-2"}),"Test Connection & Load Models"]}),d&&w.jsx(Qu,{type:"error",children:d}),g&&w.jsx(Qu,{type:"success",children:g}),i.models&&i.models.length>0&&w.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:i.models.map(I=>w.jsx("li",{children:w.jsxs("button",{type:"button",onClick:()=>_(I.name),className:"w-full flex items-center gap-2 p-2 hover:bg-base-200 rounded-lg",children:[w.jsx(hw,{name:"default-model",checked:!!I.isDefault,readOnly:!0,value:I.name,label:""}),w.jsx("span",{className:"flex-grow text-left",children:I.name})]})},I.name))})]})]}),i.service!=="Ollama"&&w.jsx(w.Fragment,{children:w.jsx(Mf,{label:"API Key",name:"apiKey",type:"password",placeholder:`Enter your ${i.service} API key`,value:i.apiKey||"",onChange:v})}),w.jsx(Mf,{label:"Name",name:"name",description:"Optional: Useful if you have have multiple API keys or URLs for the same service.",placeholder:"Ex: Base, ...",type:"text",value:i.name,onChange:v}),w.jsx(Ve,{type:"submit",theme:"primary",children:"Save"})]})},d0={Ollama:{name:"Ollama",description:"Run large language models locally",logo:"/models/ollama.svg"},OpenAI:{name:"OpenAI",description:"Leading AI research company behind ChatGPT",logo:"/models/openai.svg"},Anthropic:{name:"Anthropic",description:"AI research company focused on safe and ethical AI",logo:"/models/anthropic.svg"},Google:{name:"Google",description:"Google's AI and machine learning solutions",logo:"/models/google.svg"},DeepSeek:{name:"DeepSeek",description:"Advanced AI models for various applications",logo:"/models/dot.svg"},Mistral:{name:"Mistral AI",description:"European AI company with powerful language models",logo:"/models/mistral.svg"},xAI:{name:"xAI",description:"AI company founded by Elon Musk",logo:"/models/dot.svg"},Groq:{name:"Groq",description:"High-performance AI inference platform",logo:"/models/groq.svg"},Replicate:{name:"Replicate",description:"Platform for running AI models in the cloud",logo:"/models/dot.svg"},"OpenAI Compatible":{name:"OpenAI Compatible",description:"Services compatible with OpenAI's API",logo:"/models/dot.svg"}},QI=({goToNextStep:e})=>w.jsxs("div",{className:"space-y-8 text-center h-full flex flex-col justify-center",children:[w.jsx("p",{className:"text-4xl  font-medium",children:"AI freedom is here."}),w.jsx("p",{className:"text-xl",children:"Use any and all AIs or local AIs for full privacy."}),w.jsx("div",{className:"relative overflow-hidden h-16",children:w.jsx("div",{className:"flex space-x-4 items-center justify-center h-16 flex-shrink-0",children:Object.keys(d0).map((t,n)=>{const r=d0[t];return r.logo.includes("dot")?null:w.jsx("div",{className:"flex-shrink-0",children:w.jsx("img",{src:`${r.logo}`,alt:r.name,className:"h-16"})},n)})})}),w.jsx("div",{className:"divider uppercase font-medium",children:"WITH"}),w.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{title:"Chat",description:"Just like you see everywhere."},{title:"Text editor",description:"Co-write with AI, "},{title:"Repeat",description:"Build a prompt and get a response. Rinse and Repeat. Perfect things you do often."},{title:"Chain",description:"Create prompts that feed each other to get exactly what you want."}].map((t,n)=>w.jsxs("div",{className:"flex flex-col items-center justify-start space-y-2 bg-base-300 p-4 rounded-xl",children:[w.jsx("p",{className:"text-xl font-black tracking-wider uppercase",children:t.title}),w.jsx("p",{className:"text-sm w-full text-left",children:t.description})]},n))}),w.jsx(Ve,{theme:"primary",isBig:!0,onClick:e,children:"Get Started"})]}),eN=({goToNextStep:e})=>{const[t,n]=O.useState(!0),[r,s]=O.useState(!0);O.useEffect(()=>{(async()=>{s(!0);const u=await os.ollamaInstallCheck();n(u),s(!1)})()},[]);const i="w-full border-4 text-center border-primary hover:bg-primary block rounded-xl py-4 font-black text-lg tracking-widest";return w.jsxs("div",{className:"space-y-8 text-center h-full flex flex-col justify-center",children:[w.jsxs("p",{className:"text-4xl font-medium",children:["For the best privacy,",w.jsx("br",{})," we recommend"]}),w.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-2",children:[w.jsx("div",{className:"mx-auto",children:w.jsxs("svg",{className:"h-20",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[w.jsx("title",{children:"Ollama"}),w.jsx("path",{fill:"#F2f2f2",d:"M16.361 10.26a.894.894 0 0 0-.558.47l-.072.148.001.207c0 .193.004.217.059.353.076.193.152.312.291.448.24.238.51.3.872.205a.86.86 0 0 0 .517-.436.752.752 0 0 0 .08-.498c-.064-.453-.33-.782-.724-.897a1.06 1.06 0 0 0-.466 0zm-9.203.005c-.305.096-.533.32-.65.639a1.187 1.187 0 0 0-.06.52c.057.309.31.59.598.667.362.095.632.033.872-.205.14-.136.215-.255.291-.448.055-.136.059-.16.059-.353l.001-.207-.072-.148a.894.894 0 0 0-.565-.472 1.02 1.02 0 0 0-.474.007Zm4.184 2c-.131.071-.223.25-.195.383.031.143.157.288.353.407.105.063.112.072.117.136.004.038-.01.146-.029.243-.02.094-.036.194-.036.222.002.074.07.195.143.253.064.052.076.054.255.059.164.005.198.001.264-.03.169-.082.212-.234.15-.525-.052-.243-.042-.28.087-.355.137-.08.281-.219.324-.314a.365.365 0 0 0-.175-.48.394.394 0 0 0-.181-.033c-.126 0-.207.03-.355.124l-.085.053-.053-.032c-.219-.13-.259-.145-.391-.143a.396.396 0 0 0-.193.032zm.39-2.195c-.373.036-.475.05-.654.086-.291.06-.68.195-.951.328-.94.46-1.589 1.226-1.787 2.114-.04.176-.045.234-.045.53 0 .294.005.357.043.524.264 1.16 1.332 2.017 2.714 2.173.3.033 1.596.033 1.896 0 1.11-.125 2.064-.727 2.493-1.571.114-.226.169-.372.22-.602.039-.167.044-.23.044-.523 0-.297-.005-.355-.045-.531-.288-1.29-1.539-2.304-3.072-2.497a6.873 6.873 0 0 0-.855-.031zm.645.937a3.283 3.283 0 0 1 1.44.514c.223.148.537.458.671.662.166.251.26.508.303.82.02.143.01.251-.043.482-.08.345-.332.705-.672.957a3.115 3.115 0 0 1-.689.348c-.382.122-.632.144-1.525.138-.582-.006-.686-.01-.853-.042-.57-.107-1.022-.334-1.35-.68-.264-.28-.385-.535-.45-.946-.03-.192.025-.509.137-.776.136-.326.488-.73.836-.963.403-.269.934-.46 1.422-.512.187-.02.586-.02.773-.002zm-5.503-11a1.653 1.653 0 0 0-.683.298C5.617.74 5.173 1.666 4.985 2.819c-.07.436-.119 1.04-.119 1.503 0 .544.064 1.24.155 1.721.02.107.031.202.023.208a8.12 8.12 0 0 1-.187.152 5.324 5.324 0 0 0-.949 1.02 5.49 5.49 0 0 0-.94 2.339 6.625 6.625 0 0 0-.023 1.357c.091.78.325 1.438.727 2.04l.13.195-.037.064c-.269.452-.498 1.105-.605 1.732-.084.496-.095.629-.095 1.294 0 .67.009.803.088 1.266.095.555.288 1.143.503 1.534.071.128.243.393.264.407.007.003-.014.067-.046.141a7.405 7.405 0 0 0-.548 1.873c-.062.417-.071.552-.071.991 0 .56.031.832.148 1.279L3.42 24h1.478l-.05-.091c-.297-.552-.325-1.575-.068-2.597.117-.472.25-.819.498-1.296l.148-.29v-.177c0-.165-.003-.184-.057-.293a.915.915 0 0 0-.194-.25 1.74 1.74 0 0 1-.385-.543c-.424-.92-.506-2.286-.208-3.451.124-.486.329-.918.544-1.154a.787.787 0 0 0 .223-.531c0-.195-.07-.355-.224-.522a3.136 3.136 0 0 1-.817-1.729c-.14-.96.114-2.005.69-2.834.563-.814 1.353-1.336 2.237-1.475.199-.033.57-.028.776.01.226.04.367.028.512-.041.179-.085.268-.19.374-.431.093-.215.165-.333.36-.576.234-.29.46-.489.822-.729.413-.27.884-.467 1.352-.561.17-.035.25-.04.569-.04.319 0 .398.005.569.04a4.07 4.07 0 0 1 1.914.997c.117.109.398.457.488.602.034.057.095.177.132.267.105.241.195.346.374.43.14.068.286.082.503.045.343-.058.607-.053.943.016 1.144.23 2.14 1.173 2.581 2.437.385 1.108.276 2.267-.296 3.153-.097.15-.193.27-.333.419-.301.322-.301.722-.001 1.053.493.539.801 1.866.708 3.036-.062.772-.26 1.463-.533 1.854a2.096 2.096 0 0 1-.224.258.916.916 0 0 0-.194.25c-.054.109-.057.128-.057.293v.178l.148.29c.248.476.38.823.498 1.295.253 1.008.231 2.01-.059 2.581a.845.845 0 0 0-.044.098c0 .006.329.009.732.009h.73l.02-.074.036-.134c.019-.076.057-.3.088-.516.029-.217.029-1.016 0-1.258-.11-.875-.295-1.57-.597-2.226-.032-.074-.053-.138-.046-.141.008-.005.057-.074.108-.152.376-.569.607-1.284.724-2.228.031-.26.031-1.378 0-1.628-.083-.645-.182-1.082-.348-1.525a6.083 6.083 0 0 0-.329-.7l-.038-.064.131-.194c.402-.604.636-1.262.727-2.04a6.625 6.625 0 0 0-.024-1.358 5.512 5.512 0 0 0-.939-2.339 5.325 5.325 0 0 0-.95-1.02 8.097 8.097 0 0 1-.186-.152.692.692 0 0 1 .023-.208c.208-1.087.201-2.443-.017-3.503-.19-.924-.535-1.658-.98-2.082-.354-.338-.716-.482-1.15-.455-.996.059-1.8 1.205-2.116 3.01a6.805 6.805 0 0 0-.097.726c0 .036-.007.066-.015.066a.96.96 0 0 1-.149-.078A4.857 4.857 0 0 0 12 3.03c-.832 0-1.687.243-2.456.698a.958.958 0 0 1-.148.078c-.008 0-.015-.03-.015-.066a6.71 6.71 0 0 0-.097-.725C8.997 1.392 8.337.319 7.46.048a2.096 2.096 0 0 0-.585-.041Zm.293 1.402c.248.197.523.759.682 1.388.03.113.06.244.069.292.007.047.026.152.041.233.067.365.098.76.102 1.24l.002.475-.12.175-.118.178h-.278c-.324 0-.646.041-.954.124l-.238.06c-.033.007-.038-.003-.057-.144a8.438 8.438 0 0 1 .016-2.323c.124-.788.413-1.501.696-1.711.067-.05.079-.049.157.013zm9.825-.012c.17.126.358.46.498.888.28.854.36 2.028.212 3.145-.019.14-.024.151-.057.144l-.238-.06a3.693 3.693 0 0 0-.954-.124h-.278l-.119-.178-.119-.175.002-.474c.004-.669.066-1.19.214-1.772.157-.623.434-1.185.68-1.382.078-.062.09-.063.159-.012z"})]})}),w.jsx("span",{className:"font-black",children:"OLLAMA"}),w.jsx("span",{className:"italic",children:"Psss..it's free. Private & secure."})]}),r&&w.jsx(w.Fragment,{children:w.jsx(Qu,{type:"info",children:"Checking Ollama installation..."})}),!r&&!t&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex flex-row gap-4",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx(rs,{href:"https://ollama.com/download",className:`${i} no-underline`,children:"Download Ollama"}),w.jsxs("div",{className:"mt-4 w-full text-left px-3 text-sm opacity-70",children:[w.jsx("p",{children:"It's a 2 step process:"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsx("li",{children:"Download Ollama on their website"}),w.jsx("li",{children:"Install Ollama"})]})]})]}),w.jsxs("div",{className:"flex-1",children:[w.jsx(rs,{theme:"blank",className:`${i}`,onClick:e,children:"Use online models"}),w.jsxs("div",{className:"mt-4 w-full text-left px-3 text-sm opacity-70",children:[w.jsx("p",{children:"Use any and all AIs that you know of"}),w.jsxs("ol",{className:"list-decimal list-inside",children:[w.jsx("li",{children:"OpenAI - ChatGPT"}),w.jsx("li",{children:"DeepSeek"}),w.jsx("li",{children:"Anthropic"}),w.jsx("li",{children:"Gemini"}),w.jsx("li",{children:"..."})]})]})]})]})}),!r&&t&&w.jsxs(w.Fragment,{children:[w.jsx(Qu,{type:"info",children:" Very wise of you. It's installed."}),w.jsx("p",{children:"You may proceed."}),w.jsx("div",{children:w.jsx(Ve,{theme:"primary",isBig:!0,onClick:e,children:"Continue"})})]})]})},tN=()=>{const e=ys();return w.jsxs("div",{children:[w.jsx("p",{className:"text-xl text-center font-medium mb-2",children:"Setup your first AI"}),w.jsx(Jp,{afterSubmit:()=>{e("/chat")}})]})},nN=()=>{const[e,t]=O.useState(1),s={goToNextStep:()=>{t(i=>i+1)},goTo:i=>{t(i)}};return w.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-yellow-500 to-green-600 px-6 py-12",children:w.jsxs("div",{className:"p-10 flex flex-col h-full bg-base-200 rounded-lg shadow-lg space-y-4 max-w-2xl w-full",children:[w.jsxs("div",{className:"flex flex-col items-center justify-center",children:[w.jsx(b1,{className:"h-16"}),w.jsx(S1,{})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e===1&&w.jsx(QI,{...s}),e===2&&w.jsx(eN,{...s}),e===3&&w.jsx(tN,{...s})]})]})})},mw=O.createContext({dragDropManager:void 0});function Dn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var f0=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),p0=function(){return Math.random().toString(36).substring(7).split("").join(".")},h0={INIT:"@@redux/INIT"+p0(),REPLACE:"@@redux/REPLACE"+p0()};function rN(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function gw(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Dn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Dn(1));return n(gw)(e,t)}if(typeof e!="function")throw new Error(Dn(2));var s=e,i=t,l=[],u=l,f=!1;function d(){u===l&&(u=l.slice())}function h(){if(f)throw new Error(Dn(3));return i}function g(_){if(typeof _!="function")throw new Error(Dn(4));if(f)throw new Error(Dn(5));var C=!0;return d(),u.push(_),function(){if(C){if(f)throw new Error(Dn(6));C=!1,d();var I=u.indexOf(_);u.splice(I,1),l=null}}}function y(_){if(!rN(_))throw new Error(Dn(7));if(typeof _.type>"u")throw new Error(Dn(8));if(f)throw new Error(Dn(9));try{f=!0,i=s(i,_)}finally{f=!1}for(var C=l=u,k=0;k<C.length;k++){var I=C[k];I()}return _}function v(_){if(typeof _!="function")throw new Error(Dn(10));s=_,y({type:h0.REPLACE})}function S(){var _,C=g;return _={subscribe:function(I){if(typeof I!="object"||I===null)throw new Error(Dn(11));function E(){I.next&&I.next(h())}E();var P=C(E);return{unsubscribe:P}}},_[f0]=function(){return this},_}return y({type:h0.INIT}),r={dispatch:y,subscribe:g,getState:h,replaceReducer:v},r[f0]=S,r}function Me(e,t,...n){if(aN()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function aN(){return typeof process<"u"&&!0}function sN(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function iN(e,t){return e.filter(n=>n!==t)}function yw(e){return typeof e=="object"}function oN(e,t){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((i,l)=>{i===1&&s.push(l)}),s}function lN(e,t){return e.filter(n=>t.indexOf(n)>-1)}const Qh="dnd-core/INIT_COORDS",Mc="dnd-core/BEGIN_DRAG",em="dnd-core/PUBLISH_DRAG_SOURCE",Lc="dnd-core/HOVER",Fc="dnd-core/DROP",zc="dnd-core/END_DRAG";function m0(e,t){return{type:Qh,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const uN={type:Qh,payload:{clientOffset:null,sourceClientOffset:null}};function cN(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:l}=r,u=e.getMonitor(),f=e.getRegistry();e.dispatch(m0(i)),dN(n,u,f);const d=hN(n,u);if(d==null){e.dispatch(uN);return}let h=null;if(i){if(!l)throw new Error("getSourceClientOffset must be defined");fN(l),h=l(d)}e.dispatch(m0(i,h));const y=f.getSource(d).beginDrag(u,d);if(y==null)return;pN(y),f.pinSource(d);const v=f.getSourceType(d);return{type:Mc,payload:{itemType:v,item:y,sourceId:d,clientOffset:i||null,sourceClientOffset:h||null,isSourcePublic:!!s}}}}function dN(e,t,n){Me(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){Me(n.getSource(r),"Expected sourceIds to be registered.")})}function fN(e){Me(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function pN(e){Me(yw(e),"Item must be an object.")}function hN(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function mN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){mN(e,s,n[s])})}return e}function yN(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();vN(r),bN(r).forEach((l,u)=>{const f=xN(l,u,s,r),d={type:Fc,payload:{dropResult:gN({},n,f)}};e.dispatch(d)})}}function vN(e){Me(e.isDragging(),"Cannot call drop while not dragging."),Me(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function xN(e,t,n,r){const s=n.getTarget(e);let i=s?s.drop(r,e):void 0;return wN(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function wN(e){Me(typeof e>"u"||yw(e),"Drop result must either be an object or undefined.")}function bN(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function SN(e){return function(){const n=e.getMonitor(),r=e.getRegistry();_N(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:zc}}}function _N(e){Me(e.isDragging(),"Cannot call endDrag while not dragging.")}function Gp(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function kN(e){return function(n,{clientOffset:r}={}){CN(n);const s=n.slice(0),i=e.getMonitor(),l=e.getRegistry(),u=i.getItemType();return EN(s,l,u),TN(s,i,l),IN(s,i,l),{type:Lc,payload:{targetIds:s,clientOffset:r||null}}}}function CN(e){Me(Array.isArray(e),"Expected targetIds to be an array.")}function TN(e,t,n){Me(t.isDragging(),"Cannot call hover while not dragging."),Me(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];Me(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(s);Me(i,"Expected targetIds to be registered.")}}function EN(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],i=t.getTargetType(s);Gp(i,n)||e.splice(r,1)}}function IN(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function NN(e){return function(){if(e.getMonitor().isDragging())return{type:em}}}function ON(e){return{beginDrag:cN(e),publishDragSource:NN(e),hover:kN(e),drop:yN(e),endDrag:SN(e)}}class PN{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(i){return(...l)=>{const u=i.apply(t,l);typeof u<"u"&&n(u)}}const s=ON(this);return Object.keys(s).reduce((i,l)=>{const u=s[l];return i[l]=r(u),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function RN(e,t){return{x:e.x+t.x,y:e.y+t.y}}function vw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jN(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:vw(RN(t,r),n)}function AN(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:vw(t,n)}const So=[],tm=[];So.__IS_NONE__=!0;tm.__IS_ALL__=!0;function DN(e,t){return e===So?!1:e===tm||typeof t>"u"?!0:lN(t,e).length>0}class MN{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;Me(typeof t=="function","listener must be a function."),Me(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const l=this.store.getState(),u=l.stateId;try{u===s||u===s+1&&!DN(l.dirtyHandlerIds,r)||t()}finally{s=u}};return this.store.subscribe(i)}subscribeToOffsetChange(t){Me(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return Me(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(Me(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return Gp(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(Me(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();if(i&&!Gp(s,i))return!1;const l=this.getTargetIds();if(!l.length)return!1;const u=l.indexOf(t);return r?u===l.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return jN(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return AN(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const g0=typeof global<"u"?global:self,xw=g0.MutationObserver||g0.WebKitMutationObserver;function ww(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function LN(e){let t=1;const n=new xw(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const FN=typeof xw=="function"?LN:ww;class zN{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=FN(this.flush),this.requestErrorThrow=ww(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class $N{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class UN{create(t){const n=this.freeTasks,r=n.length?n.pop():new $N(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const bw=new zN,BN=new UN(bw.registerPendingError);function HN(e){bw.enqueueTask(BN.create(e))}const nm="dnd-core/ADD_SOURCE",rm="dnd-core/ADD_TARGET",am="dnd-core/REMOVE_SOURCE",$c="dnd-core/REMOVE_TARGET";function qN(e){return{type:nm,payload:{sourceId:e}}}function VN(e){return{type:rm,payload:{targetId:e}}}function WN(e){return{type:am,payload:{sourceId:e}}}function ZN(e){return{type:$c,payload:{targetId:e}}}function JN(e){Me(typeof e.canDrag=="function","Expected canDrag to be a function."),Me(typeof e.beginDrag=="function","Expected beginDrag to be a function."),Me(typeof e.endDrag=="function","Expected endDrag to be a function.")}function GN(e){Me(typeof e.canDrop=="function","Expected canDrop to be a function."),Me(typeof e.hover=="function","Expected hover to be a function."),Me(typeof e.drop=="function","Expected beginDrag to be a function.")}function Yp(e,t){if(t&&Array.isArray(e)){e.forEach(n=>Yp(n,!1));return}Me(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Fn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Fn||(Fn={}));let YN=0;function KN(){return YN++}function XN(e){const t=KN().toString();switch(e){case Fn.SOURCE:return`S${t}`;case Fn.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function y0(e){switch(e[0]){case"S":return Fn.SOURCE;case"T":return Fn.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function v0(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,i]}=n.next();if(i===t)return!0;r=!!s}while(!r);return!1}class QN{addSource(t,n){Yp(t),JN(n);const r=this.addHandler(Fn.SOURCE,t,n);return this.store.dispatch(qN(r)),r}addTarget(t,n){Yp(t,!0),GN(n);const r=this.addHandler(Fn.TARGET,t,n);return this.store.dispatch(VN(r)),r}containsHandler(t){return v0(this.dragSources,t)||v0(this.dropTargets,t)}getSource(t,n=!1){return Me(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return Me(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return Me(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return Me(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return y0(t)===Fn.SOURCE}isTargetId(t){return y0(t)===Fn.TARGET}removeSource(t){Me(this.getSource(t),"Expected an existing source."),this.store.dispatch(WN(t)),HN(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){Me(this.getTarget(t),"Expected an existing target."),this.store.dispatch(ZN(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);Me(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){Me(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=XN(t);return this.types.set(s,n),t===Fn.SOURCE?this.dragSources.set(s,r):t===Fn.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const e4=(e,t)=>e===t;function t4(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function n4(e,t,n=e4){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function r4(e=So,t){switch(t.type){case Lc:break;case nm:case rm:case $c:case am:return So;case Mc:case em:case zc:case Fc:default:return tm}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=oN(n,r);if(!(s.length>0||!n4(n,r)))return So;const l=r[r.length-1],u=n[n.length-1];return l!==u&&(l&&s.push(l),u&&s.push(u)),s}function a4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){a4(e,s,n[s])})}return e}const x0={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function i4(e=x0,t){const{payload:n}=t;switch(t.type){case Qh:case Mc:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Lc:return t4(e.clientOffset,n.clientOffset)?e:s4({},e,{clientOffset:n.clientOffset});case zc:case Fc:return x0;default:return e}}function o4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){o4(e,s,n[s])})}return e}const l4={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function u4(e=l4,t){const{payload:n}=t;switch(t.type){case Mc:return Js({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case em:return Js({},e,{isSourcePublic:!0});case Lc:return Js({},e,{targetIds:n.targetIds});case $c:return e.targetIds.indexOf(n.targetId)===-1?e:Js({},e,{targetIds:iN(e.targetIds,n.targetId)});case Fc:return Js({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case zc:return Js({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function c4(e=0,t){switch(t.type){case nm:case rm:return e+1;case am:case $c:return e-1;default:return e}}function d4(e=0){return e+1}function f4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){f4(e,s,n[s])})}return e}function h4(e={},t){return{dirtyHandlerIds:r4(e.dirtyHandlerIds,{type:t.type,payload:p4({},t.payload,{prevTargetIds:sN(e,"dragOperation.targetIds",[])})}),dragOffset:i4(e.dragOffset,t),refCount:c4(e.refCount,t),dragOperation:u4(e.dragOperation,t),stateId:d4(e.stateId)}}function m4(e,t=void 0,n={},r=!1){const s=g4(r),i=new MN(s,new QN(s)),l=new PN(s,i),u=e(l,t,n);return l.receiveBackend(u),l}function g4(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return gw(h4,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function y4(e,t){if(e==null)return{};var n=v4(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function v4(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let w0=0;const Gu=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var x4=O.memo(function(t){var{children:n}=t,r=y4(t,["children"]);const[s,i]=w4(r);return O.useEffect(()=>{if(i){const l=Sw();return++w0,()=>{--w0===0&&(l[Gu]=null)}}},[]),w.jsx(mw.Provider,{value:s,children:n})});function w4(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=b4(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function b4(e,t=Sw(),n,r){const s=t;return s[Gu]||(s[Gu]={dragDropManager:m4(e,t,n,r)}),s[Gu]}function Sw(){return typeof global<"u"?global:window}var Zf,b0;function S4(){return b0||(b0=1,Zf=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var l=i[s];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),Zf}var _4=S4();const k4=hi(_4),cs=typeof window<"u"?O.useLayoutEffect:O.useEffect;function C4(e,t,n){const[r,s]=O.useState(()=>t(e)),i=O.useCallback(()=>{const l=t(e);k4(r,l)||(s(l),n&&n())},[r,e,n]);return cs(i),[r,i]}function T4(e,t,n){const[r,s]=C4(e,t,n);return cs(function(){const l=e.getHandlerId();if(l!=null)return e.subscribeToStateChange(s,{handlerIds:[l]})},[e,s]),r}function _w(e,t,n){return T4(t,e||(()=>({})),()=>n.reconnect())}function kw(e,t){const n=[];return typeof e!="function"&&n.push(e),O.useMemo(()=>typeof e=="function"?e():e,n)}function E4(e){return O.useMemo(()=>e.hooks.dragSource(),[e])}function I4(e){return O.useMemo(()=>e.hooks.dragPreview(),[e])}let Jf=!1,Gf=!1;class N4{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){Me(!Jf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Jf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Jf=!1}}isDragging(){if(!this.sourceId)return!1;Me(!Gf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Gf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Gf=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Yf=!1;class O4{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;Me(!Yf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Yf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Yf=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function P4(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function R4(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function Kp(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;const u=Object.prototype.hasOwnProperty.bind(t);for(let f=0;f<i.length;f++){const d=i[f];if(!u(d))return!1;const h=e[d],g=t[d];if(s=void 0,s===!1||s===void 0&&h!==g)return!1}return!0}function Xp(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function j4(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function A4(e){return(t=null,n=null)=>{if(!O.isValidElement(t)){const i=t;return e(i,n),i}const r=t;return j4(r),D4(r,n?i=>e(i,n):e)}}function Cw(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=A4(r);t[n]=()=>s}}),t}function S0(e,t){typeof e=="function"?e(t):e.current=t}function D4(e,t){const n=e.ref;return Me(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?O.cloneElement(e,{ref:r=>{S0(n,r),S0(t,r)}}):O.cloneElement(e,{ref:t})}class M4{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Kp(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Kp(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=Cw({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Xp(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Xp(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class L4{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Kp(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=Cw({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Xp(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function yi(){const{dragDropManager:e}=O.useContext(mw);return Me(e!=null,"Expected drag drop context"),e}function F4(e,t){const n=yi(),r=O.useMemo(()=>new M4(n.getBackend()),[n]);return cs(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),cs(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function z4(){const e=yi();return O.useMemo(()=>new N4(e),[e])}class $4{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:i}=r;return i?i(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function U4(e,t,n){const r=O.useMemo(()=>new $4(e,t,n),[t,n]);return O.useEffect(()=>{r.spec=e},[e]),r}function B4(e){return O.useMemo(()=>{const t=e.type;return Me(t!=null,"spec.type must be defined"),t},[e])}function H4(e,t,n){const r=yi(),s=U4(e,t,n),i=B4(e);cs(function(){if(i!=null){const[u,f]=R4(i,s,r);return t.receiveHandlerId(u),n.receiveHandlerId(u),f}},[r,t,n,s,i])}function Tw(e,t){const n=kw(e);Me(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=z4(),s=F4(n.options,n.previewOptions);return H4(n,r,s),[_w(n.collect,r,s),E4(s),I4(s)]}function q4(e){return O.useMemo(()=>e.hooks.dropTarget(),[e])}function V4(e){const t=yi(),n=O.useMemo(()=>new L4(t.getBackend()),[t]);return cs(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function W4(){const e=yi();return O.useMemo(()=>new O4(e),[e])}function Z4(e){const{accept:t}=e;return O.useMemo(()=>(Me(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class J4{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function G4(e,t){const n=O.useMemo(()=>new J4(e,t),[t]);return O.useEffect(()=>{n.spec=e},[e]),n}function Y4(e,t,n){const r=yi(),s=G4(e,t),i=Z4(e);cs(function(){const[u,f]=P4(i,s,r);return t.receiveHandlerId(u),n.receiveHandlerId(u),f},[r,t,s,n,i.map(l=>l.toString()).join("|")])}function Ew(e,t){const n=kw(e),r=W4(),s=V4(n.options);return Y4(n,r,s),[_w(n.collect,r,s),q4(s)]}function Iw(e){let t=null;return()=>(t==null&&(t=e()),t)}function K4(e,t){return e.filter(n=>n!==t)}function X4(e,t){const n=new Set,r=i=>n.add(i);e.forEach(r),t.forEach(r);const s=[];return n.forEach(i=>s.push(i)),s}class Q4{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=X4(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=K4(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class eO{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Nw="__NATIVE_FILE__",Ow="__NATIVE_URL__",Pw="__NATIVE_TEXT__",Rw="__NATIVE_HTML__",_0=Object.freeze(Object.defineProperty({__proto__:null,FILE:Nw,HTML:Rw,TEXT:Pw,URL:Ow},Symbol.toStringTag,{value:"Module"}));function Kf(e,t,n){const r=t.reduce((s,i)=>s||e.getData(i),"");return r??n}const Qp={[Nw]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Rw]:{exposeProperties:{html:(e,t)=>Kf(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Ow]:{exposeProperties:{urls:(e,t)=>Kf(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Pw]:{exposeProperties:{text:(e,t)=>Kf(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function tO(e,t){const n=Qp[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new eO(n);return r.loadDataTransfer(t),r}function Xf(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Qp).filter(n=>{const r=Qp[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const nO=Iw(()=>/firefox/i.test(navigator.userAgent)),jw=Iw(()=>!!window.safari);class k0{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:i,c3s:l}=this;let u=n.length-1;if(t===n[u])return r[u];let f=0,d=l.length-1,h;for(;f<=d;){h=Math.floor(.5*(f+d));const v=n[h];if(v<t)f=h+1;else if(v>t)d=h-1;else return r[h]}u=Math.max(0,d);const g=t-n[u],y=g*g;return r[u]+s[u]*g+i[u]*y+l[u]*g*y}constructor(t,n){const{length:r}=t,s=[];for(let v=0;v<r;v++)s.push(v);s.sort((v,S)=>t[v]<t[S]?-1:1);const i=[],l=[];let u,f;for(let v=0;v<r-1;v++)u=t[v+1]-t[v],f=n[v+1]-n[v],i.push(u),l.push(f/u);const d=[l[0]];for(let v=0;v<i.length-1;v++){const S=l[v],_=l[v+1];if(S*_<=0)d.push(0);else{u=i[v];const C=i[v+1],k=u+C;d.push(3*k/((k+C)/S+(k+u)/_))}}d.push(l[l.length-1]);const h=[],g=[];let y;for(let v=0;v<d.length-1;v++){y=l[v];const S=d[v],_=1/i[v],C=S+d[v+1]-y-y;h.push((y-S-C)*_),g.push(C*_*_)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=h,this.c3s=g}}const rO=1;function Aw(e){const t=e.nodeType===rO?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Du(e){return{x:e.clientX,y:e.clientY}}function aO(e){var t;return e.nodeName==="IMG"&&(nO()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function sO(e,t,n,r){let s=e?t.width:n,i=e?t.height:r;return jw()&&e&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function iO(e,t,n,r,s){const i=aO(t),u=Aw(i?e:t),f={x:n.x-u.x,y:n.y-u.y},{offsetWidth:d,offsetHeight:h}=e,{anchorX:g,anchorY:y}=r,{dragPreviewWidth:v,dragPreviewHeight:S}=sO(i,t,d,h),_=()=>{let A=new k0([0,.5,1],[f.y,f.y/h*S,f.y+S-h]).interpolate(y);return jw()&&i&&(A+=(window.devicePixelRatio-1)*S),A},C=()=>new k0([0,.5,1],[f.x,f.x/d*v,f.x+v-d]).interpolate(g),{offsetX:k,offsetY:I}=s,E=k===0||k,P=I===0||I;return{x:E?k:C(),y:P?I:_()}}class oO{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function lO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){lO(e,s,n[s])})}return e}class uO{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=l=>this.handleDragStart(l,t),i=l=>this.handleSelectStart(l);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=l=>this.handleDragEnter(l,t),s=l=>this.handleDragOver(l,t),i=l=>this.handleDrop(l,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return C0({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return C0({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(_0).some(n=>_0[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=tO(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&Aw(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const l=Du(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:l});const{dataTransfer:u}=s,f=Xf(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const h=this.monitor.getSourceId(),g=this.sourceNodes.get(h),y=this.sourcePreviewNodes.get(h)||g;if(y){const{anchorX:v,anchorY:S,offsetX:_,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),E=iO(g,y,l,{anchorX:v,anchorY:S},{offsetX:_,offsetY:C});u.setDragImage(y,E.x,E.y)}}try{u==null||u.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(f)this.beginDragNativeItem(f);else{if(u&&!u.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:u}=s,f=Xf(u);f&&this.beginDragNativeItem(f,u)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Du(s)}),i.some(u=>this.monitor.canDropOnTarget(u))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Du(s),this.scheduleHover(i),(i||[]).some(u=>this.monitor.canDropOnTarget(u))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else Xf(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Du(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new oO(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Q4(this.isNodeInDocument)}}const cO=function(t,n,r){return new uO(t,n,r)},Mu=43200,T0=1440,E0=Symbol.for("constructDateFrom");function sm(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&E0 in e?e[E0](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ta(e,t){return sm(e,e)}let dO={};function fO(){return dO}function I0(e){const t=Ta(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function im(e,...t){const n=sm.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Yu(e,t){const n=+Ta(e)-+Ta(t);return n<0?-1:n>0?1:n}function pO(e){return sm(e,Date.now())}function hO(e,t,n){const[r,s]=im(n==null?void 0:n.in,e,t),i=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return i*12+l}function mO(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function gO(e,t){return+Ta(e)-+Ta(t)}function yO(e,t){const n=Ta(e);return n.setHours(23,59,59,999),n}function vO(e,t){const n=Ta(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function xO(e,t){const n=Ta(e);return+yO(n)==+vO(n)}function wO(e,t,n){const[r,s,i]=im(n==null?void 0:n.in,e,e,t),l=Yu(s,i),u=Math.abs(hO(s,i));if(u<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*u);let f=Yu(s,i)===-l;xO(r)&&u===1&&Yu(r,i)===1&&(f=!1);const d=l*(u-+f);return d===0?0:d}function bO(e,t,n){const r=gO(e,t)/1e3;return mO(n==null?void 0:n.roundingMethod)(r)}const SO={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_O=(e,t,n)=>{let r;const s=SO[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Qf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kO={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},CO={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TO={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EO={date:Qf({formats:kO,defaultWidth:"full"}),time:Qf({formats:CO,defaultWidth:"full"}),dateTime:Qf({formats:TO,defaultWidth:"full"})},IO={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NO=(e,t,n,r)=>IO[e];function so(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const OO={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PO={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RO={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jO={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},AO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},LO={ordinalNumber:MO,era:so({values:OO,defaultWidth:"wide"}),quarter:so({values:PO,defaultWidth:"wide",argumentCallback:e=>e-1}),month:so({values:RO,defaultWidth:"wide"}),day:so({values:jO,defaultWidth:"wide"}),dayPeriod:so({values:AO,defaultWidth:"wide",formattingValues:DO,defaultFormattingWidth:"wide"})};function io(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(u)?zO(u,g=>g.test(l)):FO(u,g=>g.test(l));let d;d=e.valueCallback?e.valueCallback(f):f,d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(l.length);return{value:d,rest:h}}}function FO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function zO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $O(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const UO=/^(\d+)(th|st|nd|rd)?/i,BO=/\d+/i,HO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qO={any:[/^b/i,/^(a|c)/i]},VO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},WO={any:[/1/i,/2/i,/3/i,/4/i]},ZO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QO={ordinalNumber:$O({matchPattern:UO,parsePattern:BO,valueCallback:e=>parseInt(e,10)}),era:io({matchPatterns:HO,defaultMatchWidth:"wide",parsePatterns:qO,defaultParseWidth:"any"}),quarter:io({matchPatterns:VO,defaultMatchWidth:"wide",parsePatterns:WO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:io({matchPatterns:ZO,defaultMatchWidth:"wide",parsePatterns:JO,defaultParseWidth:"any"}),day:io({matchPatterns:GO,defaultMatchWidth:"wide",parsePatterns:YO,defaultParseWidth:"any"}),dayPeriod:io({matchPatterns:KO,defaultMatchWidth:"any",parsePatterns:XO,defaultParseWidth:"any"})},e3={code:"en-US",formatDistance:_O,formatLong:EO,formatRelative:NO,localize:LO,match:QO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function t3(e,t,n){const r=fO(),s=(n==null?void 0:n.locale)??r.locale??e3,i=2520,l=Yu(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[f,d]=im(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),h=bO(d,f),g=(I0(d)-I0(f))/1e3,y=Math.round((h-g)/60);let v;if(y<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):y===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",y,u);if(y<45)return s.formatDistance("xMinutes",y,u);if(y<90)return s.formatDistance("aboutXHours",1,u);if(y<T0){const S=Math.round(y/60);return s.formatDistance("aboutXHours",S,u)}else{if(y<i)return s.formatDistance("xDays",1,u);if(y<Mu){const S=Math.round(y/T0);return s.formatDistance("xDays",S,u)}else if(y<Mu*2)return v=Math.round(y/Mu),s.formatDistance("aboutXMonths",v,u)}if(v=wO(d,f),v<12){const S=Math.round(y/Mu);return s.formatDistance("xMonths",S,u)}else{const S=v%12,_=Math.trunc(v/12);return S<3?s.formatDistance("aboutXYears",_,u):S<9?s.formatDistance("overXYears",_,u):s.formatDistance("almostXYears",_+1,u)}}function Dw(e,t){return t3(e,pO(e),t)}const n3=({color:e="inherit",className:t="h-8"})=>w.jsx("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),r3=({color:e="inherit",className:t="h-8"})=>w.jsxs("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),w.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]}),a3=({color:e,className:t="h-8"})=>w.jsx("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:w.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),Mw=({item:e,depth:t,isActive:n})=>{const r=ys(),[s,i]=O.useState(!1),[l,u]=O.useState(e.name),f=O.useRef(null),d=Tr(),[{isDragging:h},g]=Tw(()=>({type:"FILE_ITEM",item:{id:e.id},collect:I=>({isDragging:I.isDragging()})})),[{isOver:y},v]=Ew(()=>({accept:"FILE_ITEM",drop:I=>{I.id,e.id},collect:I=>({isOver:I.isOver()})})),S=()=>{i(!0)},_=()=>{l.trim()&&d.actions.conversations.rename({id:e.id,newName:l}),i(!1)};O.useEffect(()=>{s&&f.current&&f.current.focus()},[s]);const C=12+t*12,k=O.useMemo(()=>e.name?e.name:"updatedAt"in e?`Conversation: ${Dw(new Date(e.updatedAt))} ago`:"Untitled",[e]);return w.jsx("li",{ref:I=>g(v(I)),children:w.jsxs("a",{href:`#chat/${e.id}`,className:`relative flex items-center py-1 hover:bg-slate-100/5 cursor-pointer group
			${n?"bg-primary/30":""}
		${h?"opacity-50 bg-slate-100/30":""} ${y?"bg-base-200":""}`,style:{paddingLeft:`${C}px`},children:[w.jsxs("div",{className:"flex items-center flex-1 py-1",children:[w.jsx("span",{className:"mr-2 ",children:w.jsx(a3,{color:"white",className:"h-4"})}),s&&w.jsx("form",{onSubmit:I=>{I.preventDefault(),_()},children:w.jsx("input",{"aria-label":"Rename item",ref:f,type:"text",value:l,onChange:I=>u(I.target.value),onBlur:_,onKeyDown:I=>{I.key==="Escape"&&(u(e.name),i(!1))},className:"border rounded px-1"})}),!s&&w.jsx(w.Fragment,{children:w.jsx("span",{className:"flex-1 pr-6 border border-transparent line-clamp-1",onClick:()=>{},onDoubleClick:S,children:k})})]}),!s&&w.jsx("button",{"aria-label":"Delete item",onClick:async I=>{I.stopPropagation(),I.preventDefault(),confirm("Are you sure you want to delete this item?")&&(await d.actions.conversations.delete({id:e.id}),n&&r("/chat"))},className:"absolute top-0 right-0 h-full px-3 hover:text-red-500 opacity-0 group-hover:opacity-30 hover:opacity-100 translate-x-full group-hover:translate-x-0",children:w.jsx(Je,{icon:tc})})]})})},s3=({folder:e,depth:t,activeConversationId:n})=>{const[r,s]=O.useState(!1),[i,l]=O.useState(e.name),u=O.useRef(null),f=Tr(),d=O.useMemo(()=>f.conversations.filter(k=>k.folderId===e.id),[f.conversations,e.id]),[{isDragging:h},g]=Tw(()=>({type:"FOLDER_ITEM",item:{id:e.id,type:"folder"},collect:k=>({isDragging:k.isDragging()})})),[{isOver:y},v]=Ew(()=>({accept:["FILE_ITEM","FOLDER_ITEM"],drop:k=>{if(console.log(k),k.type==="folder"){if(k.id===e.id)return;f.actions.folders.move({dragId:k.id,hoverId:e.id})}f.actions.conversations.update({id:k.id,partial:{folderId:e.id}})},collect:k=>({isOver:k.isOver()})})),S=()=>{s(!0)},_=()=>{i.trim()&&f.actions.folders.rename({folderId:e.id,newName:i}),s(!1)};O.useEffect(()=>{r&&u.current&&u.current.focus()},[r]);const C=O.useMemo(()=>e.name?e.name:"Untitled",[e]);return w.jsxs("li",{ref:k=>g(v(k)),className:`relative flex flex-col cursor-pointer group/folder rounded-xl
		${h?"opacity-50 bg-slate-400/30":""} ${y?"bg-slate-400/30":""}`,children:[w.jsxs("div",{className:"flex items-center flex-1",children:[w.jsxs("button",{"aria-label":"Toggle item",onClick:()=>f.actions.folders.toggle({folderId:e.id,isOpen:!e.isOpen}),className:" text-yellow-600",children:[!e.isOpen&&w.jsx(n3,{color:"orange",className:"h-4"}),e.isOpen&&w.jsx(r3,{color:"orange",className:"h-4"})]}),r&&w.jsx("form",{onSubmit:k=>{k.preventDefault(),_()},children:w.jsx("input",{"aria-label":"Rename item",ref:u,type:"text",value:i,onChange:k=>l(k.target.value),onBlur:_,onKeyDown:k=>{k.key==="Escape"&&(l(e.name),s(!1))},className:"border rounded px-1"})}),!r&&w.jsx(w.Fragment,{children:w.jsx("span",{className:"flex-1 px-1 border border-transparent",onDoubleClick:S,children:C})})]}),w.jsx("button",{"aria-label":"Delete item",onClick:k=>{k.stopPropagation(),confirm("Are you sure you want to delete this item?")&&f.actions.folders.delete({folderId:e.id})},className:"absolute top-0 right-0 h-full px-3 hover:text-red-500 opacity-0 group-hover:opacity-30 hover:opacity-100 translate-x-full group-hover:translate-x-0",children:w.jsx(Je,{icon:tc})}),!h&&e.isOpen&&w.jsx(w.Fragment,{children:w.jsx("ul",{className:"",children:d.map(k=>w.jsx(Mw,{isActive:k.id.toString()===n,item:k,depth:1},k.id))})})]})},i3=({conversationId:e})=>{const[t,n]=O.useState(!1),[r,s]=O.useState(""),i=Tr(),l=O.useMemo(()=>i.conversations.filter(f=>!f.folderId),[i.conversations]),u=f=>{f.preventDefault(),i.actions.folders.create({name:r}),s(""),n(!1)};return w.jsxs(x4,{backend:cO,children:[w.jsx("ul",{className:"menu w-full",children:i.folders.map(f=>w.jsx(s3,{activeConversationId:e,folder:f,depth:0},f.id))}),w.jsxs("button",{onClick:()=>{n(!t)},className:"w-full text-left px-6 py-2 hover:bg-base-100/15 opacity-30 hover:opacity-100 rounded",children:[t&&w.jsx(w.Fragment,{children:"Cancel"}),!t&&w.jsxs(w.Fragment,{children:[w.jsx(Je,{icon:k1})," Folder"]})]}),t&&w.jsxs("form",{onSubmit:u,className:"overflow-hidden bg-base-200/30 rounded-xl mx-2",children:[w.jsx("input",{"aria-label":"New folder name",placeholder:"New folder name...",type:"text",autoFocus:!0,value:r,onChange:f=>s(f.target.value),className:"p-2 w-full rounded-t-xl"}),w.jsx(Ve,{theme:"primary",type:"submit",className:"w-full ",children:"Create folder"})]}),w.jsx("div",{className:"divider uppercase opacity-30 font-medium text-xs",children:"Recent"}),w.jsx("ul",{className:"menu w-full",children:l.map(f=>w.jsx(Mw,{isActive:f.id.toString()===e,item:f,depth:0},f.id))})]})},Uc=O.forwardRef(({startingRows:e=1,maxRows:t=5,isDisabled:n=!1,isLoading:r=!1,className:s="",onSubmit:i,value:l,...u},f)=>{const d=O.useRef(null);O.useEffect(()=>{d.current&&(typeof f=="function"?f(d.current):f&&(f.current=d.current))},[f]);const h=()=>{const v=d.current;if(!v)return;const S=24,_=S*t,C=S*e;v.style.height=`${C}px`;const k=Math.max(C,v.scrollHeight),I=Math.min(k,_);v.style.height=`${I}px`,v.style.overflowY=k>_?"auto":"hidden"};O.useEffect(()=>{h()},[l]);const g=v=>{u.onChange&&u.onChange(v),h()},y=v=>{if(v.key==="Enter"){if(v.shiftKey)return;v.preventDefault(),i==null||i()}};return w.jsx("textarea",{ref:d,value:l,onChange:g,disabled:n||r,className:`w-full px-4 py-4 border-none resize-none focus:outline-none focus:ring-0 ${s}`,onKeyDown:y,rows:e,style:{height:`${24*e}px`,maxHeight:`${24*t}px`},...u})});Uc.displayName="ChatInputBox";const o3=[{service:"OpenAI",name:"gpt-4o",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.015,tokensOut:.06}},{service:"OpenAI",name:"gpt-4o-mini",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.01,tokensOut:.03}},{service:"OpenAI",name:"gpt-4-turbo",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.03,tokensOut:.06}},{service:"OpenAI",name:"gpt-4",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.03,tokensOut:.06}},{service:"OpenAI",name:"o3-mini",features:{isMultiModal:!1,hasStructuredData:!1,hasToolUse:!0,canStream:!0},costs:{tokensIn:.01,tokensOut:.04}},{service:"OpenAI",name:"o1",features:{isMultiModal:!0,hasStructuredData:!1,hasToolUse:!0,canStream:!0},costs:{tokensIn:.02,tokensOut:.08}},{service:"OpenAI",name:"o1-mini",features:{isMultiModal:!0,hasStructuredData:!1,hasToolUse:!0,canStream:!0},costs:{tokensIn:.01,tokensOut:.04}},{service:"OpenAI",name:"o1-preview",features:{isMultiModal:!1,hasStructuredData:!1,hasToolUse:!1,canStream:!1},costs:{tokensIn:.015,tokensOut:.06}},{service:"Anthropic",name:"claude-3-5-sonnet-20241022",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.003,tokensOut:.015}},{service:"Anthropic",name:"claude-3-5-sonnet-20240620",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.003,tokensOut:.015}},{service:"Anthropic",name:"claude-3-5-haiku-20241022",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:8e-4,tokensOut:.004}},{service:"Mistral",name:"pixtral-large-latest",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.001,tokensOut:.005}},{service:"Mistral",name:"mistral-large-latest",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.009,tokensOut:.004}},{service:"Mistral",name:"mistral-small-latest",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.003,tokensOut:.002}},{service:"Mistral",name:"pixtral-12b-2409",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.001,tokensOut:.005}},{service:"Google",name:"gemini-2.0-flash-exp",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.1,tokensOut:.3}},{service:"Google",name:"gemini-1.5-flash",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.075,tokensOut:.3}},{service:"Google",name:"gemini-1.5-pro",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:1.25,tokensOut:5}},{service:"DeepSeek",name:"deepseek-chat",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.2,tokensOut:.6}},{service:"DeepSeek",name:"deepseek-reasoner",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.55,tokensOut:2.19}}],Lw=({isOpen:e,onSelect:t,onCancel:n})=>{const r=Tr();if(O.useLayoutEffect(()=>{if(e){const u=document.getElementById("modal-pick-ai");u==null||u.showModal()}},[e]),!e)return null;const s=r.aiServices,i=s.length>0?s.reduce((u,f)=>(u[f.service]||(u[f.service]=[]),u[f.service].push(f),u),{}):null,l=u=>o3.filter(f=>f.service===u);return w.jsxs("dialog",{id:"modal-pick-ai",className:"modal ",children:[w.jsxs("div",{className:"modal-box",children:[w.jsx("form",{method:"dialog",children:w.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:()=>{const u=document.getElementById("modal-pick-ai");u==null||u.close(),n()},children:""})}),i?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"font-bold text-lg mb-4",children:"Select an AI Service"}),w.jsx("ul",{className:"menu",children:Object.entries(i).map(([u,f])=>w.jsxs("li",{children:[w.jsx("h2",{className:"menu-title uppercase",children:u}),w.jsx("ul",{children:f.map(d=>w.jsx("li",{children:d.service==="Ollama"?w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"menu-title",children:d.name}),d.models&&d.models.length>0&&w.jsx("ul",{children:d.models.map(h=>w.jsx("li",{children:w.jsxs("a",{onClick:()=>{t(d,h.name);const g=document.getElementById("modal-pick-ai");g==null||g.close()},children:[h.name,h.isDefault&&w.jsx("span",{className:"badge badge-sm badge-primary ml-2",children:"Default"})]})},h.name))})]}):w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"menu-title",children:d.name}),w.jsx("ul",{children:l(d.service).map(h=>w.jsx("li",{children:w.jsxs("a",{onClick:()=>{t(d,h.name);const g=document.getElementById("modal-pick-ai");g==null||g.close()},children:[h.name,w.jsxs("div",{className:"text-xs opacity-70",children:[h.features.isMultiModal&&"MultiModal  ",h.features.hasStructuredData&&"Structured  ",h.features.hasToolUse&&"Tools"]})]})},h.name))})]})},d.id))})]},u))})]}):w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"font-bold text-lg mb-4",children:"No AI Services Configured"}),w.jsx("button",{className:"btn btn-primary",onClick:()=>{const u=document.getElementById("modal-pick-ai");u==null||u.close(),n()},children:"Close"})]})]}),w.jsx("form",{method:"dialog",className:"modal-backdrop",children:w.jsx("button",{onClick:()=>{const u=document.getElementById("modal-pick-ai");u==null||u.close(),n()},children:"close"})})]})},N0=[{id:1,name:"Chat",description:"Normal chat view",type:"chat"},{id:2,name:"Co-authoring",description:"Collaborative AI document editing",type:"co-authoring"}],l3=()=>{const e=ys(),t=O.useRef(null),[n,r]=O.useState(null),[s,i]=O.useState(null),[l,u]=O.useState(""),[f,d]=O.useState(!1),[h,g]=O.useState(N0[0]),[y,v]=O.useState(!1),S=Tr(),_=S.aiServices,C=_.find(E=>E.id===n);O.useEffect(()=>{var E;if(!n&&_.length>0){const P=_.find(D=>D.isDefault);if(P){if(r(P.id),P.service==="Ollama"&&((E=P.models)!=null&&E.length)){const D=P.models.find(A=>A.isDefault);D&&i(D.name)}}else r(_[0].id)}},[_,n]);const k=async E=>{if(E&&E.preventDefault(),!n){alert("Please select a configuration");return}if(!l.trim()){alert("Please enter some text");return}const P={id:0,name:l.split(`
`)[0].substring(0,50),aiServiceId:n,modelName:s||void 0,instruction:"You are a helpful assistant",type:h.type,createdAt:Date.now(),updatedAt:Date.now()};try{const D=await S.actions.conversations.create(P);if(!(D!=null&&D.id)){alert("Failed to create chat");return}e(`/chat/${D.id}`,{state:{initialMessage:l}})}catch(D){console.error("Failed to create chat",D)}},I=E=>{E.preventDefault(),v(!0)};return w.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[w.jsxs("div",{className:"max-w-2xl w-full mx-auto text-center space-y-6",children:[w.jsx("h2",{className:"text-2xl logo font-bold",children:"What can I help with?"}),w.jsxs("form",{onSubmit:k,className:"bg-base-100 p-6 py-4 space-y-4 rounded-xl mx-2",children:[w.jsx(Uc,{ref:t,autoFocus:!0,className:"w-full bg-base-100 text-lg",placeholder:"Start typing here...",value:l,tabIndex:1,startingRows:2,onChange:E=>u(E.target.value),onSubmit:k}),w.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[w.jsxs(Ve,{theme:"ghost",type:"button",onClick:I,tabIndex:3,className:"bg-base-100 flex flex-row gap-3 items-center",children:[w.jsx("span",{className:"relative",children:w.jsx(Je,{icon:NT})}),w.jsxs("span",{children:[C==null?void 0:C.name,s?` (${s})`:""," "]})]}),w.jsxs(Ve,{theme:"custom",onClick:E=>{E.preventDefault(),d(!f)},tabIndex:4,className:"bg-base-100 flex flex-row gap-3 items-center",children:[w.jsx("span",{className:"relative",children:w.jsx(Je,{icon:bT})}),w.jsx("span",{children:h.name})]}),w.jsx("div",{className:"flex-grow"}),w.jsx(Ve,{theme:"primary",tabIndex:2,type:"submit",children:w.jsx(Je,{icon:xT})})]})]}),f&&w.jsxs("div",{className:"text-left",children:[w.jsxs("div",{className:"flex flex-row gap-2 w-full mb-2 items-center",children:[w.jsx("h3",{className:"font-xl flex-grow",children:"Select a chat view"}),w.jsx(Ve,{theme:"ghost","aria-label":"Close chat views",onClick:()=>{d(!1)},children:w.jsx(Je,{icon:yT})})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:N0.map(E=>w.jsxs("button",{onClick:()=>{var P;g(E),d(!1),(P=t.current)==null||P.focus()},className:"bg-base-200 hover:bg-base-300 p-4 rounded-lg flex flex-col items-start cursor-pointer text-left",children:[w.jsx("h3",{className:"text-lg font-black",children:E.name}),w.jsx("p",{className:"text-sm opacity-50",children:E.description})]},E.id))})]})]}),w.jsx(Lw,{isOpen:y,onSelect:(E,P)=>{r(E.id),i(P||null),v(!1)},onCancel:()=>v(!1)})]})};class mo{static create(t){return this.dbService.create(t)}static update(t,n){return this.dbService.update(t,n)}static delete(t){return this.dbService.delete(t)}static getAll(){return this.dbService.getAll()}static getByConversationId(t){const n=`"conversationId":${t}`;return this.dbService.search(n,1,50)}static getDefaults(){return this.dbService.getAll()}static getById(t){return this.dbService.getById(t)}static search(t,n=1,r=10){return this.dbService.search(t,n,r)}}ya(mo,"dbService",bo("chats"));const u3=["localhost","0.0.0.0","127.0.0.1"],Fw=({config:e}={})=>{const[t,n]=O.useState(!1),[r,s]=O.useState(!1),[i,l]=O.useState([]),[u,f]=O.useState(null),[d,h]=O.useState(null),[g,y]=O.useState(!1),[v,S]=O.useState(!1),[_,C]=O.useState(!1),k=O.useCallback(async()=>{y(!0);try{const A=await os.ollamaInstallCheck();n(A),f(new Date)}finally{y(!1)}},[]),I=O.useCallback(async()=>{var A;if(!e){l(["No config provided"]);return}if(!e.url){l(["Config does not have a URL"]);return}S(!0);try{const $=(A=e.url)==null?void 0:A.replace("/api",""),K=await fetch($);s(K.ok),h(new Date)}catch{s(!1)}finally{S(!1),h(new Date)}},[e]),E=O.useCallback(async()=>{await k(),await I()},[k,I]),P=O.useCallback(()=>{if(!(e!=null&&e.url))return!1;try{const A=new URL(e.url);return u3.includes(A.hostname)}catch{return!1}},[e]),D=async()=>{if(!P()){l(["This is not a local server, we cannot start and stop it."]);return}C(!0);try{await os.ollamaServerToggle(!r)&&await E()}finally{C(!1)}};return{isInstalled:t,isRunning:r,errors:i,lastInstallCheck:u,lastRunningCheck:d,isCheckingInstall:g,isCheckingRunning:v,isTogglingServer:_,isLocalServer:P(),actions:{checkInstall:k,checkStatusWithPing:I,checkStatus:E,toggleServer:D}}};var zw="vercel.ai.error",c3=Symbol.for(zw),$w,d3=class Uw extends Error{constructor({name:t,message:n,cause:r}){super(n),this[$w]=!0,this.name=t,this.cause=r}static isInstance(t){return Uw.hasMarker(t,zw)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};$w=c3;var Pe=d3,Bw="AI_APICallError",Hw=`vercel.ai.error.${Bw}`,f3=Symbol.for(Hw),qw,Bt=class extends Pe{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:s,responseBody:i,cause:l,isRetryable:u=r!=null&&(r===408||r===409||r===429||r>=500),data:f}){super({name:Bw,message:e,cause:l}),this[qw]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=s,this.responseBody=i,this.isRetryable=u,this.data=f}static isInstance(e){return Pe.hasMarker(e,Hw)}};qw=f3;var Vw="AI_EmptyResponseBodyError",Ww=`vercel.ai.error.${Vw}`,p3=Symbol.for(Ww),Zw,Jw=class extends Pe{constructor({message:e="Empty response body"}={}){super({name:Vw,message:e}),this[Zw]=!0}static isInstance(e){return Pe.hasMarker(e,Ww)}};Zw=p3;function wl(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Gw="AI_InvalidArgumentError",Yw=`vercel.ai.error.${Gw}`,h3=Symbol.for(Yw),Kw,m3=class extends Pe{constructor({message:t,cause:n,argument:r}){super({name:Gw,message:t,cause:n}),this[Kw]=!0,this.argument=r}static isInstance(t){return Pe.hasMarker(t,Yw)}};Kw=h3;var Xw="AI_InvalidPromptError",Qw=`vercel.ai.error.${Xw}`,g3=Symbol.for(Qw),eb,wa=class extends Pe{constructor({prompt:e,message:t,cause:n}){super({name:Xw,message:`Invalid prompt: ${t}`,cause:n}),this[eb]=!0,this.prompt=e}static isInstance(e){return Pe.hasMarker(e,Qw)}};eb=g3;var tb="AI_InvalidResponseDataError",nb=`vercel.ai.error.${tb}`,y3=Symbol.for(nb),rb,Br=class extends Pe{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:tb,message:t}),this[rb]=!0,this.data=e}static isInstance(e){return Pe.hasMarker(e,nb)}};rb=y3;var ab="AI_JSONParseError",sb=`vercel.ai.error.${ab}`,v3=Symbol.for(sb),ib,sc=class extends Pe{constructor({text:e,cause:t}){super({name:ab,message:`JSON parsing failed: Text: ${e}.
Error message: ${wl(t)}`,cause:t}),this[ib]=!0,this.text=e}static isInstance(e){return Pe.hasMarker(e,sb)}};ib=v3;var ob="AI_LoadAPIKeyError",lb=`vercel.ai.error.${ob}`,x3=Symbol.for(lb),ub,Lu=class extends Pe{constructor({message:e}){super({name:ob,message:e}),this[ub]=!0}static isInstance(e){return Pe.hasMarker(e,lb)}};ub=x3;var cb="AI_NoSuchModelError",db=`vercel.ai.error.${cb}`,w3=Symbol.for(db),fb,oi=class extends Pe{constructor({errorName:e=cb,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[fb]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return Pe.hasMarker(e,db)}};fb=w3;var pb="AI_TooManyEmbeddingValuesForCallError",hb=`vercel.ai.error.${pb}`,b3=Symbol.for(hb),mb,bl=class extends Pe{constructor(e){super({name:pb,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[mb]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Pe.hasMarker(e,hb)}};mb=b3;var gb="AI_TypeValidationError",yb=`vercel.ai.error.${gb}`,S3=Symbol.for(yb),vb,_3=class eh extends Pe{constructor({value:t,cause:n}){super({name:gb,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${wl(n)}`,cause:n}),this[vb]=!0,this.value=t}static isInstance(t){return Pe.hasMarker(t,yb)}static wrap({value:t,cause:n}){return eh.isInstance(n)&&n.value===t?n:new eh({value:t,cause:n})}};vb=S3;var Ea=_3,xb="AI_UnsupportedFunctionalityError",wb=`vercel.ai.error.${xb}`,k3=Symbol.for(wb),bb,Le=class extends Pe{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:xb,message:t}),this[bb]=!0,this.functionality=e}static isInstance(e){return Pe.hasMarker(e,wb)}};bb=k3;function ic(e){return e===null||typeof e=="string"||typeof e=="number"||typeof e=="boolean"?!0:Array.isArray(e)?e.every(ic):typeof e=="object"?Object.entries(e).every(([t,n])=>typeof t=="string"&&ic(n)):!1}function O0(e){return Array.isArray(e)&&e.every(ic)}function th(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&ic(n))}let C3=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};var Xa={exports:{}},P0;function T3(){if(P0)return Xa.exports;P0=1;const e=typeof Buffer<"u",t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(u,f,d){d==null&&f!==null&&typeof f=="object"&&(d=f,f=void 0),e&&Buffer.isBuffer(u)&&(u=u.toString()),u&&u.charCodeAt(0)===65279&&(u=u.slice(1));const h=JSON.parse(u,f);if(h===null||typeof h!="object")return h;const g=d&&d.protoAction||"error",y=d&&d.constructorAction||"error";if(g==="ignore"&&y==="ignore")return h;if(g!=="ignore"&&y!=="ignore"){if(t.test(u)===!1&&n.test(u)===!1)return h}else if(g!=="ignore"&&y==="ignore"){if(t.test(u)===!1)return h}else if(n.test(u)===!1)return h;return s(h,{protoAction:g,constructorAction:y,safe:d&&d.safe})}function s(u,{protoAction:f="error",constructorAction:d="error",safe:h}={}){let g=[u];for(;g.length;){const y=g;g=[];for(const v of y){if(f!=="ignore"&&Object.prototype.hasOwnProperty.call(v,"__proto__")){if(h===!0)return null;if(f==="error")throw new SyntaxError("Object contains forbidden prototype property");delete v.__proto__}if(d!=="ignore"&&Object.prototype.hasOwnProperty.call(v,"constructor")&&Object.prototype.hasOwnProperty.call(v.constructor,"prototype")){if(h===!0)return null;if(d==="error")throw new SyntaxError("Object contains forbidden prototype property");delete v.constructor}for(const S in v){const _=v[S];_&&typeof _=="object"&&g.push(_)}}}return u}function i(u,f,d){const h=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(u,f,d)}finally{Error.stackTraceLimit=h}}function l(u,f){const d=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(u,f,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=d}}return Xa.exports=i,Xa.exports.default=i,Xa.exports.parse=i,Xa.exports.safeParse=l,Xa.exports.scan=s,Xa.exports}var E3=T3();const om=hi(E3);var I3=Object.defineProperty,N3=(e,t,n)=>t in e?I3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Fu=(e,t,n)=>N3(e,typeof t!="symbol"?t+"":t,n);class R0 extends Error{constructor(t,n){super(t),Fu(this,"type"),Fu(this,"field"),Fu(this,"value"),Fu(this,"line"),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function ep(e){}function O3(e){const{onEvent:t=ep,onError:n=ep,onRetry:r=ep,onComment:s}=e;let i="",l=!0,u,f="",d="";function h(_){const C=l?_.replace(/^\xEF\xBB\xBF/,""):_,[k,I]=P3(`${i}${C}`);for(const E of k)g(E);i=I,l=!1}function g(_){if(_===""){v();return}if(_.startsWith(":")){s&&s(_.slice(_.startsWith(": ")?2:1));return}const C=_.indexOf(":");if(C!==-1){const k=_.slice(0,C),I=_[C+1]===" "?2:1,E=_.slice(C+I);y(k,E,_);return}y(_,"",_)}function y(_,C,k){switch(_){case"event":d=C;break;case"data":f=`${f}${C}
`;break;case"id":u=C.includes("\0")?void 0:C;break;case"retry":/^\d+$/.test(C)?r(parseInt(C,10)):n(new R0(`Invalid \`retry\` value: "${C}"`,{type:"invalid-retry",value:C,line:k}));break;default:n(new R0(`Unknown field "${_.length>20?`${_.slice(0,20)}`:_}"`,{type:"unknown-field",field:_,value:C,line:k}));break}}function v(){f.length>0&&t({id:u,event:d||void 0,data:f.endsWith(`
`)?f.slice(0,-1):f}),u=void 0,f="",d=""}function S(_={}){i&&_.consume&&g(i),u=void 0,f="",d="",i=""}return{feed:h,reset:S}}function P3(e){const t=[];let n="";const r=e.length;for(let s=0;s<r;s++){const i=e[s];i==="\r"&&e[s+1]===`
`?(t.push(n),n="",s++):i==="\r"||i===`
`?(t.push(n),n=""):n+=i}return[t,n]}class R3 extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let s;super({start(i){s=O3({onEvent:l=>{i.enqueue(l)},onError(l){t==="terminate"?i.error(l):typeof t=="function"&&t(l)},onRetry:n,onComment:r})},transform(i){s.feed(i)}})}}var j3={};function wt(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function A3(e){return new ReadableStream({async pull(t){try{const{value:n,done:r}=await e.next();r?t.close():t.enqueue(n)}catch(n){t.error(n)}},cancel(){}})}async function D3(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}function vs(e){const t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var xs=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const s=C3(n,t);if(e==null)return s;if(n.includes(r))throw new m3({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return i=>`${e}${r}${s(i)}`},tn=xs();function M3(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function Sb(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function as(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}var L3=()=>globalThis.fetch,F3=async({url:e,headers:t={},successfulResponseHandler:n,failedResponseHandler:r,abortSignal:s,fetch:i=L3()})=>{try{const l=await i(e,{method:"GET",headers:Sb(t),signal:s}),u=vs(l);if(!l.ok){let f;try{f=await r({response:l,url:e,requestBodyValues:{}})}catch(d){throw as(d)||Bt.isInstance(d)?d:new Bt({message:"Failed to process error response",cause:d,statusCode:l.status,url:e,responseHeaders:u,requestBodyValues:{}})}throw f.value}try{return await n({response:l,url:e,requestBodyValues:{}})}catch(f){throw f instanceof Error&&(as(f)||Bt.isInstance(f))?f:new Bt({message:"Failed to process successful response",cause:f,statusCode:l.status,url:e,responseHeaders:u,requestBodyValues:{}})}}catch(l){if(as(l))throw l;if(l instanceof TypeError&&l.message==="fetch failed"){const u=l.cause;if(u!=null)throw new Bt({message:`Cannot connect to API: ${u.message}`,cause:u,url:e,isRetryable:!0,requestBodyValues:{}})}throw l}};function Ra({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new Lu({message:`${r} API key must be a string.`});if(typeof process>"u")throw new Lu({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=j3[t],e==null)throw new Lu({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new Lu({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var oc=Symbol.for("vercel.ai.validator");function z3(e){return{[oc]:!0,validate:e}}function $3(e){return typeof e=="object"&&e!==null&&oc in e&&e[oc]===!0&&"validate"in e}function U3(e){return $3(e)?e:B3(e)}function B3(e){return z3(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function H3({value:e,schema:t}){const n=xr({value:e,schema:t});if(!n.success)throw Ea.wrap({value:e,cause:n.error});return n.value}function xr({value:e,schema:t}){const n=U3(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:Ea.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:Ea.wrap({value:e,cause:r})}}}function q3({text:e,schema:t}){try{const n=om.parse(e);return t==null?n:H3({value:n,schema:t})}catch(n){throw sc.isInstance(n)||Ea.isInstance(n)?n:new sc({text:e,cause:n})}}function ds({text:e,schema:t}){try{const n=om.parse(e);if(t==null)return{success:!0,value:n,rawValue:n};const r=xr({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(n){return{success:!1,error:sc.isInstance(n)?n:new sc({text:e,cause:n})}}}function li(e){try{return om.parse(e),!0}catch{return!1}}var V3=()=>globalThis.fetch,ft=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:s,abortSignal:i,fetch:l})=>W3({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:s,abortSignal:i,fetch:l}),W3=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:s,abortSignal:i,fetch:l=V3()})=>{try{const u=await l(e,{method:"POST",headers:Sb(t),body:n.content,signal:i}),f=vs(u);if(!u.ok){let d;try{d=await s({response:u,url:e,requestBodyValues:n.values})}catch(h){throw as(h)||Bt.isInstance(h)?h:new Bt({message:"Failed to process error response",cause:h,statusCode:u.status,url:e,responseHeaders:f,requestBodyValues:n.values})}throw d.value}try{return await r({response:u,url:e,requestBodyValues:n.values})}catch(d){throw d instanceof Error&&(as(d)||Bt.isInstance(d))?d:new Bt({message:"Failed to process successful response",cause:d,statusCode:u.status,url:e,responseHeaders:f,requestBodyValues:n.values})}}catch(u){if(as(u))throw u;if(u instanceof TypeError&&u.message==="fetch failed"){const f=u.cause;if(f!=null)throw new Bt({message:`Cannot connect to API: ${f.message}`,cause:f,url:e,requestBodyValues:n.values,isRetryable:!0})}throw u}};async function Oo(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var Er=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:s,requestBodyValues:i})=>{const l=await r.text(),u=vs(r);if(l.trim()==="")return{responseHeaders:u,value:new Bt({message:r.statusText,url:s,requestBodyValues:i,statusCode:r.status,responseHeaders:u,responseBody:l,isRetryable:n==null?void 0:n(r)})};try{const f=q3({text:l,schema:e});return{responseHeaders:u,value:new Bt({message:t(f),url:s,requestBodyValues:i,statusCode:r.status,responseHeaders:u,responseBody:l,data:f,isRetryable:n==null?void 0:n(r,f)})}}catch{return{responseHeaders:u,value:new Bt({message:r.statusText,url:s,requestBodyValues:i,statusCode:r.status,responseHeaders:u,responseBody:l,isRetryable:n==null?void 0:n(r)})}}},ja=e=>async({response:t})=>{const n=vs(t);if(t.body==null)throw new Jw({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new R3).pipeThrough(new TransformStream({transform({data:r},s){r!=="[DONE]"&&s.enqueue(ds({text:r,schema:e}))}}))}},Gt=e=>async({response:t,url:n,requestBodyValues:r})=>{const s=await t.text(),i=ds({text:s,schema:e}),l=vs(t);if(!i.success)throw new Bt({message:"Invalid JSON response",cause:i.error,statusCode:t.status,responseHeaders:l,responseBody:s,url:n,requestBodyValues:r});return{responseHeaders:l,value:i.value,rawValue:i.rawValue}},Z3=()=>async({response:e,url:t,requestBodyValues:n})=>{const r=vs(e);if(!e.body)throw new Bt({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{const s=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(s)}}catch(s){throw new Bt({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:s})}},{btoa:J3,atob:G3}=globalThis;function Y3(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=G3(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function Vr(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return J3(t)}function Jr(e){return e==null?void 0:e.replace(/\/$/,"")}const K3=Symbol("Let zodToJsonSchema decide on which parser to use"),j0={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},X3=e=>typeof e=="string"?{...j0,name:e}:{...j0,...e},Q3=e=>{const t=X3(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function _b(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function nt(e,t,n,r,s){e[t]=n,_b(e,t,r,s)}var Ge;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const l of s)i[l]=l;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of i)l[u]=s[u];return e.objectValues(l)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&i.push(l);return i},e.find=(s,i)=>{for(const l of s)if(i(l))return l},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ge||(Ge={}));var nh;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(nh||(nh={}));const he=Ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),$r=e=>{switch(typeof e){case"undefined":return he.undefined;case"string":return he.string;case"number":return isNaN(e)?he.nan:he.number;case"boolean":return he.boolean;case"function":return he.function;case"bigint":return he.bigint;case"symbol":return he.symbol;case"object":return Array.isArray(e)?he.array:e===null?he.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?he.promise:typeof Map<"u"&&e instanceof Map?he.map:typeof Set<"u"&&e instanceof Set?he.set:typeof Date<"u"&&e instanceof Date?he.date:he.object;default:return he.unknown}},Q=Ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),eP=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class _n extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const l of i.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let u=r,f=0;for(;f<l.path.length;){const d=l.path[f];f===l.path.length-1?(u[d]=u[d]||{_errors:[]},u[d]._errors.push(n(l))):u[d]=u[d]||{_errors:[]},u=u[d],f++}}};return s(this),r}static assert(t){if(!(t instanceof _n))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}_n.create=e=>new _n(e);const ui=(e,t)=>{let n;switch(e.code){case Q.invalid_type:e.received===he.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ge.jsonStringifyReplacer)}`;break;case Q.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ge.joinValues(e.keys,", ")}`;break;case Q.invalid_union:n="Invalid input";break;case Q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ge.joinValues(e.options)}`;break;case Q.invalid_enum_value:n=`Invalid enum value. Expected ${Ge.joinValues(e.options)}, received '${e.received}'`;break;case Q.invalid_arguments:n="Invalid function arguments";break;case Q.invalid_return_type:n="Invalid function return type";break;case Q.invalid_date:n="Invalid date";break;case Q.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ge.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Q.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Q.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Q.custom:n="Invalid input";break;case Q.invalid_intersection_types:n="Intersection results could not be merged";break;case Q.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Q.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ge.assertNever(e)}return{message:n}};let kb=ui;function tP(e){kb=e}function lc(){return kb}const uc=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],l={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let u="";const f=r.filter(d=>!!d).slice().reverse();for(const d of f)u=d(l,{data:t,defaultError:u}).message;return{...s,path:i,message:u}},nP=[];function fe(e,t){const n=lc(),r=uc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ui?void 0:ui].filter(s=>!!s)});e.common.issues.push(r)}class Jt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Ie;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,l=await s.value;r.push({key:i,value:l})}return Jt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:l}=s;if(i.status==="aborted"||l.status==="aborted")return Ie;i.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[i.value]=l.value)}return{status:t.value,value:r}}}const Ie=Object.freeze({status:"aborted"}),ei=e=>({status:"dirty",value:e}),nn=e=>({status:"valid",value:e}),rh=e=>e.status==="aborted",ah=e=>e.status==="dirty",fs=e=>e.status==="valid",Po=e=>typeof Promise<"u"&&e instanceof Promise;function cc(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Cb(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var be;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(be||(be={}));var go,yo;class wr{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const A0=(e,t)=>{if(fs(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new _n(e.common.issues);return this._error=n,this._error}}};function Fe(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(l,u)=>{var f,d;const{message:h}=e;return l.code==="invalid_enum_value"?{message:h??u.defaultError}:typeof u.data>"u"?{message:(f=h??r)!==null&&f!==void 0?f:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(d=h??n)!==null&&d!==void 0?d:u.defaultError}},description:s}}class ze{get description(){return this._def.description}_getType(t){return $r(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:$r(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Jt,ctx:{common:t.parent.common,data:t.data,parsedType:$r(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Po(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$r(t)},i=this._parseSync({data:t,path:s.path,parent:s});return A0(s,i)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$r(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return fs(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>fs(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:$r(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Po(s)?s:Promise.resolve(s));return A0(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const l=t(s),u=()=>i.addIssue({code:Q.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new ar({schema:this,typeName:re.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return nr.create(this,this._def)}nullable(){return Pa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tr.create(this)}promise(){return di.create(this,this._def)}or(t){return Do.create([this,t],this._def)}and(t){return Mo.create(this,t,this._def)}transform(t){return new ar({...Fe(this._def),schema:this,typeName:re.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Uo({...Fe(this._def),innerType:this,defaultValue:n,typeName:re.ZodDefault})}brand(){return new lm({typeName:re.ZodBranded,type:this,...Fe(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Bo({...Fe(this._def),innerType:this,catchValue:n,typeName:re.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Sl.create(this,t)}readonly(){return Ho.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rP=/^c[^\s-]{8,}$/i,aP=/^[0-9a-z]+$/,sP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oP=/^[a-z0-9_-]{21}$/i,lP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,uP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let tp;const fP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Tb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vP=new RegExp(`^${Tb}$`);function Eb(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function xP(e){return new RegExp(`^${Eb(e)}$`)}function Ib(e){let t=`${Tb}T${Eb(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function wP(e,t){return!!((t==="v4"||!t)&&fP.test(e)||(t==="v6"||!t)&&hP.test(e))}function bP(e,t){if(!lP.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function SP(e,t){return!!((t==="v4"||!t)&&pP.test(e)||(t==="v6"||!t)&&mP.test(e))}class er extends ze{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==he.string){const i=this._getOrReturnCtx(t);return fe(i,{code:Q.invalid_type,expected:he.string,received:i.parsedType}),Ie}const r=new Jt;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,u=t.data.length<i.value;(l||u)&&(s=this._getOrReturnCtx(t,s),l?fe(s,{code:Q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&fe(s,{code:Q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")cP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"email",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")tp||(tp=new RegExp(dP,"u")),tp.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"emoji",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")iP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"uuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")oP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"nanoid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")rP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")aP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid2",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")sP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ulid",code:Q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),fe(s,{validation:"url",code:Q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"regex",code:Q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Ib(i).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?vP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?xP(i).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?uP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"duration",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?wP(t.data,i.version)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ip",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?bP(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"jwt",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?SP(t.data,i.version)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cidr",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?gP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"base64",code:Q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?yP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"base64url",code:Q.invalid_string,message:i.message}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:Q.invalid_string,...be.errToObj(r)})}_addCheck(t){return new er({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...be.errToObj(t)})}url(t){return this._addCheck({kind:"url",...be.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...be.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...be.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...be.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...be.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...be.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...be.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...be.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...be.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...be.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...be.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...be.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...be.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...be.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...be.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...be.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...be.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...be.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...be.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...be.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...be.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...be.errToObj(n)})}nonempty(t){return this.min(1,be.errToObj(t))}trim(){return new er({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new er({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new er({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}er.create=e=>{var t;return new er({checks:[],typeName:re.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Fe(e)})};function _P(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),l=parseInt(t.toFixed(s).replace(".",""));return i%l/Math.pow(10,s)}class Ia extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==he.number){const i=this._getOrReturnCtx(t);return fe(i,{code:Q.invalid_type,expected:he.number,received:i.parsedType}),Ie}let r;const s=new Jt;for(const i of this._def.checks)i.kind==="int"?Ge.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?_P(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.not_finite,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,be.toString(n))}gt(t,n){return this.setLimit("min",t,!1,be.toString(n))}lte(t,n){return this.setLimit("max",t,!0,be.toString(n))}lt(t,n){return this.setLimit("max",t,!1,be.toString(n))}setLimit(t,n,r,s){return new Ia({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:be.toString(s)}]})}_addCheck(t){return new Ia({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:be.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:be.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:be.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ge.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ia.create=e=>new Ia({checks:[],typeName:re.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Fe(e)});class Na extends ze{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==he.bigint)return this._getInvalidInput(t);let r;const s=new Jt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:Q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ge.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return fe(n,{code:Q.invalid_type,expected:he.bigint,received:n.parsedType}),Ie}gte(t,n){return this.setLimit("min",t,!0,be.toString(n))}gt(t,n){return this.setLimit("min",t,!1,be.toString(n))}lte(t,n){return this.setLimit("max",t,!0,be.toString(n))}lt(t,n){return this.setLimit("max",t,!1,be.toString(n))}setLimit(t,n,r,s){return new Na({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:be.toString(s)}]})}_addCheck(t){return new Na({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:be.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Na.create=e=>{var t;return new Na({checks:[],typeName:re.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Fe(e)})};class Ro extends ze{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==he.boolean){const r=this._getOrReturnCtx(t);return fe(r,{code:Q.invalid_type,expected:he.boolean,received:r.parsedType}),Ie}return nn(t.data)}}Ro.create=e=>new Ro({typeName:re.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Fe(e)});class ps extends ze{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==he.date){const i=this._getOrReturnCtx(t);return fe(i,{code:Q.invalid_type,expected:he.date,received:i.parsedType}),Ie}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return fe(i,{code:Q.invalid_date}),Ie}const r=new Jt;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:Q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ge.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ps({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:be.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:be.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}ps.create=e=>new ps({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:re.ZodDate,...Fe(e)});class dc extends ze{_parse(t){if(this._getType(t)!==he.symbol){const r=this._getOrReturnCtx(t);return fe(r,{code:Q.invalid_type,expected:he.symbol,received:r.parsedType}),Ie}return nn(t.data)}}dc.create=e=>new dc({typeName:re.ZodSymbol,...Fe(e)});class jo extends ze{_parse(t){if(this._getType(t)!==he.undefined){const r=this._getOrReturnCtx(t);return fe(r,{code:Q.invalid_type,expected:he.undefined,received:r.parsedType}),Ie}return nn(t.data)}}jo.create=e=>new jo({typeName:re.ZodUndefined,...Fe(e)});class Ao extends ze{_parse(t){if(this._getType(t)!==he.null){const r=this._getOrReturnCtx(t);return fe(r,{code:Q.invalid_type,expected:he.null,received:r.parsedType}),Ie}return nn(t.data)}}Ao.create=e=>new Ao({typeName:re.ZodNull,...Fe(e)});class ci extends ze{constructor(){super(...arguments),this._any=!0}_parse(t){return nn(t.data)}}ci.create=e=>new ci({typeName:re.ZodAny,...Fe(e)});class ss extends ze{constructor(){super(...arguments),this._unknown=!0}_parse(t){return nn(t.data)}}ss.create=e=>new ss({typeName:re.ZodUnknown,...Fe(e)});class Wr extends ze{_parse(t){const n=this._getOrReturnCtx(t);return fe(n,{code:Q.invalid_type,expected:he.never,received:n.parsedType}),Ie}}Wr.create=e=>new Wr({typeName:re.ZodNever,...Fe(e)});class fc extends ze{_parse(t){if(this._getType(t)!==he.undefined){const r=this._getOrReturnCtx(t);return fe(r,{code:Q.invalid_type,expected:he.void,received:r.parsedType}),Ie}return nn(t.data)}}fc.create=e=>new fc({typeName:re.ZodVoid,...Fe(e)});class tr extends ze{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==he.array)return fe(n,{code:Q.invalid_type,expected:he.array,received:n.parsedType}),Ie;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(l||u)&&(fe(n,{code:l?Q.too_big:Q.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(fe(n,{code:Q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(fe(n,{code:Q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,u)=>s.type._parseAsync(new wr(n,l,n.path,u)))).then(l=>Jt.mergeArray(r,l));const i=[...n.data].map((l,u)=>s.type._parseSync(new wr(n,l,n.path,u)));return Jt.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new tr({...this._def,minLength:{value:t,message:be.toString(n)}})}max(t,n){return new tr({...this._def,maxLength:{value:t,message:be.toString(n)}})}length(t,n){return new tr({...this._def,exactLength:{value:t,message:be.toString(n)}})}nonempty(t){return this.min(1,t)}}tr.create=(e,t)=>new tr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:re.ZodArray,...Fe(t)});function Ks(e){if(e instanceof vt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=nr.create(Ks(r))}return new vt({...e._def,shape:()=>t})}else return e instanceof tr?new tr({...e._def,type:Ks(e.element)}):e instanceof nr?nr.create(Ks(e.unwrap())):e instanceof Pa?Pa.create(Ks(e.unwrap())):e instanceof br?br.create(e.items.map(t=>Ks(t))):e}class vt extends ze{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ge.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==he.object){const d=this._getOrReturnCtx(t);return fe(d,{code:Q.invalid_type,expected:he.object,received:d.parsedType}),Ie}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Wr&&this._def.unknownKeys==="strip"))for(const d in s.data)l.includes(d)||u.push(d);const f=[];for(const d of l){const h=i[d],g=s.data[d];f.push({key:{status:"valid",value:d},value:h._parse(new wr(s,g,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Wr){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of u)f.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")u.length>0&&(fe(s,{code:Q.unrecognized_keys,keys:u}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of u){const g=s.data[h];f.push({key:{status:"valid",value:h},value:d._parse(new wr(s,g,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of f){const g=await h.key,y=await h.value;d.push({key:g,value:y,alwaysSet:h.alwaysSet})}return d}).then(d=>Jt.mergeObjectSync(r,d)):Jt.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(t){return be.errToObj,new vt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,l,u;const f=(l=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=be.errToObj(t).message)!==null&&u!==void 0?u:f}:{message:f}}}:{}})}strip(){return new vt({...this._def,unknownKeys:"strip"})}passthrough(){return new vt({...this._def,unknownKeys:"passthrough"})}extend(t){return new vt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new vt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:re.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new vt({...this._def,catchall:t})}pick(t){const n={};return Ge.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new vt({...this._def,shape:()=>n})}omit(t){const n={};return Ge.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new vt({...this._def,shape:()=>n})}deepPartial(){return Ks(this)}partial(t){const n={};return Ge.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new vt({...this._def,shape:()=>n})}required(t){const n={};return Ge.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof nr;)i=i._def.innerType;n[r]=i}}),new vt({...this._def,shape:()=>n})}keyof(){return Nb(Ge.objectKeys(this.shape))}}vt.create=(e,t)=>new vt({shape:()=>e,unknownKeys:"strip",catchall:Wr.create(),typeName:re.ZodObject,...Fe(t)});vt.strictCreate=(e,t)=>new vt({shape:()=>e,unknownKeys:"strict",catchall:Wr.create(),typeName:re.ZodObject,...Fe(t)});vt.lazycreate=(e,t)=>new vt({shape:e,unknownKeys:"strip",catchall:Wr.create(),typeName:re.ZodObject,...Fe(t)});class Do extends ze{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const l=i.map(u=>new _n(u.ctx.common.issues));return fe(n,{code:Q.invalid_union,unionErrors:l}),Ie}if(n.common.async)return Promise.all(r.map(async i=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let i;const l=[];for(const f of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=f._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=l.map(f=>new _n(f));return fe(n,{code:Q.invalid_union,unionErrors:u}),Ie}}get options(){return this._def.options}}Do.create=(e,t)=>new Do({options:e,typeName:re.ZodUnion,...Fe(t)});const zr=e=>e instanceof Fo?zr(e.schema):e instanceof ar?zr(e.innerType()):e instanceof zo?[e.value]:e instanceof Oa?e.options:e instanceof $o?Ge.objectValues(e.enum):e instanceof Uo?zr(e._def.innerType):e instanceof jo?[void 0]:e instanceof Ao?[null]:e instanceof nr?[void 0,...zr(e.unwrap())]:e instanceof Pa?[null,...zr(e.unwrap())]:e instanceof lm||e instanceof Ho?zr(e.unwrap()):e instanceof Bo?zr(e._def.innerType):[];class Bc extends ze{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==he.object)return fe(n,{code:Q.invalid_type,expected:he.object,received:n.parsedType}),Ie;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(fe(n,{code:Q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ie)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const l=zr(i.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of l){if(s.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);s.set(u,i)}}return new Bc({typeName:re.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Fe(r)})}}function sh(e,t){const n=$r(e),r=$r(t);if(e===t)return{valid:!0,data:e};if(n===he.object&&r===he.object){const s=Ge.objectKeys(t),i=Ge.objectKeys(e).filter(u=>s.indexOf(u)!==-1),l={...e,...t};for(const u of i){const f=sh(e[u],t[u]);if(!f.valid)return{valid:!1};l[u]=f.data}return{valid:!0,data:l}}else if(n===he.array&&r===he.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const l=e[i],u=t[i],f=sh(l,u);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===he.date&&r===he.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Mo extends ze{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,l)=>{if(rh(i)||rh(l))return Ie;const u=sh(i.value,l.value);return u.valid?((ah(i)||ah(l))&&n.dirty(),{status:n.value,value:u.data}):(fe(r,{code:Q.invalid_intersection_types}),Ie)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,l])=>s(i,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Mo.create=(e,t,n)=>new Mo({left:e,right:t,typeName:re.ZodIntersection,...Fe(n)});class br extends ze{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.array)return fe(r,{code:Q.invalid_type,expected:he.array,received:r.parsedType}),Ie;if(r.data.length<this._def.items.length)return fe(r,{code:Q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ie;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:Q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((l,u)=>{const f=this._def.items[u]||this._def.rest;return f?f._parse(new wr(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(i).then(l=>Jt.mergeArray(n,l)):Jt.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new br({...this._def,rest:t})}}br.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new br({items:e,typeName:re.ZodTuple,rest:null,...Fe(t)})};class Lo extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.object)return fe(r,{code:Q.invalid_type,expected:he.object,received:r.parsedType}),Ie;const s=[],i=this._def.keyType,l=this._def.valueType;for(const u in r.data)s.push({key:i._parse(new wr(r,u,r.path,u)),value:l._parse(new wr(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Jt.mergeObjectAsync(n,s):Jt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ze?new Lo({keyType:t,valueType:n,typeName:re.ZodRecord,...Fe(r)}):new Lo({keyType:er.create(),valueType:t,typeName:re.ZodRecord,...Fe(n)})}}class pc extends ze{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.map)return fe(r,{code:Q.invalid_type,expected:he.map,received:r.parsedType}),Ie;const s=this._def.keyType,i=this._def.valueType,l=[...r.data.entries()].map(([u,f],d)=>({key:s._parse(new wr(r,u,r.path,[d,"key"])),value:i._parse(new wr(r,f,r.path,[d,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const f of l){const d=await f.key,h=await f.value;if(d.status==="aborted"||h.status==="aborted")return Ie;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(d.value,h.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const f of l){const d=f.key,h=f.value;if(d.status==="aborted"||h.status==="aborted")return Ie;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),u.set(d.value,h.value)}return{status:n.value,value:u}}}}pc.create=(e,t,n)=>new pc({valueType:t,keyType:e,typeName:re.ZodMap,...Fe(n)});class hs extends ze{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==he.set)return fe(r,{code:Q.invalid_type,expected:he.set,received:r.parsedType}),Ie;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(fe(r,{code:Q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(fe(r,{code:Q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function l(f){const d=new Set;for(const h of f){if(h.status==="aborted")return Ie;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const u=[...r.data.values()].map((f,d)=>i._parse(new wr(r,f,r.path,d)));return r.common.async?Promise.all(u).then(f=>l(f)):l(u)}min(t,n){return new hs({...this._def,minSize:{value:t,message:be.toString(n)}})}max(t,n){return new hs({...this._def,maxSize:{value:t,message:be.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}hs.create=(e,t)=>new hs({valueType:e,minSize:null,maxSize:null,typeName:re.ZodSet,...Fe(t)});class ri extends ze{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==he.function)return fe(n,{code:Q.invalid_type,expected:he.function,received:n.parsedType}),Ie;function r(u,f){return uc({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,lc(),ui].filter(d=>!!d),issueData:{code:Q.invalid_arguments,argumentsError:f}})}function s(u,f){return uc({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,lc(),ui].filter(d=>!!d),issueData:{code:Q.invalid_return_type,returnTypeError:f}})}const i={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof di){const u=this;return nn(async function(...f){const d=new _n([]),h=await u._def.args.parseAsync(f,i).catch(v=>{throw d.addIssue(r(f,v)),d}),g=await Reflect.apply(l,this,h);return await u._def.returns._def.type.parseAsync(g,i).catch(v=>{throw d.addIssue(s(g,v)),d})})}else{const u=this;return nn(function(...f){const d=u._def.args.safeParse(f,i);if(!d.success)throw new _n([r(f,d.error)]);const h=Reflect.apply(l,this,d.data),g=u._def.returns.safeParse(h,i);if(!g.success)throw new _n([s(h,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new ri({...this._def,args:br.create(t).rest(ss.create())})}returns(t){return new ri({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new ri({args:t||br.create([]).rest(ss.create()),returns:n||ss.create(),typeName:re.ZodFunction,...Fe(r)})}}class Fo extends ze{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Fo.create=(e,t)=>new Fo({getter:e,typeName:re.ZodLazy,...Fe(t)});class zo extends ze{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return fe(n,{received:n.data,code:Q.invalid_literal,expected:this._def.value}),Ie}return{status:"valid",value:t.data}}get value(){return this._def.value}}zo.create=(e,t)=>new zo({value:e,typeName:re.ZodLiteral,...Fe(t)});function Nb(e,t){return new Oa({values:e,typeName:re.ZodEnum,...Fe(t)})}class Oa extends ze{constructor(){super(...arguments),go.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return fe(n,{expected:Ge.joinValues(r),received:n.parsedType,code:Q.invalid_type}),Ie}if(cc(this,go)||Cb(this,go,new Set(this._def.values)),!cc(this,go).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return fe(n,{received:n.data,code:Q.invalid_enum_value,options:r}),Ie}return nn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Oa.create(t,{...this._def,...n})}exclude(t,n=this._def){return Oa.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}go=new WeakMap;Oa.create=Nb;class $o extends ze{constructor(){super(...arguments),yo.set(this,void 0)}_parse(t){const n=Ge.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==he.string&&r.parsedType!==he.number){const s=Ge.objectValues(n);return fe(r,{expected:Ge.joinValues(s),received:r.parsedType,code:Q.invalid_type}),Ie}if(cc(this,yo)||Cb(this,yo,new Set(Ge.getValidEnumValues(this._def.values))),!cc(this,yo).has(t.data)){const s=Ge.objectValues(n);return fe(r,{received:r.data,code:Q.invalid_enum_value,options:s}),Ie}return nn(t.data)}get enum(){return this._def.values}}yo=new WeakMap;$o.create=(e,t)=>new $o({values:e,typeName:re.ZodNativeEnum,...Fe(t)});class di extends ze{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==he.promise&&n.common.async===!1)return fe(n,{code:Q.invalid_type,expected:he.promise,received:n.parsedType}),Ie;const r=n.parsedType===he.promise?n.data:Promise.resolve(n.data);return nn(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}di.create=(e,t)=>new di({type:e,typeName:re.ZodPromise,...Fe(t)});class ar extends ze{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===re.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:l=>{fe(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const l=s.transform(r.data,i);if(r.common.async)return Promise.resolve(l).then(async u=>{if(n.value==="aborted")return Ie;const f=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return f.status==="aborted"?Ie:f.status==="dirty"||n.value==="dirty"?ei(f.value):f});{if(n.value==="aborted")return Ie;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?Ie:u.status==="dirty"||n.value==="dirty"?ei(u.value):u}}if(s.type==="refinement"){const l=u=>{const f=s.refinement(u,i);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Ie:(u.status==="dirty"&&n.dirty(),l(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Ie:(u.status==="dirty"&&n.dirty(),l(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!fs(l))return l;const u=s.transform(l.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>fs(l)?Promise.resolve(s.transform(l.value,i)).then(u=>({status:n.value,value:u})):l);Ge.assertNever(s)}}ar.create=(e,t,n)=>new ar({schema:e,typeName:re.ZodEffects,effect:t,...Fe(n)});ar.createWithPreprocess=(e,t,n)=>new ar({schema:t,effect:{type:"preprocess",transform:e},typeName:re.ZodEffects,...Fe(n)});class nr extends ze{_parse(t){return this._getType(t)===he.undefined?nn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}nr.create=(e,t)=>new nr({innerType:e,typeName:re.ZodOptional,...Fe(t)});class Pa extends ze{_parse(t){return this._getType(t)===he.null?nn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pa.create=(e,t)=>new Pa({innerType:e,typeName:re.ZodNullable,...Fe(t)});class Uo extends ze{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===he.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Uo.create=(e,t)=>new Uo({innerType:e,typeName:re.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Fe(t)});class Bo extends ze{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Po(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new _n(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new _n(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Bo.create=(e,t)=>new Bo({innerType:e,typeName:re.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Fe(t)});class hc extends ze{_parse(t){if(this._getType(t)!==he.nan){const r=this._getOrReturnCtx(t);return fe(r,{code:Q.invalid_type,expected:he.nan,received:r.parsedType}),Ie}return{status:"valid",value:t.data}}}hc.create=e=>new hc({typeName:re.ZodNaN,...Fe(e)});const kP=Symbol("zod_brand");class lm extends ze{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Sl extends ze{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ie:i.status==="dirty"?(n.dirty(),ei(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ie:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new Sl({in:t,out:n,typeName:re.ZodPipeline})}}class Ho extends ze{_parse(t){const n=this._def.innerType._parse(t),r=s=>(fs(s)&&(s.value=Object.freeze(s.value)),s);return Po(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Ho.create=(e,t)=>new Ho({innerType:e,typeName:re.ZodReadonly,...Fe(t)});function Ob(e,t={},n){return e?ci.create().superRefine((r,s)=>{var i,l;if(!e(r)){const u=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,f=(l=(i=u.fatal)!==null&&i!==void 0?i:n)!==null&&l!==void 0?l:!0,d=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...d,fatal:f})}}):ci.create()}const CP={object:vt.lazycreate};var re;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(re||(re={}));const TP=(e,t={message:`Input not instance of ${e.name}`})=>Ob(n=>n instanceof e,t),Pb=er.create,Rb=Ia.create,EP=hc.create,IP=Na.create,jb=Ro.create,NP=ps.create,OP=dc.create,PP=jo.create,RP=Ao.create,jP=ci.create,AP=ss.create,DP=Wr.create,MP=fc.create,LP=tr.create,FP=vt.create,zP=vt.strictCreate,$P=Do.create,UP=Bc.create,BP=Mo.create,HP=br.create,qP=Lo.create,VP=pc.create,WP=hs.create,ZP=ri.create,JP=Fo.create,GP=zo.create,YP=Oa.create,KP=$o.create,XP=di.create,D0=ar.create,QP=nr.create,eR=Pa.create,tR=ar.createWithPreprocess,nR=Sl.create,rR=()=>Pb().optional(),aR=()=>Rb().optional(),sR=()=>jb().optional(),iR={string:e=>er.create({...e,coerce:!0}),number:e=>Ia.create({...e,coerce:!0}),boolean:e=>Ro.create({...e,coerce:!0}),bigint:e=>Na.create({...e,coerce:!0}),date:e=>ps.create({...e,coerce:!0})},oR=Ie;var x=Object.freeze({__proto__:null,defaultErrorMap:ui,setErrorMap:tP,getErrorMap:lc,makeIssue:uc,EMPTY_PATH:nP,addIssueToContext:fe,ParseStatus:Jt,INVALID:Ie,DIRTY:ei,OK:nn,isAborted:rh,isDirty:ah,isValid:fs,isAsync:Po,get util(){return Ge},get objectUtil(){return nh},ZodParsedType:he,getParsedType:$r,ZodType:ze,datetimeRegex:Ib,ZodString:er,ZodNumber:Ia,ZodBigInt:Na,ZodBoolean:Ro,ZodDate:ps,ZodSymbol:dc,ZodUndefined:jo,ZodNull:Ao,ZodAny:ci,ZodUnknown:ss,ZodNever:Wr,ZodVoid:fc,ZodArray:tr,ZodObject:vt,ZodUnion:Do,ZodDiscriminatedUnion:Bc,ZodIntersection:Mo,ZodTuple:br,ZodRecord:Lo,ZodMap:pc,ZodSet:hs,ZodFunction:ri,ZodLazy:Fo,ZodLiteral:zo,ZodEnum:Oa,ZodNativeEnum:$o,ZodPromise:di,ZodEffects:ar,ZodTransformer:ar,ZodOptional:nr,ZodNullable:Pa,ZodDefault:Uo,ZodCatch:Bo,ZodNaN:hc,BRAND:kP,ZodBranded:lm,ZodPipeline:Sl,ZodReadonly:Ho,custom:Ob,Schema:ze,ZodSchema:ze,late:CP,get ZodFirstPartyTypeKind(){return re},coerce:iR,any:jP,array:LP,bigint:IP,boolean:jb,date:NP,discriminatedUnion:UP,effect:D0,enum:YP,function:ZP,instanceof:TP,intersection:BP,lazy:JP,literal:GP,map:VP,nan:EP,nativeEnum:KP,never:DP,null:RP,nullable:eR,number:Rb,object:FP,oboolean:sR,onumber:aR,optional:QP,ostring:rR,pipeline:nR,preprocess:tR,promise:XP,record:qP,set:WP,strictObject:zP,string:Pb,symbol:OP,transformer:D0,tuple:HP,undefined:PP,union:$P,unknown:AP,void:MP,NEVER:oR,ZodIssueCode:Q,quotelessJson:eP,ZodError:_n});function lR(){return{}}function uR(e,t){var r,s,i;const n={type:"array"};return(r=e.type)!=null&&r._def&&((i=(s=e.type)==null?void 0:s._def)==null?void 0:i.typeName)!==re.ZodAny&&(n.items=Xe(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&nt(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&nt(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(nt(n,"minItems",e.exactLength.value,e.exactLength.message,t),nt(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function cR(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?nt(n,"minimum",r.value,r.message,t):nt(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),nt(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?nt(n,"maximum",r.value,r.message,t):nt(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),nt(n,"maximum",r.value,r.message,t));break;case"multipleOf":nt(n,"multipleOf",r.value,r.message,t);break}return n}function dR(){return{type:"boolean"}}function Ab(e,t){return Xe(e.type._def,t)}const fR=(e,t)=>Xe(e.innerType._def,t);function Db(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,i)=>Db(e,t,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return pR(e,t)}}const pR=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":nt(n,"minimum",r.value,r.message,t);break;case"max":nt(n,"maximum",r.value,r.message,t);break}return n};function hR(e,t){return{...Xe(e.innerType._def,t),default:e.defaultValue()}}function mR(e,t){return t.effectStrategy==="input"?Xe(e.schema._def,t):{}}function gR(e){return{type:"string",enum:Array.from(e.values)}}const yR=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function vR(e,t){const n=[Xe(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Xe(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(i=>{if(yR(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(r=void 0);else{let l=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:u,...f}=i;l=f}else r=void 0;s.push(l)}}),s.length?{allOf:s,...r}:void 0}function xR(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let np;const Xn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(np===void 0&&(np=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),np),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Mb(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":nt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":nt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Qn(n,"email",r.message,t);break;case"format:idn-email":Qn(n,"idn-email",r.message,t);break;case"pattern:zod":en(n,Xn.email,r.message,t);break}break;case"url":Qn(n,"uri",r.message,t);break;case"uuid":Qn(n,"uuid",r.message,t);break;case"regex":en(n,r.regex,r.message,t);break;case"cuid":en(n,Xn.cuid,r.message,t);break;case"cuid2":en(n,Xn.cuid2,r.message,t);break;case"startsWith":en(n,RegExp(`^${rp(r.value,t)}`),r.message,t);break;case"endsWith":en(n,RegExp(`${rp(r.value,t)}$`),r.message,t);break;case"datetime":Qn(n,"date-time",r.message,t);break;case"date":Qn(n,"date",r.message,t);break;case"time":Qn(n,"time",r.message,t);break;case"duration":Qn(n,"duration",r.message,t);break;case"length":nt(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),nt(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{en(n,RegExp(rp(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Qn(n,"ipv4",r.message,t),r.version!=="v4"&&Qn(n,"ipv6",r.message,t);break}case"base64url":en(n,Xn.base64url,r.message,t);break;case"jwt":en(n,Xn.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&en(n,Xn.ipv4Cidr,r.message,t),r.version!=="v4"&&en(n,Xn.ipv6Cidr,r.message,t);break}case"emoji":en(n,Xn.emoji(),r.message,t);break;case"ulid":{en(n,Xn.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Qn(n,"binary",r.message,t);break}case"contentEncoding:base64":{nt(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{en(n,Xn.base64,r.message,t);break}}break}case"nanoid":en(n,Xn.nanoid,r.message,t)}return n}function rp(e,t){return t.patternStrategy==="escape"?bR(e):e}const wR=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function bR(e){let t="";for(let n=0;n<e.length;n++)wR.has(e[n])||(t+="\\"),t+=e[n];return t}function Qn(e,t,n,r){var s;e.format||(s=e.anyOf)!=null&&s.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):nt(e,"format",t,n,r)}function en(e,t,n,r){var s;e.pattern||(s=e.allOf)!=null&&s.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:M0(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):nt(e,"pattern",M0(t,r),n,r)}function M0(e,t){var f;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let s="",i=!1,l=!1,u=!1;for(let d=0;d<r.length;d++){if(i){s+=r[d],i=!1;continue}if(n.i){if(l){if(r[d].match(/[a-z]/)){u?(s+=r[d],s+=`${r[d-2]}-${r[d]}`.toUpperCase(),u=!1):r[d+1]==="-"&&((f=r[d+2])!=null&&f.match(/[a-z]/))?(s+=r[d],u=!0):s+=`${r[d]}${r[d].toUpperCase()}`;continue}}else if(r[d].match(/[a-z]/)){s+=`[${r[d]}${r[d].toUpperCase()}]`;continue}}if(n.m){if(r[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[d]==="."){s+=l?`${r[d]}\r
`:`[${r[d]}\r
]`;continue}s+=r[d],r[d]==="\\"?i=!0:l&&r[d]==="]"?l=!1:!l&&r[d]==="["&&(l=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Lb(e,t){var r,s,i,l,u,f;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===re.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((d,h)=>({...d,[h]:Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",h]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return n;if(((s=e.keyType)==null?void 0:s._def.typeName)===re.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:d,...h}=Mb(e.keyType._def,t);return{...n,propertyNames:h}}else{if(((l=e.keyType)==null?void 0:l._def.typeName)===re.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((u=e.keyType)==null?void 0:u._def.typeName)===re.ZodBranded&&e.keyType._def.type._def.typeName===re.ZodString&&((f=e.keyType._def.type._def.checks)!=null&&f.length)){const{type:d,...h}=Ab(e.keyType._def,t);return{...n,propertyNames:h}}}return n}function SR(e,t){if(t.mapStrategy==="record")return Lb(e,t);const n=Xe(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},r=Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function _R(e){const t=e.values,r=Object.keys(e.values).filter(i=>typeof t[t[i]]!="number").map(i=>t[i]),s=Array.from(new Set(r.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function kR(){return{not:{}}}function CR(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const mc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function TR(e,t){if(t.target==="openApi3")return L0(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in mc&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,i)=>{const l=mc[i._def.typeName];return l&&!s.includes(l)?[...s,l]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,i)=>{const l=typeof i._def.value;switch(l){case"string":case"number":case"boolean":return[...s,l];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((i,l,u)=>u.indexOf(i)===l);return{type:s.length>1?s:s[0],enum:n.reduce((i,l)=>i.includes(l._def.value)?i:[...i,l._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(i=>!r.includes(i))],[])};return L0(e,t)}const L0=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>Xe(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function ER(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:mc[e.innerType._def.typeName],nullable:!0}:{type:[mc[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=Xe(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Xe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function IR(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",_b(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?nt(n,"minimum",r.value,r.message,t):nt(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),nt(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?nt(n,"maximum",r.value,r.message,t):nt(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),nt(n,"maximum",r.value,r.message,t));break;case"multipleOf":nt(n,"multipleOf",r.value,r.message,t);break}return n}function NR(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":Xe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":Xe(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function OR(e,t){const n=t.target==="openAi",r={type:"object",...Object.entries(e.shape()).reduce((s,[i,l])=>{if(l===void 0||l._def===void 0)return s;let u=l.isOptional();u&&n&&(l instanceof nr&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),u=!1);const f=Xe(l._def,{...t,currentPath:[...t.currentPath,"properties",i],propertyPath:[...t.currentPath,"properties",i]});return f===void 0?s:{properties:{...s.properties,[i]:f},required:u?s.required:[...s.required,i]}},{properties:{},required:[]}),additionalProperties:NR(e,t)};return r.required.length||delete r.required,r}const PR=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Xe(e.innerType._def,t);const n=Xe(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},RR=(e,t)=>{if(t.pipeStrategy==="input")return Xe(e.in._def,t);if(t.pipeStrategy==="output")return Xe(e.out._def,t);const n=Xe(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Xe(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function jR(e,t){return Xe(e.type._def,t)}function AR(e,t){const r={type:"array",uniqueItems:!0,items:Xe(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&nt(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&nt(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function DR(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Xe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Xe(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Xe(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function MR(){return{not:{}}}function LR(){return{}}const FR=(e,t)=>Xe(e.innerType._def,t);function Xe(e,t,n=!1){var l;const r=t.seen.get(e);if(t.override){const u=(l=t.override)==null?void 0:l.call(t,e,t,r,n);if(u!==K3)return u}if(r&&!n){const u=zR(r,t);if(u!==void 0)return u}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const i=UR(e,e.typeName,t);return i&&BR(e,t,i),s.jsonSchema=i,i}const zR=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:$R(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},$R=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},UR=(e,t,n)=>{switch(t){case re.ZodString:return Mb(e,n);case re.ZodNumber:return IR(e,n);case re.ZodObject:return OR(e,n);case re.ZodBigInt:return cR(e,n);case re.ZodBoolean:return dR();case re.ZodDate:return Db(e,n);case re.ZodUndefined:return MR();case re.ZodNull:return CR(n);case re.ZodArray:return uR(e,n);case re.ZodUnion:case re.ZodDiscriminatedUnion:return TR(e,n);case re.ZodIntersection:return vR(e,n);case re.ZodTuple:return DR(e,n);case re.ZodRecord:return Lb(e,n);case re.ZodLiteral:return xR(e,n);case re.ZodEnum:return gR(e);case re.ZodNativeEnum:return _R(e);case re.ZodNullable:return ER(e,n);case re.ZodOptional:return PR(e,n);case re.ZodMap:return SR(e,n);case re.ZodSet:return AR(e,n);case re.ZodLazy:return Xe(e.getter()._def,n);case re.ZodPromise:return jR(e,n);case re.ZodNaN:case re.ZodNever:return kR();case re.ZodEffects:return mR(e,n);case re.ZodAny:return lR();case re.ZodUnknown:return LR();case re.ZodDefault:return hR(e,n);case re.ZodBranded:return Ab(e,n);case re.ZodReadonly:return FR(e,n);case re.ZodCatch:return fR(e,n);case re.ZodPipeline:return RR(e,n);case re.ZodFunction:case re.ZodVoid:case re.ZodSymbol:return;default:return(r=>{})()}},BR=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),HR=(e,t)=>{const n=Q3(t),r=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((f,[d,h])=>({...f,[d]:Xe(h._def,{...n,currentPath:[...n.basePath,n.definitionPath,d]},!0)??{}}),{}):void 0,s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,i=Xe(e._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1)??{},l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(i.title=l);const u=s===void 0?r?{...i,[n.definitionPath]:r}:i:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...r,[s]:i}};return n.target==="jsonSchema7"?u.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(u.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in u||"oneOf"in u||"allOf"in u||"type"in u&&Array.isArray(u.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),u};var qo={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Vo={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Wo={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Zo={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Jo={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},qR=[qo,Vo,Wo,Zo,Jo];qo.code+"",Vo.code+"",Wo.code+"",Zo.code+"",Jo.code+"";qo.name+"",qo.code,Vo.name+"",Vo.code,Wo.name+"",Wo.code,Zo.name+"",Zo.code,Jo.name+"",Jo.code;qR.map(e=>e.code);function VR(e){const t=["ROOT"];let n=-1,r=null;function s(f,d,h){switch(f){case'"':{n=d,t.pop(),t.push(h),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(h),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(h),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(h),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(h),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(h),t.push("INSIDE_ARRAY_START");break}}}function i(f,d){switch(f){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function l(f,d){switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let f=0;f<e.length;f++){const d=e[f];switch(t[t.length-1]){case"ROOT":s(d,f,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=f,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(d){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(d,f,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{i(d,f);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=f;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=f}break}case"INSIDE_ARRAY_START":{switch(d){case"]":{n=f,t.pop();break}default:{n=f,s(d,f,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=f,t.pop();break}default:{n=f;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(d,f,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=f;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=f;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,f),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(d,f);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&i(d,f);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,f);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const g=e.substring(r,f+1);!"false".startsWith(g)&&!"true".startsWith(g)&&!"null".startsWith(g)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?i(d,f):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,f)):n=f;break}}}let u=e.slice(0,n+1);for(let f=t.length-1;f>=0;f--)switch(t[f]){case"INSIDE_STRING":{u+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{u+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{u+="]";break}case"INSIDE_LITERAL":{const h=e.substring(r,e.length);"true".startsWith(h)?u+="true".slice(h.length):"false".startsWith(h)?u+="false".slice(h.length):"null".startsWith(h)&&(u+="null".slice(h.length))}}return u}function Fb(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=ds({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=ds({text:VR(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Go={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},Yo={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Ko={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Xo={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},Qo={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},el={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},tl={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},nl={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},rl={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},al={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},sl={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},il={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},zb=[Go,Yo,Ko,Xo,Qo,el,tl,nl,rl,al,sl,il];Go.code+"",Yo.code+"",Ko.code+"",Xo.code+"",Qo.code+"",el.code+"",tl.code+"",nl.code+"",rl.code+"",al.code+"",sl.code+"",il.code+"";Go.name+"",Go.code,Yo.name+"",Yo.code,Ko.name+"",Ko.code,Xo.name+"",Xo.code,Qo.name+"",Qo.code,el.name+"",el.code,tl.name+"",tl.code,nl.name+"",nl.code,rl.name+"",rl.code,al.name+"",al.code,sl.name+"",sl.code,il.name+"",il.code;zb.map(e=>e.code);function Mn(e,t){const n=zb.find(r=>r.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}function gc(e,t){if(e===t)return!0;if(e==null||t==null)return!1;if(typeof e!="object"&&typeof t!="object")return e===t;if(e.constructor!==t.constructor)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(Array.isArray(e)){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(!gc(e[s],t[s]))return!1;return!0}const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n)if(!r.includes(s)||!gc(e[s],t[s]))return!1;return!0}function WR(e,t){var n;const r=(n=void 0)!=null?n:!1;return ZR(HR(e,{$refStrategy:r?"root":"none",target:"jsonSchema7"}),{validate:s=>{const i=e.safeParse(s);return i.success?{success:!0,value:i.data}:{success:!1,error:i.error}}})}var ih=Symbol.for("vercel.ai.schema");function ZR(e,{validate:t}={}){return{[ih]:!0,_type:void 0,[oc]:!0,jsonSchema:e,validate:t}}function JR(e){return typeof e=="object"&&e!==null&&ih in e&&e[ih]===!0&&"jsonSchema"in e&&"validate"in e}function fi(e){return JR(e)?e:WR(e)}var GR=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},ts="1.9.0",F0=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function YR(e){var t=new Set([e]),n=new Set,r=e.match(F0);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(f){return f===e};function i(u){return n.add(u),!1}function l(u){return t.add(u),!0}return function(f){if(t.has(f))return!0;if(n.has(f))return!1;var d=f.match(F0);if(!d)return i(f);var h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return h.prerelease!=null||s.major!==h.major?i(f):s.major===0?s.minor===h.minor&&s.patch<=h.patch?l(f):i(f):s.minor<=h.minor?l(f):i(f)}}var KR=YR(ts),XR=ts.split(".")[0],ol=Symbol.for("opentelemetry.js.api."+XR),ll=GR;function um(e,t,n,r){var s;r===void 0&&(r=!1);var i=ll[ol]=(s=ll[ol])!==null&&s!==void 0?s:{version:ts};if(!r&&i[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(l.stack||l.message),!1}if(i.version!==ts){var l=new Error("@opentelemetry/api: Registration of version v"+i.version+" for "+e+" does not match previously registered API v"+ts);return n.error(l.stack||l.message),!1}return i[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+ts+"."),!0}function ul(e){var t,n,r=(t=ll[ol])===null||t===void 0?void 0:t.version;if(!(!r||!KR(r)))return(n=ll[ol])===null||n===void 0?void 0:n[e]}function cm(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+ts+".");var n=ll[ol];n&&delete n[e]}var QR=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},ej=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},tj=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oo("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oo("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oo("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oo("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return oo("verbose",this._namespace,t)},e}();function oo(e,t,n){var r=ul("diag");if(r)return n.unshift(t),r[e].apply(r,ej([],QR(n),!1))}var bn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(bn||(bn={}));function nj(e,t){e<bn.NONE?e=bn.NONE:e>bn.ALL&&(e=bn.ALL),t=t||{};function n(r,s){var i=t[r];return typeof i=="function"&&e>=s?i.bind(t):function(){}}return{error:n("error",bn.ERROR),warn:n("warn",bn.WARN),info:n("info",bn.INFO),debug:n("debug",bn.DEBUG),verbose:n("verbose",bn.VERBOSE)}}var rj=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},aj=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},sj="diag",yc=function(){function e(){function t(s){return function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var u=ul("diag");if(u)return u[s].apply(u,aj([],rj(i),!1))}}var n=this,r=function(s,i){var l,u,f;if(i===void 0&&(i={logLevel:bn.INFO}),s===n){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((l=d.stack)!==null&&l!==void 0?l:d.message),!1}typeof i=="number"&&(i={logLevel:i});var h=ul("diag"),g=nj((u=i.logLevel)!==null&&u!==void 0?u:bn.INFO,s);if(h&&!i.suppressOverrideMessage){var y=(f=new Error().stack)!==null&&f!==void 0?f:"<failed to generate stacktrace>";h.warn("Current logger will be overwritten from "+y),g.warn("Current logger will overwrite one already registered from "+y)}return um("diag",g,n,!0)};n.setLogger=r,n.disable=function(){cm(sj,n)},n.createComponentLogger=function(s){return new tj(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function ij(e){return Symbol.for(e)}var oj=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var i=new e(n._currentContext);return i._currentContext.set(r,s),i},n.deleteValue=function(r){var s=new e(n._currentContext);return s._currentContext.delete(r),s}}return e}(),lj=new oj,uj=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},cj=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},dj=function(){function e(){}return e.prototype.active=function(){return lj},e.prototype.with=function(t,n,r){for(var s=[],i=3;i<arguments.length;i++)s[i-3]=arguments[i];return n.call.apply(n,cj([r],uj(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),fj=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,i=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)i.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return i},pj=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},ap="context",hj=new dj,$b=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return um(ap,t,yc.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var s,i=[],l=3;l<arguments.length;l++)i[l-3]=arguments[l];return(s=this._getContextManager()).with.apply(s,pj([t,n,r],fj(i),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return ul(ap)||hj},e.prototype.disable=function(){this._getContextManager().disable(),cm(ap,yc.instance())},e}(),oh;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(oh||(oh={}));var Ub="0000000000000000",Bb="00000000000000000000000000000000",mj={traceId:Bb,spanId:Ub,traceFlags:oh.NONE},_o=function(){function e(t){t===void 0&&(t=mj),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),dm=ij("OpenTelemetry Context Key SPAN");function fm(e){return e.getValue(dm)||void 0}function gj(){return fm($b.getInstance().active())}function pm(e,t){return e.setValue(dm,t)}function yj(e){return e.deleteValue(dm)}function vj(e,t){return pm(e,new _o(t))}function Hb(e){var t;return(t=fm(e))===null||t===void 0?void 0:t.spanContext()}var xj=/^([0-9a-f]{32})$/i,wj=/^[0-9a-f]{16}$/i;function bj(e){return xj.test(e)&&e!==Bb}function Sj(e){return wj.test(e)&&e!==Ub}function qb(e){return bj(e.traceId)&&Sj(e.spanId)}function _j(e){return new _o(e)}var sp=$b.getInstance(),Vb=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=sp.active());var s=!!(n!=null&&n.root);if(s)return new _o;var i=r&&Hb(r);return kj(i)&&qb(i)?new _o(i):new _o},e.prototype.startActiveSpan=function(t,n,r,s){var i,l,u;if(!(arguments.length<2)){arguments.length===2?u=n:arguments.length===3?(i=n,u=r):(i=n,l=r,u=s);var f=l??sp.active(),d=this.startSpan(t,i,f),h=pm(f,d);return sp.with(h,u,void 0,d)}},e}();function kj(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Cj=new Vb,Tj=function(){function e(t,n,r,s){this._provider=t,this.name=n,this.version=r,this.options=s}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,s){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Cj},e}(),Ej=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new Vb},e}(),Ij=new Ej,z0=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var s;return(s=this.getDelegateTracer(t,n,r))!==null&&s!==void 0?s:new Tj(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Ij},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,r)},e}(),vc;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(vc||(vc={}));var ip="trace",Nj=function(){function e(){this._proxyTracerProvider=new z0,this.wrapSpanContext=_j,this.isSpanContextValid=qb,this.deleteSpan=yj,this.getSpan=fm,this.getActiveSpan=gj,this.getSpanContext=Hb,this.setSpan=pm,this.setSpanContext=vj}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=um(ip,this._proxyTracerProvider,yc.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return ul(ip)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){cm(ip,yc.instance()),this._proxyTracerProvider=new z0},e}(),Oj=Nj.getInstance(),Pj=Object.defineProperty,hm=(e,t)=>{for(var n in t)Pj(e,n,{get:t[n],enumerable:!0})};function cl(e,{contentType:t,dataStreamVersion:n}){const r=new Headers(e??{});return r.has("Content-Type")||r.set("Content-Type",t),n!==void 0&&r.set("X-Vercel-AI-Data-Stream",n),r}function lh(e,{contentType:t,dataStreamVersion:n}){const r={};if(e!=null)for(const[s,i]of Object.entries(e))r[s]=i;return r["Content-Type"]==null&&(r["Content-Type"]=t),n!==void 0&&(r["X-Vercel-AI-Data-Stream"]=n),r}function uh({response:e,status:t,statusText:n,headers:r,stream:s}){e.writeHead(t??200,n,r);const i=s.getReader();(async()=>{try{for(;;){const{done:u,value:f}=await i.read();if(u)break;e.write(f)}}catch(u){throw u}finally{e.end()}})()}var Wb="AI_InvalidArgumentError",Zb=`vercel.ai.error.${Wb}`,Rj=Symbol.for(Zb),Jb,ct=class extends Pe{constructor({parameter:e,value:t,message:n}){super({name:Wb,message:`Invalid argument for parameter ${e}: ${n}`}),this[Jb]=!0,this.parameter=e,this.value=t}static isInstance(e){return Pe.hasMarker(e,Zb)}};Jb=Rj;var Gb="AI_RetryError",Yb=`vercel.ai.error.${Gb}`,jj=Symbol.for(Yb),Kb,$0=class extends Pe{constructor({message:e,reason:t,errors:n}){super({name:Gb,message:e}),this[Kb]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Pe.hasMarker(e,Yb)}};Kb=jj;var Aj=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>Xb(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function Xb(e,{maxRetries:t,delayInMs:n,backoffFactor:r},s=[]){try{return await e()}catch(i){if(as(i)||t===0)throw i;const l=M3(i),u=[...s,i],f=u.length;if(f>t)throw new $0({message:`Failed after ${f} attempts. Last error: ${l}`,reason:"maxRetriesExceeded",errors:u});if(i instanceof Error&&Bt.isInstance(i)&&i.isRetryable===!0&&f<=t)return await D3(n),Xb(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},u);throw f===1?i:new $0({message:`Failed after ${f} attempts with non-retryable error: '${l}'`,reason:"errorNotRetryable",errors:u})}}function Qb({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new ct({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new ct({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const t=e??2;return{maxRetries:t,retry:Aj({maxRetries:t})}}function dl({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function eS({model:e,settings:t,telemetry:n,headers:r}){var s;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((i,[l,u])=>(i[`ai.settings.${l}`]=u,i),{}),...Object.entries((s=n==null?void 0:n.metadata)!=null?s:{}).reduce((i,[l,u])=>(i[`ai.telemetry.metadata.${l}`]=u,i),{}),...Object.entries(r??{}).reduce((i,[l,u])=>(u!==void 0&&(i[`ai.request.headers.${l}`]=u),i),{})}}var Dj={startSpan(){return zu},startActiveSpan(e,t,n,r){if(typeof t=="function")return t(zu);if(typeof n=="function")return n(zu);if(typeof r=="function")return r(zu)}},zu={spanContext(){return Mj},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},Mj={traceId:"",spanId:"",traceFlags:0};function tS({isEnabled:e=!1,tracer:t}={}){return e?t||Oj.getTracer("ai"):Dj}function fl({name:e,tracer:t,attributes:n,fn:r,endWhenDone:s=!0}){return t.startActiveSpan(e,{attributes:n},async i=>{try{const l=await r(i);return s&&i.end(),l}catch(l){try{l instanceof Error?(i.recordException({name:l.name,message:l.message,stack:l.stack}),i.setStatus({code:vc.ERROR,message:l.message})):i.setStatus({code:vc.ERROR})}finally{i.end()}throw l}})}function vr({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((n,[r,s])=>{if(s===void 0)return n;if(typeof s=="object"&&"input"in s&&typeof s.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return n;const i=s.input();return i===void 0?n:{...n,[r]:i}}if(typeof s=="object"&&"output"in s&&typeof s.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return n;const i=s.output();return i===void 0?n:{...n,[r]:i}}return{...n,[r]:s}},{})}var nS="AI_NoObjectGeneratedError",rS=`vercel.ai.error.${nS}`,Lj=Symbol.for(rS),aS,xc=class extends Pe{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:s}){super({name:nS,message:e,cause:t}),this[aS]=!0,this.text=n,this.response=r,this.usage=s}static isInstance(e){return Pe.hasMarker(e,rS)}};aS=Lj;var sS="AI_DownloadError",iS=`vercel.ai.error.${sS}`,Fj=Symbol.for(iS),oS,op=class extends Pe{constructor({url:e,statusCode:t,statusText:n,cause:r,message:s=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:sS,message:s,cause:r}),this[oS]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Pe.hasMarker(e,iS)}};oS=Fj;async function zj({url:e,fetchImplementation:t=fetch}){var n;const r=e.toString();try{const s=await t(r);if(!s.ok)throw new op({url:r,statusCode:s.status,statusText:s.statusText});return{data:new Uint8Array(await s.arrayBuffer()),mimeType:(n=s.headers.get("content-type"))!=null?n:void 0}}catch(s){throw op.isInstance(s)?s:new op({url:r,cause:s})}}var $j=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function Uj(e){for(const{bytes:t,mimeType:n}of $j)if(e.length>=t.length&&t.every((r,s)=>e[s]===r))return n}var lS="AI_InvalidDataContentError",uS=`vercel.ai.error.${lS}`,Bj=Symbol.for(uS),cS,U0=class extends Pe{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:lS,message:n,cause:t}),this[cS]=!0,this.content=e}static isInstance(e){return Pe.hasMarker(e,uS)}};cS=Bj;var dS=x.union([x.string(),x.instanceof(Uint8Array),x.instanceof(ArrayBuffer),x.custom(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function Hj(e){return typeof e=="string"?e:e instanceof ArrayBuffer?Vr(new Uint8Array(e)):Vr(e)}function wc(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return Y3(e)}catch(t){throw new U0({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new U0({content:e})}function qj(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var fS="AI_InvalidMessageRoleError",pS=`vercel.ai.error.${fS}`,Vj=Symbol.for(pS),hS,Wj=class extends Pe{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:fS,message:t}),this[hS]=!0,this.role=e}static isInstance(e){return Pe.hasMarker(e,pS)}};hS=Vj;function Zj(e){try{const[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}async function ch({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=zj}){const s=await Gj(e.messages,r,t,n);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(i=>Jj(i,s))]}function Jj(e,t){var n,r,s,i,l,u;const f=e.role;switch(f){case"system":return{role:"system",content:e.content,providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata}:{role:"user",content:e.content.map(d=>Yj(d,t)).filter(d=>d.type!=="text"||d.text!==""),providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:(i=e.providerOptions)!=null?i:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(d=>d.type!=="text"||d.text!=="").map(d=>{const{experimental_providerMetadata:h,providerOptions:g,...y}=d;return{...y,providerMetadata:g??h}}),providerMetadata:(l=e.providerOptions)!=null?l:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(d=>{var h;return{type:"tool-result",toolCallId:d.toolCallId,toolName:d.toolName,result:d.result,content:d.experimental_content,isError:d.isError,providerMetadata:(h=d.providerOptions)!=null?h:d.experimental_providerMetadata}}),providerMetadata:(u=e.providerOptions)!=null?u:e.experimental_providerMetadata};default:{const d=f;throw new Wj({role:d})}}}async function Gj(e,t,n,r){const s=e.filter(l=>l.role==="user").map(l=>l.content).filter(l=>Array.isArray(l)).flat().filter(l=>l.type==="image"||l.type==="file").filter(l=>!(l.type==="image"&&n===!0)).map(l=>l.type==="image"?l.image:l.data).map(l=>typeof l=="string"&&(l.startsWith("http:")||l.startsWith("https:"))?new URL(l):l).filter(l=>l instanceof URL).filter(l=>!r(l)),i=await Promise.all(s.map(async l=>({url:l,data:await t({url:l})})));return Object.fromEntries(i.map(({url:l,data:u})=>[l.toString(),u]))}function Yj(e,t){var n;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let r=e.mimeType,s,i,l;const u=e.type;switch(u){case"image":s=e.image;break;case"file":s=e.data;break;default:throw new Error(`Unsupported part type: ${u}`)}try{i=typeof s=="string"?new URL(s):s}catch{i=s}if(i instanceof URL)if(i.protocol==="data:"){const{mimeType:f,base64Content:d}=Zj(i.toString());if(f==null||d==null)throw new Error(`Invalid data URL format in part ${u}`);r=f,l=wc(d)}else{const f=t[i.toString()];f?(l=f.data,r??(r=f.mimeType)):l=i}else l=wc(i);switch(u){case"image":return l instanceof Uint8Array&&(r=(n=Uj(l))!=null?n:r),{type:"image",image:l,mimeType:r,providerMetadata:e.experimental_providerMetadata};case"file":{if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:l instanceof Uint8Array?Hj(l):l,mimeType:r,providerMetadata:e.experimental_providerMetadata}}}}function dh({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:s,frequencyPenalty:i,stopSequences:l,seed:u}){if(e!=null){if(!Number.isInteger(e))throw new ct({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new ct({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new ct({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new ct({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new ct({parameter:"topK",value:r,message:"topK must be a number"});if(s!=null&&typeof s!="number")throw new ct({parameter:"presencePenalty",value:s,message:"presencePenalty must be a number"});if(i!=null&&typeof i!="number")throw new ct({parameter:"frequencyPenalty",value:i,message:"frequencyPenalty must be a number"});if(u!=null&&!Number.isInteger(u))throw new ct({parameter:"seed",value:u,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:n,topK:r,presencePenalty:s,frequencyPenalty:i,stopSequences:l!=null&&l.length>0?l:void 0,seed:u}}function Kj(e){var t,n,r;const s=[];for(const i of e){let l;try{l=new URL(i.url)}catch{throw new Error(`Invalid URL: ${i.url}`)}switch(l.protocol){case"http:":case"https:":{if((t=i.contentType)!=null&&t.startsWith("image/"))s.push({type:"image",image:l});else{if(!i.contentType)throw new Error("If the attachment is not an image, it must specify a content type");s.push({type:"file",data:l,mimeType:i.contentType})}break}case"data:":{let u,f,d;try{[u,f]=i.url.split(","),d=u.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${i.url}`)}if(d==null||f==null)throw new Error(`Invalid data URL format: ${i.url}`);if((n=i.contentType)!=null&&n.startsWith("image/"))s.push({type:"image",image:wc(f)});else if((r=i.contentType)!=null&&r.startsWith("text/"))s.push({type:"text",text:qj(wc(f))});else{if(!i.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");s.push({type:"file",data:f,mimeType:i.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${l.protocol}`)}}return s}var mS="AI_MessageConversionError",gS=`vercel.ai.error.${mS}`,Xj=Symbol.for(gS),yS,lp=class extends Pe{constructor({originalMessage:e,message:t}){super({name:mS,message:t}),this[yS]=!0,this.originalMessage=e}static isInstance(e){return Pe.hasMarker(e,gS)}};yS=Xj;function Qj(e,t){var n,r;const s=(n=t==null?void 0:t.tools)!=null?n:{},i=[];for(let l=0;l<e.length;l++){const u=e[l],f=l===e.length-1,{role:d,content:h,experimental_attachments:g}=u;switch(d){case"system":{i.push({role:"system",content:h});break}case"user":{i.push({role:"user",content:g?[{type:"text",text:h},...Kj(g)]:h});break}case"assistant":{if(u.parts!=null){let S=function(){i.push({role:"assistant",content:k.map(E=>{switch(E.type){case"text":return{type:"text",text:E.text};default:return{type:"tool-call",toolCallId:E.toolInvocation.toolCallId,toolName:E.toolInvocation.toolName,args:E.toolInvocation.args}}})});const I=k.filter(E=>E.type==="tool-invocation").map(E=>E.toolInvocation);I.length>0&&i.push({role:"tool",content:I.map(E=>{if(!("result"in E))throw new lp({originalMessage:u,message:"ToolInvocation must have a result: "+JSON.stringify(E)});const{toolCallId:P,toolName:D,result:A}=E,$=s[D];return($==null?void 0:$.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:P,toolName:D,result:$.experimental_toToolResultContent(A),experimental_content:$.experimental_toToolResultContent(A)}:{type:"tool-result",toolCallId:P,toolName:D,result:A}})}),k=[],C=!1,_++},_=0,C=!1,k=[];for(const I of u.parts)switch(I.type){case"reasoning":break;case"text":{C&&S(),k.push(I);break}case"tool-invocation":{((r=I.toolInvocation.step)!=null?r:0)!==_&&S(),k.push(I),C=!0;break}}S();break}const y=u.toolInvocations;if(y==null||y.length===0){i.push({role:"assistant",content:h});break}const v=y.reduce((S,_)=>{var C;return Math.max(S,(C=_.step)!=null?C:0)},0);for(let S=0;S<=v;S++){const _=y.filter(C=>{var k;return((k=C.step)!=null?k:0)===S});_.length!==0&&(i.push({role:"assistant",content:[...f&&h&&S===0?[{type:"text",text:h}]:[],..._.map(({toolCallId:C,toolName:k,args:I})=>({type:"tool-call",toolCallId:C,toolName:k,args:I}))]}),i.push({role:"tool",content:_.map(C=>{if(!("result"in C))throw new lp({originalMessage:u,message:"ToolInvocation must have a result: "+JSON.stringify(C)});const{toolCallId:k,toolName:I,result:E}=C,P=s[I];return(P==null?void 0:P.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:k,toolName:I,result:P.experimental_toToolResultContent(E),experimental_content:P.experimental_toToolResultContent(E)}:{type:"tool-result",toolCallId:k,toolName:I,result:E}})}))}h&&!f&&i.push({role:"assistant",content:h});break}case"data":break;default:{const y=d;throw new lp({originalMessage:u,message:`Unsupported role: ${y}`})}}}return i}function eA(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";const t=e.map(tA);return t.some(n=>n==="has-ui-specific-parts")?"ui-messages":t.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}function tA(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var fh=x.lazy(()=>x.union([x.null(),x.string(),x.number(),x.boolean(),x.record(x.string(),fh),x.array(fh)])),Lt=x.record(x.string(),x.record(x.string(),fh)),nA=x.array(x.union([x.object({type:x.literal("text"),text:x.string()}),x.object({type:x.literal("image"),data:x.string(),mimeType:x.string().optional()})])),vS=x.object({type:x.literal("text"),text:x.string(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),rA=x.object({type:x.literal("image"),image:x.union([dS,x.instanceof(URL)]),mimeType:x.string().optional(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),aA=x.object({type:x.literal("file"),data:x.union([dS,x.instanceof(URL)]),mimeType:x.string(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),sA=x.object({type:x.literal("tool-call"),toolCallId:x.string(),toolName:x.string(),args:x.unknown(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),iA=x.object({type:x.literal("tool-result"),toolCallId:x.string(),toolName:x.string(),result:x.unknown(),content:nA.optional(),isError:x.boolean().optional(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),oA=x.object({role:x.literal("system"),content:x.string(),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),lA=x.object({role:x.literal("user"),content:x.union([x.string(),x.array(x.union([vS,rA,aA]))]),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),uA=x.object({role:x.literal("assistant"),content:x.union([x.string(),x.array(x.union([vS,sA]))]),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),cA=x.object({role:x.literal("tool"),content:x.array(iA),providerOptions:Lt.optional(),experimental_providerMetadata:Lt.optional()}),dA=x.union([oA,lA,uA,cA]);function ph({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new wa({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new wa({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new wa({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new wa({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){const n=eA(e.messages);if(n==="other")throw new wa({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});const r=n==="ui-messages"?Qj(e.messages,{tools:t}):e.messages,s=xr({value:r,schema:x.array(dA)});if(!s.success)throw new wa({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:s.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function xS({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function fA(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var pA="JSON schema:",hA="You MUST answer with a JSON object that matches the JSON schema above.",mA="You MUST answer with JSON.";function hh({prompt:e,schema:t,schemaPrefix:n=t!=null?pA:void 0,schemaSuffix:r=t!=null?hA:mA}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,n,t!=null?JSON.stringify(t):void 0,r].filter(s=>s!=null).join(`
`)}function is(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{const n=t.getReader();return{async next(){const{done:r,value:s}=await n.read();return r?{done:!0,value:void 0}:{done:!1,value:s}}}},t}var gA={type:"no-schema",jsonSchema:void 0,validatePartialResult({value:e,textDelta:t}){return{success:!0,value:{partial:e,textDelta:t}}},validateFinalResult(e,t){return e===void 0?{success:!1,error:new xc({message:"No object generated: response did not match schema.",text:t.text,response:t.response,usage:t.usage})}:{success:!0,value:e}},createElementStream(){throw new Le({functionality:"element streams in no-schema mode"})}},yA=e=>({type:"object",jsonSchema:e.jsonSchema,validatePartialResult({value:t,textDelta:n}){return{success:!0,value:{partial:t,textDelta:n}}},validateFinalResult(t){return xr({value:t,schema:e})},createElementStream(){throw new Le({functionality:"element streams in object mode"})}}),vA=e=>{const{$schema:t,...n}=e.jsonSchema;return{type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:n}},required:["elements"],additionalProperties:!1},validatePartialResult({value:r,latestObject:s,isFirstDelta:i,isFinalDelta:l}){var u;if(!th(r)||!O0(r.elements))return{success:!1,error:new Ea({value:r,cause:"value must be an object that contains an array of elements"})};const f=r.elements,d=[];for(let y=0;y<f.length;y++){const v=f[y],S=xr({value:v,schema:e});if(!(y===f.length-1&&!l)){if(!S.success)return S;d.push(S.value)}}const h=(u=s==null?void 0:s.length)!=null?u:0;let g="";return i&&(g+="["),h>0&&(g+=","),g+=d.slice(h).map(y=>JSON.stringify(y)).join(","),l&&(g+="]"),{success:!0,value:{partial:d,textDelta:g}}},validateFinalResult(r){if(!th(r)||!O0(r.elements))return{success:!1,error:new Ea({value:r,cause:"value must be an object that contains an array of elements"})};const s=r.elements;for(const i of s){const l=xr({value:i,schema:e});if(!l.success)return l}return{success:!0,value:s}},createElementStream(r){let s=0;return is(r.pipeThrough(new TransformStream({transform(i,l){switch(i.type){case"object":{const u=i.object;for(;s<u.length;s++)l.enqueue(u[s]);break}case"text-delta":case"finish":break;case"error":l.error(i.error);break;default:{const u=i;throw new Error(`Unsupported chunk type: ${u}`)}}}})))}}},xA=e=>({type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},validateFinalResult(t){if(!th(t)||typeof t.result!="string")return{success:!1,error:new Ea({value:t,cause:'value must be an object that contains a string in the "result" property.'})};const n=t.result;return e.includes(n)?{success:!0,value:n}:{success:!1,error:new Ea({value:t,cause:"value must be a string in the enum"})}},validatePartialResult(){throw new Le({functionality:"partial results in enum mode"})},createElementStream(){throw new Le({functionality:"element streams in enum mode"})}});function wA({output:e,schema:t,enumValues:n}){switch(e){case"object":return yA(fi(t));case"array":return vA(fi(t));case"enum":return xA(n);case"no-schema":return gA;default:{const r=e;throw new Error(`Unsupported output: ${r}`)}}}function bA({output:e,mode:t,schema:n,schemaName:r,schemaDescription:s,enumValues:i}){if(e!=null&&e!=="object"&&e!=="array"&&e!=="enum"&&e!=="no-schema")throw new ct({parameter:"output",value:e,message:"Invalid output type."});if(e==="no-schema"){if(n!=null)throw new ct({parameter:"schema",value:n,message:"Schema is not supported for no-schema output."});if(s!=null)throw new ct({parameter:"schemaDescription",value:s,message:"Schema description is not supported for no-schema output."});if(r!=null)throw new ct({parameter:"schemaName",value:r,message:"Schema name is not supported for no-schema output."});if(i!=null)throw new ct({parameter:"enumValues",value:i,message:"Enum values are not supported for no-schema output."})}if(e==="object"){if(n==null)throw new ct({parameter:"schema",value:n,message:"Schema is required for object output."});if(i!=null)throw new ct({parameter:"enumValues",value:i,message:"Enum values are not supported for object output."})}if(e==="array"){if(n==null)throw new ct({parameter:"schema",value:n,message:"Element schema is required for array output."});if(i!=null)throw new ct({parameter:"enumValues",value:i,message:"Enum values are not supported for array output."})}if(e==="enum"){if(n!=null)throw new ct({parameter:"schema",value:n,message:"Schema is not supported for enum output."});if(s!=null)throw new ct({parameter:"schemaDescription",value:s,message:"Schema description is not supported for enum output."});if(r!=null)throw new ct({parameter:"schemaName",value:r,message:"Schema name is not supported for enum output."});if(i==null)throw new ct({parameter:"enumValues",value:i,message:"Enum values are required for enum output."});for(const l of i)if(typeof l!="string")throw new ct({parameter:"enumValues",value:l,message:"Enum values must be strings."})}}xs({prefix:"aiobj",size:24});var Ut=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function B0(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function wS(){let e=[],t=null,n=!1,r=B0();const s=async()=>{if(n&&e.length===0){t==null||t.close();return}if(e.length===0)return r=B0(),await r.promise,s();try{const{value:i,done:l}=await e[0].read();l?(e.shift(),e.length>0?await s():n&&(t==null||t.close())):t==null||t.enqueue(i)}catch(i){t==null||t.error(i),e.shift(),n&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(i){t=i},pull:s,async cancel(){for(const i of e)await i.cancel();e=[],n=!0}}),addStream:i=>{if(n)throw new Error("Cannot add inner stream: outer stream is closed");e.push(i.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),e.length===0&&(t==null||t.close())},terminate:()=>{n=!0,r.resolve(),e.forEach(i=>i.cancel()),e=[],t==null||t.close()}}}function bS(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}var SA=xs({prefix:"aiobj",size:24});function _A({model:e,schema:t,schemaName:n,schemaDescription:r,mode:s,output:i="object",system:l,prompt:u,messages:f,maxRetries:d,abortSignal:h,headers:g,experimental_telemetry:y,experimental_providerMetadata:v,providerOptions:S=v,onFinish:_,_internal:{generateId:C=SA,currentDate:k=()=>new Date,now:I=bS}={},...E}){bA({output:i,mode:s,schema:t,schemaName:n,schemaDescription:r});const P=wA({output:i,schema:t});return P.type,new kA({model:e,telemetry:y,headers:g,settings:E,maxRetries:d,abortSignal:h,outputStrategy:P,system:l,prompt:u,messages:f,schemaName:n,schemaDescription:r,providerOptions:S,mode:s,onFinish:_,generateId:C,currentDate:k,now:I})}var kA=class{constructor({model:e,headers:t,telemetry:n,settings:r,maxRetries:s,abortSignal:i,outputStrategy:l,system:u,prompt:f,messages:d,schemaName:h,schemaDescription:g,providerOptions:y,mode:v,onFinish:S,generateId:_,currentDate:C,now:k}){this.objectPromise=new Ut,this.usagePromise=new Ut,this.providerMetadataPromise=new Ut,this.warningsPromise=new Ut,this.requestPromise=new Ut,this.responsePromise=new Ut,this.stitchableStream=wS();const{maxRetries:I,retry:E}=Qb({maxRetries:s}),P=eS({model:e,telemetry:n,headers:t,settings:{...r,maxRetries:I}}),D=tS(n),A=this;fl({name:"ai.streamObject",attributes:vr({telemetry:n,attributes:{...dl({operationId:"ai.streamObject",telemetry:n}),...P,"ai.prompt":{input:()=>JSON.stringify({system:u,prompt:f,messages:d})},"ai.schema":l.jsonSchema!=null?{input:()=>JSON.stringify(l.jsonSchema)}:void 0,"ai.schema.name":h,"ai.schema.description":g,"ai.settings.output":l.type,"ai.settings.mode":v}}),tracer:D,endWhenDone:!1,fn:async $=>{var K,ce;(v==="auto"||v==null)&&(v=e.defaultObjectGenerationMode);let de,te;switch(v){case"json":{const Be=ph({prompt:{system:l.jsonSchema==null?hh({prompt:u}):e.supportsStructuredOutputs?u:hh({prompt:u,schema:l.jsonSchema}),prompt:f,messages:d},tools:void 0});de={mode:{type:"object-json",schema:l.jsonSchema,name:h,description:g},...dh(r),inputFormat:Be.type,prompt:await ch({prompt:Be,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(K=e.supportsUrl)==null?void 0:K.bind(e)}),providerMetadata:y,abortSignal:i,headers:t},te={transform:(Re,rt)=>{switch(Re.type){case"text-delta":rt.enqueue(Re.textDelta);break;case"response-metadata":case"finish":case"error":rt.enqueue(Re);break}}};break}case"tool":{const Be=ph({prompt:{system:u,prompt:f,messages:d},tools:void 0});de={mode:{type:"object-tool",tool:{type:"function",name:h??"json",description:g??"Respond with a JSON object.",parameters:l.jsonSchema}},...dh(r),inputFormat:Be.type,prompt:await ch({prompt:Be,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(ce=e.supportsUrl)==null?void 0:ce.bind(e)}),providerMetadata:y,abortSignal:i,headers:t},te={transform(Re,rt){switch(Re.type){case"tool-call-delta":rt.enqueue(Re.argsTextDelta);break;case"response-metadata":case"finish":case"error":rt.enqueue(Re);break}}};break}case void 0:throw new Error("Model does not have a default object generation mode.");default:{const Be=v;throw new Error(`Unsupported mode: ${Be}`)}}const{result:{stream:oe,warnings:ae,rawResponse:q,request:J},doStreamSpan:ie,startTimestampMs:le}=await E(()=>fl({name:"ai.streamObject.doStream",attributes:vr({telemetry:n,attributes:{...dl({operationId:"ai.streamObject.doStream",telemetry:n}),...P,"ai.prompt.format":{input:()=>de.inputFormat},"ai.prompt.messages":{input:()=>JSON.stringify(de.prompt)},"ai.settings.mode":v,"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:D,endWhenDone:!1,fn:async Be=>({startTimestampMs:k(),doStreamSpan:Be,result:await e.doStream(de)})}));A.requestPromise.resolve(J??{});let V,Z,N,M,B,R="",ke="",xe={id:_(),timestamp:C(),modelId:e.modelId},Se,$e,je=!0,Ue=!0;const ot=oe.pipeThrough(new TransformStream(te)).pipeThrough(new TransformStream({async transform(Be,Re){var rt,Ot,me;if(je){const Qe=k()-le;je=!1,ie.addEvent("ai.stream.firstChunk",{"ai.stream.msToFirstChunk":Qe}),ie.setAttributes({"ai.stream.msToFirstChunk":Qe})}if(typeof Be=="string"){R+=Be,ke+=Be;const{value:Qe,state:Ft}=Fb(R);if(Qe!==void 0&&!gc(Se,Qe)){const bt=l.validatePartialResult({value:Qe,textDelta:ke,latestObject:$e,isFirstDelta:Ue,isFinalDelta:Ft==="successful-parse"});bt.success&&!gc($e,bt.value.partial)&&(Se=Qe,$e=bt.value.partial,Re.enqueue({type:"object",object:$e}),Re.enqueue({type:"text-delta",textDelta:bt.value.textDelta}),ke="",Ue=!1)}return}switch(Be.type){case"response-metadata":{xe={id:(rt=Be.id)!=null?rt:xe.id,timestamp:(Ot=Be.timestamp)!=null?Ot:xe.timestamp,modelId:(me=Be.modelId)!=null?me:xe.modelId};break}case"finish":{ke!==""&&Re.enqueue({type:"text-delta",textDelta:ke}),Z=Be.finishReason,V=xS(Be.usage),N=Be.providerMetadata,Re.enqueue({...Be,usage:V,response:xe}),A.usagePromise.resolve(V),A.providerMetadataPromise.resolve(N),A.responsePromise.resolve({...xe,headers:q==null?void 0:q.headers});const Qe=l.validateFinalResult(Se,{text:R,response:xe,usage:V});Qe.success?(M=Qe.value,A.objectPromise.resolve(M)):(B=new xc({message:"No object generated: response did not match schema.",cause:Qe.error,text:R,response:xe,usage:V}),A.objectPromise.reject(B));break}default:{Re.enqueue(Be);break}}},async flush(Be){try{const Re=V??{promptTokens:NaN,completionTokens:NaN,totalTokens:NaN};ie.setAttributes(vr({telemetry:n,attributes:{"ai.response.finishReason":Z,"ai.response.object":{output:()=>JSON.stringify(M)},"ai.response.id":xe.id,"ai.response.model":xe.modelId,"ai.response.timestamp":xe.timestamp.toISOString(),"ai.usage.promptTokens":Re.promptTokens,"ai.usage.completionTokens":Re.completionTokens,"gen_ai.response.finish_reasons":[Z],"gen_ai.response.id":xe.id,"gen_ai.response.model":xe.modelId,"gen_ai.usage.input_tokens":Re.promptTokens,"gen_ai.usage.output_tokens":Re.completionTokens}})),ie.end(),$.setAttributes(vr({telemetry:n,attributes:{"ai.usage.promptTokens":Re.promptTokens,"ai.usage.completionTokens":Re.completionTokens,"ai.response.object":{output:()=>JSON.stringify(M)}}})),await(S==null?void 0:S({usage:Re,object:M,error:B,response:{...xe,headers:q==null?void 0:q.headers},warnings:ae,experimental_providerMetadata:N}))}catch(Re){Be.error(Re)}finally{$.end()}}}));A.stitchableStream.addStream(ot)}}).catch($=>{A.stitchableStream.addStream(new ReadableStream({start(K){K.error($)}}))}).finally(()=>{A.stitchableStream.close()}),this.outputStrategy=l}get object(){return this.objectPromise.value}get usage(){return this.usagePromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get warnings(){return this.warningsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get partialObjectStream(){return is(this.stitchableStream.stream.pipeThrough(new TransformStream({transform(e,t){switch(e.type){case"object":t.enqueue(e.object);break;case"text-delta":case"finish":break;case"error":t.error(e.error);break;default:{const n=e;throw new Error(`Unsupported chunk type: ${n}`)}}}})))}get elementStream(){return this.outputStrategy.createElementStream(this.stitchableStream.stream)}get textStream(){return is(this.stitchableStream.stream.pipeThrough(new TransformStream({transform(e,t){switch(e.type){case"text-delta":t.enqueue(e.textDelta);break;case"object":case"finish":break;case"error":t.error(e.error);break;default:{const n=e;throw new Error(`Unsupported chunk type: ${n}`)}}}})))}get fullStream(){return is(this.stitchableStream.stream)}pipeTextStreamToResponse(e,t){uh({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:lh(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:cl(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},SS="AI_NoOutputSpecifiedError",_S=`vercel.ai.error.${SS}`,CA=Symbol.for(_S),kS,TA=class extends Pe{constructor({message:e="No output specified."}={}){super({name:SS,message:e}),this[kS]=!0}static isInstance(e){return Pe.hasMarker(e,_S)}};kS=CA;var CS="AI_ToolExecutionError",TS=`vercel.ai.error.${CS}`,EA=Symbol.for(TS),ES,IA=class extends Pe{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:r,message:s=`Error executing tool ${t}: ${wl(r)}`}){super({name:CS,message:s,cause:r}),this[ES]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return Pe.hasMarker(e,TS)}};ES=EA;function NA(e){return e!=null&&Object.keys(e).length>0}function OA({tools:e,toolChoice:t,activeTools:n}){return NA(e)?{tools:(n!=null?Object.entries(e).filter(([s])=>n.includes(s)):Object.entries(e)).map(([s,i])=>{const l=i.type;switch(l){case void 0:case"function":return{type:"function",name:s,description:i.description,parameters:fi(i.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:s,id:i.id,args:i.args};default:{const u=l;throw new Error(`Unsupported tool type: ${u}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var PA=/^([\s\S]*?)(\s+)(\S*)$/;function RA(e){const t=e.match(PA);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var IS="AI_InvalidToolArgumentsError",NS=`vercel.ai.error.${IS}`,jA=Symbol.for(NS),OS,PS=class extends Pe{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${wl(n)}`}){super({name:IS,message:r,cause:n}),this[OS]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Pe.hasMarker(e,NS)}};OS=jA;var RS="AI_NoSuchToolError",jS=`vercel.ai.error.${RS}`,AA=Symbol.for(jS),AS,mh=class extends Pe{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:RS,message:n}),this[AS]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Pe.hasMarker(e,jS)}};AS=AA;var DS="AI_ToolCallRepairError",MS=`vercel.ai.error.${DS}`,DA=Symbol.for(MS),LS,MA=class extends Pe{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${wl(e)}`}){super({name:DS,message:n,cause:e}),this[LS]=!0,this.originalError=t}static isInstance(e){return Pe.hasMarker(e,MS)}};LS=DA;async function LA({toolCall:e,tools:t,repairToolCall:n,system:r,messages:s}){if(t==null)throw new mh({toolName:e.toolName});try{return await H0({toolCall:e,tools:t})}catch(i){if(n==null||!(mh.isInstance(i)||PS.isInstance(i)))throw i;let l=null;try{l=await n({toolCall:e,tools:t,parameterSchema:({toolName:u})=>fi(t[u].parameters).jsonSchema,system:r,messages:s,error:i})}catch(u){throw new MA({cause:u,originalError:i})}if(l==null)throw i;return await H0({toolCall:l,tools:t})}}async function H0({toolCall:e,tools:t}){const n=e.toolName,r=t[n];if(r==null)throw new mh({toolName:e.toolName,availableTools:Object.keys(t)});const s=fi(r.parameters),i=e.args.trim()===""?xr({value:{},schema:s}):ds({text:e.args,schema:s});if(i.success===!1)throw new PS({toolName:n,toolArgs:e.args,cause:i.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:i.value}}function q0({text:e="",tools:t,toolCalls:n,toolResults:r,messageId:s,generateMessageId:i}){const l=[];return l.push({role:"assistant",content:[{type:"text",text:e},...n],id:s}),r.length>0&&l.push({role:"tool",id:i(),content:r.map(u=>{const f=t[u.toolName];return(f==null?void 0:f.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:f.experimental_toToolResultContent(u.result),experimental_content:f.experimental_toToolResultContent(u.result)}:{type:"tool-result",toolCallId:u.toolCallId,toolName:u.toolName,result:u.result}})}),l}xs({prefix:"aitxt",size:24});xs({prefix:"msg",size:24});var FA={};hm(FA,{object:()=>$A,text:()=>zA});var zA=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),$A=({schema:e})=>{const t=fi(e);return{type:"object",responseFormat:({model:n})=>({type:"json",schema:n.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:n,model:r}){return r.supportsStructuredOutputs?n:hh({prompt:n,schema:t.jsonSchema})},parsePartial({text:n}){const r=Fb(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const s=r.state;throw new Error(`Unsupported parse state: ${s}`)}}},parseOutput({text:n},r){const s=ds({text:n});if(!s.success)throw new xc({message:"No object generated: could not parse the response.",cause:s.error,text:n,response:r.response,usage:r.usage});const i=xr({value:s.value,schema:t});if(!i.success)throw new xc({message:"No object generated: response did not match schema.",cause:i.error,text:n,response:r.response,usage:r.usage});return i.value}}};function UA(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function mm(e,t){const n=e.getReader(),r=t.getReader();let s,i,l=!1,u=!1;async function f(h){try{s==null&&(s=n.read());const g=await s;s=void 0,g.done?h.close():h.enqueue(g.value)}catch(g){h.error(g)}}async function d(h){try{i==null&&(i=r.read());const g=await i;i=void 0,g.done?h.close():h.enqueue(g.value)}catch(g){h.error(g)}}return new ReadableStream({async pull(h){try{if(l){await d(h);return}if(u){await f(h);return}s==null&&(s=n.read()),i==null&&(i=r.read());const{result:g,reader:y}=await Promise.race([s.then(v=>({result:v,reader:n})),i.then(v=>({result:v,reader:r}))]);g.done||h.enqueue(g.value),y===n?(s=void 0,g.done&&(await d(h),l=!0)):(i=void 0,g.done&&(u=!0,await f(h)))}catch(g){h.error(g)}},cancel(){n.cancel(),r.cancel()}})}function BA({tools:e,generatorStream:t,toolCallStreaming:n,tracer:r,telemetry:s,system:i,messages:l,abortSignal:u,repairToolCall:f}){let d=null;const h=new ReadableStream({start(k){d=k}}),g={},y=new Set;let v=!1,S;function _(){v&&y.size===0&&(S!=null&&d.enqueue(S),d.close())}const C=new TransformStream({async transform(k,I){const E=k.type;switch(E){case"text-delta":case"reasoning":case"response-metadata":case"error":{I.enqueue(k);break}case"tool-call-delta":{n&&(g[k.toolCallId]||(I.enqueue({type:"tool-call-streaming-start",toolCallId:k.toolCallId,toolName:k.toolName}),g[k.toolCallId]=!0),I.enqueue({type:"tool-call-delta",toolCallId:k.toolCallId,toolName:k.toolName,argsTextDelta:k.argsTextDelta}));break}case"tool-call":{try{const P=await LA({toolCall:k,tools:e,repairToolCall:f,system:i,messages:l});I.enqueue(P);const D=e[P.toolName];if(D.execute!=null){const A=tn();y.add(A),fl({name:"ai.toolCall",attributes:vr({telemetry:s,attributes:{...dl({operationId:"ai.toolCall",telemetry:s}),"ai.toolCall.name":P.toolName,"ai.toolCall.id":P.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(P.args)}}}),tracer:r,fn:async $=>D.execute(P.args,{toolCallId:P.toolCallId,messages:l,abortSignal:u}).then(K=>{d.enqueue({...P,type:"tool-result",result:K}),y.delete(A),_();try{$.setAttributes(vr({telemetry:s,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(K)}}}))}catch{}},K=>{d.enqueue({type:"error",error:new IA({toolCallId:P.toolCallId,toolName:P.toolName,toolArgs:P.args,cause:K})}),y.delete(A),_()})})}}catch(P){d.enqueue({type:"error",error:P})}break}case"finish":{S={type:"finish",finishReason:k.finishReason,logprobs:k.logprobs,usage:xS(k.usage),experimental_providerMetadata:k.providerMetadata};break}default:{const P=E;throw new Error(`Unhandled chunk type: ${P}`)}}},flush(){v=!0,_()}});return new ReadableStream({async start(k){return Promise.all([t.pipeThrough(C).pipeTo(new WritableStream({write(I){k.enqueue(I)},close(){}})),h.pipeTo(new WritableStream({write(I){k.enqueue(I)},close(){k.close()}}))])}})}var HA=xs({prefix:"aitxt",size:24}),qA=xs({prefix:"msg",size:24});function VA({model:e,tools:t,toolChoice:n,system:r,prompt:s,messages:i,maxRetries:l,abortSignal:u,headers:f,maxSteps:d=1,experimental_generateMessageId:h=qA,experimental_output:g,experimental_continueSteps:y=!1,experimental_telemetry:v,experimental_providerMetadata:S,providerOptions:_=S,experimental_toolCallStreaming:C=!1,toolCallStreaming:k=C,experimental_activeTools:I,experimental_repairToolCall:E,experimental_transform:P,onChunk:D,onError:A,onFinish:$,onStepFinish:K,_internal:{now:ce=bS,generateId:de=HA,currentDate:te=()=>new Date}={},...oe}){return new ZA({model:e,telemetry:v,headers:f,settings:oe,maxRetries:l,abortSignal:u,system:r,prompt:s,messages:i,tools:t,toolChoice:n,toolCallStreaming:k,transforms:UA(P),activeTools:I,repairToolCall:E,maxSteps:d,output:g,continueSteps:y,providerOptions:_,onChunk:D,onError:A,onFinish:$,onStepFinish:K,now:ce,currentDate:te,generateId:de,generateMessageId:h})}function WA(e){if(!e)return new TransformStream({transform(s,i){i.enqueue({part:s,partialOutput:void 0})}});let t="",n="",r="";return new TransformStream({transform(s,i){if(s.type!=="text-delta"){i.enqueue({part:s,partialOutput:void 0});return}t+=s.textDelta,n+=s.textDelta;const l=e.parsePartial({text:t});if(l!=null){const u=JSON.stringify(l.partial);u!==r&&(i.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:l.partial}),r=u,n="")}},flush(s){n.length>0&&s.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:void 0})}})}var ZA=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:s,abortSignal:i,system:l,prompt:u,messages:f,tools:d,toolChoice:h,toolCallStreaming:g,transforms:y,activeTools:v,repairToolCall:S,maxSteps:_,output:C,continueSteps:k,providerOptions:I,onChunk:E,onError:P,onFinish:D,onStepFinish:A,now:$,currentDate:K,generateId:ce,generateMessageId:de}){this.warningsPromise=new Ut,this.usagePromise=new Ut,this.finishReasonPromise=new Ut,this.providerMetadataPromise=new Ut,this.textPromise=new Ut,this.reasoningPromise=new Ut,this.toolCallsPromise=new Ut,this.toolResultsPromise=new Ut,this.requestPromise=new Ut,this.responsePromise=new Ut,this.stepsPromise=new Ut;var te;if(_<1)throw new ct({parameter:"maxSteps",value:_,message:"maxSteps must be at least 1"});this.output=C;let oe="",ae="",q="",J;const ie={id:ce(),timestamp:K(),modelId:e.modelId,messages:[]};let le=[],V=[],Z,N,M="initial";const B=[];let R;const ke=new TransformStream({async transform(rt,Ot){Ot.enqueue(rt);const{part:me}=rt;if((me.type==="text-delta"||me.type==="reasoning"||me.type==="tool-call"||me.type==="tool-result"||me.type==="tool-call-streaming-start"||me.type==="tool-call-delta")&&await(E==null?void 0:E({chunk:me})),me.type==="error"&&await(P==null?void 0:P({error:me.error})),me.type==="text-delta"&&(oe+=me.textDelta,ae+=me.textDelta,q+=me.textDelta),me.type==="reasoning"&&(J=(J??"")+me.textDelta),me.type==="tool-call"&&le.push(me),me.type==="tool-result"&&V.push(me),me.type==="step-finish"){const Qe=q0({text:ae,tools:d??{},toolCalls:le,toolResults:V,messageId:me.messageId,generateMessageId:de}),Ft=B.length;let bt="done";Ft+1<_&&(k&&me.finishReason==="length"&&le.length===0?bt="continue":le.length>0&&V.length===le.length&&(bt="tool-result"));const Bn={stepType:M,text:oe,reasoning:J,toolCalls:le,toolResults:V,finishReason:me.finishReason,usage:me.usage,warnings:me.warnings,logprobs:me.logprobs,request:me.request,response:{...me.response,messages:[...ie.messages,...Qe]},experimental_providerMetadata:me.experimental_providerMetadata,isContinued:me.isContinued};await(A==null?void 0:A(Bn)),B.push(Bn),le=[],V=[],oe="",bt!=="done"&&(M=bt),bt!=="continue"&&(ie.messages.push(...Qe),ae="")}me.type==="finish"&&(ie.id=me.response.id,ie.timestamp=me.response.timestamp,ie.modelId=me.response.modelId,ie.headers=me.response.headers,N=me.usage,Z=me.finishReason)},async flush(rt){var Ot;try{if(B.length===0)return;const me=B[B.length-1];Re.warningsPromise.resolve(me.warnings),Re.requestPromise.resolve(me.request),Re.responsePromise.resolve(me.response),Re.toolCallsPromise.resolve(me.toolCalls),Re.toolResultsPromise.resolve(me.toolResults),Re.providerMetadataPromise.resolve(me.experimental_providerMetadata);const Qe=Z??"unknown",Ft=N??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};Re.finishReasonPromise.resolve(Qe),Re.usagePromise.resolve(Ft),Re.textPromise.resolve(q),Re.reasoningPromise.resolve(J),Re.stepsPromise.resolve(B),await(D==null?void 0:D({finishReason:Qe,logprobs:void 0,usage:Ft,text:q,reasoning:J,toolCalls:me.toolCalls,toolResults:me.toolResults,request:(Ot=me.request)!=null?Ot:{},response:me.response,warnings:me.warnings,experimental_providerMetadata:me.experimental_providerMetadata,steps:B})),R.setAttributes(vr({telemetry:t,attributes:{"ai.response.finishReason":Qe,"ai.response.text":{output:()=>q},"ai.response.toolCalls":{output:()=>{var bt;return(bt=me.toolCalls)!=null&&bt.length?JSON.stringify(me.toolCalls):void 0}},"ai.usage.promptTokens":Ft.promptTokens,"ai.usage.completionTokens":Ft.completionTokens}}))}catch(me){rt.error(me)}finally{R.end()}}}),xe=wS();this.addStream=xe.addStream,this.closeStream=xe.close;let Se=xe.stream;for(const rt of y)Se=Se.pipeThrough(rt({tools:d,stopStream(){xe.terminate()}}));this.baseStream=Se.pipeThrough(WA(C)).pipeThrough(ke);const{maxRetries:$e,retry:je}=Qb({maxRetries:s}),Ue=tS(t),ot=eS({model:e,telemetry:t,headers:n,settings:{...r,maxRetries:$e}}),Be=ph({prompt:{system:(te=C==null?void 0:C.injectIntoSystemPrompt({system:l,model:e}))!=null?te:l,prompt:u,messages:f},tools:d}),Re=this;fl({name:"ai.streamText",attributes:vr({telemetry:t,attributes:{...dl({operationId:"ai.streamText",telemetry:t}),...ot,"ai.prompt":{input:()=>JSON.stringify({system:l,prompt:u,messages:f})},"ai.settings.maxSteps":_}}),tracer:Ue,endWhenDone:!1,fn:async rt=>{R=rt;async function Ot({currentStep:me,responseMessages:Qe,usage:Ft,stepType:bt,previousStepText:Bn,hasLeadingWhitespace:sr,messageId:mn}){var Gr;const Yr=Qe.length===0?Be.type:"messages",Da=[...Be.messages,...Qe],Ma=await ch({prompt:{type:Yr,system:Be.system,messages:Da},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(Gr=e.supportsUrl)==null?void 0:Gr.bind(e)}),W={type:"regular",...OA({tools:d,toolChoice:h,activeTools:v})},{result:{stream:ue,warnings:Ce,rawResponse:Ae,request:We},doStreamSpan:pt,startTimestampMs:Cn}=await je(()=>fl({name:"ai.streamText.doStream",attributes:vr({telemetry:t,attributes:{...dl({operationId:"ai.streamText.doStream",telemetry:t}),...ot,"ai.prompt.format":{input:()=>Yr},"ai.prompt.messages":{input:()=>JSON.stringify(Ma)},"ai.prompt.tools":{input:()=>{var Ze;return(Ze=W.tools)==null?void 0:Ze.map(ht=>JSON.stringify(ht))}},"ai.prompt.toolChoice":{input:()=>W.toolChoice!=null?JSON.stringify(W.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.stop_sequences":r.stopSequences,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:Ue,endWhenDone:!1,fn:async Ze=>({startTimestampMs:$(),doStreamSpan:Ze,result:await e.doStream({mode:W,...dh(r),inputFormat:Yr,responseFormat:C==null?void 0:C.responseFormat({model:e}),prompt:Ma,providerMetadata:I,abortSignal:i,headers:n})})})),rn=BA({tools:d,generatorStream:ue,toolCallStreaming:g,tracer:Ue,telemetry:t,system:l,messages:Da,repairToolCall:S,abortSignal:i}),Hn=We??{},Kt=[],Ct=[];let jt="unknown",St={promptTokens:0,completionTokens:0,totalTokens:0},La,bs=!0,Tn="",Kr="",wi=bt==="continue"?Bn:"",Ss,an={id:ce(),timestamp:K(),modelId:e.modelId},Nr="",bi=!1,_s=!0,Si=!1;async function Or({controller:Ze,chunk:ht}){Ze.enqueue(ht),Tn+=ht.textDelta,wi+=ht.textDelta,bi=!0,Si=ht.textDelta.trimEnd()!==ht.textDelta}Re.addStream(rn.pipeThrough(new TransformStream({async transform(Ze,ht){var En,qn,In;if(bs){const sn=$()-Cn;bs=!1,pt.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":sn}),pt.setAttributes({"ai.response.msToFirstChunk":sn}),ht.enqueue({type:"step-start",messageId:mn,request:Hn,warnings:Ce??[]})}if(Ze.type==="text-delta"&&Ze.textDelta.length===0)return;const Fa=Ze.type;switch(Fa){case"text-delta":{if(k){const sn=_s&&sr?Ze.textDelta.trimStart():Ze.textDelta;if(sn.length===0)break;_s=!1,Nr+=sn;const ks=RA(Nr);ks!=null&&(Nr=ks.suffix,await Or({controller:ht,chunk:{type:"text-delta",textDelta:ks.prefix+ks.whitespace}}))}else await Or({controller:ht,chunk:Ze});break}case"reasoning":{ht.enqueue(Ze),Kr+=Ze.textDelta;break}case"tool-call":{ht.enqueue(Ze),Kt.push(Ze);break}case"tool-result":{ht.enqueue(Ze),Ct.push(Ze);break}case"response-metadata":{an={id:(En=Ze.id)!=null?En:an.id,timestamp:(qn=Ze.timestamp)!=null?qn:an.timestamp,modelId:(In=Ze.modelId)!=null?In:an.modelId};break}case"finish":{St=Ze.usage,jt=Ze.finishReason,La=Ze.experimental_providerMetadata,Ss=Ze.logprobs;const sn=$()-Cn;pt.addEvent("ai.stream.finish"),pt.setAttributes({"ai.response.msToFinish":sn,"ai.response.avgCompletionTokensPerSecond":1e3*St.completionTokens/sn});break}case"tool-call-streaming-start":case"tool-call-delta":{ht.enqueue(Ze);break}case"error":{ht.enqueue(Ze),jt="error";break}default:{const sn=Fa;throw new Error(`Unknown chunk type: ${sn}`)}}},async flush(Ze){const ht=Kt.length>0?JSON.stringify(Kt):void 0;let En="done";me+1<_&&(k&&jt==="length"&&Kt.length===0?En="continue":Kt.length>0&&Ct.length===Kt.length&&(En="tool-result")),k&&Nr.length>0&&(En!=="continue"||bt==="continue"&&!bi)&&(await Or({controller:Ze,chunk:{type:"text-delta",textDelta:Nr}}),Nr="");try{pt.setAttributes(vr({telemetry:t,attributes:{"ai.response.finishReason":jt,"ai.response.text":{output:()=>Tn},"ai.response.toolCalls":{output:()=>ht},"ai.response.id":an.id,"ai.response.model":an.modelId,"ai.response.timestamp":an.timestamp.toISOString(),"ai.usage.promptTokens":St.promptTokens,"ai.usage.completionTokens":St.completionTokens,"gen_ai.response.finish_reasons":[jt],"gen_ai.response.id":an.id,"gen_ai.response.model":an.modelId,"gen_ai.usage.input_tokens":St.promptTokens,"gen_ai.usage.output_tokens":St.completionTokens}}))}catch{}finally{pt.end()}Ze.enqueue({type:"step-finish",finishReason:jt,usage:St,experimental_providerMetadata:La,logprobs:Ss,request:Hn,response:{...an,headers:Ae==null?void 0:Ae.headers},warnings:Ce,isContinued:En==="continue",messageId:mn});const qn=fA(Ft,St);if(En==="done")Ze.enqueue({type:"finish",finishReason:jt,usage:qn,experimental_providerMetadata:La,logprobs:Ss,response:{...an,headers:Ae==null?void 0:Ae.headers}}),Re.closeStream();else{if(bt==="continue"){const In=Qe[Qe.length-1];typeof In.content=="string"?In.content+=Tn:In.content.push({text:Tn,type:"text"})}else Qe.push(...q0({text:Tn,tools:d??{},toolCalls:Kt,toolResults:Ct,messageId:mn,generateMessageId:de}));await Ot({currentStep:me+1,responseMessages:Qe,usage:qn,stepType:En,previousStepText:wi,hasLeadingWhitespace:Si,messageId:En==="continue"?mn:de()})}}})))}await Ot({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:de()})}}).catch(rt=>{Re.addStream(new ReadableStream({start(Ot){Ot.enqueue({type:"error",error:rt}),Ot.close()}})),Re.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return is(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.textDelta)}})))}get fullStream(){return is(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(){const e=this.fullStream;for await(const t of e);}get experimental_partialOutputStream(){if(this.output==null)throw new TA;return is(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:n=!1}){let r="";const s=new TransformStream({async transform(l,u){u.enqueue(l),l.type==="text-delta"&&(r+=l.textDelta)}}),i=new TransformStream({transform:async(l,u)=>{const f=l.type;switch(f){case"text-delta":{u.enqueue(Mn("text",l.textDelta));break}case"reasoning":{n&&u.enqueue(Mn("reasoning",l.textDelta));break}case"tool-call-streaming-start":{u.enqueue(Mn("tool_call_streaming_start",{toolCallId:l.toolCallId,toolName:l.toolName}));break}case"tool-call-delta":{u.enqueue(Mn("tool_call_delta",{toolCallId:l.toolCallId,argsTextDelta:l.argsTextDelta}));break}case"tool-call":{u.enqueue(Mn("tool_call",{toolCallId:l.toolCallId,toolName:l.toolName,args:l.args}));break}case"tool-result":{u.enqueue(Mn("tool_result",{toolCallId:l.toolCallId,result:l.result}));break}case"error":{u.enqueue(Mn("error",e(l.error)));break}case"step-start":{u.enqueue(Mn("start_step",{messageId:l.messageId}));break}case"step-finish":{u.enqueue(Mn("finish_step",{finishReason:l.finishReason,usage:t?{promptTokens:l.usage.promptTokens,completionTokens:l.usage.completionTokens}:void 0,isContinued:l.isContinued}));break}case"finish":{u.enqueue(Mn("finish_message",{finishReason:l.finishReason,usage:t?{promptTokens:l.usage.promptTokens,completionTokens:l.usage.completionTokens}:void 0}));break}default:{const d=f;throw new Error(`Unknown chunk type: ${d}`)}}}});return this.fullStream.pipeThrough(s).pipeThrough(i)}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:r,data:s,getErrorMessage:i,sendUsage:l,sendReasoning:u}={}){uh({response:e,status:t,statusText:n,headers:lh(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:s,getErrorMessage:i,sendUsage:l,sendReasoning:u})})}pipeTextStreamToResponse(e,t){uh({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:lh(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){const t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage,sendReasoning:e==null?void 0:e.sendReasoning}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?mm(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:t==null?void 0:t.sendUsage,sendReasoning:t==null?void 0:t.sendReasoning}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:r,getErrorMessage:s,sendUsage:i,sendReasoning:l}={}){return new Response(this.toDataStream({data:r,getErrorMessage:s,sendUsage:i,sendReasoning:l}),{status:t,statusText:n,headers:cl(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:cl(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},JA={};hm(JA,{mergeIntoDataStream:()=>KA,toDataStream:()=>GA,toDataStreamResponse:()=>YA});function FS(e={}){const t=new TextEncoder;let n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,s){s.enqueue(t.encode(r)),n+=r,e.onToken&&await e.onToken(r),e.onText&&typeof r=="string"&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function gm(e,t){return e.pipeThrough(new TransformStream({transform:async(n,r)=>{var s;if(typeof n=="string"){r.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&V0((s=n.data)==null?void 0:s.chunk,r);return}V0(n,r)}})).pipeThrough(FS(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,r)=>{r.enqueue(Mn("text",n))}}))}function GA(e,t){return gm(e,t).pipeThrough(new TextEncoderStream)}function YA(e,t){var n;const r=gm(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),s=t==null?void 0:t.data,i=t==null?void 0:t.init,l=s?mm(s.stream,r):r;return new Response(l,{status:(n=i==null?void 0:i.status)!=null?n:200,statusText:i==null?void 0:i.statusText,headers:cl(i==null?void 0:i.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function KA(e,t){t.dataStream.merge(gm(e,t.callbacks))}function V0(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{const n=e.content;for(const r of n)r.type==="text"&&t.enqueue(r.text)}}var XA={};hm(XA,{mergeIntoDataStream:()=>tD,toDataStream:()=>QA,toDataStreamResponse:()=>eD});function ym(e,t){const n=nD();return A3(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(r,s){s.enqueue(n(r.delta))}})).pipeThrough(FS(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,s)=>{s.enqueue(Mn("text",r))}}))}function QA(e,t){return ym(e,t).pipeThrough(new TextEncoderStream)}function eD(e,t={}){var n;const{init:r,data:s,callbacks:i}=t,l=ym(e,i).pipeThrough(new TextEncoderStream),u=s?mm(s.stream,l):l;return new Response(u,{status:(n=r==null?void 0:r.status)!=null?n:200,statusText:r==null?void 0:r.statusText,headers:cl(r==null?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function tD(e,t){t.dataStream.merge(ym(e,t.callbacks))}function nD(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var rD=x.object({type:x.literal("error"),error:x.object({type:x.string(),message:x.string()})}),W0=Er({errorSchema:rD,errorToMessage:e=>e.error.message});function aD({prompt:e}){var t,n,r,s;const i=new Set,l=sD(e);let u;const f=[];function d(h){var g;const y=h==null?void 0:h.anthropic;return(g=y==null?void 0:y.cacheControl)!=null?g:y==null?void 0:y.cache_control}for(let h=0;h<l.length;h++){const g=l[h],y=h===l.length-1,v=g.type;switch(v){case"system":{if(u!=null)throw new Le({functionality:"Multiple system messages that are separated by user/assistant messages"});u=g.messages.map(({content:S,providerMetadata:_})=>({type:"text",text:S,cache_control:d(_)}));break}case"user":{const S=[];for(const _ of g.messages){const{role:C,content:k}=_;switch(C){case"user":{for(let I=0;I<k.length;I++){const E=k[I],P=I===k.length-1,D=(t=d(E.providerMetadata))!=null?t:P?d(_.providerMetadata):void 0;switch(E.type){case"text":{S.push({type:"text",text:E.text,cache_control:D});break}case"image":{if(E.image instanceof URL)throw new Le({functionality:"Image URLs in user messages"});S.push({type:"image",source:{type:"base64",media_type:(n=E.mimeType)!=null?n:"image/jpeg",data:Vr(E.image)},cache_control:D});break}case"file":{if(E.data instanceof URL)throw new Le({functionality:"Image URLs in user messages"});if(E.mimeType!=="application/pdf")throw new Le({functionality:"Non-PDF files in user messages"});i.add("pdfs-2024-09-25"),S.push({type:"document",source:{type:"base64",media_type:"application/pdf",data:E.data},cache_control:D});break}}}break}case"tool":{for(let I=0;I<k.length;I++){const E=k[I],P=I===k.length-1,D=(r=d(E.providerMetadata))!=null?r:P?d(_.providerMetadata):void 0,A=E.content!=null?E.content.map($=>{var K;switch($.type){case"text":return{type:"text",text:$.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(K=$.mimeType)!=null?K:"image/jpeg",data:$.data},cache_control:void 0}}}):JSON.stringify(E.result);S.push({type:"tool_result",tool_use_id:E.toolCallId,content:A,is_error:E.isError,cache_control:D})}break}default:{const I=C;throw new Error(`Unsupported role: ${I}`)}}}f.push({role:"user",content:S});break}case"assistant":{const S=[];for(let _=0;_<g.messages.length;_++){const C=g.messages[_],k=_===g.messages.length-1,{content:I}=C;for(let E=0;E<I.length;E++){const P=I[E],D=E===I.length-1,A=(s=d(P.providerMetadata))!=null?s:D?d(C.providerMetadata):void 0;switch(P.type){case"text":{S.push({type:"text",text:y&&k&&D?P.text.trim():P.text,cache_control:A});break}case"tool-call":{S.push({type:"tool_use",id:P.toolCallId,name:P.toolName,input:P.args,cache_control:A});break}}}}f.push({role:"assistant",content:S});break}default:{const S=v;throw new Error(`Unsupported type: ${S}`)}}}return{prompt:{system:u,messages:f},betas:i}}function sD(e){const t=[];let n;for(const r of e){const{role:s}=r;switch(s){case"system":{(n==null?void 0:n.type)!=="system"&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(r);break}case"assistant":{(n==null?void 0:n.type)!=="assistant"&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(r);break}case"user":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}case"tool":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}default:{const i=s;throw new Error(`Unsupported role: ${i}`)}}}return t}function Z0(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function iD(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],s=new Set;if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:s};const i=[];for(const f of n)switch(f.type){case"function":i.push({name:f.name,description:f.description,input_schema:f.parameters});break;case"provider-defined":switch(s.add("computer-use-2024-10-22"),f.id){case"anthropic.computer_20241022":i.push({name:f.name,type:"computer_20241022",display_width_px:f.args.displayWidthPx,display_height_px:f.args.displayHeightPx,display_number:f.args.displayNumber});break;case"anthropic.text_editor_20241022":i.push({name:f.name,type:"text_editor_20241022"});break;case"anthropic.bash_20241022":i.push({name:f.name,type:"bash_20241022"});break;default:r.push({type:"unsupported-tool",tool:f});break}break;default:r.push({type:"unsupported-tool",tool:f});break}const l=e.toolChoice;if(l==null)return{tools:i,tool_choice:void 0,toolWarnings:r,betas:s};const u=l.type;switch(u){case"auto":return{tools:i,tool_choice:{type:"auto"},toolWarnings:r,betas:s};case"required":return{tools:i,tool_choice:{type:"any"},toolWarnings:r,betas:s};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:s};case"tool":return{tools:i,tool_choice:{type:"tool",name:l.toolName},toolWarnings:r,betas:s};default:{const f=u;throw new Le({functionality:`Unsupported tool choice type: ${f}`})}}}var oD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:f,responseFormat:d,seed:h}){const g=e.type,y=[];l!=null&&y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&y.push({type:"unsupported-setting",setting:"presencePenalty"}),h!=null&&y.push({type:"unsupported-setting",setting:"seed"}),d!=null&&d.type!=="text"&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:v,betas:S}=aD({prompt:t}),_={model:this.modelId,max_tokens:n??4096,temperature:r,top_k:i,top_p:s,stop_sequences:f,system:v.system,messages:v.messages};switch(g){case"regular":{const{tools:C,tool_choice:k,toolWarnings:I,betas:E}=iD(e);return{args:{..._,tools:C,tool_choice:k},warnings:[...y,...I],betas:new Set([...S,...E])}}case"object-json":throw new Le({functionality:"json-mode object generation"});case"object-tool":{const{name:C,description:k,parameters:I}=e.tool;return{args:{..._,tools:[{name:C,description:k,input_schema:I}],tool_choice:{type:"tool",name:C}},warnings:y,betas:S}}default:{const C=g;throw new Error(`Unsupported type: ${C}`)}}}async getHeaders({betas:e,headers:t}){return wt(await Oo(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,n,r;return(r=(n=(t=this.config).buildRequestUrl)==null?void 0:n.call(t,this.config.baseURL,e))!=null?r:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,n,r;return(r=(n=(t=this.config).transformRequestBody)==null?void 0:n.call(t,e))!=null?r:e}async doGenerate(e){var t,n,r,s;const{args:i,warnings:l,betas:u}=await this.getArgs(e),{responseHeaders:f,value:d}=await ft({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:u,headers:e.headers}),body:this.transformRequestBody(i),failedResponseHandler:W0,successfulResponseHandler:Gt(lD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...g}=i;let y="";for(const S of d.content)S.type==="text"&&(y+=S.text);let v;if(d.content.some(S=>S.type==="tool_use")){v=[];for(const S of d.content)S.type==="tool_use"&&v.push({toolCallType:"function",toolCallId:S.id,toolName:S.name,args:JSON.stringify(S.input)})}return{text:y,toolCalls:v,finishReason:Z0(d.stop_reason),usage:{promptTokens:d.usage.input_tokens,completionTokens:d.usage.output_tokens},rawCall:{rawPrompt:h,rawSettings:g},rawResponse:{headers:f},response:{id:(t=d.id)!=null?t:void 0,modelId:(n=d.model)!=null?n:void 0},warnings:l,providerMetadata:{anthropic:{cacheCreationInputTokens:(r=d.usage.cache_creation_input_tokens)!=null?r:null,cacheReadInputTokens:(s=d.usage.cache_read_input_tokens)!=null?s:null}},request:{body:JSON.stringify(i)}}}async doStream(e){const{args:t,warnings:n,betas:r}=await this.getArgs(e),s={...t,stream:!0},{responseHeaders:i,value:l}=await ft({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:r,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:W0,successfulResponseHandler:ja(uD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:u,...f}=t;let d="unknown";const h={promptTokens:Number.NaN,completionTokens:Number.NaN},g={};let y;return{stream:l.pipeThrough(new TransformStream({transform(v,S){var _,C,k,I;if(!v.success){S.enqueue({type:"error",error:v.error});return}const E=v.value;switch(E.type){case"ping":return;case"content_block_start":{const P=E.content_block.type;switch(P){case"text":return;case"tool_use":{g[E.index]={toolCallId:E.content_block.id,toolName:E.content_block.name,jsonText:""};return}default:{const D=P;throw new Error(`Unsupported content block type: ${D}`)}}}case"content_block_stop":{if(g[E.index]!=null){const P=g[E.index];S.enqueue({type:"tool-call",toolCallType:"function",toolCallId:P.toolCallId,toolName:P.toolName,args:P.jsonText}),delete g[E.index]}return}case"content_block_delta":{const P=E.delta.type;switch(P){case"text_delta":{S.enqueue({type:"text-delta",textDelta:E.delta.text});return}case"input_json_delta":{const D=g[E.index];S.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:D.toolCallId,toolName:D.toolName,argsTextDelta:E.delta.partial_json}),D.jsonText+=E.delta.partial_json;return}default:{const D=P;throw new Error(`Unsupported delta type: ${D}`)}}}case"message_start":{h.promptTokens=E.message.usage.input_tokens,h.completionTokens=E.message.usage.output_tokens,y={anthropic:{cacheCreationInputTokens:(_=E.message.usage.cache_creation_input_tokens)!=null?_:null,cacheReadInputTokens:(C=E.message.usage.cache_read_input_tokens)!=null?C:null}},S.enqueue({type:"response-metadata",id:(k=E.message.id)!=null?k:void 0,modelId:(I=E.message.model)!=null?I:void 0});return}case"message_delta":{h.completionTokens=E.usage.output_tokens,d=Z0(E.delta.stop_reason);return}case"message_stop":{S.enqueue({type:"finish",finishReason:d,usage:h,providerMetadata:y});return}case"error":{S.enqueue({type:"error",error:E.error});return}default:{const P=E;throw new Error(`Unsupported chunk type: ${P}`)}}}})),rawCall:{rawPrompt:u,rawSettings:f},rawResponse:{headers:i},warnings:n,request:{body:JSON.stringify(s)}}}},lD=x.object({type:x.literal("message"),id:x.string().nullish(),model:x.string().nullish(),content:x.array(x.discriminatedUnion("type",[x.object({type:x.literal("text"),text:x.string()}),x.object({type:x.literal("tool_use"),id:x.string(),name:x.string(),input:x.unknown()})])),stop_reason:x.string().nullish(),usage:x.object({input_tokens:x.number(),output_tokens:x.number(),cache_creation_input_tokens:x.number().nullish(),cache_read_input_tokens:x.number().nullish()})}),uD=x.discriminatedUnion("type",[x.object({type:x.literal("message_start"),message:x.object({id:x.string().nullish(),model:x.string().nullish(),usage:x.object({input_tokens:x.number(),output_tokens:x.number(),cache_creation_input_tokens:x.number().nullish(),cache_read_input_tokens:x.number().nullish()})})}),x.object({type:x.literal("content_block_start"),index:x.number(),content_block:x.discriminatedUnion("type",[x.object({type:x.literal("text"),text:x.string()}),x.object({type:x.literal("tool_use"),id:x.string(),name:x.string()})])}),x.object({type:x.literal("content_block_delta"),index:x.number(),delta:x.discriminatedUnion("type",[x.object({type:x.literal("input_json_delta"),partial_json:x.string()}),x.object({type:x.literal("text_delta"),text:x.string()})])}),x.object({type:x.literal("content_block_stop"),index:x.number()}),x.object({type:x.literal("error"),error:x.object({type:x.string(),message:x.string()})}),x.object({type:x.literal("message_delta"),delta:x.object({stop_reason:x.string().nullish()}),usage:x.object({output_tokens:x.number()})}),x.object({type:x.literal("message_stop")}),x.object({type:x.literal("ping")})]),cD=x.object({command:x.string(),restart:x.boolean().optional()});function dD(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:cD,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var fD=x.object({command:x.enum(["view","create","str_replace","insert","undo_edit"]),path:x.string(),file_text:x.string().optional(),insert_line:x.number().int().optional(),new_str:x.string().optional(),old_str:x.string().optional(),view_range:x.array(x.number().int()).optional()});function pD(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:fD,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var hD=x.object({action:x.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:x.array(x.number().int()).optional(),text:x.string().optional()});function mD(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:hD,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var gD={bash_20241022:dD,textEditor_20241022:pD,computer_20241022:mD};function zS(e={}){var t;const n=(t=Jr(e.baseURL))!=null?t:"https://api.anthropic.com/v1",r=()=>({"anthropic-version":"2023-06-01","x-api-key":Ra({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),s=(l,u={})=>new oD(l,u,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:e.fetch}),i=function(l,u){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(l,u)};return i.languageModel=s,i.chat=s,i.messages=s,i.textEmbeddingModel=l=>{throw new oi({modelId:l,modelType:"textEmbeddingModel"})},i.tools=gD,i}zS();function lo(e){var t,n;return(n=(t=e==null?void 0:e.providerMetadata)==null?void 0:t.openaiCompatible)!=null?n:{}}function yD(e){const t=[];for(const{role:n,content:r,...s}of e){const i=lo({...s});switch(n){case"system":{t.push({role:"system",content:r,...i});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text,...lo(r[0])});break}t.push({role:"user",content:r.map(l=>{var u;const f=lo(l);switch(l.type){case"text":return{type:"text",text:l.text,...f};case"image":return{type:"image_url",image_url:{url:l.image instanceof URL?l.image.toString():`data:${(u=l.mimeType)!=null?u:"image/jpeg"};base64,${Vr(l.image)}`},...f};case"file":throw new Le({functionality:"File content parts in user messages"})}}),...i});break}case"assistant":{let l="";const u=[];for(const f of r){const d=lo(f);switch(f.type){case"text":{l+=f.text;break}case"tool-call":{u.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)},...d});break}default:{const h=f;throw new Error(`Unsupported part: ${h}`)}}}t.push({role:"assistant",content:l,tool_calls:u.length>0?u:void 0,...i});break}case"tool":{for(const l of r){const u=lo(l);t.push({role:"tool",tool_call_id:l.toolCallId,content:JSON.stringify(l.result),...u})}break}default:{const l=n;throw new Error(`Unsupported role: ${l}`)}}}return t}function bc({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function Sc(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var vD=x.object({error:x.object({message:x.string(),type:x.string().nullish(),param:x.any().nullish(),code:x.union([x.string(),x.number()]).nullish()})}),vm={errorSchema:vD};function xD({mode:e,structuredOutputs:t}){var n;const r=(n=e.tools)!=null&&n.length?e.tools:void 0,s=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:s};const i=e.toolChoice,l=[];for(const f of r)f.type==="provider-defined"?s.push({type:"unsupported-tool",tool:f}):l.push({type:"function",function:{name:f.name,description:f.description,parameters:f.parameters}});if(i==null)return{tools:l,tool_choice:void 0,toolWarnings:s};const u=i.type;switch(u){case"auto":case"none":case"required":return{tools:l,tool_choice:u,toolWarnings:s};case"tool":return{tools:l,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:s};default:{const f=u;throw new Le({functionality:`Unsupported tool choice type: ${f}`})}}}var xm=class{constructor(e,t,n){this.specificationVersion="v1";var r,s;this.modelId=e,this.settings=t,this.config=n;const i=(r=n.errorStructure)!=null?r:vm;this.chunkSchema=bD(i.errorSchema),this.failedResponseHandler=Er(i),this.supportsStructuredOutputs=(s=n.supportsStructuredOutputs)!=null?s:!1}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,providerMetadata:f,stopSequences:d,responseFormat:h,seed:g}){var y,v;const S=e.type,_=[];i!=null&&_.push({type:"unsupported-setting",setting:"topK"}),(h==null?void 0:h.type)==="json"&&h.schema!=null&&!this.supportsStructuredOutputs&&_.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const C={model:this.modelId,user:this.settings.user,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:u,response_format:(h==null?void 0:h.type)==="json"?this.supportsStructuredOutputs===!0&&h.schema!=null?{type:"json_schema",json_schema:{schema:h.schema,name:(y=h.name)!=null?y:"response",description:h.description}}:{type:"json_object"}:void 0,stop:d,seed:g,...f==null?void 0:f[this.providerOptionsName],messages:yD(t)};switch(S){case"regular":{const{tools:k,tool_choice:I,toolWarnings:E}=xD({mode:e,structuredOutputs:this.supportsStructuredOutputs});return{args:{...C,tools:k,tool_choice:I},warnings:[..._,...E]}}case"object-json":return{args:{...C,response_format:this.supportsStructuredOutputs===!0&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,name:(v=e.name)!=null?v:"response",description:e.description}}:{type:"json_object"}},warnings:_};case"object-tool":return{args:{...C,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:_};default:{const k=S;throw new Error(`Unsupported type: ${k}`)}}}async doGenerate(e){var t,n,r,s,i,l,u,f,d;const{args:h,warnings:g}=this.getArgs({...e}),y=JSON.stringify(h),{responseHeaders:v,value:S,rawValue:_}=await ft({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:h,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Gt(wD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:C,...k}=h,I=S.choices[0],E=(n=(t=this.config.metadataExtractor)==null?void 0:t.extractMetadata)==null?void 0:n.call(t,{parsedBody:_});return{text:(r=I.message.content)!=null?r:void 0,reasoning:(s=I.message.reasoning_content)!=null?s:void 0,toolCalls:(i=I.message.tool_calls)==null?void 0:i.map(P=>{var D;return{toolCallType:"function",toolCallId:(D=P.id)!=null?D:tn(),toolName:P.function.name,args:P.function.arguments}}),finishReason:Sc(I.finish_reason),usage:{promptTokens:(u=(l=S.usage)==null?void 0:l.prompt_tokens)!=null?u:NaN,completionTokens:(d=(f=S.usage)==null?void 0:f.completion_tokens)!=null?d:NaN},...E&&{providerMetadata:E},rawCall:{rawPrompt:C,rawSettings:k},rawResponse:{headers:v},response:bc(S),warnings:g,request:{body:y}}}async doStream(e){var t;if(this.settings.simulateStreaming){const S=await this.doGenerate(e);return{stream:new ReadableStream({start(C){if(C.enqueue({type:"response-metadata",...S.response}),S.reasoning&&C.enqueue({type:"reasoning",textDelta:S.reasoning}),S.text&&C.enqueue({type:"text-delta",textDelta:S.text}),S.toolCalls)for(const k of S.toolCalls)C.enqueue({type:"tool-call",...k});C.enqueue({type:"finish",finishReason:S.finishReason,usage:S.usage,logprobs:S.logprobs,providerMetadata:S.providerMetadata}),C.close()}}),rawCall:S.rawCall,rawResponse:S.rawResponse,warnings:S.warnings}}const{args:n,warnings:r}=this.getArgs({...e}),s=JSON.stringify({...n,stream:!0}),i=(t=this.config.metadataExtractor)==null?void 0:t.createStreamExtractor(),{responseHeaders:l,value:u}=await ft({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:{...n,stream:!0},failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:ja(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...d}=n,h=[];let g="unknown",y={promptTokens:void 0,completionTokens:void 0},v=!0;return{stream:u.pipeThrough(new TransformStream({transform(S,_){var C,k,I,E,P,D,A,$,K,ce,de,te,oe,ae;if(!S.success){g="error",_.enqueue({type:"error",error:S.error});return}const q=S.value;if(i==null||i.processChunk(S.rawValue),"error"in q){g="error",_.enqueue({type:"error",error:q.error.message});return}v&&(v=!1,_.enqueue({type:"response-metadata",...bc(q)})),q.usage!=null&&(y={promptTokens:(C=q.usage.prompt_tokens)!=null?C:void 0,completionTokens:(k=q.usage.completion_tokens)!=null?k:void 0});const J=q.choices[0];if((J==null?void 0:J.finish_reason)!=null&&(g=Sc(J.finish_reason)),(J==null?void 0:J.delta)==null)return;const ie=J.delta;if(ie.reasoning_content!=null&&_.enqueue({type:"reasoning",textDelta:ie.reasoning_content}),ie.content!=null&&_.enqueue({type:"text-delta",textDelta:ie.content}),ie.tool_calls!=null)for(const le of ie.tool_calls){const V=le.index;if(h[V]==null){if(le.type!=="function")throw new Br({data:le,message:"Expected 'function' type."});if(le.id==null)throw new Br({data:le,message:"Expected 'id' to be a string."});if(((I=le.function)==null?void 0:I.name)==null)throw new Br({data:le,message:"Expected 'function.name' to be a string."});h[V]={id:le.id,type:"function",function:{name:le.function.name,arguments:(E=le.function.arguments)!=null?E:""},hasFinished:!1};const N=h[V];((P=N.function)==null?void 0:P.name)!=null&&((D=N.function)==null?void 0:D.arguments)!=null&&(N.function.arguments.length>0&&_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:N.id,toolName:N.function.name,argsTextDelta:N.function.arguments}),li(N.function.arguments)&&(_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(A=N.id)!=null?A:tn(),toolName:N.function.name,args:N.function.arguments}),N.hasFinished=!0));continue}const Z=h[V];Z.hasFinished||((($=le.function)==null?void 0:$.arguments)!=null&&(Z.function.arguments+=(ce=(K=le.function)==null?void 0:K.arguments)!=null?ce:""),_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Z.id,toolName:Z.function.name,argsTextDelta:(de=le.function.arguments)!=null?de:""}),((te=Z.function)==null?void 0:te.name)!=null&&((oe=Z.function)==null?void 0:oe.arguments)!=null&&li(Z.function.arguments)&&(_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ae=Z.id)!=null?ae:tn(),toolName:Z.function.name,args:Z.function.arguments}),Z.hasFinished=!0))}},flush(S){var _,C;const k=i==null?void 0:i.buildMetadata();S.enqueue({type:"finish",finishReason:g,usage:{promptTokens:(_=y.promptTokens)!=null?_:NaN,completionTokens:(C=y.completionTokens)!=null?C:NaN},...k&&{providerMetadata:k}})}})),rawCall:{rawPrompt:f,rawSettings:d},rawResponse:{headers:l},warnings:r,request:{body:s}}}},wD=x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({message:x.object({role:x.literal("assistant").nullish(),content:x.string().nullish(),reasoning_content:x.string().nullish(),tool_calls:x.array(x.object({id:x.string().nullish(),type:x.literal("function"),function:x.object({name:x.string(),arguments:x.string()})})).nullish()}),finish_reason:x.string().nullish()})),usage:x.object({prompt_tokens:x.number().nullish(),completion_tokens:x.number().nullish()}).nullish()}),bD=e=>x.union([x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({delta:x.object({role:x.enum(["assistant"]).nullish(),content:x.string().nullish(),reasoning_content:x.string().nullish(),tool_calls:x.array(x.object({index:x.number(),id:x.string().nullish(),type:x.literal("function").optional(),function:x.object({name:x.string().nullish(),arguments:x.string().nullish()})})).nullish()}).nullish(),finish_reason:x.string().nullish()})),usage:x.object({prompt_tokens:x.number().nullish(),completion_tokens:x.number().nullish()}).nullish()}),e]);function SD({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(const{role:i,content:l}of e)switch(i){case"system":throw new wa({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const u=l.map(f=>{switch(f.type){case"text":return f.text;case"image":throw new Le({functionality:"images"})}}).join("");s+=`${n}:
${u}

`;break}case"assistant":{const u=l.map(f=>{switch(f.type){case"text":return f.text;case"tool-call":throw new Le({functionality:"tool-call messages"})}}).join("");s+=`${r}:
${u}

`;break}case"tool":throw new Le({functionality:"tool messages"});default:{const u=i;throw new Error(`Unsupported role: ${u}`)}}return s+=`${r}:
`,{prompt:s,stopSequences:[`
${n}:`]}}var _D=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0;var r;this.modelId=e,this.settings=t,this.config=n;const s=(r=n.errorStructure)!=null?r:vm;this.chunkSchema=CD(s.errorSchema),this.failedResponseHandler=Er(s)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:s,topP:i,topK:l,frequencyPenalty:u,presencePenalty:f,stopSequences:d,responseFormat:h,seed:g,providerMetadata:y}){var v;const S=e.type,_=[];l!=null&&_.push({type:"unsupported-setting",setting:"topK"}),h!=null&&h.type!=="text"&&_.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:C,stopSequences:k}=SD({prompt:n,inputFormat:t}),I=[...k??[],...d??[]],E={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:s,top_p:i,frequency_penalty:u,presence_penalty:f,seed:g,...y==null?void 0:y[this.providerOptionsName],prompt:C,stop:I.length>0?I:void 0};switch(S){case"regular":{if((v=e.tools)!=null&&v.length)throw new Le({functionality:"tools"});if(e.toolChoice)throw new Le({functionality:"toolChoice"});return{args:E,warnings:_}}case"object-json":throw new Le({functionality:"object-json mode"});case"object-tool":throw new Le({functionality:"object-tool mode"});default:{const P=S;throw new Error(`Unsupported type: ${P}`)}}}async doGenerate(e){var t,n,r,s;const{args:i,warnings:l}=this.getArgs(e),{responseHeaders:u,value:f}=await ft({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:i,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Gt(kD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:d,...h}=i,g=f.choices[0];return{text:g.text,usage:{promptTokens:(n=(t=f.usage)==null?void 0:t.prompt_tokens)!=null?n:NaN,completionTokens:(s=(r=f.usage)==null?void 0:r.completion_tokens)!=null?s:NaN},finishReason:Sc(g.finish_reason),rawCall:{rawPrompt:d,rawSettings:h},rawResponse:{headers:u},response:bc(f),warnings:l,request:{body:JSON.stringify(i)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0},{responseHeaders:s,value:i}=await ft({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:r,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:ja(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...u}=t;let f="unknown",d={promptTokens:Number.NaN,completionTokens:Number.NaN},h=!0;return{stream:i.pipeThrough(new TransformStream({transform(g,y){if(!g.success){f="error",y.enqueue({type:"error",error:g.error});return}const v=g.value;if("error"in v){f="error",y.enqueue({type:"error",error:v.error});return}h&&(h=!1,y.enqueue({type:"response-metadata",...bc(v)})),v.usage!=null&&(d={promptTokens:v.usage.prompt_tokens,completionTokens:v.usage.completion_tokens});const S=v.choices[0];(S==null?void 0:S.finish_reason)!=null&&(f=Sc(S.finish_reason)),(S==null?void 0:S.text)!=null&&y.enqueue({type:"text-delta",textDelta:S.text})},flush(g){g.enqueue({type:"finish",finishReason:f,usage:d})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(r)}}}},kD=x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({text:x.string(),finish_reason:x.string()})),usage:x.object({prompt_tokens:x.number(),completion_tokens:x.number()}).nullish()}),CD=e=>x.union([x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({text:x.string(),finish_reason:x.string().nullish(),index:x.number()})),usage:x.object({prompt_tokens:x.number(),completion_tokens:x.number()}).nullish()}),e]),TD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.config.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.config.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){var r;if(e.length>this.maxEmbeddingsPerCall)throw new bl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:s,value:i}=await ft({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:wt(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Er((r=this.config.errorStructure)!=null?r:vm),successfulResponseHandler:Gt(ED),abortSignal:n,fetch:this.config.fetch});return{embeddings:i.data.map(l=>l.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:s}}}},ED=x.object({data:x.array(x.object({embedding:x.array(x.number())})),usage:x.object({prompt_tokens:x.number()}).nullish()});function ID(e){const t=Jr(e.baseURL),n=e.name,r=()=>({...e.apiKey&&{Authorization:`Bearer ${e.apiKey}`},...e.headers}),s=h=>({provider:`${n}.${h}`,url:({path:g})=>{const y=new URL(`${t}${g}`);return e.queryParams&&(y.search=new URLSearchParams(e.queryParams).toString()),y.toString()},headers:r,fetch:e.fetch}),i=(h,g={})=>l(h,g),l=(h,g={})=>new xm(h,g,{...s("chat"),defaultObjectGenerationMode:"tool"}),u=(h,g={})=>new _D(h,g,s("completion")),f=(h,g={})=>new TD(h,g,s("embedding")),d=(h,g)=>i(h,g);return d.languageModel=i,d.chatModel=l,d.completionModel=u,d.textEmbeddingModel=f,d}var J0=e=>{var t,n;return e==null?void 0:{deepseek:{promptCacheHitTokens:(t=e.prompt_cache_hit_tokens)!=null?t:NaN,promptCacheMissTokens:(n=e.prompt_cache_miss_tokens)!=null?n:NaN}}},ND={extractMetadata:({parsedBody:e})=>{const t=xr({value:e,schema:OD});return!t.success||t.value.usage==null?void 0:J0(t.value.usage)},createStreamExtractor:()=>{let e;return{processChunk:t=>{var n,r;const s=xr({value:t,schema:PD});s.success&&((r=(n=s.value.choices)==null?void 0:n[0])==null?void 0:r.finish_reason)==="stop"&&s.value.usage&&(e=s.value.usage)},buildMetadata:()=>J0(e)}}},$S=x.object({prompt_cache_hit_tokens:x.number().nullish(),prompt_cache_miss_tokens:x.number().nullish()}),OD=x.object({usage:$S.nullish()}),PD=x.object({choices:x.array(x.object({finish_reason:x.string().nullish()})).nullish(),usage:$S.nullish()});function US(e={}){var t;const n=Jr((t=e.baseURL)!=null?t:"https://api.deepseek.com/v1"),r=()=>({Authorization:`Bearer ${Ra({apiKey:e.apiKey,environmentVariableName:"DEEPSEEK_API_KEY",description:"DeepSeek API key"})}`,...e.headers}),s=(l,u={})=>new xm(l,u,{provider:"deepseek.chat",url:({path:f})=>`${n}${f}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:"json",metadataExtractor:ND}),i=(l,u)=>s(l,u);return i.languageModel=s,i.chat=s,i.textEmbeddingModel=l=>{throw new oi({modelId:l,modelType:"textEmbeddingModel"})},i}US();function pr(e){if(RD(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};const{type:t,description:n,required:r,properties:s,items:i,allOf:l,anyOf:u,oneOf:f,format:d,const:h,minLength:g,enum:y}=e,v={};return n&&(v.description=n),r&&(v.required=r),d&&(v.format=d),h!==void 0&&(v.enum=[h]),t&&(Array.isArray(t)?t.includes("null")?(v.type=t.filter(S=>S!=="null")[0],v.nullable=!0):v.type=t:t==="null"?v.type="null":v.type=t),y!==void 0&&(v.enum=y),s!=null&&(v.properties=Object.entries(s).reduce((S,[_,C])=>(S[_]=pr(C),S),{})),i&&(v.items=Array.isArray(i)?i.map(pr):pr(i)),l&&(v.allOf=l.map(pr)),u&&(v.anyOf=u.map(pr)),f&&(v.oneOf=f.map(pr)),g!==void 0&&(v.minLength=g),v}function RD(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)}function jD(e){var t,n;const r=[],s=[];let i=!0;for(const{role:l,content:u}of e)switch(l){case"system":{if(!i)throw new Le({functionality:"system messages are only supported at the beginning of the conversation"});r.push({text:u});break}case"user":{i=!1;const f=[];for(const d of u)switch(d.type){case"text":{f.push({text:d.text});break}case"image":{f.push(d.image instanceof URL?{fileData:{mimeType:(t=d.mimeType)!=null?t:"image/jpeg",fileUri:d.image.toString()}}:{inlineData:{mimeType:(n=d.mimeType)!=null?n:"image/jpeg",data:Vr(d.image)}});break}case"file":{f.push(d.data instanceof URL?{fileData:{mimeType:d.mimeType,fileUri:d.data.toString()}}:{inlineData:{mimeType:d.mimeType,data:d.data}});break}default:{const h=d;throw new Le({functionality:`prompt part: ${h}`})}}s.push({role:"user",parts:f});break}case"assistant":{i=!1,s.push({role:"model",parts:u.map(f=>{switch(f.type){case"text":return f.text.length===0?void 0:{text:f.text};case"tool-call":return{functionCall:{name:f.toolName,args:f.args}}}}).filter(f=>f!==void 0)});break}case"tool":{i=!1,s.push({role:"user",parts:u.map(f=>({functionResponse:{name:f.toolName,response:{name:f.toolName,content:f.result}}}))});break}default:{const f=l;throw new Error(`Unsupported role: ${f}`)}}return{systemInstruction:r.length>0?{parts:r}:void 0,contents:s}}function G0(e){return e.includes("/")?e:`models/${e}`}var AD=x.object({error:x.object({code:x.number().nullable(),message:x.string(),status:x.string()})}),gh=Er({errorSchema:AD,errorToMessage:e=>e.error.message});function DD(e,t,n){var r,s;const i=(r=e.tools)!=null&&r.length?e.tools:void 0,l=[];if(t)return{tools:n?{googleSearch:{}}:{googleSearchRetrieval:{}},toolConfig:void 0,toolWarnings:l};if(i==null)return{tools:void 0,toolConfig:void 0,toolWarnings:l};const u=[];for(const h of i)h.type==="provider-defined"?l.push({type:"unsupported-tool",tool:h}):u.push({name:h.name,description:(s=h.description)!=null?s:"",parameters:pr(h.parameters)});const f=e.toolChoice;if(f==null)return{tools:{functionDeclarations:u},toolConfig:void 0,toolWarnings:l};const d=f.type;switch(d){case"auto":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:l};case"none":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:l};case"required":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:l};case"tool":return{tools:{functionDeclarations:u},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[f.toolName]}},toolWarnings:l};default:{const h=d;throw new Le({functionality:`Unsupported tool choice type: ${h}`})}}}function Y0({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"RECITATION":case"SAFETY":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";default:return"unknown"}}var MD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!0}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:f,responseFormat:d,seed:h}){var g,y;const v=e.type,S=[];h!=null&&S.push({type:"unsupported-setting",setting:"seed"});const _={maxOutputTokens:n,temperature:r,topK:i,topP:s,frequencyPenalty:l,presencePenalty:u,stopSequences:f,responseMimeType:(d==null?void 0:d.type)==="json"?"application/json":void 0,responseSchema:(d==null?void 0:d.type)==="json"&&d.schema!=null&&this.supportsStructuredOutputs?pr(d.schema):void 0,...this.settings.audioTimestamp&&{audioTimestamp:this.settings.audioTimestamp}},{contents:C,systemInstruction:k}=jD(t);switch(v){case"regular":{const{tools:I,toolConfig:E,toolWarnings:P}=DD(e,(g=this.settings.useSearchGrounding)!=null?g:!1,this.modelId.includes("gemini-2"));return{args:{generationConfig:_,contents:C,systemInstruction:k,safetySettings:this.settings.safetySettings,tools:I,toolConfig:E,cachedContent:this.settings.cachedContent},warnings:[...S,...P]}}case"object-json":return{args:{generationConfig:{..._,responseMimeType:"application/json",responseSchema:e.schema!=null&&this.supportsStructuredOutputs?pr(e.schema):void 0},contents:C,systemInstruction:k,safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:S};case"object-tool":return{args:{generationConfig:_,contents:C,tools:{functionDeclarations:[{name:e.tool.name,description:(y=e.tool.description)!=null?y:"",parameters:pr(e.tool.parameters)}]},toolConfig:{functionCallingConfig:{mode:"ANY"}},safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:S};default:{const I=v;throw new Error(`Unsupported type: ${I}`)}}}supportsUrl(e){return this.config.isSupportedUrl(e)}async doGenerate(e){var t,n,r,s,i,l,u,f;const{args:d,warnings:h}=await this.getArgs(e),g=JSON.stringify(d),y=wt(await Oo(this.config.headers),e.headers),{responseHeaders:v,value:S}=await ft({url:`${this.config.baseURL}/${G0(this.modelId)}:generateContent`,headers:y,body:d,failedResponseHandler:gh,successfulResponseHandler:Gt(LD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:_,...C}=d,k=S.candidates[0],I=K0({parts:(n=(t=k.content)==null?void 0:t.parts)!=null?n:[],generateId:this.config.generateId}),E=S.usageMetadata;return{text:X0((s=(r=k.content)==null?void 0:r.parts)!=null?s:[]),toolCalls:I,finishReason:Y0({finishReason:k.finishReason,hasToolCalls:I!=null&&I.length>0}),usage:{promptTokens:(i=E==null?void 0:E.promptTokenCount)!=null?i:NaN,completionTokens:(l=E==null?void 0:E.candidatesTokenCount)!=null?l:NaN},rawCall:{rawPrompt:_,rawSettings:C},rawResponse:{headers:v},warnings:h,providerMetadata:{google:{groundingMetadata:(u=k.groundingMetadata)!=null?u:null,safetyRatings:(f=k.safetyRatings)!=null?f:null}},request:{body:g}}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=JSON.stringify(t),s=wt(await Oo(this.config.headers),e.headers),{responseHeaders:i,value:l}=await ft({url:`${this.config.baseURL}/${G0(this.modelId)}:streamGenerateContent?alt=sse`,headers:s,body:t,failedResponseHandler:gh,successfulResponseHandler:ja(FD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:u,...f}=t;let d="unknown",h={promptTokens:Number.NaN,completionTokens:Number.NaN},g;const y=this.config.generateId;let v=!1;return{stream:l.pipeThrough(new TransformStream({transform(S,_){var C,k,I,E,P;if(!S.success){_.enqueue({type:"error",error:S.error});return}const D=S.value,A=D.usageMetadata;A!=null&&(h={promptTokens:(C=A.promptTokenCount)!=null?C:NaN,completionTokens:(k=A.candidatesTokenCount)!=null?k:NaN});const $=(I=D.candidates)==null?void 0:I[0];if($==null)return;$.finishReason!=null&&(d=Y0({finishReason:$.finishReason,hasToolCalls:v}),g={google:{groundingMetadata:(E=$.groundingMetadata)!=null?E:null,safetyRatings:(P=$.safetyRatings)!=null?P:null}});const K=$.content;if(K==null)return;const ce=X0(K.parts);ce!=null&&_.enqueue({type:"text-delta",textDelta:ce});const de=K0({parts:K.parts,generateId:y});if(de!=null)for(const te of de)_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:te.toolCallId,toolName:te.toolName,argsTextDelta:te.args}),_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:te.toolCallId,toolName:te.toolName,args:te.args}),v=!0},flush(S){S.enqueue({type:"finish",finishReason:d,usage:h,providerMetadata:g})}})),rawCall:{rawPrompt:u,rawSettings:f},rawResponse:{headers:i},warnings:n,request:{body:r}}}};function K0({parts:e,generateId:t}){const n=e.filter(r=>"functionCall"in r);return n.length===0?void 0:n.map(r=>({toolCallType:"function",toolCallId:t(),toolName:r.functionCall.name,args:JSON.stringify(r.functionCall.args)}))}function X0(e){const t=e.filter(n=>"text"in n);return t.length===0?void 0:t.map(n=>n.text).join("")}var BS=x.object({role:x.string(),parts:x.array(x.union([x.object({text:x.string()}),x.object({functionCall:x.object({name:x.string(),args:x.unknown()})})]))}),HS=x.object({webSearchQueries:x.array(x.string()).nullish(),retrievalQueries:x.array(x.string()).nullish(),searchEntryPoint:x.object({renderedContent:x.string()}).nullish(),groundingChunks:x.array(x.object({web:x.object({uri:x.string(),title:x.string()}).nullish(),retrievedContext:x.object({uri:x.string(),title:x.string()}).nullish()})).nullish(),groundingSupports:x.array(x.object({segment:x.object({startIndex:x.number().nullish(),endIndex:x.number().nullish(),text:x.string().nullish()}),segment_text:x.string().nullish(),groundingChunkIndices:x.array(x.number()).nullish(),supportChunkIndices:x.array(x.number()).nullish(),confidenceScores:x.array(x.number()).nullish(),confidenceScore:x.array(x.number()).nullish()})).nullish(),retrievalMetadata:x.union([x.object({webDynamicRetrievalScore:x.number()}),x.object({})]).nullish()}),qS=x.object({category:x.string(),probability:x.string(),probabilityScore:x.number().nullish(),severity:x.string().nullish(),severityScore:x.number().nullish(),blocked:x.boolean().nullish()}),LD=x.object({candidates:x.array(x.object({content:BS.nullish(),finishReason:x.string().nullish(),safetyRatings:x.array(qS).nullish(),groundingMetadata:HS.nullish()})),usageMetadata:x.object({promptTokenCount:x.number().nullish(),candidatesTokenCount:x.number().nullish(),totalTokenCount:x.number().nullish()}).nullish()}),FD=x.object({candidates:x.array(x.object({content:BS.nullish(),finishReason:x.string().nullish(),safetyRatings:x.array(qS).nullish(),groundingMetadata:HS.nullish()})).nullish(),usageMetadata:x.object({promptTokenCount:x.number().nullish(),candidatesTokenCount:x.number().nullish(),totalTokenCount:x.number().nullish()}).nullish()}),zD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){return 2048}get supportsParallelCalls(){return!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new bl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const r=wt(await Oo(this.config.headers),t),{responseHeaders:s,value:i}=await ft({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:r,body:{requests:e.map(l=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:l}]},outputDimensionality:this.settings.outputDimensionality}))},failedResponseHandler:gh,successfulResponseHandler:Gt($D),abortSignal:n,fetch:this.config.fetch});return{embeddings:i.embeddings.map(l=>l.values),usage:void 0,rawResponse:{headers:s}}}},$D=x.object({embeddings:x.array(x.object({values:x.array(x.number())}))});function UD(e){return e.toString().startsWith("https://generativelanguage.googleapis.com/v1beta/files/")}function VS(e={}){var t;const n=(t=Jr(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",r=()=>({"x-goog-api-key":Ra({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers}),s=(u,f={})=>{var d;return new MD(u,f,{provider:"google.generative-ai",baseURL:n,headers:r,generateId:(d=e.generateId)!=null?d:tn,isSupportedUrl:UD,fetch:e.fetch})},i=(u,f={})=>new zD(u,f,{provider:"google.generative-ai",baseURL:n,headers:r,fetch:e.fetch}),l=function(u,f){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return s(u,f)};return l.languageModel=s,l.chat=s,l.generativeAI=s,l.embedding=i,l.textEmbedding=i,l.textEmbeddingModel=i,l}VS();function BD(e){const t=[];for(const{role:n,content:r}of e)switch(n){case"system":{t.push({role:"system",content:r});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text});break}t.push({role:"user",content:r.map(s=>{var i;switch(s.type){case"text":return{type:"text",text:s.text};case"image":return{type:"image_url",image_url:{url:s.image instanceof URL?s.image.toString():`data:${(i=s.mimeType)!=null?i:"image/jpeg"};base64,${Vr(s.image)}`}};case"file":throw new Le({functionality:"File content parts in user messages"})}})});break}case"assistant":{let s="";const i=[];for(const l of r)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{i.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.args)}});break}default:{const u=l;throw new Error(`Unsupported part: ${u}`)}}t.push({role:"assistant",content:s,tool_calls:i.length>0?i:void 0});break}case"tool":{for(const s of r)t.push({role:"tool",tool_call_id:s.toolCallId,content:JSON.stringify(s.result)});break}default:{const s=n;throw new Error(`Unsupported role: ${s}`)}}return t}function Q0({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}var WS=x.object({error:x.object({message:x.string(),type:x.string()})}),ex=Er({errorSchema:WS,errorToMessage:e=>e.error.message});function HD({mode:e}){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const s=e.toolChoice,i=[];for(const u of n)u.type==="provider-defined"?r.push({type:"unsupported-tool",tool:u}):i.push({type:"function",function:{name:u.name,description:u.description,parameters:u.parameters}});if(s==null)return{tools:i,tool_choice:void 0,toolWarnings:r};const l=s.type;switch(l){case"auto":case"none":case"required":return{tools:i,tool_choice:l,toolWarnings:r};case"tool":return{tools:i,tool_choice:{type:"function",function:{name:s.toolName}},toolWarnings:r};default:{const u=l;throw new Le({functionality:`Unsupported tool choice type: ${u}`})}}}function tx(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var qD=class{constructor(e,t,n){this.specificationVersion="v1",this.supportsStructuredOutputs=!1,this.defaultObjectGenerationMode="json",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:f,responseFormat:d,seed:h,stream:g}){const y=e.type,v=[];i!=null&&v.push({type:"unsupported-setting",setting:"topK"}),d!=null&&d.type==="json"&&d.schema!=null&&v.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const S={model:this.modelId,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:u,stop:f,seed:h,response_format:g===!1&&(d==null?void 0:d.type)==="json"?{type:"json_object"}:void 0,messages:BD(t)};switch(y){case"regular":{const{tools:_,tool_choice:C,toolWarnings:k}=HD({mode:e});return{args:{...S,tools:_,tool_choice:C},warnings:[...v,...k]}}case"object-json":return{args:{...S,response_format:g===!1?{type:"json_object"}:void 0},warnings:v};case"object-tool":return{args:{...S,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:v};default:{const _=y;throw new Error(`Unsupported type: ${_}`)}}}async doGenerate(e){var t,n,r,s,i,l;const{args:u,warnings:f}=this.getArgs({...e,stream:!1}),d=JSON.stringify(u),{responseHeaders:h,value:g}=await ft({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:u,failedResponseHandler:ex,successfulResponseHandler:Gt(VD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:y,...v}=u,S=g.choices[0];return{text:(t=S.message.content)!=null?t:void 0,toolCalls:(n=S.message.tool_calls)==null?void 0:n.map(_=>{var C;return{toolCallType:"function",toolCallId:(C=_.id)!=null?C:tn(),toolName:_.function.name,args:_.function.arguments}}),finishReason:tx(S.finish_reason),usage:{promptTokens:(s=(r=g.usage)==null?void 0:r.prompt_tokens)!=null?s:NaN,completionTokens:(l=(i=g.usage)==null?void 0:i.completion_tokens)!=null?l:NaN},rawCall:{rawPrompt:y,rawSettings:v},rawResponse:{headers:h},response:Q0(g),warnings:f,request:{body:d}}}async doStream(e){const{args:t,warnings:n}=this.getArgs({...e,stream:!0}),r=JSON.stringify({...t,stream:!0}),{responseHeaders:s,value:i}=await ft({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:ex,successfulResponseHandler:ja(WD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...u}=t,f=[];let d="unknown",h={promptTokens:void 0,completionTokens:void 0},g=!0;return{stream:i.pipeThrough(new TransformStream({transform(y,v){var S,_,C,k,I,E,P,D,A,$,K,ce,de,te,oe;if(!y.success){d="error",v.enqueue({type:"error",error:y.error});return}const ae=y.value;if("error"in ae){d="error",v.enqueue({type:"error",error:ae.error});return}g&&(g=!1,v.enqueue({type:"response-metadata",...Q0(ae)})),((S=ae.x_groq)==null?void 0:S.usage)!=null&&(h={promptTokens:(_=ae.x_groq.usage.prompt_tokens)!=null?_:void 0,completionTokens:(C=ae.x_groq.usage.completion_tokens)!=null?C:void 0});const q=ae.choices[0];if((q==null?void 0:q.finish_reason)!=null&&(d=tx(q.finish_reason)),(q==null?void 0:q.delta)==null)return;const J=q.delta;if(J.content!=null&&v.enqueue({type:"text-delta",textDelta:J.content}),J.tool_calls!=null)for(const ie of J.tool_calls){const le=ie.index;if(f[le]==null){if(ie.type!=="function")throw new Br({data:ie,message:"Expected 'function' type."});if(ie.id==null)throw new Br({data:ie,message:"Expected 'id' to be a string."});if(((k=ie.function)==null?void 0:k.name)==null)throw new Br({data:ie,message:"Expected 'function.name' to be a string."});f[le]={id:ie.id,type:"function",function:{name:ie.function.name,arguments:(I=ie.function.arguments)!=null?I:""},hasFinished:!1};const Z=f[le];((E=Z.function)==null?void 0:E.name)!=null&&((P=Z.function)==null?void 0:P.arguments)!=null&&(Z.function.arguments.length>0&&v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Z.id,toolName:Z.function.name,argsTextDelta:Z.function.arguments}),li(Z.function.arguments)&&(v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(D=Z.id)!=null?D:tn(),toolName:Z.function.name,args:Z.function.arguments}),Z.hasFinished=!0));continue}const V=f[le];V.hasFinished||(((A=ie.function)==null?void 0:A.arguments)!=null&&(V.function.arguments+=(K=($=ie.function)==null?void 0:$.arguments)!=null?K:""),v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:V.id,toolName:V.function.name,argsTextDelta:(ce=ie.function.arguments)!=null?ce:""}),((de=V.function)==null?void 0:de.name)!=null&&((te=V.function)==null?void 0:te.arguments)!=null&&li(V.function.arguments)&&(v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(oe=V.id)!=null?oe:tn(),toolName:V.function.name,args:V.function.arguments}),V.hasFinished=!0))}},flush(y){var v,S;y.enqueue({type:"finish",finishReason:d,usage:{promptTokens:(v=h.promptTokens)!=null?v:NaN,completionTokens:(S=h.completionTokens)!=null?S:NaN}})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},warnings:n,request:{body:r}}}},VD=x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({message:x.object({role:x.literal("assistant").nullish(),content:x.string().nullish(),tool_calls:x.array(x.object({id:x.string().nullish(),type:x.literal("function"),function:x.object({name:x.string(),arguments:x.string()})})).nullish()}),index:x.number(),finish_reason:x.string().nullish()})),usage:x.object({prompt_tokens:x.number().nullish(),completion_tokens:x.number().nullish()}).nullish()}),WD=x.union([x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({delta:x.object({role:x.enum(["assistant"]).nullish(),content:x.string().nullish(),tool_calls:x.array(x.object({index:x.number(),id:x.string().nullish(),type:x.literal("function").optional(),function:x.object({name:x.string().nullish(),arguments:x.string().nullish()})})).nullish()}).nullish(),finish_reason:x.string().nullable().optional(),index:x.number()})),x_groq:x.object({usage:x.object({prompt_tokens:x.number().nullish(),completion_tokens:x.number().nullish()}).nullish()}).nullish()}),WS]);function ZS(e={}){var t;const n=(t=Jr(e.baseURL))!=null?t:"https://api.groq.com/openai/v1",r=()=>({Authorization:`Bearer ${Ra({apiKey:e.apiKey,environmentVariableName:"GROQ_API_KEY",description:"Groq"})}`,...e.headers}),s=(u,f={})=>new qD(u,f,{provider:"groq.chat",url:({path:d})=>`${n}${d}`,headers:r,fetch:e.fetch}),i=(u,f)=>{if(new.target)throw new Error("The Groq model function cannot be called with the new keyword.");return s(u,f)},l=function(u,f){return i(u,f)};return l.languageModel=i,l.chat=s,l.textEmbeddingModel=u=>{throw new oi({modelId:u,modelType:"textEmbeddingModel"})},l}ZS();function ZD(e){const t=[];for(let n=0;n<e.length;n++){const{role:r,content:s}=e[n],i=n===e.length-1;switch(r){case"system":{t.push({role:"system",content:s});break}case"user":{t.push({role:"user",content:s.map(l=>{var u;switch(l.type){case"text":return{type:"text",text:l.text};case"image":return{type:"image_url",image_url:l.image instanceof URL?l.image.toString():`data:${(u=l.mimeType)!=null?u:"image/jpeg"};base64,${Vr(l.image)}`};case"file":throw new Le({functionality:"File content parts in user messages"})}})});break}case"assistant":{let l="";const u=[];for(const f of s)switch(f.type){case"text":{l+=f.text;break}case"tool-call":{u.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)}});break}default:{const d=f;throw new Error(`Unsupported part: ${d}`)}}t.push({role:"assistant",content:l,prefix:i?!0:void 0,tool_calls:u.length>0?u:void 0});break}case"tool":{for(const l of s)t.push({role:"tool",name:l.toolName,content:JSON.stringify(l.result),tool_call_id:l.toolCallId});break}default:{const l=r;throw new Error(`Unsupported role: ${l}`)}}}return t}function nx(e){switch(e){case"stop":return"stop";case"length":case"model_length":return"length";case"tool_calls":return"tool-calls";default:return"unknown"}}var JD=x.object({object:x.literal("error"),message:x.string(),type:x.string(),param:x.string().nullable(),code:x.string().nullable()}),yh=Er({errorSchema:JD,errorToMessage:e=>e.message});function rx({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function GD(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const s=[];for(const u of n)u.type==="provider-defined"?r.push({type:"unsupported-tool",tool:u}):s.push({type:"function",function:{name:u.name,description:u.description,parameters:u.parameters}});const i=e.toolChoice;if(i==null)return{tools:s,tool_choice:void 0,toolWarnings:r};const l=i.type;switch(l){case"auto":case"none":return{tools:s,tool_choice:l,toolWarnings:r};case"required":return{tools:s,tool_choice:"any",toolWarnings:r};case"tool":return{tools:s.filter(u=>u.function.name===i.toolName),tool_choice:"any",toolWarnings:r};default:{const u=l;throw new Le({functionality:`Unsupported tool choice type: ${u}`})}}}var YD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:f,responseFormat:d,seed:h}){const g=e.type,y=[];i!=null&&y.push({type:"unsupported-setting",setting:"topK"}),l!=null&&y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),u!=null&&y.push({type:"unsupported-setting",setting:"presencePenalty"}),f!=null&&y.push({type:"unsupported-setting",setting:"stopSequences"}),d!=null&&d.type==="json"&&d.schema!=null&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const v={model:this.modelId,safe_prompt:this.settings.safePrompt,max_tokens:n,temperature:r,top_p:s,random_seed:h,response_format:(d==null?void 0:d.type)==="json"?{type:"json_object"}:void 0,messages:ZD(t)};switch(g){case"regular":{const{tools:S,tool_choice:_,toolWarnings:C}=GD(e);return{args:{...v,tools:S,tool_choice:_},warnings:[...y,...C]}}case"object-json":return{args:{...v,response_format:{type:"json_object"}},warnings:y};case"object-tool":return{args:{...v,tool_choice:"any",tools:[{type:"function",function:e.tool}]},warnings:y};default:{const S=g;throw new Error(`Unsupported type: ${S}`)}}}async doGenerate(e){var t,n;const{args:r,warnings:s}=this.getArgs(e),{responseHeaders:i,value:l}=await ft({url:`${this.config.baseURL}/chat/completions`,headers:wt(this.config.headers(),e.headers),body:r,failedResponseHandler:yh,successfulResponseHandler:Gt(KD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:u,...f}=r,d=l.choices[0];let h=(t=d.message.content)!=null?t:void 0;const g=u[u.length-1];return g.role==="assistant"&&(h!=null&&h.startsWith(g.content))&&(h=h.slice(g.content.length)),{text:h,toolCalls:(n=d.message.tool_calls)==null?void 0:n.map(y=>({toolCallType:"function",toolCallId:y.id,toolName:y.function.name,args:y.function.arguments})),finishReason:nx(d.finish_reason),usage:{promptTokens:l.usage.prompt_tokens,completionTokens:l.usage.completion_tokens},rawCall:{rawPrompt:u,rawSettings:f},rawResponse:{headers:i},request:{body:JSON.stringify(r)},response:rx(l),warnings:s}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0},{responseHeaders:s,value:i}=await ft({url:`${this.config.baseURL}/chat/completions`,headers:wt(this.config.headers(),e.headers),body:r,failedResponseHandler:yh,successfulResponseHandler:ja(XD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...u}=t;let f="unknown",d={promptTokens:Number.NaN,completionTokens:Number.NaN},h=0,g=!1;return{stream:i.pipeThrough(new TransformStream({transform(y,v){if(!y.success){v.enqueue({type:"error",error:y.error});return}h++;const S=y.value;h===1&&v.enqueue({type:"response-metadata",...rx(S)}),S.usage!=null&&(d={promptTokens:S.usage.prompt_tokens,completionTokens:S.usage.completion_tokens});const _=S.choices[0];if((_==null?void 0:_.finish_reason)!=null&&(f=nx(_.finish_reason)),(_==null?void 0:_.delta)==null)return;const C=_.delta;if(h<=2){const k=l[l.length-1];if(k.role==="assistant"&&C.content===k.content.trimEnd()){C.content.length<k.content.length&&(g=!0);return}}if(C.content!=null&&(v.enqueue({type:"text-delta",textDelta:g?C.content.trimStart():C.content}),g=!1),C.tool_calls!=null)for(const k of C.tool_calls)v.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:k.id,toolName:k.function.name,argsTextDelta:k.function.arguments}),v.enqueue({type:"tool-call",toolCallType:"function",toolCallId:k.id,toolName:k.function.name,args:k.function.arguments})},flush(y){y.enqueue({type:"finish",finishReason:f,usage:d})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},request:{body:JSON.stringify(r)},warnings:n}}},KD=x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({message:x.object({role:x.literal("assistant"),content:x.string().nullable(),tool_calls:x.array(x.object({id:x.string(),function:x.object({name:x.string(),arguments:x.string()})})).nullish()}),index:x.number(),finish_reason:x.string().nullish()})),object:x.literal("chat.completion"),usage:x.object({prompt_tokens:x.number(),completion_tokens:x.number()})}),XD=x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({delta:x.object({role:x.enum(["assistant"]).optional(),content:x.string().nullish(),tool_calls:x.array(x.object({id:x.string(),function:x.object({name:x.string(),arguments:x.string()})})).nullish()}),finish_reason:x.string().nullish(),index:x.number()})),usage:x.object({prompt_tokens:x.number(),completion_tokens:x.number()}).nullish()}),QD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:32}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!1}async doEmbed({values:e,abortSignal:t,headers:n}){if(e.length>this.maxEmbeddingsPerCall)throw new bl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:s}=await ft({url:`${this.config.baseURL}/embeddings`,headers:wt(this.config.headers(),n),body:{model:this.modelId,input:e,encoding_format:"float"},failedResponseHandler:yh,successfulResponseHandler:Gt(eM),abortSignal:t,fetch:this.config.fetch});return{embeddings:s.data.map(i=>i.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},eM=x.object({data:x.array(x.object({embedding:x.array(x.number())})),usage:x.object({prompt_tokens:x.number()}).nullish()});function JS(e={}){var t;const n=(t=Jr(e.baseURL))!=null?t:"https://api.mistral.ai/v1",r=()=>({Authorization:`Bearer ${Ra({apiKey:e.apiKey,environmentVariableName:"MISTRAL_API_KEY",description:"Mistral"})}`,...e.headers}),s=(u,f={})=>new YD(u,f,{provider:"mistral.chat",baseURL:n,headers:r,fetch:e.fetch}),i=(u,f={})=>new QD(u,f,{provider:"mistral.embedding",baseURL:n,headers:r,fetch:e.fetch}),l=function(u,f){if(new.target)throw new Error("The Mistral model function cannot be called with the new keyword.");return s(u,f)};return l.languageModel=s,l.chat=s,l.embedding=i,l.textEmbedding=i,l.textEmbeddingModel=i,l}JS();function tM({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:n="system"}){const r=[];for(const{role:s,content:i}of e)switch(s){case"system":{switch(n){case"system":{r.push({role:"system",content:i});break}case"developer":{r.push({role:"developer",content:i});break}case"remove":break;default:{const l=n;throw new Error(`Unsupported system message mode: ${l}`)}}break}case"user":{if(i.length===1&&i[0].type==="text"){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(l=>{var u,f,d;switch(l.type){case"text":return{type:"text",text:l.text};case"image":return{type:"image_url",image_url:{url:l.image instanceof URL?l.image.toString():`data:${(u=l.mimeType)!=null?u:"image/jpeg"};base64,${Vr(l.image)}`,detail:(d=(f=l.providerMetadata)==null?void 0:f.openai)==null?void 0:d.imageDetail}};case"file":{if(l.data instanceof URL)throw new Le({functionality:"'File content parts with URL data' functionality not supported."});switch(l.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:l.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:l.data,format:"mp3"}};default:throw new Le({functionality:`File content part type ${l.mimeType} in user messages`})}}}})});break}case"assistant":{let l="";const u=[];for(const f of i)switch(f.type){case"text":{l+=f.text;break}case"tool-call":{u.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)}});break}default:{const d=f;throw new Error(`Unsupported part: ${d}`)}}if(t){if(u.length>1)throw new Le({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:l,function_call:u.length>0?u[0].function:void 0})}else r.push({role:"assistant",content:l,tool_calls:u.length>0?u:void 0});break}case"tool":{for(const l of i)t?r.push({role:"function",name:l.toolName,content:JSON.stringify(l.result)}):r.push({role:"tool",tool_call_id:l.toolCallId,content:JSON.stringify(l.result)});break}default:{const l=s;throw new Error(`Unsupported role: ${l}`)}}return r}function ax(e){var t,n;return(n=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:r,logprob:s,top_logprobs:i})=>({token:r,logprob:s,topLogprobs:i?i.map(({token:l,logprob:u})=>({token:l,logprob:u})):[]})))!=null?n:void 0}function _c(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var wm=x.object({error:x.object({message:x.string(),type:x.string().nullish(),param:x.any().nullish(),code:x.union([x.string(),x.number()]).nullish()})}),pi=Er({errorSchema:wm,errorToMessage:e=>e.error.message});function kc({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function nM({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n}){var r;const s=(r=e.tools)!=null&&r.length?e.tools:void 0,i=[];if(s==null)return{tools:void 0,tool_choice:void 0,toolWarnings:i};const l=e.toolChoice;if(t){const d=[];for(const g of s)g.type==="provider-defined"?i.push({type:"unsupported-tool",tool:g}):d.push({name:g.name,description:g.description,parameters:g.parameters});if(l==null)return{functions:d,function_call:void 0,toolWarnings:i};switch(l.type){case"auto":case"none":case void 0:return{functions:d,function_call:void 0,toolWarnings:i};case"required":throw new Le({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:d,function_call:{name:l.toolName},toolWarnings:i}}}const u=[];for(const d of s)d.type==="provider-defined"?i.push({type:"unsupported-tool",tool:d}):u.push({type:"function",function:{name:d.name,description:d.description,parameters:d.parameters,strict:n?!0:void 0}});if(l==null)return{tools:u,tool_choice:void 0,toolWarnings:i};const f=l.type;switch(f){case"auto":case"none":case"required":return{tools:u,tool_choice:f,toolWarnings:i};case"tool":return{tools:u,tool_choice:{type:"function",function:{name:l.toolName}},toolWarnings:i};default:{const d=f;throw new Le({functionality:`Unsupported tool choice type: ${d}`})}}}var rM=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:Cc(this.modelId)}get defaultObjectGenerationMode(){return iM(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:i,frequencyPenalty:l,presencePenalty:u,stopSequences:f,responseFormat:d,seed:h,providerMetadata:g}){var y,v,S,_,C,k,I,E;const P=e.type,D=[];i!=null&&D.push({type:"unsupported-setting",setting:"topK"}),(d==null?void 0:d.type)==="json"&&d.schema!=null&&!this.supportsStructuredOutputs&&D.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const A=this.settings.useLegacyFunctionCalling;if(A&&this.settings.parallelToolCalls===!0)throw new Le({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(A&&this.supportsStructuredOutputs)throw new Le({functionality:"structuredOutputs with useLegacyFunctionCalling"});sx(this.modelId)==="remove"&&t.some(K=>K.role==="system")&&D.push({type:"other",message:"system messages are removed for this model"});const $={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:u,response_format:(d==null?void 0:d.type)==="json"?this.supportsStructuredOutputs&&d.schema!=null?{type:"json_schema",json_schema:{schema:d.schema,strict:!0,name:(y=d.name)!=null?y:"response",description:d.description}}:{type:"json_object"}:void 0,stop:f,seed:h,max_completion_tokens:(v=g==null?void 0:g.openai)==null?void 0:v.maxCompletionTokens,store:(S=g==null?void 0:g.openai)==null?void 0:S.store,metadata:(_=g==null?void 0:g.openai)==null?void 0:_.metadata,prediction:(C=g==null?void 0:g.openai)==null?void 0:C.prediction,reasoning_effort:(I=(k=g==null?void 0:g.openai)==null?void 0:k.reasoningEffort)!=null?I:this.settings.reasoningEffort,messages:tM({prompt:t,useLegacyFunctionCalling:A,systemMessageMode:sx(this.modelId)})};switch(Cc(this.modelId)&&($.temperature!=null&&($.temperature=void 0,D.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),$.top_p!=null&&($.top_p=void 0,D.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),$.frequency_penalty!=null&&($.frequency_penalty=void 0,D.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),$.presence_penalty!=null&&($.presence_penalty=void 0,D.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),$.logit_bias!=null&&($.logit_bias=void 0,D.push({type:"other",message:"logitBias is not supported for reasoning models"})),$.logprobs!=null&&($.logprobs=void 0,D.push({type:"other",message:"logprobs is not supported for reasoning models"})),$.top_logprobs!=null&&($.top_logprobs=void 0,D.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),$.max_tokens!=null&&($.max_completion_tokens==null&&($.max_completion_tokens=$.max_tokens),$.max_tokens=void 0)),P){case"regular":{const{tools:K,tool_choice:ce,functions:de,function_call:te,toolWarnings:oe}=nM({mode:e,useLegacyFunctionCalling:A,structuredOutputs:this.supportsStructuredOutputs});return{args:{...$,tools:K,tool_choice:ce,functions:de,function_call:te},warnings:[...D,...oe]}}case"object-json":return{args:{...$,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(E=e.name)!=null?E:"response",description:e.description}}:{type:"json_object"}},warnings:D};case"object-tool":return{args:A?{...$,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...$,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:D};default:{const K=P;throw new Error(`Unsupported type: ${K}`)}}}async doGenerate(e){var t,n,r,s,i,l,u,f;const{args:d,warnings:h}=this.getArgs(e),{responseHeaders:g,value:y}=await ft({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:d,failedResponseHandler:pi,successfulResponseHandler:Gt(aM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:v,...S}=d,_=y.choices[0],C=(t=y.usage)==null?void 0:t.completion_tokens_details,k=(n=y.usage)==null?void 0:n.prompt_tokens_details,I={openai:{}};return(C==null?void 0:C.reasoning_tokens)!=null&&(I.openai.reasoningTokens=C==null?void 0:C.reasoning_tokens),(C==null?void 0:C.accepted_prediction_tokens)!=null&&(I.openai.acceptedPredictionTokens=C==null?void 0:C.accepted_prediction_tokens),(C==null?void 0:C.rejected_prediction_tokens)!=null&&(I.openai.rejectedPredictionTokens=C==null?void 0:C.rejected_prediction_tokens),(k==null?void 0:k.cached_tokens)!=null&&(I.openai.cachedPromptTokens=k==null?void 0:k.cached_tokens),{text:(r=_.message.content)!=null?r:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&_.message.function_call?[{toolCallType:"function",toolCallId:tn(),toolName:_.message.function_call.name,args:_.message.function_call.arguments}]:(s=_.message.tool_calls)==null?void 0:s.map(E=>{var P;return{toolCallType:"function",toolCallId:(P=E.id)!=null?P:tn(),toolName:E.function.name,args:E.function.arguments}}),finishReason:_c(_.finish_reason),usage:{promptTokens:(l=(i=y.usage)==null?void 0:i.prompt_tokens)!=null?l:NaN,completionTokens:(f=(u=y.usage)==null?void 0:u.completion_tokens)!=null?f:NaN},rawCall:{rawPrompt:v,rawSettings:S},rawResponse:{headers:g},request:{body:JSON.stringify(d)},response:kc(y),warnings:h,logprobs:ax(_.logprobs),providerMetadata:I}}async doStream(e){var t;if((t=this.settings.simulateStreaming)!=null?t:oM(this.modelId)){const C=await this.doGenerate(e);return{stream:new ReadableStream({start(I){if(I.enqueue({type:"response-metadata",...C.response}),C.text&&I.enqueue({type:"text-delta",textDelta:C.text}),C.toolCalls)for(const E of C.toolCalls)I.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:E.toolCallId,toolName:E.toolName,argsTextDelta:E.args}),I.enqueue({type:"tool-call",...E});I.enqueue({type:"finish",finishReason:C.finishReason,usage:C.usage,logprobs:C.logprobs,providerMetadata:C.providerMetadata}),I.close()}}),rawCall:C.rawCall,rawResponse:C.rawResponse,warnings:C.warnings}}const{args:n,warnings:r}=this.getArgs(e),s={...n,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:i,value:l}=await ft({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:s,failedResponseHandler:pi,successfulResponseHandler:ja(sM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:u,...f}=n,d=[];let h="unknown",g={promptTokens:void 0,completionTokens:void 0},y,v=!0;const{useLegacyFunctionCalling:S}=this.settings,_={openai:{}};return{stream:l.pipeThrough(new TransformStream({transform(C,k){var I,E,P,D,A,$,K,ce,de,te,oe,ae;if(!C.success){h="error",k.enqueue({type:"error",error:C.error});return}const q=C.value;if("error"in q){h="error",k.enqueue({type:"error",error:q.error});return}if(v&&(v=!1,k.enqueue({type:"response-metadata",...kc(q)})),q.usage!=null){const{prompt_tokens:Z,completion_tokens:N,prompt_tokens_details:M,completion_tokens_details:B}=q.usage;g={promptTokens:Z??void 0,completionTokens:N??void 0},(B==null?void 0:B.reasoning_tokens)!=null&&(_.openai.reasoningTokens=B==null?void 0:B.reasoning_tokens),(B==null?void 0:B.accepted_prediction_tokens)!=null&&(_.openai.acceptedPredictionTokens=B==null?void 0:B.accepted_prediction_tokens),(B==null?void 0:B.rejected_prediction_tokens)!=null&&(_.openai.rejectedPredictionTokens=B==null?void 0:B.rejected_prediction_tokens),(M==null?void 0:M.cached_tokens)!=null&&(_.openai.cachedPromptTokens=M==null?void 0:M.cached_tokens)}const J=q.choices[0];if((J==null?void 0:J.finish_reason)!=null&&(h=_c(J.finish_reason)),(J==null?void 0:J.delta)==null)return;const ie=J.delta;ie.content!=null&&k.enqueue({type:"text-delta",textDelta:ie.content});const le=ax(J==null?void 0:J.logprobs);le!=null&&le.length&&(y===void 0&&(y=[]),y.push(...le));const V=S&&ie.function_call!=null?[{type:"function",id:tn(),function:ie.function_call,index:0}]:ie.tool_calls;if(V!=null)for(const Z of V){const N=Z.index;if(d[N]==null){if(Z.type!=="function")throw new Br({data:Z,message:"Expected 'function' type."});if(Z.id==null)throw new Br({data:Z,message:"Expected 'id' to be a string."});if(((I=Z.function)==null?void 0:I.name)==null)throw new Br({data:Z,message:"Expected 'function.name' to be a string."});d[N]={id:Z.id,type:"function",function:{name:Z.function.name,arguments:(E=Z.function.arguments)!=null?E:""},hasFinished:!1};const B=d[N];((P=B.function)==null?void 0:P.name)!=null&&((D=B.function)==null?void 0:D.arguments)!=null&&(B.function.arguments.length>0&&k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:B.id,toolName:B.function.name,argsTextDelta:B.function.arguments}),li(B.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(A=B.id)!=null?A:tn(),toolName:B.function.name,args:B.function.arguments}),B.hasFinished=!0));continue}const M=d[N];M.hasFinished||((($=Z.function)==null?void 0:$.arguments)!=null&&(M.function.arguments+=(ce=(K=Z.function)==null?void 0:K.arguments)!=null?ce:""),k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:M.id,toolName:M.function.name,argsTextDelta:(de=Z.function.arguments)!=null?de:""}),((te=M.function)==null?void 0:te.name)!=null&&((oe=M.function)==null?void 0:oe.arguments)!=null&&li(M.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ae=M.id)!=null?ae:tn(),toolName:M.function.name,args:M.function.arguments}),M.hasFinished=!0))}},flush(C){var k,I;C.enqueue({type:"finish",finishReason:h,logprobs:y,usage:{promptTokens:(k=g.promptTokens)!=null?k:NaN,completionTokens:(I=g.completionTokens)!=null?I:NaN},..._!=null?{providerMetadata:_}:{}})}})),rawCall:{rawPrompt:u,rawSettings:f},rawResponse:{headers:i},request:{body:JSON.stringify(s)},warnings:r}}},GS=x.object({prompt_tokens:x.number().nullish(),completion_tokens:x.number().nullish(),prompt_tokens_details:x.object({cached_tokens:x.number().nullish()}).nullish(),completion_tokens_details:x.object({reasoning_tokens:x.number().nullish(),accepted_prediction_tokens:x.number().nullish(),rejected_prediction_tokens:x.number().nullish()}).nullish()}).nullish(),aM=x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({message:x.object({role:x.literal("assistant").nullish(),content:x.string().nullish(),function_call:x.object({arguments:x.string(),name:x.string()}).nullish(),tool_calls:x.array(x.object({id:x.string().nullish(),type:x.literal("function"),function:x.object({name:x.string(),arguments:x.string()})})).nullish()}),index:x.number(),logprobs:x.object({content:x.array(x.object({token:x.string(),logprob:x.number(),top_logprobs:x.array(x.object({token:x.string(),logprob:x.number()}))})).nullable()}).nullish(),finish_reason:x.string().nullish()})),usage:GS}),sM=x.union([x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({delta:x.object({role:x.enum(["assistant"]).nullish(),content:x.string().nullish(),function_call:x.object({name:x.string().optional(),arguments:x.string().optional()}).nullish(),tool_calls:x.array(x.object({index:x.number(),id:x.string().nullish(),type:x.literal("function").optional(),function:x.object({name:x.string().nullish(),arguments:x.string().nullish()})})).nullish()}).nullish(),logprobs:x.object({content:x.array(x.object({token:x.string(),logprob:x.number(),top_logprobs:x.array(x.object({token:x.string(),logprob:x.number()}))})).nullable()}).nullish(),finish_reason:x.string().nullable().optional(),index:x.number()})),usage:GS}),wm]);function Cc(e){return e==="o1"||e.startsWith("o1-")||e==="o3"||e.startsWith("o3-")}function iM(e){return e.startsWith("gpt-4o-audio-preview")}function sx(e){var t,n;return Cc(e)?(n=(t=YS[e])==null?void 0:t.systemMessageMode)!=null?n:"developer":"system"}function oM(e){var t,n;return Cc(e)?(n=(t=YS[e])==null?void 0:t.simulateStreamingByDefault)!=null?n:!0:!1}var YS={"o1-mini":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-mini-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o3-mini":{systemMessageMode:"developer",simulateStreamingByDefault:!1},"o3-mini-2025-01-31":{systemMessageMode:"developer",simulateStreamingByDefault:!1}};function lM({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(const{role:i,content:l}of e)switch(i){case"system":throw new wa({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const u=l.map(f=>{switch(f.type){case"text":return f.text;case"image":throw new Le({functionality:"images"})}}).join("");s+=`${n}:
${u}

`;break}case"assistant":{const u=l.map(f=>{switch(f.type){case"text":return f.text;case"tool-call":throw new Le({functionality:"tool-call messages"})}}).join("");s+=`${r}:
${u}

`;break}case"tool":throw new Le({functionality:"tool messages"});default:{const u=i;throw new Error(`Unsupported role: ${u}`)}}return s+=`${r}:
`,{prompt:s,stopSequences:[`
${n}:`]}}function ix(e){return e==null?void 0:e.tokens.map((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map(([r,s])=>({token:r,logprob:s})):[]}))}var uM=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:s,topP:i,topK:l,frequencyPenalty:u,presencePenalty:f,stopSequences:d,responseFormat:h,seed:g}){var y;const v=e.type,S=[];l!=null&&S.push({type:"unsupported-setting",setting:"topK"}),h!=null&&h.type!=="text"&&S.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:_,stopSequences:C}=lM({prompt:n,inputFormat:t}),k=[...C??[],...d??[]],I={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:s,top_p:i,frequency_penalty:u,presence_penalty:f,seed:g,prompt:_,stop:k.length>0?k:void 0};switch(v){case"regular":{if((y=e.tools)!=null&&y.length)throw new Le({functionality:"tools"});if(e.toolChoice)throw new Le({functionality:"toolChoice"});return{args:I,warnings:S}}case"object-json":throw new Le({functionality:"object-json mode"});case"object-tool":throw new Le({functionality:"object-tool mode"});default:{const E=v;throw new Error(`Unsupported type: ${E}`)}}}async doGenerate(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:s}=await ft({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:t,failedResponseHandler:pi,successfulResponseHandler:Gt(cM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:i,...l}=t,u=s.choices[0];return{text:u.text,usage:{promptTokens:s.usage.prompt_tokens,completionTokens:s.usage.completion_tokens},finishReason:_c(u.finish_reason),logprobs:ix(u.logprobs),rawCall:{rawPrompt:i,rawSettings:l},rawResponse:{headers:r},response:kc(s),warnings:n,request:{body:JSON.stringify(t)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:s,value:i}=await ft({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:wt(this.config.headers(),e.headers),body:r,failedResponseHandler:pi,successfulResponseHandler:ja(dM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...u}=t;let f="unknown",d={promptTokens:Number.NaN,completionTokens:Number.NaN},h,g=!0;return{stream:i.pipeThrough(new TransformStream({transform(y,v){if(!y.success){f="error",v.enqueue({type:"error",error:y.error});return}const S=y.value;if("error"in S){f="error",v.enqueue({type:"error",error:S.error});return}g&&(g=!1,v.enqueue({type:"response-metadata",...kc(S)})),S.usage!=null&&(d={promptTokens:S.usage.prompt_tokens,completionTokens:S.usage.completion_tokens});const _=S.choices[0];(_==null?void 0:_.finish_reason)!=null&&(f=_c(_.finish_reason)),(_==null?void 0:_.text)!=null&&v.enqueue({type:"text-delta",textDelta:_.text});const C=ix(_==null?void 0:_.logprobs);C!=null&&C.length&&(h===void 0&&(h=[]),h.push(...C))},flush(y){y.enqueue({type:"finish",finishReason:f,logprobs:h,usage:d})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(r)}}}},cM=x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({text:x.string(),finish_reason:x.string(),logprobs:x.object({tokens:x.array(x.string()),token_logprobs:x.array(x.number()),top_logprobs:x.array(x.record(x.string(),x.number())).nullable()}).nullish()})),usage:x.object({prompt_tokens:x.number(),completion_tokens:x.number()})}),dM=x.union([x.object({id:x.string().nullish(),created:x.number().nullish(),model:x.string().nullish(),choices:x.array(x.object({text:x.string(),finish_reason:x.string().nullish(),index:x.number(),logprobs:x.object({tokens:x.array(x.string()),token_logprobs:x.array(x.number()),top_logprobs:x.array(x.record(x.string(),x.number())).nullable()}).nullish()})),usage:x.object({prompt_tokens:x.number(),completion_tokens:x.number()}).nullish()}),wm]),fM=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new bl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:s}=await ft({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:wt(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:pi,successfulResponseHandler:Gt(pM),abortSignal:n,fetch:this.config.fetch});return{embeddings:s.data.map(i=>i.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},pM=x.object({data:x.array(x.object({embedding:x.array(x.number())})),usage:x.object({prompt_tokens:x.number()}).nullish()}),hM={"dall-e-3":1,"dall-e-2":10},mM=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:hM[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:s,providerOptions:i,headers:l,abortSignal:u}){var f,d,h,g;const y=[];r!=null&&y.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),s!=null&&y.push({type:"unsupported-setting",setting:"seed"});const v=(h=(d=(f=this.config._internal)==null?void 0:f.currentDate)==null?void 0:d.call(f))!=null?h:new Date,{value:S,responseHeaders:_}=await ft({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:wt(this.config.headers(),l),body:{model:this.modelId,prompt:e,n:t,size:n,...(g=i.openai)!=null?g:{},response_format:"b64_json"},failedResponseHandler:pi,successfulResponseHandler:Gt(gM),abortSignal:u,fetch:this.config.fetch});return{images:S.data.map(C=>C.b64_json),warnings:y,response:{timestamp:v,modelId:this.modelId,headers:_}}}},gM=x.object({data:x.array(x.object({b64_json:x.string()}))});function KS(e={}){var t,n,r;const s=(t=Jr(e.baseURL))!=null?t:"https://api.openai.com/v1",i=(n=e.compatibility)!=null?n:"compatible",l=(r=e.name)!=null?r:"openai",u=()=>({Authorization:`Bearer ${Ra({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),f=(S,_={})=>new rM(S,_,{provider:`${l}.chat`,url:({path:C})=>`${s}${C}`,headers:u,compatibility:i,fetch:e.fetch}),d=(S,_={})=>new uM(S,_,{provider:`${l}.completion`,url:({path:C})=>`${s}${C}`,headers:u,compatibility:i,fetch:e.fetch}),h=(S,_={})=>new fM(S,_,{provider:`${l}.embedding`,url:({path:C})=>`${s}${C}`,headers:u,fetch:e.fetch}),g=(S,_={})=>new mM(S,_,{provider:`${l}.image`,url:({path:C})=>`${s}${C}`,headers:u,fetch:e.fetch}),y=(S,_)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return S==="gpt-3.5-turbo-instruct"?d(S,_):f(S,_)},v=function(S,_){return y(S,_)};return v.languageModel=y,v.chat=f,v.completion=d,v.embedding=h,v.textEmbedding=h,v.textEmbeddingModel=h,v.image=g,v.imageModel=g,v}KS({compatibility:"strict"});var yM=x.object({detail:x.string().optional(),error:x.string().optional()}),ox=Er({errorSchema:yM,errorToMessage:e=>{var t,n;return(n=(t=e.detail)!=null?t:e.error)!=null?n:"Unknown Replicate error"}}),vM=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get provider(){return this.config.provider}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:1}async doGenerate({prompt:e,n:t,aspectRatio:n,size:r,seed:s,providerOptions:i,headers:l,abortSignal:u}){var f,d,h,g;const y=[],[v,S]=this.modelId.split(":"),_=(h=(d=(f=this.config._internal)==null?void 0:f.currentDate)==null?void 0:d.call(f))!=null?h:new Date,{value:{output:C},responseHeaders:k}=await ft({url:S!=null?`${this.config.baseURL}/predictions`:`${this.config.baseURL}/models/${v}/predictions`,headers:wt(await Oo(this.config.headers),l,{prefer:"wait"}),body:{input:{prompt:e,aspect_ratio:n,size:r,seed:s,num_outputs:t,...(g=i.replicate)!=null?g:{}},...S!=null?{version:S}:{}},successfulResponseHandler:Gt(xM),failedResponseHandler:ox,abortSignal:u,fetch:this.config.fetch}),I=Array.isArray(C)?C:[C];return{images:await Promise.all(I.map(async P=>{const{value:D}=await F3({url:P,successfulResponseHandler:Z3(),failedResponseHandler:ox,abortSignal:u,fetch:this.config.fetch});return D})),warnings:y,response:{timestamp:_,modelId:this.modelId,headers:k}}}},xM=x.object({output:x.union([x.array(x.string()),x.string()])});function wM(e={}){const t=(n,r)=>{var s;return new vM(n,r??{},{provider:"replicate",baseURL:(s=e.baseURL)!=null?s:"https://api.replicate.com/v1",headers:{Authorization:`Bearer ${Ra({apiKey:e.apiToken,environmentVariableName:"REPLICATE_API_TOKEN",description:"Replicate"})}`,...e.headers},fetch:e.fetch})};return{image:t,imageModel:t,languageModel:()=>{throw new oi({modelId:"languageModel",modelType:"languageModel"})},textEmbeddingModel:()=>{throw new oi({modelId:"textEmbeddingModel",modelType:"textEmbeddingModel"})}}}function bM(e){return["grok-2-1212","grok-2-vision-1212"].includes(e)}var SM=x.object({code:x.string(),error:x.string()}),_M={errorSchema:SM,errorToMessage:e=>e.error};function XS(e={}){var t;const n=Jr((t=e.baseURL)!=null?t:"https://api.x.ai/v1"),r=()=>({Authorization:`Bearer ${Ra({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"})}`,...e.headers}),s=(l,u={})=>{const f=bM(l);return new xm(l,u,{provider:"xai.chat",url:({path:d})=>`${n}${d}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:f?"json":"tool",errorStructure:_M,supportsStructuredOutputs:f})},i=(l,u)=>s(l,u);return i.languageModel=s,i.chat=s,i.textEmbeddingModel=l=>{throw new oi({modelId:l,modelType:"textEmbeddingModel"})},i}XS();var Qa={},up={},lx;function ux(){return lx||(lx=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Allow=e.ALL=e.COLLECTION=e.ATOM=e.SPECIAL=e.INF=e._INFINITY=e.INFINITY=e.NAN=e.BOOL=e.NULL=e.OBJ=e.ARR=e.NUM=e.STR=void 0,e.STR=1,e.NUM=2,e.ARR=4,e.OBJ=8,e.NULL=16,e.BOOL=32,e.NAN=64,e.INFINITY=128,e._INFINITY=256,e.INF=e.INFINITY|e._INFINITY,e.SPECIAL=e.NULL|e.BOOL|e.INF|e.NAN,e.ATOM=e.STR|e.NUM|e.SPECIAL,e.COLLECTION=e.ARR|e.OBJ,e.ALL=e.ATOM|e.COLLECTION,e.Allow={STR:e.STR,NUM:e.NUM,ARR:e.ARR,OBJ:e.OBJ,NULL:e.NULL,BOOL:e.BOOL,NAN:e.NAN,INFINITY:e.INFINITY,_INFINITY:e._INFINITY,INF:e.INF,SPECIAL:e.SPECIAL,ATOM:e.ATOM,COLLECTION:e.COLLECTION,ALL:e.ALL},e.default=e.Allow}(up)),up}var cx;function kM(){return cx||(cx=1,function(e){var t=Qa&&Qa.__createBinding||(Object.create?function(d,h,g,y){y===void 0&&(y=g);var v=Object.getOwnPropertyDescriptor(h,g);(!v||("get"in v?!h.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(d,y,v)}:function(d,h,g,y){y===void 0&&(y=g),d[y]=h[g]}),n=Qa&&Qa.__exportStar||function(d,h){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&t(h,d,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.Allow=e.MalformedJSON=e.PartialJSON=e.parseJSON=e.parse=void 0;const r=ux();Object.defineProperty(e,"Allow",{enumerable:!0,get:function(){return r.Allow}}),n(ux(),e);class s extends Error{}e.PartialJSON=s;class i extends Error{}e.MalformedJSON=i;function l(d,h=r.Allow.ALL){if(typeof d!="string")throw new TypeError(`expecting str, got ${typeof d}`);if(!d.trim())throw new Error(`${d} is empty`);return u(d.trim(),h)}e.parseJSON=l;const u=(d,h)=>{const g=d.length;let y=0;const v=D=>{throw new s(`${D} at position ${y}`)},S=D=>{throw new i(`${D} at position ${y}`)},_=()=>(P(),y>=g&&v("Unexpected end of input"),d[y]==='"'?C():d[y]==="{"?k():d[y]==="["?I():d.substring(y,y+4)==="null"||r.Allow.NULL&h&&g-y<4&&"null".startsWith(d.substring(y))?(y+=4,null):d.substring(y,y+4)==="true"||r.Allow.BOOL&h&&g-y<4&&"true".startsWith(d.substring(y))?(y+=4,!0):d.substring(y,y+5)==="false"||r.Allow.BOOL&h&&g-y<5&&"false".startsWith(d.substring(y))?(y+=5,!1):d.substring(y,y+8)==="Infinity"||r.Allow.INFINITY&h&&g-y<8&&"Infinity".startsWith(d.substring(y))?(y+=8,1/0):d.substring(y,y+9)==="-Infinity"||r.Allow._INFINITY&h&&1<g-y&&g-y<9&&"-Infinity".startsWith(d.substring(y))?(y+=9,-1/0):d.substring(y,y+3)==="NaN"||r.Allow.NAN&h&&g-y<3&&"NaN".startsWith(d.substring(y))?(y+=3,NaN):E()),C=()=>{const D=y;let A=!1;for(y++;y<g&&(d[y]!=='"'||A&&d[y-1]==="\\");)A=d[y]==="\\"?!A:!1,y++;if(d.charAt(y)=='"')try{return JSON.parse(d.substring(D,++y-Number(A)))}catch($){S(String($))}else if(r.Allow.STR&h)try{return JSON.parse(d.substring(D,y-Number(A))+'"')}catch{return JSON.parse(d.substring(D,d.lastIndexOf("\\"))+'"')}v("Unterminated string literal")},k=()=>{y++,P();const D={};try{for(;d[y]!=="}";){if(P(),y>=g&&r.Allow.OBJ&h)return D;const A=C();P(),y++;try{const $=_();D[A]=$}catch($){if(r.Allow.OBJ&h)return D;throw $}P(),d[y]===","&&y++}}catch{if(r.Allow.OBJ&h)return D;v("Expected '}' at end of object")}return y++,D},I=()=>{y++;const D=[];try{for(;d[y]!=="]";)D.push(_()),P(),d[y]===","&&y++}catch{if(r.Allow.ARR&h)return D;v("Expected ']' at end of array")}return y++,D},E=()=>{if(y===0){d==="-"&&S("Not sure what '-' is");try{return JSON.parse(d)}catch(A){if(r.Allow.NUM&h)try{return JSON.parse(d.substring(0,d.lastIndexOf("e")))}catch{}S(String(A))}}const D=y;for(d[y]==="-"&&y++;d[y]&&",]}".indexOf(d[y])===-1;)y++;y==g&&!(r.Allow.NUM&h)&&v("Unterminated number literal");try{return JSON.parse(d.substring(D,y))}catch{d.substring(D,y)==="-"&&v("Not sure what '-' is");try{return JSON.parse(d.substring(D,d.lastIndexOf("e")))}catch($){S(String($))}}},P=()=>{for(;y<g&&` 
\r	`.includes(d[y]);)y++};return _()},f=l;e.parse=f}(Qa)),Qa}var CM=kM();function cp(e){const t=[];for(const{content:n,role:r}of e)switch(r){case"system":{t.push({content:n,role:"system"});break}case"user":{t.push({...n.reduce((s,i)=>{if(i.type==="text")s.content+=i.text;else{if(i.type==="image"&&i.image instanceof URL)throw new Le({functionality:"Image URLs in user messages"});i.type==="image"&&i.image instanceof Uint8Array&&(s.images=s.images||[],s.images.push(Vr(i.image)))}return s},{content:""}),role:"user"});break}case"assistant":{const s=[],i=[];for(const l of n)switch(l.type){case"text":{s.push(l.text);break}case"tool-call":{i.push({function:{arguments:l.args,name:l.toolName},id:l.toolCallId,type:"function"});break}default:{const u=l;throw new Error(`Unsupported part: ${u}`)}}t.push({content:s.join(","),role:"assistant",tool_calls:i.length>0?i:void 0});break}case"tool":{t.push(...n.map(s=>({content:typeof s.result=="object"?JSON.stringify(s.result):`${s.result}`,role:"tool",tool_call_id:s.toolCallId})));break}default:{const s=r;throw new Error(`Unsupported role: ${s}`)}}return t}var TM=class{constructor({tools:e,type:t}){this._firstMessage=!0,this._tools=e,this._toolPartial="",this._toolCalls=[],this._type=t,this._detectedToolCall=!1}get toolCalls(){return this._toolCalls}get detectedToolCall(){return this._detectedToolCall}parse({controller:e,delta:t}){var n;if(this.detectToolCall(t),!this._detectedToolCall)return!1;this._toolPartial+=t;let r=CM.parse(this._toolPartial);Array.isArray(r)||(r=[r]);for(const[s,i]of r.entries()){const l=(n=JSON.stringify(i==null?void 0:i.parameters))!=null?n:"";if(l==="")continue;this._toolCalls[s]||(this._toolCalls[s]={function:{arguments:"",name:i.name},id:tn(),type:"function"});const u=this._toolCalls[s];u.function.arguments=l,e.enqueue({argsTextDelta:t,toolCallId:u.id,toolCallType:"function",toolName:u.function.name,type:"tool-call-delta"})}return!0}finish({controller:e}){for(const t of this.toolCalls)e.enqueue({args:t.function.arguments,toolCallId:t.id,toolCallType:"function",toolName:t.function.name,type:"tool-call"});return this.finishReason()}detectToolCall(e){!this._tools||this._tools.length===0||this._firstMessage&&(this._type==="object-tool"?this._detectedToolCall=!0:this._type==="regular"&&(e.trim().startsWith("{")||e.trim().startsWith("["))&&(this._detectedToolCall=!0),this._firstMessage=!1)}finishReason(){return this.detectedToolCall?this._type==="object-tool"?"stop":"tool-calls":"stop"}};function EM({finishReason:e,hasToolCalls:t}){switch(e){case"stop":return t?"tool-calls":"stop";default:return"other"}}var IM=x.object({error:x.object({code:x.string().nullable(),message:x.string(),param:x.any().nullable(),type:x.string()})}),vh=Er({errorSchema:IM,errorToMessage:e=>e.error.message});function NM({mode:e}){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],s=e.toolChoice;if(n===void 0)return{tools:void 0,toolWarnings:r};const i=[];for(const u of n)u.type==="provider-defined"?r.push({tool:u,type:"unsupported-tool"}):i.push({function:{description:u.description,name:u.name,parameters:u.parameters},type:"function"});if(s===void 0)return{tools:i,toolWarnings:r};const l=s.type;switch(l){case"auto":return{tools:i,toolWarnings:r};case"none":return{tools:void 0,toolWarnings:r};default:{const u=l;throw new Le({functionality:`Unsupported tool choice type: ${u}`})}}}function OM(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}var PM=class extends TransformStream{constructor(){super({flush:e=>{this.buffer.length!==0&&e.enqueue(this.buffer)},transform:(e,t)=>{for(e=this.buffer+e;;){const n=e.indexOf(`
`);if(n===-1)break;t.enqueue(e.slice(0,n)),e=e.slice(n+1)}this.buffer=e}}),this.buffer=""}},RM=e=>async({response:t})=>{const n=vs(t);if(t.body===null)throw new Jw({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new PM).pipeThrough(new TransformStream({transform(r,s){s.enqueue(ds({schema:e,text:r}))}}))}},jM=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!1}get provider(){return this.config.provider}getArguments({frequencyPenalty:e,maxTokens:t,mode:n,presencePenalty:r,prompt:s,responseFormat:i,seed:l,stopSequences:u,temperature:f,topK:d,topP:h}){const g=n.type,y=[];i!==void 0&&i.type==="json"&&i.schema!==void 0&&!this.supportsStructuredOutputs&&y.push({details:"JSON response format schema is only supported with structuredOutputs",setting:"responseFormat",type:"unsupported-setting"});const v={format:i==null?void 0:i.type,model:this.modelId,options:OM({f16_kv:this.settings.f16Kv,frequency_penalty:e,low_vram:this.settings.lowVram,main_gpu:this.settings.mainGpu,min_p:this.settings.minP,mirostat:this.settings.mirostat,mirostat_eta:this.settings.mirostatEta,mirostat_tau:this.settings.mirostatTau,num_batch:this.settings.numBatch,num_ctx:this.settings.numCtx,num_gpu:this.settings.numGpu,num_keep:this.settings.numKeep,num_predict:t,num_thread:this.settings.numThread,numa:this.settings.numa,penalize_newline:this.settings.penalizeNewline,presence_penalty:r,repeat_last_n:this.settings.repeatLastN,repeat_penalty:this.settings.repeatPenalty,seed:l,stop:u,temperature:f,tfs_z:this.settings.tfsZ,top_k:d,top_p:h,typical_p:this.settings.typicalP,use_mlock:this.settings.useMlock,use_mmap:this.settings.useMmap,vocab_only:this.settings.vocabOnly})};switch(g){case"regular":{const{tools:S,toolWarnings:_}=NM({mode:n});return{args:{...v,messages:cp(s),tools:S},type:g,warnings:[...y,..._]}}case"object-json":return{args:{...v,format:this.supportsStructuredOutputs&&n.schema!==void 0?n.schema:"json",messages:cp(s)},type:g,warnings:y};case"object-tool":return{args:{...v,messages:cp(s),tool_choice:{function:{name:n.tool.name},type:"function"},tools:[{function:{description:n.tool.description,name:n.tool.name,parameters:n.tool.parameters},type:"function"}]},type:g,warnings:y};default:{const S=g;throw new Error(`Unsupported type: ${S}`)}}}async doGenerate(e){var t,n;const{args:r,warnings:s}=this.getArguments(e),i={...r,stream:!1},{responseHeaders:l,value:u}=await ft({abortSignal:e.abortSignal,body:i,failedResponseHandler:vh,fetch:this.config.fetch,headers:wt(this.config.headers(),e.headers),successfulResponseHandler:Gt(AM),url:`${this.config.baseURL}/chat`}),{messages:f,...d}=i,h=(t=u.message.tool_calls)==null?void 0:t.map(g=>{var y;return{args:JSON.stringify(g.function.arguments),toolCallId:(y=g.id)!=null?y:tn(),toolCallType:"function",toolName:g.function.name}});return{finishReason:EM({finishReason:u.done_reason,hasToolCalls:h!==void 0&&h.length>0}),rawCall:{rawPrompt:f,rawSettings:d},rawResponse:{headers:l},request:{body:JSON.stringify(i)},text:(n=u.message.content)!=null?n:void 0,toolCalls:h,usage:{completionTokens:u.eval_count||0,promptTokens:u.prompt_eval_count||0},warnings:s}}async doStream(e){if(this.settings.simulateStreaming){const v=await this.doGenerate(e),S=new ReadableStream({start(_){if(_.enqueue({type:"response-metadata",...v.response}),v.text&&_.enqueue({textDelta:v.text,type:"text-delta"}),v.toolCalls)for(const C of v.toolCalls)_.enqueue({argsTextDelta:C.args,toolCallId:C.toolCallId,toolCallType:"function",toolName:C.toolName,type:"tool-call-delta"}),_.enqueue({type:"tool-call",...C});_.enqueue({finishReason:v.finishReason,logprobs:v.logprobs,providerMetadata:v.providerMetadata,type:"finish",usage:v.usage}),_.close()}});return{rawCall:v.rawCall,rawResponse:v.rawResponse,stream:S,warnings:v.warnings}}const{args:t,type:n,warnings:r}=this.getArguments(e),{responseHeaders:s,value:i}=await ft({abortSignal:e.abortSignal,body:t,failedResponseHandler:vh,fetch:this.config.fetch,headers:wt(this.config.headers(),e.headers),successfulResponseHandler:RM(DM),url:`${this.config.baseURL}/chat`}),{messages:l,...u}=t,f=e.mode.type==="regular"?e.mode.tools:e.mode.type==="object-tool"?[e.mode.tool]:void 0,d=new TM({tools:f,type:n});let h="other",g={completionTokens:Number.NaN,promptTokens:Number.NaN};const{experimentalStreamTools:y=!0}=this.settings;return{rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},request:{body:JSON.stringify(t)},stream:i.pipeThrough(new TransformStream({async flush(v){v.enqueue({finishReason:h,type:"finish",usage:g})},async transform(v,S){if(!v.success){S.enqueue({error:v.error,type:"error"});return}const _=v.value;if(_.done){h=d.finish({controller:S}),g={completionTokens:_.eval_count,promptTokens:_.prompt_eval_count||0};return}y&&d.parse({controller:S,delta:_.message.content})||_.message.content!==null&&S.enqueue({textDelta:_.message.content,type:"text-delta"})}})),warnings:r}}},AM=x.object({created_at:x.string(),done:x.literal(!0),done_reason:x.string().optional().nullable(),eval_count:x.number(),eval_duration:x.number(),load_duration:x.number().optional(),message:x.object({content:x.string(),role:x.string(),tool_calls:x.array(x.object({function:x.object({arguments:x.record(x.any()),name:x.string()}),id:x.string().optional()})).optional().nullable()}),model:x.string(),prompt_eval_count:x.number().optional(),prompt_eval_duration:x.number().optional(),total_duration:x.number()}),DM=x.discriminatedUnion("done",[x.object({created_at:x.string(),done:x.literal(!1),message:x.object({content:x.string(),role:x.string()}),model:x.string()}),x.object({created_at:x.string(),done:x.literal(!0),eval_count:x.number(),eval_duration:x.number(),load_duration:x.number().optional(),model:x.string(),prompt_eval_count:x.number().optional(),prompt_eval_duration:x.number().optional(),total_duration:x.number()})]),MM=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){return!1}async doEmbed({abortSignal:e,values:t}){if(t.length>this.maxEmbeddingsPerCall)throw new bl({maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,modelId:this.modelId,provider:this.provider,values:t});const{responseHeaders:n,value:r}=await ft({abortSignal:e,body:{input:t,model:this.modelId},failedResponseHandler:vh,fetch:this.config.fetch,headers:this.config.headers(),successfulResponseHandler:Gt(LM),url:`${this.config.baseURL}/embed`});return{embeddings:r.embeddings,rawResponse:{headers:n},usage:r.prompt_eval_count?{tokens:r.prompt_eval_count}:void 0}}},LM=x.object({embeddings:x.array(x.array(x.number())),prompt_eval_count:x.number().nullable()});function QS(e={}){var t;const n=(t=Jr(e.baseURL))!=null?t:"http://127.0.0.1:11434/api",r=()=>({...e.headers}),s=(u,f={})=>new jM(u,f,{baseURL:n,fetch:e.fetch,headers:r,provider:"ollama.chat"}),i=(u,f={})=>new MM(u,f,{baseURL:n,fetch:e.fetch,headers:r,provider:"ollama.embedding"}),l=function(u,f){if(new.target)throw new Error("The Ollama model function cannot be called with the new keyword.");return s(u,f)};return l.chat=s,l.embedding=i,l.languageModel=s,l.textEmbedding=i,l.textEmbeddingModel=i,l}QS();const e_=({aiService:e,modelName:t})=>{switch(e==null?void 0:e.service){case"Ollama":{if(!e.url)throw new Error("No Ollama URL found");return QS({baseURL:e.url})(t)}case"OpenAI":{if(!e.apiKey)throw new Error("No OpenAI API key found");return KS({apiKey:e.apiKey,compatibility:"strict"})(t)}case"Anthropic":{if(!e.apiKey)throw new Error("No Anthropic URL found");return zS({apiKey:e.apiKey})(t)}case"Google":{if(!e.apiKey)throw new Error("No Google API key found");return VS({apiKey:e.apiKey})(t)}case"Mistral":return JS({apiKey:e.apiKey})(t);case"xAI":return XS({apiKey:e.apiKey})(t);case"DeepSeek":return US({apiKey:e.apiKey})(t);case"Groq":return ZS({apiKey:e.apiKey})(t);case"Replicate":throw e.apiKey?(wM({apiToken:e.apiKey,baseURL:e.url}),new Error("Replicate not implemented")):new Error("No Replicate API key found");case"OpenAI Compatible":{if(!e.url)throw new Error("No OpenAI Compatible API key found");return ID({apiKey:e.apiKey,baseURL:e.url,name:""})(t)}default:return null}},FM=async({chats:e,streamingCallback:t,chatHistory:n=20,aiService:r,modelName:s})=>{try{const i=e_({aiService:r,modelName:s});if(!i)throw new Error("No SDK found");const l=VA({model:i,messages:e.slice(-n).map(f=>({role:f.role,content:f.text}))});let u="";for await(const f of l.textStream)u+=f,t&&t({fullText:u,delta:f});return u}catch(i){console.error(i)}},zM=async({aiService:e,modelName:t,prompt:n,responseType:r,streamingCallback:s})=>{const i=e_({aiService:e,modelName:t});if(!i)throw new Error("No SDK found");const{partialObjectStream:l}=_A({model:i,prompt:n,schema:r,mode:"json"});let u={};for await(const f of l)u=f,s&&s(f);return u},bm=()=>({actions:{streamMessage:FM,streamObject:zM}}),t_=O.createContext(void 0),$M=({children:e})=>{const[t,n]=O.useState(null),[r,s]=O.useState([]),[i,l]=O.useState(!1),[u,f]=O.useState([]),d=O.useRef(!1),h=Tr(),g=bm(),y=O.useCallback(async P=>{if(i)return;l(!0);const D=await ba.getById(P);if(!D){l(!1),n(null),s([]);return}n(D);const A=await mo.getByConversationId(P);s(A||[]),l(!1)},[i]);O.useEffect(()=>{(async()=>{if(!(t!=null&&t.aiServiceId))return;const D=await ni.getAllConfigs();D&&f(D)})()},[t]);const v=O.useMemo(()=>{if(t!=null&&t.aiServiceId)return u.find(P=>P.id===t.aiServiceId)},[u,t==null?void 0:t.aiServiceId]),S=Fw({config:v}),_=O.useCallback(async P=>{if(!t){console.warn("No conversation found");return}await ba.update((P==null?void 0:P.id)||t.id,P),n(D=>D?{...D,...P}:null)},[t]);O.useEffect(()=>{if(d.current||t!=null&&t.aiGeneratedTitle||r.length<2||!(t!=null&&t.aiServiceId)||!v||!t.modelName)return;(async()=>{if(d.current||(d.current=!0,!t.modelName))return;const D=await g.actions.streamMessage({aiService:v,modelName:t.modelName,chats:[{role:"system",text:"You are an expert at finding titles for conversations",id:0,createdAt:0,conversationId:0},{role:"user",text:`I need a title for this conversation, it needs to concise and descriptive. <chats>${r.map(A=>`<chat><from>${A.role}</from><messages>${A.text}</message></chat>`)}</chats>  Just give me the title and nothing else. No quotes, no mention of "Title", just the title. Be strict with yourself.`,id:1,conversationId:t.id,createdAt:Date.now()}]});if(d.current=!1,D){const A=D.replace(/<think>[\s\S]*?<\/think>/g,"").trim().replace(/["']/g,"").replace(/[*_`#]/g,"").trim();if(!A)return;await _({id:t.id,name:A,aiGeneratedTitle:!0}),h.actions.conversations.update({id:t.id,partial:{name:A,aiGeneratedTitle:!0}})}})()},[t,v,r,_,g.actions,h.actions.conversations]);const C=O.useCallback(async P=>{if(!t){console.warn("No conversation found");return}const D={...P,conversationId:P.conversationId||t.id,createdAt:Date.now(),id:0,role:P.role||"user",text:P.text||""};P.conversationId||(P.conversationId=t.id),P.createdAt||(P.createdAt=Date.now());const A=await mo.create(D);if(!A){console.warn("Failed to create chat");return}return s($=>[...$,A]),A},[t]),k=O.useCallback(async P=>{if(!r.find(A=>A.id===P)){console.warn("Chat not found");return}await mo.delete(P),s(A=>A.filter($=>$.id!==P))},[r]),I=O.useCallback(async(P,D)=>{if(!r.find($=>$.id===P)){console.warn("Chat not found");return}await mo.update(P,D),s($=>$.map(K=>K.id===P?{...K,...K}:K))},[r]),E={conversation:t,chats:r,isLoading:i,selectedConfig:v,configChecker:S,actions:{getByConversationId:y,update:_,chat:{add:C,delete:k,update:I}}};return w.jsx(t_.Provider,{value:E,children:e})},Hc=()=>{const e=O.useContext(t_);if(e===void 0)throw new Error("useConversation must be used within a ConversationProvider");return e};function UM(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const BM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qM={};function dx(e,t){return(qM.jsx?HM:BM).test(e)}const VM=/[ \t\n\f\r]/g;function WM(e){return typeof e=="object"?e.type==="text"?fx(e.value):!1:fx(e)}function fx(e){return e.replace(VM,"")===""}class _l{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}_l.prototype.property={};_l.prototype.normal={};_l.prototype.space=null;function n_(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new _l(n,r,t)}function xh(e){return e.toLowerCase()}class Un{constructor(t,n){this.property=t,this.attribute=n}}Un.prototype.space=null;Un.prototype.boolean=!1;Un.prototype.booleanish=!1;Un.prototype.overloadedBoolean=!1;Un.prototype.number=!1;Un.prototype.commaSeparated=!1;Un.prototype.spaceSeparated=!1;Un.prototype.commaOrSpaceSeparated=!1;Un.prototype.mustUseProperty=!1;Un.prototype.defined=!1;let ZM=0;const De=ws(),Nt=ws(),r_=ws(),ne=ws(),st=ws(),ai=ws(),wn=ws();function ws(){return 2**++ZM}const wh=Object.freeze(Object.defineProperty({__proto__:null,boolean:De,booleanish:Nt,commaOrSpaceSeparated:wn,commaSeparated:ai,number:ne,overloadedBoolean:r_,spaceSeparated:st},Symbol.toStringTag,{value:"Module"})),dp=Object.keys(wh);class Sm extends Un{constructor(t,n,r,s){let i=-1;if(super(t,n),px(this,"space",s),typeof r=="number")for(;++i<dp.length;){const l=dp[i];px(this,dp[i],(r&wh[l])===wh[l])}}}Sm.prototype.defined=!0;function px(e,t,n){n&&(e[t]=n)}const JM={}.hasOwnProperty;function vi(e){const t={},n={};let r;for(r in e.properties)if(JM.call(e.properties,r)){const s=e.properties[r],i=new Sm(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[xh(r)]=r,n[xh(i.attribute)]=r}return new _l(t,n,e.space)}const a_=vi({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),s_=vi({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function i_(e,t){return t in e?e[t]:t}function o_(e,t){return i_(e,t.toLowerCase())}const l_=vi({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:o_,properties:{xmlns:null,xmlnsXLink:null}}),u_=vi({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Nt,ariaAutoComplete:null,ariaBusy:Nt,ariaChecked:Nt,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:st,ariaCurrent:null,ariaDescribedBy:st,ariaDetails:null,ariaDisabled:Nt,ariaDropEffect:st,ariaErrorMessage:null,ariaExpanded:Nt,ariaFlowTo:st,ariaGrabbed:Nt,ariaHasPopup:null,ariaHidden:Nt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:st,ariaLevel:ne,ariaLive:null,ariaModal:Nt,ariaMultiLine:Nt,ariaMultiSelectable:Nt,ariaOrientation:null,ariaOwns:st,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:Nt,ariaReadOnly:Nt,ariaRelevant:null,ariaRequired:Nt,ariaRoleDescription:st,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:Nt,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null}}),GM=vi({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:o_,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ai,acceptCharset:st,accessKey:st,action:null,allow:null,allowFullScreen:De,allowPaymentRequest:De,allowUserMedia:De,alt:null,as:null,async:De,autoCapitalize:null,autoComplete:st,autoFocus:De,autoPlay:De,blocking:st,capture:null,charSet:null,checked:De,cite:null,className:st,cols:ne,colSpan:null,content:null,contentEditable:Nt,controls:De,controlsList:st,coords:ne|ai,crossOrigin:null,data:null,dateTime:null,decoding:null,default:De,defer:De,dir:null,dirName:null,disabled:De,download:r_,draggable:Nt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:De,formTarget:null,headers:st,height:ne,hidden:De,high:ne,href:null,hrefLang:null,htmlFor:st,httpEquiv:st,id:null,imageSizes:null,imageSrcSet:null,inert:De,inputMode:null,integrity:null,is:null,isMap:De,itemId:null,itemProp:st,itemRef:st,itemScope:De,itemType:st,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:De,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:De,muted:De,name:null,nonce:null,noModule:De,noValidate:De,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:De,optimum:ne,pattern:null,ping:st,placeholder:null,playsInline:De,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:De,referrerPolicy:null,rel:st,required:De,reversed:De,rows:ne,rowSpan:ne,sandbox:st,scope:null,scoped:De,seamless:De,selected:De,shadowRootClonable:De,shadowRootDelegatesFocus:De,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:Nt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:De,useMap:null,value:Nt,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:st,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:De,declare:De,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:De,noHref:De,noShade:De,noWrap:De,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:Nt,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:De,disableRemotePlayback:De,prefix:null,property:null,results:ne,security:null,unselectable:null}}),YM=vi({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:i_,properties:{about:wn,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:st,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:De,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ai,g2:ai,glyphName:ai,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:wn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:st,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wn,rev:wn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wn,requiredFeatures:wn,requiredFonts:wn,requiredFormats:wn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:wn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wn,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),KM=/^data[-\w.:]+$/i,hx=/-[a-z]/g,XM=/[A-Z]/g;function QM(e,t){const n=xh(t);let r=t,s=Un;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&KM.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(hx,t5);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!hx.test(i)){let l=i.replace(XM,e5);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=Sm}return new s(r,t)}function e5(e){return"-"+e.toLowerCase()}function t5(e){return e.charAt(1).toUpperCase()}const n5={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},r5=n_([s_,a_,l_,u_,GM],"html"),_m=n_([s_,a_,l_,u_,YM],"svg");function a5(e){return e.join(" ").trim()}var Gs={},fp,mx;function s5(){if(mx)return fp;mx=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,i=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,u=/^\s+|\s+$/g,f=`
`,d="/",h="*",g="",y="comment",v="declaration";fp=function(_,C){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];C=C||{};var k=1,I=1;function E(ae){var q=ae.match(t);q&&(k+=q.length);var J=ae.lastIndexOf(f);I=~J?ae.length-J:I+ae.length}function P(){var ae={line:k,column:I};return function(q){return q.position=new D(ae),K(),q}}function D(ae){this.start=ae,this.end={line:k,column:I},this.source=C.source}D.prototype.content=_;function A(ae){var q=new Error(C.source+":"+k+":"+I+": "+ae);if(q.reason=ae,q.filename=C.source,q.line=k,q.column=I,q.source=_,!C.silent)throw q}function $(ae){var q=ae.exec(_);if(q){var J=q[0];return E(J),_=_.slice(J.length),q}}function K(){$(n)}function ce(ae){var q;for(ae=ae||[];q=de();)q!==!1&&ae.push(q);return ae}function de(){var ae=P();if(!(d!=_.charAt(0)||h!=_.charAt(1))){for(var q=2;g!=_.charAt(q)&&(h!=_.charAt(q)||d!=_.charAt(q+1));)++q;if(q+=2,g===_.charAt(q-1))return A("End of comment missing");var J=_.slice(2,q-2);return I+=2,E(J),_=_.slice(q),I+=2,ae({type:y,comment:J})}}function te(){var ae=P(),q=$(r);if(q){if(de(),!$(s))return A("property missing ':'");var J=$(i),ie=ae({type:v,property:S(q[0].replace(e,g)),value:J?S(J[0].replace(e,g)):g});return $(l),ie}}function oe(){var ae=[];ce(ae);for(var q;q=te();)q!==!1&&(ae.push(q),ce(ae));return ae}return K(),oe()};function S(_){return _?_.replace(u,g):g}return fp}var gx;function i5(){if(gx)return Gs;gx=1;var e=Gs&&Gs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.default=n;var t=e(s5());function n(r,s){var i=null;if(!r||typeof r!="string")return i;var l=(0,t.default)(r),u=typeof s=="function";return l.forEach(function(f){if(f.type==="declaration"){var d=f.property,h=f.value;u?s(d,h,f):h&&(i=i||{},i[d]=h)}}),i}return Gs}var o5=i5();const yx=hi(o5),l5=yx.default||yx,c_=d_("end"),km=d_("start");function d_(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function u5(e){const t=km(e),n=c_(e);if(t&&n)return{start:t,end:n}}function ko(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?vx(e.position):"start"in e||"end"in e?vx(e):"line"in e||"column"in e?bh(e):""}function bh(e){return xx(e&&e.line)+":"+xx(e&&e.column)}function vx(e){return bh(e&&e.start)+"-"+bh(e&&e.end)}function xx(e){return e&&typeof e=="number"?e:1}class Yt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",i={},l=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?s=t:!i.cause&&t&&(l=!0,s=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?i.ruleId=r:(i.source=r.slice(0,f),i.ruleId=r.slice(f+1))}if(!i.place&&i.ancestors&&i.ancestors){const f=i.ancestors[i.ancestors.length-1];f&&(i.place=f.position)}const u=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=u?u.line:void 0,this.name=ko(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=l&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}Yt.prototype.file="";Yt.prototype.name="";Yt.prototype.reason="";Yt.prototype.message="";Yt.prototype.stack="";Yt.prototype.column=void 0;Yt.prototype.line=void 0;Yt.prototype.ancestors=void 0;Yt.prototype.cause=void 0;Yt.prototype.fatal=void 0;Yt.prototype.place=void 0;Yt.prototype.ruleId=void 0;Yt.prototype.source=void 0;const Cm={}.hasOwnProperty,c5=new Map,d5=/[A-Z]/g,f5=/-([a-z])/g,p5=new Set(["table","tbody","thead","tfoot","tr"]),h5=new Set(["td","th"]),f_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function m5(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=_5(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=S5(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?_m:r5,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=p_(s,e,void 0);return i&&typeof i!="string"?i:s.create(e,s.Fragment,{children:i||void 0},void 0)}function p_(e,t,n){if(t.type==="element")return g5(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return y5(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return x5(e,t,n);if(t.type==="mdxjsEsm")return v5(e,t);if(t.type==="root")return w5(e,t,n);if(t.type==="text")return b5(e,t)}function g5(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=_m,e.schema=s),e.ancestors.push(t);const i=m_(e,t.tagName,!1),l=k5(e,t);let u=Em(e,t);return p5.has(t.tagName)&&(u=u.filter(function(f){return typeof f=="string"?!WM(f):!0})),h_(e,l,i,t),Tm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function y5(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}pl(e,t.position)}function v5(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);pl(e,t.position)}function x5(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=_m,e.schema=s),e.ancestors.push(t);const i=t.name===null?e.Fragment:m_(e,t.name,!0),l=C5(e,t),u=Em(e,t);return h_(e,l,i,t),Tm(l,u),e.ancestors.pop(),e.schema=r,e.create(t,i,l,n)}function w5(e,t,n){const r={};return Tm(r,Em(e,t)),e.create(t,e.Fragment,r,n)}function b5(e,t){return t.value}function h_(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function Tm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function S5(e,t,n){return r;function r(s,i,l,u){const d=Array.isArray(l.children)?n:t;return u?d(i,l,u):d(i,l)}}function _5(e,t){return n;function n(r,s,i,l){const u=Array.isArray(i.children),f=km(r);return t(s,i,l,u,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function k5(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&Cm.call(t.properties,s)){const i=T5(e,s,t.properties[s]);if(i){const[l,u]=i;e.tableCellAlignToStyle&&l==="align"&&typeof u=="string"&&h5.has(t.tagName)?r=u:n[l]=u}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function C5(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const i=r.data.estree.body[0];i.type;const l=i.expression;l.type;const u=l.properties[0];u.type,Object.assign(n,e.evaluater.evaluateExpression(u.argument))}else pl(e,t.position);else{const s=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const u=r.value.data.estree.body[0];u.type,i=e.evaluater.evaluateExpression(u.expression)}else pl(e,t.position);else i=r.value===null?!0:r.value;n[s]=i}return n}function Em(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:c5;for(;++r<t.children.length;){const i=t.children[r];let l;if(e.passKeys){const f=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(f){const d=s.get(f)||0;l=f+"-"+d,s.set(f,d+1)}}const u=p_(e,i,l);u!==void 0&&n.push(u)}return n}function T5(e,t,n){const r=QM(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?UM(n):a5(n)),r.property==="style"){let s=typeof n=="object"?n:E5(e,String(n));return e.stylePropertyNameCase==="css"&&(s=I5(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?n5[r.property]||r.property:r.attribute,n]}}function E5(e,t){const n={};try{l5(t,r)}catch(s){if(!e.ignoreInvalidStyle){const i=s,l=new Yt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=f_+"#cannot-parse-style-attribute",l}}return n;function r(s,i){let l=s;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(f5,O5)),n[l]=i}}function m_(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let i=-1,l;for(;++i<s.length;){const u=dx(s[i])?{type:"Identifier",name:s[i]}:{type:"Literal",value:s[i]};l=l?{type:"MemberExpression",object:l,property:u,computed:!!(i&&u.type==="Literal"),optional:!1}:u}r=l}else r=dx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return Cm.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);pl(e)}function pl(e,t){const n=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=f_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function I5(e){const t={};let n;for(n in e)Cm.call(e,n)&&(t[N5(n)]=e[n]);return t}function N5(e){let t=e.replace(d5,P5);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function O5(e,t){return t.toUpperCase()}function P5(e){return"-"+e.toLowerCase()}const pp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},R5={};function j5(e,t){const n=R5,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return g_(e,r,s)}function g_(e,t,n){if(A5(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return wx(e.children,t,n)}return Array.isArray(e)?wx(e,t,n):""}function wx(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=g_(e[s],t,n);return r.join("")}function A5(e){return!!(e&&typeof e=="object")}const bx=document.createElement("i");function Im(e){const t="&"+e+";";bx.innerHTML=t;const n=bx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Sr(e,t,n,r){const s=e.length;let i=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);i<r.length;)l=r.slice(i,i+1e4),l.unshift(t,0),e.splice(...l),i+=1e4,t+=1e4}function zn(e,t){return e.length>0?(Sr(e,e.length,0,t),e):t}const Sx={}.hasOwnProperty;function D5(e){const t={};let n=-1;for(;++n<e.length;)M5(t,e[n]);return t}function M5(e,t){let n;for(n in t){const s=(Sx.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let l;if(i)for(l in i){Sx.call(s,l)||(s[l]=[]);const u=i[l];L5(s[l],Array.isArray(u)?u:u?[u]:[])}}}function L5(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Sr(e,0,0,r)}function y_(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function si(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const hr=Aa(/[A-Za-z]/),Sn=Aa(/[\dA-Za-z]/),F5=Aa(/[#-'*+\--9=?A-Z^-~]/);function Sh(e){return e!==null&&(e<32||e===127)}const _h=Aa(/\d/),z5=Aa(/[\dA-Fa-f]/),$5=Aa(/[!-/:-@[-`{-~]/);function Oe(e){return e!==null&&e<-2}function hn(e){return e!==null&&(e<0||e===32)}function et(e){return e===-2||e===-1||e===32}const U5=Aa(new RegExp("\\p{P}|\\p{S}","u")),B5=Aa(/\s/);function Aa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function xi(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const i=e.charCodeAt(n);let l="";if(i===37&&Sn(e.charCodeAt(n+1))&&Sn(e.charCodeAt(n+2)))s=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(l=String.fromCharCode(i));else if(i>55295&&i<57344){const u=e.charCodeAt(n+1);i<56320&&u>56319&&u<57344?(l=String.fromCharCode(i,u),s=1):l=""}else l=String.fromCharCode(i);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function it(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let i=0;return l;function l(f){return et(f)?(e.enter(n),u(f)):t(f)}function u(f){return et(f)&&i++<s?(e.consume(f),u):(e.exit(n),t(f))}}const H5={tokenize:q5};function q5(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(u){if(u===null){e.consume(u);return}return e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),it(e,t,"linePrefix")}function s(u){return e.enter("paragraph"),i(u)}function i(u){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(u)}function l(u){if(u===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(u);return}return Oe(u)?(e.consume(u),e.exit("chunkText"),i):(e.consume(u),l)}}const V5={tokenize:W5},_x={tokenize:Z5};function W5(e){const t=this,n=[];let r=0,s,i,l;return u;function u(E){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,f,d)(E)}return d(E)}function f(E){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&I();const P=t.events.length;let D=P,A;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){A=t.events[D][1].end;break}k(r);let $=P;for(;$<t.events.length;)t.events[$][1].end={...A},$++;return Sr(t.events,D+1,0,t.events.slice(P)),t.events.length=$,d(E)}return u(E)}function d(E){if(r===n.length){if(!s)return y(E);if(s.currentConstruct&&s.currentConstruct.concrete)return S(E);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(_x,h,g)(E)}function h(E){return s&&I(),k(r),y(E)}function g(E){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,S(E)}function y(E){return t.containerState={},e.attempt(_x,v,S)(E)}function v(E){return r++,n.push([t.currentConstruct,t.containerState]),y(E)}function S(E){if(E===null){s&&I(),k(0),e.consume(E);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:i}),_(E)}function _(E){if(E===null){C(e.exit("chunkFlow"),!0),k(0),e.consume(E);return}return Oe(E)?(e.consume(E),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,u):(e.consume(E),_)}function C(E,P){const D=t.sliceStream(E);if(P&&D.push(null),E.previous=i,i&&(i.next=E),i=E,s.defineSkip(E.start),s.write(D),t.parser.lazy[E.start.line]){let A=s.events.length;for(;A--;)if(s.events[A][1].start.offset<l&&(!s.events[A][1].end||s.events[A][1].end.offset>l))return;const $=t.events.length;let K=$,ce,de;for(;K--;)if(t.events[K][0]==="exit"&&t.events[K][1].type==="chunkFlow"){if(ce){de=t.events[K][1].end;break}ce=!0}for(k(r),A=$;A<t.events.length;)t.events[A][1].end={...de},A++;Sr(t.events,K+1,0,t.events.slice($)),t.events.length=A}}function k(E){let P=n.length;for(;P-- >E;){const D=n[P];t.containerState=D[1],D[0].exit.call(t,e)}n.length=E}function I(){s.write([null]),i=void 0,s=void 0,t.containerState._closeFlow=void 0}}function Z5(e,t,n){return it(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function kx(e){if(e===null||hn(e)||B5(e))return 1;if(U5(e))return 2}function Nm(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const i=e[s].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const kh={name:"attention",resolveAll:J5,tokenize:G5};function J5(e,t){let n=-1,r,s,i,l,u,f,d,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},y={...e[n][1].start};Cx(g,-f),Cx(y,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},u={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},i={type:f>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...u.end}},e[r][1].end={...l.start},e[n][1].start={...u.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=zn(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=zn(d,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",i,t]]),d=zn(d,Nm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=zn(d,[["exit",i,t],["enter",u,t],["exit",u,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=zn(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,Sr(e,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function G5(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=kx(r);let i;return l;function l(f){return i=f,e.enter("attentionSequence"),u(f)}function u(f){if(f===i)return e.consume(f),u;const d=e.exit("attentionSequence"),h=kx(f),g=!h||h===2&&s||n.includes(f),y=!s||s===2&&h||n.includes(r);return d._open=!!(i===42?g:g&&(s||!y)),d._close=!!(i===42?y:y&&(h||!g)),t(f)}}function Cx(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Y5={name:"autolink",tokenize:K5};function K5(e,t,n){let r=0;return s;function s(v){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(v){return hr(v)?(e.consume(v),l):v===64?n(v):d(v)}function l(v){return v===43||v===45||v===46||Sn(v)?(r=1,u(v)):d(v)}function u(v){return v===58?(e.consume(v),r=0,f):(v===43||v===45||v===46||Sn(v))&&r++<32?(e.consume(v),u):(r=0,d(v))}function f(v){return v===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):v===null||v===32||v===60||Sh(v)?n(v):(e.consume(v),f)}function d(v){return v===64?(e.consume(v),h):F5(v)?(e.consume(v),d):n(v)}function h(v){return Sn(v)?g(v):n(v)}function g(v){return v===46?(e.consume(v),r=0,h):v===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(v),e.exit("autolinkMarker"),e.exit("autolink"),t):y(v)}function y(v){if((v===45||Sn(v))&&r++<63){const S=v===45?y:g;return e.consume(v),S}return n(v)}}const qc={partial:!0,tokenize:X5};function X5(e,t,n){return r;function r(i){return et(i)?it(e,s,"linePrefix")(i):s(i)}function s(i){return i===null||Oe(i)?t(i):n(i)}}const v_={continuation:{tokenize:e6},exit:t6,name:"blockQuote",tokenize:Q5};function Q5(e,t,n){const r=this;return s;function s(l){if(l===62){const u=r.containerState;return u.open||(e.enter("blockQuote",{_container:!0}),u.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),i}return n(l)}function i(l){return et(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function e6(e,t,n){const r=this;return s;function s(l){return et(l)?it(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):i(l)}function i(l){return e.attempt(v_,t,n)(l)}}function t6(e){e.exit("blockQuote")}const x_={name:"characterEscape",tokenize:n6};function n6(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),s}function s(i){return $5(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const w_={name:"characterReference",tokenize:r6};function r6(e,t,n){const r=this;let s=0,i,l;return u;function u(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),f}function f(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),i=31,l=Sn,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,l=z5,h):(e.enter("characterReferenceValue"),i=7,l=_h,h(g))}function h(g){if(g===59&&s){const y=e.exit("characterReferenceValue");return l===Sn&&!Im(r.sliceSerialize(y))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&s++<i?(e.consume(g),h):n(g)}}const Tx={partial:!0,tokenize:s6},Ex={concrete:!0,name:"codeFenced",tokenize:a6};function a6(e,t,n){const r=this,s={partial:!0,tokenize:D};let i=0,l=0,u;return f;function f(A){return d(A)}function d(A){const $=r.events[r.events.length-1];return i=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,u=A,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(A)}function h(A){return A===u?(l++,e.consume(A),h):l<3?n(A):(e.exit("codeFencedFenceSequence"),et(A)?it(e,g,"whitespace")(A):g(A))}function g(A){return A===null||Oe(A)?(e.exit("codeFencedFence"),r.interrupt?t(A):e.check(Tx,_,P)(A)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(A))}function y(A){return A===null||Oe(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(A)):et(A)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),it(e,v,"whitespace")(A)):A===96&&A===u?n(A):(e.consume(A),y)}function v(A){return A===null||Oe(A)?g(A):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),S(A))}function S(A){return A===null||Oe(A)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(A)):A===96&&A===u?n(A):(e.consume(A),S)}function _(A){return e.attempt(s,P,C)(A)}function C(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),k}function k(A){return i>0&&et(A)?it(e,I,"linePrefix",i+1)(A):I(A)}function I(A){return A===null||Oe(A)?e.check(Tx,_,P)(A):(e.enter("codeFlowValue"),E(A))}function E(A){return A===null||Oe(A)?(e.exit("codeFlowValue"),I(A)):(e.consume(A),E)}function P(A){return e.exit("codeFenced"),t(A)}function D(A,$,K){let ce=0;return de;function de(J){return A.enter("lineEnding"),A.consume(J),A.exit("lineEnding"),te}function te(J){return A.enter("codeFencedFence"),et(J)?it(A,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):oe(J)}function oe(J){return J===u?(A.enter("codeFencedFenceSequence"),ae(J)):K(J)}function ae(J){return J===u?(ce++,A.consume(J),ae):ce>=l?(A.exit("codeFencedFenceSequence"),et(J)?it(A,q,"whitespace")(J):q(J)):K(J)}function q(J){return J===null||Oe(J)?(A.exit("codeFencedFence"),$(J)):K(J)}}}function s6(e,t,n){const r=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const hp={name:"codeIndented",tokenize:o6},i6={partial:!0,tokenize:l6};function o6(e,t,n){const r=this;return s;function s(d){return e.enter("codeIndented"),it(e,i,"linePrefix",5)(d)}function i(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?f(d):Oe(d)?e.attempt(i6,l,f)(d):(e.enter("codeFlowValue"),u(d))}function u(d){return d===null||Oe(d)?(e.exit("codeFlowValue"),l(d)):(e.consume(d),u)}function f(d){return e.exit("codeIndented"),t(d)}}function l6(e,t,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):Oe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):it(e,i,"linePrefix",5)(l)}function i(l){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):Oe(l)?s(l):n(l)}}const u6={name:"codeText",previous:d6,resolve:c6,tokenize:f6};function c6(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function d6(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function f6(e,t,n){let r=0,s,i;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),u(g)}function u(g){return g===96?(e.consume(g),r++,u):(e.exit("codeTextSequence"),f(g))}function f(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),f):g===96?(i=e.enter("codeTextSequence"),s=0,h(g)):Oe(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Oe(g)?(e.exit("codeTextData"),f(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),s++,h):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(i.type="codeTextData",d(g))}}class p6{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&uo(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),uo(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),uo(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);uo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);uo(this.left,n.reverse())}}}function uo(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function b_(e){const t={};let n=-1,r,s,i,l,u,f,d;const h=new p6(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,i=0,i<f.length&&f[i][1].type==="lineEndingBlank"&&(i+=2),i<f.length&&f[i][1].type==="content"))for(;++i<f.length&&f[i][1].type!=="content";)f[i][1].type==="chunkText"&&(f[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,h6(h,n)),n=t[n],d=!0);else if(r[1]._container){for(i=n,s=void 0;i--;)if(l=h.get(i),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=i);else if(l[1].type!=="linePrefix")break;s&&(r[1].end={...h.get(s)[1].start},u=h.slice(s,n),u.unshift(r),h.splice(s,n-s+1,u))}}return Sr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function h6(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const i=[],l=n._tokenizer||r.parser[n.contentType](n.start),u=l.events,f=[],d={};let h,g,y=-1,v=n,S=0,_=0;const C=[_];for(;v;){for(;e.get(++s)[1]!==v;);i.push(s),v._tokenizer||(h=r.sliceStream(v),v.next||h.push(null),g&&l.defineSkip(v.start),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),v._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=v,v=v.next}for(v=n;++y<u.length;)u[y][0]==="exit"&&u[y-1][0]==="enter"&&u[y][1].type===u[y-1][1].type&&u[y][1].start.line!==u[y][1].end.line&&(_=y+1,C.push(_),v._tokenizer=void 0,v.previous=void 0,v=v.next);for(l.events=[],v?(v._tokenizer=void 0,v.previous=void 0):C.pop(),y=C.length;y--;){const k=u.slice(C[y],C[y+1]),I=i.pop();f.push([I,I+k.length-1]),e.splice(I,2,k)}for(f.reverse(),y=-1;++y<f.length;)d[S+f[y][0]]=S+f[y][1],S+=f[y][1]-f[y][0]-1;return d}const m6={resolve:y6,tokenize:v6},g6={partial:!0,tokenize:x6};function y6(e){return b_(e),e}function v6(e,t){let n;return r;function r(u){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(u)}function s(u){return u===null?i(u):Oe(u)?e.check(g6,l,i)(u):(e.consume(u),s)}function i(u){return e.exit("chunkContent"),e.exit("content"),t(u)}function l(u){return e.consume(u),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function x6(e,t,n){const r=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),it(e,i,"linePrefix")}function i(l){if(l===null||Oe(l))return n(l);const u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function S_(e,t,n,r,s,i,l,u,f){const d=f||Number.POSITIVE_INFINITY;let h=0;return g;function g(k){return k===60?(e.enter(r),e.enter(s),e.enter(i),e.consume(k),e.exit(i),y):k===null||k===32||k===41||Sh(k)?n(k):(e.enter(r),e.enter(l),e.enter(u),e.enter("chunkString",{contentType:"string"}),_(k))}function y(k){return k===62?(e.enter(i),e.consume(k),e.exit(i),e.exit(s),e.exit(r),t):(e.enter(u),e.enter("chunkString",{contentType:"string"}),v(k))}function v(k){return k===62?(e.exit("chunkString"),e.exit(u),y(k)):k===null||k===60||Oe(k)?n(k):(e.consume(k),k===92?S:v)}function S(k){return k===60||k===62||k===92?(e.consume(k),v):v(k)}function _(k){return!h&&(k===null||k===41||hn(k))?(e.exit("chunkString"),e.exit(u),e.exit(l),e.exit(r),t(k)):h<d&&k===40?(e.consume(k),h++,_):k===41?(e.consume(k),h--,_):k===null||k===32||k===40||Sh(k)?n(k):(e.consume(k),k===92?C:_)}function C(k){return k===40||k===41||k===92?(e.consume(k),_):_(k)}}function __(e,t,n,r,s,i){const l=this;let u=0,f;return d;function d(v){return e.enter(r),e.enter(s),e.consume(v),e.exit(s),e.enter(i),h}function h(v){return u>999||v===null||v===91||v===93&&!f||v===94&&!u&&"_hiddenFootnoteSupport"in l.parser.constructs?n(v):v===93?(e.exit(i),e.enter(s),e.consume(v),e.exit(s),e.exit(r),t):Oe(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(v))}function g(v){return v===null||v===91||v===93||Oe(v)||u++>999?(e.exit("chunkString"),h(v)):(e.consume(v),f||(f=!et(v)),v===92?y:g)}function y(v){return v===91||v===92||v===93?(e.consume(v),u++,g):g(v)}}function k_(e,t,n,r,s,i){let l;return u;function u(y){return y===34||y===39||y===40?(e.enter(r),e.enter(s),e.consume(y),e.exit(s),l=y===40?41:y,f):n(y)}function f(y){return y===l?(e.enter(s),e.consume(y),e.exit(s),e.exit(r),t):(e.enter(i),d(y))}function d(y){return y===l?(e.exit(i),f(l)):y===null?n(y):Oe(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),it(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===l||y===null||Oe(y)?(e.exit("chunkString"),d(y)):(e.consume(y),y===92?g:h)}function g(y){return y===l||y===92?(e.consume(y),h):h(y)}}function Co(e,t){let n;return r;function r(s){return Oe(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):et(s)?it(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const w6={name:"definition",tokenize:S6},b6={partial:!0,tokenize:_6};function S6(e,t,n){const r=this;let s;return i;function i(v){return e.enter("definition"),l(v)}function l(v){return __.call(r,e,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(v)}function u(v){return s=si(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),v===58?(e.enter("definitionMarker"),e.consume(v),e.exit("definitionMarker"),f):n(v)}function f(v){return hn(v)?Co(e,d)(v):d(v)}function d(v){return S_(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(v)}function h(v){return e.attempt(b6,g,g)(v)}function g(v){return et(v)?it(e,y,"whitespace")(v):y(v)}function y(v){return v===null||Oe(v)?(e.exit("definition"),r.parser.defined.push(s),t(v)):n(v)}}function _6(e,t,n){return r;function r(u){return hn(u)?Co(e,s)(u):n(u)}function s(u){return k_(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function i(u){return et(u)?it(e,l,"whitespace")(u):l(u)}function l(u){return u===null||Oe(u)?t(u):n(u)}}const k6={name:"hardBreakEscape",tokenize:C6};function C6(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),s}function s(i){return Oe(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const T6={name:"headingAtx",resolve:E6,tokenize:I6};function E6(e,t){let n=e.length-2,r=3,s,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Sr(e,r,n-r+1,[["enter",s,t],["enter",i,t],["exit",i,t],["exit",s,t]])),e}function I6(e,t,n){let r=0;return s;function s(h){return e.enter("atxHeading"),i(h)}function i(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||hn(h)?(e.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(e.enter("atxHeadingSequence"),f(h)):h===null||Oe(h)?(e.exit("atxHeading"),t(h)):et(h)?it(e,u,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function f(h){return h===35?(e.consume(h),f):(e.exit("atxHeadingSequence"),u(h))}function d(h){return h===null||h===35||hn(h)?(e.exit("atxHeadingText"),u(h)):(e.consume(h),d)}}const N6=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ix=["pre","script","style","textarea"],O6={concrete:!0,name:"htmlFlow",resolveTo:j6,tokenize:A6},P6={partial:!0,tokenize:M6},R6={partial:!0,tokenize:D6};function j6(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function A6(e,t,n){const r=this;let s,i,l,u,f;return d;function d(R){return h(R)}function h(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),g}function g(R){return R===33?(e.consume(R),y):R===47?(e.consume(R),i=!0,_):R===63?(e.consume(R),s=3,r.interrupt?t:N):hr(R)?(e.consume(R),l=String.fromCharCode(R),C):n(R)}function y(R){return R===45?(e.consume(R),s=2,v):R===91?(e.consume(R),s=5,u=0,S):hr(R)?(e.consume(R),s=4,r.interrupt?t:N):n(R)}function v(R){return R===45?(e.consume(R),r.interrupt?t:N):n(R)}function S(R){const ke="CDATA[";return R===ke.charCodeAt(u++)?(e.consume(R),u===ke.length?r.interrupt?t:oe:S):n(R)}function _(R){return hr(R)?(e.consume(R),l=String.fromCharCode(R),C):n(R)}function C(R){if(R===null||R===47||R===62||hn(R)){const ke=R===47,xe=l.toLowerCase();return!ke&&!i&&Ix.includes(xe)?(s=1,r.interrupt?t(R):oe(R)):N6.includes(l.toLowerCase())?(s=6,ke?(e.consume(R),k):r.interrupt?t(R):oe(R)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):i?I(R):E(R))}return R===45||Sn(R)?(e.consume(R),l+=String.fromCharCode(R),C):n(R)}function k(R){return R===62?(e.consume(R),r.interrupt?t:oe):n(R)}function I(R){return et(R)?(e.consume(R),I):de(R)}function E(R){return R===47?(e.consume(R),de):R===58||R===95||hr(R)?(e.consume(R),P):et(R)?(e.consume(R),E):de(R)}function P(R){return R===45||R===46||R===58||R===95||Sn(R)?(e.consume(R),P):D(R)}function D(R){return R===61?(e.consume(R),A):et(R)?(e.consume(R),D):E(R)}function A(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),f=R,$):et(R)?(e.consume(R),A):K(R)}function $(R){return R===f?(e.consume(R),f=null,ce):R===null||Oe(R)?n(R):(e.consume(R),$)}function K(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||hn(R)?D(R):(e.consume(R),K)}function ce(R){return R===47||R===62||et(R)?E(R):n(R)}function de(R){return R===62?(e.consume(R),te):n(R)}function te(R){return R===null||Oe(R)?oe(R):et(R)?(e.consume(R),te):n(R)}function oe(R){return R===45&&s===2?(e.consume(R),ie):R===60&&s===1?(e.consume(R),le):R===62&&s===4?(e.consume(R),M):R===63&&s===3?(e.consume(R),N):R===93&&s===5?(e.consume(R),Z):Oe(R)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(P6,B,ae)(R)):R===null||Oe(R)?(e.exit("htmlFlowData"),ae(R)):(e.consume(R),oe)}function ae(R){return e.check(R6,q,B)(R)}function q(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),J}function J(R){return R===null||Oe(R)?ae(R):(e.enter("htmlFlowData"),oe(R))}function ie(R){return R===45?(e.consume(R),N):oe(R)}function le(R){return R===47?(e.consume(R),l="",V):oe(R)}function V(R){if(R===62){const ke=l.toLowerCase();return Ix.includes(ke)?(e.consume(R),M):oe(R)}return hr(R)&&l.length<8?(e.consume(R),l+=String.fromCharCode(R),V):oe(R)}function Z(R){return R===93?(e.consume(R),N):oe(R)}function N(R){return R===62?(e.consume(R),M):R===45&&s===2?(e.consume(R),N):oe(R)}function M(R){return R===null||Oe(R)?(e.exit("htmlFlowData"),B(R)):(e.consume(R),M)}function B(R){return e.exit("htmlFlow"),t(R)}}function D6(e,t,n){const r=this;return s;function s(l){return Oe(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):n(l)}function i(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function M6(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(qc,t,n)}}const L6={name:"htmlText",tokenize:F6};function F6(e,t,n){const r=this;let s,i,l;return u;function u(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),d):N===47?(e.consume(N),D):N===63?(e.consume(N),E):hr(N)?(e.consume(N),K):n(N)}function d(N){return N===45?(e.consume(N),h):N===91?(e.consume(N),i=0,S):hr(N)?(e.consume(N),I):n(N)}function h(N){return N===45?(e.consume(N),v):n(N)}function g(N){return N===null?n(N):N===45?(e.consume(N),y):Oe(N)?(l=g,le(N)):(e.consume(N),g)}function y(N){return N===45?(e.consume(N),v):g(N)}function v(N){return N===62?ie(N):N===45?y(N):g(N)}function S(N){const M="CDATA[";return N===M.charCodeAt(i++)?(e.consume(N),i===M.length?_:S):n(N)}function _(N){return N===null?n(N):N===93?(e.consume(N),C):Oe(N)?(l=_,le(N)):(e.consume(N),_)}function C(N){return N===93?(e.consume(N),k):_(N)}function k(N){return N===62?ie(N):N===93?(e.consume(N),k):_(N)}function I(N){return N===null||N===62?ie(N):Oe(N)?(l=I,le(N)):(e.consume(N),I)}function E(N){return N===null?n(N):N===63?(e.consume(N),P):Oe(N)?(l=E,le(N)):(e.consume(N),E)}function P(N){return N===62?ie(N):E(N)}function D(N){return hr(N)?(e.consume(N),A):n(N)}function A(N){return N===45||Sn(N)?(e.consume(N),A):$(N)}function $(N){return Oe(N)?(l=$,le(N)):et(N)?(e.consume(N),$):ie(N)}function K(N){return N===45||Sn(N)?(e.consume(N),K):N===47||N===62||hn(N)?ce(N):n(N)}function ce(N){return N===47?(e.consume(N),ie):N===58||N===95||hr(N)?(e.consume(N),de):Oe(N)?(l=ce,le(N)):et(N)?(e.consume(N),ce):ie(N)}function de(N){return N===45||N===46||N===58||N===95||Sn(N)?(e.consume(N),de):te(N)}function te(N){return N===61?(e.consume(N),oe):Oe(N)?(l=te,le(N)):et(N)?(e.consume(N),te):ce(N)}function oe(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),s=N,ae):Oe(N)?(l=oe,le(N)):et(N)?(e.consume(N),oe):(e.consume(N),q)}function ae(N){return N===s?(e.consume(N),s=void 0,J):N===null?n(N):Oe(N)?(l=ae,le(N)):(e.consume(N),ae)}function q(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||hn(N)?ce(N):(e.consume(N),q)}function J(N){return N===47||N===62||hn(N)?ce(N):n(N)}function ie(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function le(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),V}function V(N){return et(N)?it(e,Z,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):Z(N)}function Z(N){return e.enter("htmlTextData"),l(N)}}const Om={name:"labelEnd",resolveAll:B6,resolveTo:H6,tokenize:q6},z6={tokenize:V6},$6={tokenize:W6},U6={tokenize:Z6};function B6(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Sr(e,0,e.length,n),e}function H6(e,t){let n=e.length,r=0,s,i,l,u;for(;n--;)if(s=e[n][1],i){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(i=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const f={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[i][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[l-2][1].start}};return u=[["enter",f,t],["enter",d,t]],u=zn(u,e.slice(i+1,i+r+3)),u=zn(u,[["enter",h,t]]),u=zn(u,Nm(t.parser.constructs.insideSpan.null,e.slice(i+r+4,l-3),t)),u=zn(u,[["exit",h,t],e[l-2],e[l-1],["exit",d,t]]),u=zn(u,e.slice(l+1)),u=zn(u,[["exit",f,t]]),Sr(e,i,e.length,u),e}function q6(e,t,n){const r=this;let s=r.events.length,i,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){i=r.events[s][1];break}return u;function u(y){return i?i._inactive?g(y):(l=r.parser.defined.includes(si(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),f):n(y)}function f(y){return y===40?e.attempt(z6,h,l?h:g)(y):y===91?e.attempt($6,h,l?d:g)(y):l?h(y):g(y)}function d(y){return e.attempt(U6,h,g)(y)}function h(y){return t(y)}function g(y){return i._balanced=!0,n(y)}}function V6(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),s}function s(g){return hn(g)?Co(e,i)(g):i(g)}function i(g){return g===41?h(g):S_(e,l,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return hn(g)?Co(e,f)(g):h(g)}function u(g){return n(g)}function f(g){return g===34||g===39||g===40?k_(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return hn(g)?Co(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function W6(e,t,n){const r=this;return s;function s(u){return __.call(r,e,i,l,"reference","referenceMarker","referenceString")(u)}function i(u){return r.parser.defined.includes(si(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(u):n(u)}function l(u){return n(u)}}function Z6(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),s}function s(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const J6={name:"labelStartImage",resolveAll:Om.resolveAll,tokenize:G6};function G6(e,t,n){const r=this;return s;function s(u){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(u),e.exit("labelImageMarker"),i}function i(u){return u===91?(e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelImage"),l):n(u)}function l(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):t(u)}}const Y6={name:"labelStartLink",resolveAll:Om.resolveAll,tokenize:K6};function K6(e,t,n){const r=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),i}function i(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const mp={name:"lineEnding",tokenize:X6};function X6(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),it(e,t,"linePrefix")}}const Ku={name:"thematicBreak",tokenize:Q6};function Q6(e,t,n){let r=0,s;return i;function i(d){return e.enter("thematicBreak"),l(d)}function l(d){return s=d,u(d)}function u(d){return d===s?(e.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||Oe(d))?(e.exit("thematicBreak"),t(d)):n(d)}function f(d){return d===s?(e.consume(d),r++,f):(e.exit("thematicBreakSequence"),et(d)?it(e,u,"whitespace")(d):u(d))}}const pn={continuation:{tokenize:rL},exit:sL,name:"list",tokenize:nL},eL={partial:!0,tokenize:iL},tL={partial:!0,tokenize:aL};function nL(e,t,n){const r=this,s=r.events[r.events.length-1];let i=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return u;function u(v){const S=r.containerState.type||(v===42||v===43||v===45?"listUnordered":"listOrdered");if(S==="listUnordered"?!r.containerState.marker||v===r.containerState.marker:_h(v)){if(r.containerState.type||(r.containerState.type=S,e.enter(S,{_container:!0})),S==="listUnordered")return e.enter("listItemPrefix"),v===42||v===45?e.check(Ku,n,d)(v):d(v);if(!r.interrupt||v===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(v)}return n(v)}function f(v){return _h(v)&&++l<10?(e.consume(v),f):(!r.interrupt||l<2)&&(r.containerState.marker?v===r.containerState.marker:v===41||v===46)?(e.exit("listItemValue"),d(v)):n(v)}function d(v){return e.enter("listItemMarker"),e.consume(v),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||v,e.check(qc,r.interrupt?n:h,e.attempt(eL,y,g))}function h(v){return r.containerState.initialBlankLine=!0,i++,y(v)}function g(v){return et(v)?(e.enter("listItemPrefixWhitespace"),e.consume(v),e.exit("listItemPrefixWhitespace"),y):n(v)}function y(v){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(v)}}function rL(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(qc,s,i);function s(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,it(e,t,"listItemIndent",r.containerState.size+1)(u)}function i(u){return r.containerState.furtherBlankLines||!et(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(tL,t,l)(u))}function l(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,it(e,e.attempt(pn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function aL(e,t,n){const r=this;return it(e,s,"listItemIndent",r.containerState.size+1);function s(i){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(i):n(i)}}function sL(e){e.exit(this.containerState.type)}function iL(e,t,n){const r=this;return it(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(i){const l=r.events[r.events.length-1];return!et(i)&&l&&l[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const Nx={name:"setextUnderline",resolveTo:oL,tokenize:lL};function oL(e,t){let n=e.length,r,s,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const l={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",i?(e.splice(s,0,["enter",l,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function lL(e,t,n){const r=this;let s;return i;function i(d){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),s=d,l(d)):n(d)}function l(d){return e.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===s?(e.consume(d),u):(e.exit("setextHeadingLineSequence"),et(d)?it(e,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Oe(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const uL={tokenize:cL};function cL(e){const t=this,n=e.attempt(qc,r,e.attempt(this.parser.constructs.flowInitial,s,it(e,e.attempt(this.parser.constructs.flow,s,e.attempt(m6,s)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const dL={resolveAll:T_()},fL=C_("string"),pL=C_("text");function C_(e){return{resolveAll:T_(e==="text"?hL:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],i=n.attempt(s,l,u);return l;function l(h){return d(h)?i(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),f}function f(h){return d(h)?(n.exit("data"),i(h)):(n.consume(h),f)}function d(h){if(h===null)return!0;const g=s[h];let y=-1;if(g)for(;++y<g.length;){const v=g[y];if(!v.previous||v.previous.call(r,r.previous))return!0}return!1}}}function T_(e){return t;function t(n,r){let s=-1,i;for(;++s<=n.length;)i===void 0?n[s]&&n[s][1].type==="data"&&(i=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==i+2&&(n[i][1].end=n[s-1][1].end,n.splice(i+2,s-i-2),s=i+2),i=void 0);return e?e(n,r):n}}function hL(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let i=s.length,l=-1,u=0,f;for(;i--;){const d=s[i];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)u++,l--;if(l)break;l=-1}else if(d===-2)f=!0,u++;else if(d!==-1){i++;break}}if(u){const d={type:n===e.length||f||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?l:r.start._bufferIndex+l,_index:r.start._index+i,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const mL={42:pn,43:pn,45:pn,48:pn,49:pn,50:pn,51:pn,52:pn,53:pn,54:pn,55:pn,56:pn,57:pn,62:v_},gL={91:w6},yL={[-2]:hp,[-1]:hp,32:hp},vL={35:T6,42:Ku,45:[Nx,Ku],60:O6,61:Nx,95:Ku,96:Ex,126:Ex},xL={38:w_,92:x_},wL={[-5]:mp,[-4]:mp,[-3]:mp,33:J6,38:w_,42:kh,60:[Y5,L6],91:Y6,92:[k6,x_],93:Om,95:kh,96:u6},bL={null:[kh,dL]},SL={null:[42,95]},_L={null:[]},kL=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:SL,contentInitial:gL,disable:_L,document:mL,flow:vL,flowInitial:yL,insideSpan:bL,string:xL,text:wL},Symbol.toStringTag,{value:"Module"}));function CL(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},i=[];let l=[],u=[];const f={attempt:$(D),check:$(A),consume:I,enter:E,exit:P,interrupt:$(A,{interrupt:!0})},d={code:null,containerState:{},defineSkip:_,events:[],now:S,parser:e,previous:null,sliceSerialize:y,sliceStream:v,write:g};let h=t.tokenize.call(d,f);return t.resolveAll&&i.push(t),d;function g(te){return l=zn(l,te),C(),l[l.length-1]!==null?[]:(K(t,0),d.events=Nm(i,d.events,d),d.events)}function y(te,oe){return EL(v(te),oe)}function v(te){return TL(l,te)}function S(){const{_bufferIndex:te,_index:oe,line:ae,column:q,offset:J}=r;return{_bufferIndex:te,_index:oe,line:ae,column:q,offset:J}}function _(te){s[te.line]=te.column,de()}function C(){let te;for(;r._index<l.length;){const oe=l[r._index];if(typeof oe=="string")for(te=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===te&&r._bufferIndex<oe.length;)k(oe.charCodeAt(r._bufferIndex));else k(oe)}}function k(te){h=h(te)}function I(te){Oe(te)?(r.line++,r.column=1,r.offset+=te===-3?2:1,de()):te!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=te}function E(te,oe){const ae=oe||{};return ae.type=te,ae.start=S(),d.events.push(["enter",ae,d]),u.push(ae),ae}function P(te){const oe=u.pop();return oe.end=S(),d.events.push(["exit",oe,d]),oe}function D(te,oe){K(te,oe.from)}function A(te,oe){oe.restore()}function $(te,oe){return ae;function ae(q,J,ie){let le,V,Z,N;return Array.isArray(q)?B(q):"tokenize"in q?B([q]):M(q);function M(Se){return $e;function $e(je){const Ue=je!==null&&Se[je],ot=je!==null&&Se.null,Be=[...Array.isArray(Ue)?Ue:Ue?[Ue]:[],...Array.isArray(ot)?ot:ot?[ot]:[]];return B(Be)(je)}}function B(Se){return le=Se,V=0,Se.length===0?ie:R(Se[V])}function R(Se){return $e;function $e(je){return N=ce(),Z=Se,Se.partial||(d.currentConstruct=Se),Se.name&&d.parser.constructs.disable.null.includes(Se.name)?xe():Se.tokenize.call(oe?Object.assign(Object.create(d),oe):d,f,ke,xe)(je)}}function ke(Se){return te(Z,N),J}function xe(Se){return N.restore(),++V<le.length?R(le[V]):ie}}}function K(te,oe){te.resolveAll&&!i.includes(te)&&i.push(te),te.resolve&&Sr(d.events,oe,d.events.length-oe,te.resolve(d.events.slice(oe),d)),te.resolveTo&&(d.events=te.resolveTo(d.events,d))}function ce(){const te=S(),oe=d.previous,ae=d.currentConstruct,q=d.events.length,J=Array.from(u);return{from:q,restore:ie};function ie(){r=te,d.previous=oe,d.currentConstruct=ae,d.events.length=q,u=J,de()}}function de(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function TL(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,i=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(r,i)];else{if(l=e.slice(n,s),r>-1){const u=l[0];typeof u=="string"?l[0]=u.slice(r):l.shift()}i>0&&l.push(e[s].slice(0,i))}return l}function EL(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const i=e[n];let l;if(typeof i=="string")l=i;else switch(i){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(i)}s=i===-2,r.push(l)}return r.join("")}function IL(e){const r={constructs:D5([kL,...(e||{}).extensions||[]]),content:s(H5),defined:[],document:s(V5),flow:s(uL),lazy:{},string:s(fL),text:s(pL)};return r;function s(i){return l;function l(u){return CL(r,i,u)}}}function NL(e){for(;!b_(e););return e}const Ox=/[\0\t\n\r]/g;function OL(){let e=1,t="",n=!0,r;return s;function s(i,l,u){const f=[];let d,h,g,y,v;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(l||void 0).decode(i)),g=0,t="",n&&(i.charCodeAt(0)===65279&&g++,n=void 0);g<i.length;){if(Ox.lastIndex=g,d=Ox.exec(i),y=d&&d.index!==void 0?d.index:i.length,v=i.charCodeAt(y),!d){t=i.slice(g);break}if(v===10&&g===y&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),g<y&&(f.push(i.slice(g,y)),e+=y-g),v){case 0:{f.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,f.push(-2);e++<h;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:r=!0,e=1}g=y+1}return u&&(r&&f.push(-5),t&&f.push(t),f.push(null)),f}}const PL=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function RL(e){return e.replace(PL,jL)}function jL(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),i=s===120||s===88;return y_(n.slice(i?2:1),i?16:10)}return Im(n)||e}const E_={}.hasOwnProperty;function AL(e,t,n){return typeof t!="string"&&(n=t,t=void 0),DL(n)(NL(IL(n).document().write(OL()(e,t,!0))))}function DL(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Bn),autolinkProtocol:ce,autolinkEmail:ce,atxHeading:i(me),blockQuote:i(ot),characterEscape:ce,characterReference:ce,codeFenced:i(Be),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:i(Be,l),codeText:i(Re,l),codeTextData:ce,data:ce,codeFlowValue:ce,definition:i(rt),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:i(Ot),hardBreakEscape:i(Qe),hardBreakTrailing:i(Qe),htmlFlow:i(Ft,l),htmlFlowData:ce,htmlText:i(Ft,l),htmlTextData:ce,image:i(bt),label:l,link:i(Bn),listItem:i(mn),listItemValue:y,listOrdered:i(sr,g),listUnordered:i(sr),paragraph:i(Gr),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:i(me),strong:i(Yr),thematicBreak:i(Ma)},exit:{atxHeading:f(),atxHeadingSequence:D,autolink:f(),autolinkEmail:Ue,autolinkProtocol:je,blockQuote:f(),characterEscapeValue:de,characterReferenceMarkerHexadecimal:xe,characterReferenceMarkerNumeric:xe,characterReferenceValue:Se,characterReference:$e,codeFenced:f(C),codeFencedFence:_,codeFencedFenceInfo:v,codeFencedFenceMeta:S,codeFlowValue:de,codeIndented:f(k),codeText:f(J),codeTextData:de,data:de,definition:f(),definitionDestinationString:P,definitionLabelString:I,definitionTitleString:E,emphasis:f(),hardBreakEscape:f(oe),hardBreakTrailing:f(oe),htmlFlow:f(ae),htmlFlowData:de,htmlText:f(q),htmlTextData:de,image:f(le),label:Z,labelText:V,lineEnding:te,link:f(ie),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:ke,resourceDestinationString:N,resourceTitleString:M,resource:B,setextHeading:f(K),setextHeadingLineSequence:$,setextHeadingText:A,strong:f(),thematicBreak:f()}};I_(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(W){let ue={type:"root",children:[]};const Ce={stack:[ue],tokenStack:[],config:t,enter:u,exit:d,buffer:l,resume:h,data:n},Ae=[];let We=-1;for(;++We<W.length;)if(W[We][1].type==="listOrdered"||W[We][1].type==="listUnordered")if(W[We][0]==="enter")Ae.push(We);else{const pt=Ae.pop();We=s(W,pt,We)}for(We=-1;++We<W.length;){const pt=t[W[We][0]];E_.call(pt,W[We][1].type)&&pt[W[We][1].type].call(Object.assign({sliceSerialize:W[We][2].sliceSerialize},Ce),W[We][1])}if(Ce.tokenStack.length>0){const pt=Ce.tokenStack[Ce.tokenStack.length-1];(pt[1]||Px).call(Ce,void 0,pt[0])}for(ue.position={start:xa(W.length>0?W[0][1].start:{line:1,column:1,offset:0}),end:xa(W.length>0?W[W.length-2][1].end:{line:1,column:1,offset:0})},We=-1;++We<t.transforms.length;)ue=t.transforms[We](ue)||ue;return ue}function s(W,ue,Ce){let Ae=ue-1,We=-1,pt=!1,Cn,rn,Hn,Kt;for(;++Ae<=Ce;){const Ct=W[Ae];switch(Ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ct[0]==="enter"?We++:We--,Kt=void 0;break}case"lineEndingBlank":{Ct[0]==="enter"&&(Cn&&!Kt&&!We&&!Hn&&(Hn=Ae),Kt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Kt=void 0}if(!We&&Ct[0]==="enter"&&Ct[1].type==="listItemPrefix"||We===-1&&Ct[0]==="exit"&&(Ct[1].type==="listUnordered"||Ct[1].type==="listOrdered")){if(Cn){let jt=Ae;for(rn=void 0;jt--;){const St=W[jt];if(St[1].type==="lineEnding"||St[1].type==="lineEndingBlank"){if(St[0]==="exit")continue;rn&&(W[rn][1].type="lineEndingBlank",pt=!0),St[1].type="lineEnding",rn=jt}else if(!(St[1].type==="linePrefix"||St[1].type==="blockQuotePrefix"||St[1].type==="blockQuotePrefixWhitespace"||St[1].type==="blockQuoteMarker"||St[1].type==="listItemIndent"))break}Hn&&(!rn||Hn<rn)&&(Cn._spread=!0),Cn.end=Object.assign({},rn?W[rn][1].start:Ct[1].end),W.splice(rn||Ae,0,["exit",Cn,Ct[2]]),Ae++,Ce++}if(Ct[1].type==="listItemPrefix"){const jt={type:"listItem",_spread:!1,start:Object.assign({},Ct[1].start),end:void 0};Cn=jt,W.splice(Ae,0,["enter",jt,Ct[2]]),Ae++,Ce++,Hn=void 0,Kt=!0}}}return W[ue][1]._spread=pt,Ce}function i(W,ue){return Ce;function Ce(Ae){u.call(this,W(Ae),Ae),ue&&ue.call(this,Ae)}}function l(){this.stack.push({type:"fragment",children:[]})}function u(W,ue,Ce){this.stack[this.stack.length-1].children.push(W),this.stack.push(W),this.tokenStack.push([ue,Ce||void 0]),W.position={start:xa(ue.start),end:void 0}}function f(W){return ue;function ue(Ce){W&&W.call(this,Ce),d.call(this,Ce)}}function d(W,ue){const Ce=this.stack.pop(),Ae=this.tokenStack.pop();if(Ae)Ae[0].type!==W.type&&(ue?ue.call(this,W,Ae[0]):(Ae[1]||Px).call(this,W,Ae[0]));else throw new Error("Cannot close `"+W.type+"` ("+ko({start:W.start,end:W.end})+"): its not open");Ce.position.end=xa(W.end)}function h(){return j5(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(W){if(this.data.expectingFirstListItemValue){const ue=this.stack[this.stack.length-2];ue.start=Number.parseInt(this.sliceSerialize(W),10),this.data.expectingFirstListItemValue=void 0}}function v(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.lang=W}function S(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.meta=W}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.value=W.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function k(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.value=W.replace(/(\r?\n|\r)$/g,"")}function I(W){const ue=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ue,Ce.identifier=si(this.sliceSerialize(W)).toLowerCase()}function E(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.title=W}function P(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.url=W}function D(W){const ue=this.stack[this.stack.length-1];if(!ue.depth){const Ce=this.sliceSerialize(W).length;ue.depth=Ce}}function A(){this.data.setextHeadingSlurpLineEnding=!0}function $(W){const ue=this.stack[this.stack.length-1];ue.depth=this.sliceSerialize(W).codePointAt(0)===61?1:2}function K(){this.data.setextHeadingSlurpLineEnding=void 0}function ce(W){const Ce=this.stack[this.stack.length-1].children;let Ae=Ce[Ce.length-1];(!Ae||Ae.type!=="text")&&(Ae=Da(),Ae.position={start:xa(W.start),end:void 0},Ce.push(Ae)),this.stack.push(Ae)}function de(W){const ue=this.stack.pop();ue.value+=this.sliceSerialize(W),ue.position.end=xa(W.end)}function te(W){const ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ce=ue.children[ue.children.length-1];Ce.position.end=xa(W.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ue.type)&&(ce.call(this,W),de.call(this,W))}function oe(){this.data.atHardBreak=!0}function ae(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.value=W}function q(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.value=W}function J(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.value=W}function ie(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ue,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function le(){const W=this.stack[this.stack.length-1];if(this.data.inReference){const ue=this.data.referenceType||"shortcut";W.type+="Reference",W.referenceType=ue,delete W.url,delete W.title}else delete W.identifier,delete W.label;this.data.referenceType=void 0}function V(W){const ue=this.sliceSerialize(W),Ce=this.stack[this.stack.length-2];Ce.label=RL(ue),Ce.identifier=si(ue).toLowerCase()}function Z(){const W=this.stack[this.stack.length-1],ue=this.resume(),Ce=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ce.type==="link"){const Ae=W.children;Ce.children=Ae}else Ce.alt=ue}function N(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.url=W}function M(){const W=this.resume(),ue=this.stack[this.stack.length-1];ue.title=W}function B(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function ke(W){const ue=this.resume(),Ce=this.stack[this.stack.length-1];Ce.label=ue,Ce.identifier=si(this.sliceSerialize(W)).toLowerCase(),this.data.referenceType="full"}function xe(W){this.data.characterReferenceType=W.type}function Se(W){const ue=this.sliceSerialize(W),Ce=this.data.characterReferenceType;let Ae;Ce?(Ae=y_(ue,Ce==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ae=Im(ue);const We=this.stack[this.stack.length-1];We.value+=Ae}function $e(W){const ue=this.stack.pop();ue.position.end=xa(W.end)}function je(W){de.call(this,W);const ue=this.stack[this.stack.length-1];ue.url=this.sliceSerialize(W)}function Ue(W){de.call(this,W);const ue=this.stack[this.stack.length-1];ue.url="mailto:"+this.sliceSerialize(W)}function ot(){return{type:"blockquote",children:[]}}function Be(){return{type:"code",lang:null,meta:null,value:""}}function Re(){return{type:"inlineCode",value:""}}function rt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ot(){return{type:"emphasis",children:[]}}function me(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function Ft(){return{type:"html",value:""}}function bt(){return{type:"image",title:null,url:"",alt:null}}function Bn(){return{type:"link",title:null,url:"",children:[]}}function sr(W){return{type:"list",ordered:W.type==="listOrdered",start:null,spread:W._spread,children:[]}}function mn(W){return{type:"listItem",spread:W._spread,checked:null,children:[]}}function Gr(){return{type:"paragraph",children:[]}}function Yr(){return{type:"strong",children:[]}}function Da(){return{type:"text",value:""}}function Ma(){return{type:"thematicBreak"}}}function xa(e){return{line:e.line,column:e.column,offset:e.offset}}function I_(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?I_(e,r):ML(e,r)}}function ML(e,t){let n;for(n in t)if(E_.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Px(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ko({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ko({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ko({start:t.start,end:t.end})+") is still open")}function LL(e){const t=this;t.parser=n;function n(r){return AL(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function FL(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function zL(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function $L(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function UL(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function BL(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function HL(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=xi(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let l,u=e.footnoteCounts.get(r);u===void 0?(u=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=i+1,u+=1,e.footnoteCounts.set(r,u);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(u>1?"-"+u:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,d),e.applyData(t,d)}function qL(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function VL(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function N_(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),i=s[0];i&&i.type==="text"?i.value="["+i.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function WL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return N_(e,t);const s={src:xi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,i),e.applyData(t,i)}function ZL(e,t){const n={src:xi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function JL(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function GL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return N_(e,t);const s={href:xi(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const i={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function YL(e,t){const n={href:xi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function KL(e,t,n){const r=e.all(t),s=n?XL(n):O_(t),i={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let u=-1;for(;++u<r.length;){const h=r[u];(s||u!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?l.push(...h.children):l.push(h)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:i,children:l};return e.patch(t,d),e.applyData(t,d)}function XL(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=O_(n[r])}return t}function O_(e){const t=e.spread;return t??e.children.length>1}function QL(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function e9(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function t9(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function n9(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function r9(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},u=km(t.children[1]),f=c_(t.children[t.children.length-1]);u&&f&&(l.position={start:u,end:f}),s.push(l)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,i),e.applyData(t,i)}function a9(e,t,n){const r=n?n.children:void 0,i=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,u=l?l.length:t.children.length;let f=-1;const d=[];for(;++f<u;){const g=t.children[f],y={},v=l?l[f]:void 0;v&&(y.align=v);let S={type:"element",tagName:i,properties:y,children:[]};g&&(S.children=e.all(g),e.patch(g,S),S=e.applyData(g,S)),d.push(S)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function s9(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Rx=9,jx=32;function i9(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const i=[];for(;r;)i.push(Ax(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return i.push(Ax(t.slice(s),s>0,!1)),i.join("")}function Ax(e,t,n){let r=0,s=e.length;if(t){let i=e.codePointAt(r);for(;i===Rx||i===jx;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(s-1);for(;i===Rx||i===jx;)s--,i=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function o9(e,t){const n={type:"text",value:i9(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function l9(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const u9={blockquote:FL,break:zL,code:$L,delete:UL,emphasis:BL,footnoteReference:HL,heading:qL,html:VL,imageReference:WL,image:ZL,inlineCode:JL,linkReference:GL,link:YL,listItem:KL,list:QL,paragraph:e9,root:t9,strong:n9,table:r9,tableCell:s9,tableRow:a9,text:o9,thematicBreak:l9,toml:$u,yaml:$u,definition:$u,footnoteDefinition:$u};function $u(){}const P_=-1,Vc=0,To=1,Tc=2,Pm=3,Rm=4,jm=5,Am=6,R_=7,j_=8,Dx=typeof self=="object"?self:globalThis,c9=(e,t)=>{const n=(s,i)=>(e.set(i,s),s),r=s=>{if(e.has(s))return e.get(s);const[i,l]=t[s];switch(i){case Vc:case P_:return n(l,s);case To:{const u=n([],s);for(const f of l)u.push(r(f));return u}case Tc:{const u=n({},s);for(const[f,d]of l)u[r(f)]=r(d);return u}case Pm:return n(new Date(l),s);case Rm:{const{source:u,flags:f}=l;return n(new RegExp(u,f),s)}case jm:{const u=n(new Map,s);for(const[f,d]of l)u.set(r(f),r(d));return u}case Am:{const u=n(new Set,s);for(const f of l)u.add(r(f));return u}case R_:{const{name:u,message:f}=l;return n(new Dx[u](f),s)}case j_:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:u}=new Uint8Array(l);return n(new DataView(u),l)}}return n(new Dx[i](l),s)};return r},Mx=e=>c9(new Map,e)(0),Ys="",{toString:d9}={},{keys:f9}=Object,co=e=>{const t=typeof e;if(t!=="object"||!e)return[Vc,t];const n=d9.call(e).slice(8,-1);switch(n){case"Array":return[To,Ys];case"Object":return[Tc,Ys];case"Date":return[Pm,Ys];case"RegExp":return[Rm,Ys];case"Map":return[jm,Ys];case"Set":return[Am,Ys];case"DataView":return[To,n]}return n.includes("Array")?[To,n]:n.includes("Error")?[R_,n]:[Tc,n]},Uu=([e,t])=>e===Vc&&(t==="function"||t==="symbol"),p9=(e,t,n,r)=>{const s=(l,u)=>{const f=r.push(l)-1;return n.set(u,f),f},i=l=>{if(n.has(l))return n.get(l);let[u,f]=co(l);switch(u){case Vc:{let h=l;switch(f){case"bigint":u=j_,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);h=null;break;case"undefined":return s([P_],l)}return s([u,h],l)}case To:{if(f){let y=l;return f==="DataView"?y=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(y=new Uint8Array(l)),s([f,[...y]],l)}const h=[],g=s([u,h],l);for(const y of l)h.push(i(y));return g}case Tc:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(t&&"toJSON"in l)return i(l.toJSON());const h=[],g=s([u,h],l);for(const y of f9(l))(e||!Uu(co(l[y])))&&h.push([i(y),i(l[y])]);return g}case Pm:return s([u,l.toISOString()],l);case Rm:{const{source:h,flags:g}=l;return s([u,{source:h,flags:g}],l)}case jm:{const h=[],g=s([u,h],l);for(const[y,v]of l)(e||!(Uu(co(y))||Uu(co(v))))&&h.push([i(y),i(v)]);return g}case Am:{const h=[],g=s([u,h],l);for(const y of l)(e||!Uu(co(y)))&&h.push(i(y));return g}}const{message:d}=l;return s([u,{name:f,message:d}],l)};return i},Lx=(e,{json:t,lossy:n}={})=>{const r=[];return p9(!(t||n),!!t,new Map,r)(e),r},Ec=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Mx(Lx(e,t)):structuredClone(e):(e,t)=>Mx(Lx(e,t));function h9(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function m9(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function g9(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||h9,r=e.options.footnoteBackLabel||m9,s=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},u=[];let f=-1;for(;++f<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[f]);if(!d)continue;const h=e.all(d),g=String(d.identifier).toUpperCase(),y=xi(g.toLowerCase());let v=0;const S=[],_=e.footnoteCounts.get(g);for(;_!==void 0&&++v<=_;){S.length>0&&S.push({type:"text",value:" "});let I=typeof n=="string"?n:n(f,v);typeof I=="string"&&(I={type:"text",value:I}),S.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(v>1?"-"+v:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,v),className:["data-footnote-backref"]},children:Array.isArray(I)?I:[I]})}const C=h[h.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const I=C.children[C.children.length-1];I&&I.type==="text"?I.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(...S)}else h.push(...S);const k={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(h,!0)};e.patch(d,k),u.push(k)}if(u.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Ec(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(u,!0)},{type:"text",value:`
`}]}}const A_=function(e){if(e==null)return w9;if(typeof e=="function")return Wc(e);if(typeof e=="object")return Array.isArray(e)?y9(e):v9(e);if(typeof e=="string")return x9(e);throw new Error("Expected function, string, or object as test")};function y9(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=A_(e[n]);return Wc(r);function r(...s){let i=-1;for(;++i<t.length;)if(t[i].apply(this,s))return!0;return!1}}function v9(e){const t=e;return Wc(n);function n(r){const s=r;let i;for(i in e)if(s[i]!==t[i])return!1;return!0}}function x9(e){return Wc(t);function t(n){return n&&n.type===e}}function Wc(e){return t;function t(n,r,s){return!!(b9(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function w9(){return!0}function b9(e){return e!==null&&typeof e=="object"&&"type"in e}const D_=[],S9=!0,Fx=!1,_9="skip";function k9(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const i=A_(s),l=r?-1:1;u(e,void 0,[])();function u(f,d,h){const g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){const v=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(f.type+(v?"<"+v+">":""))+")"})}return y;function y(){let v=D_,S,_,C;if((!t||i(f,d,h[h.length-1]||void 0))&&(v=C9(n(f,h)),v[0]===Fx))return v;if("children"in f&&f.children){const k=f;if(k.children&&v[0]!==_9)for(_=(r?k.children.length:-1)+l,C=h.concat(k);_>-1&&_<k.children.length;){const I=k.children[_];if(S=u(I,_,C)(),S[0]===Fx)return S;_=typeof S[1]=="number"?S[1]:_+l}}return v}}}function C9(e){return Array.isArray(e)?e:typeof e=="number"?[S9,e]:e==null?D_:[e]}function M_(e,t,n,r){let s,i,l;typeof t=="function"?(i=void 0,l=t,s=n):(i=t,l=n,s=r),k9(e,i,u,s);function u(f,d){const h=d[d.length-1],g=h?h.children.indexOf(f):void 0;return l(f,g,h)}}const Ch={}.hasOwnProperty,T9={};function E9(e,t){const n=t||T9,r=new Map,s=new Map,i=new Map,l={...u9,...n.handlers},u={all:d,applyData:N9,definitionById:r,footnoteById:s,footnoteCounts:i,footnoteOrder:[],handlers:l,one:f,options:n,patch:I9,wrap:P9};return M_(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const g=h.type==="definition"?r:s,y=String(h.identifier).toUpperCase();g.has(y)||g.set(y,h)}}),u;function f(h,g){const y=h.type,v=u.handlers[y];if(Ch.call(u.handlers,y)&&v)return v(u,h,g);if(u.options.passThrough&&u.options.passThrough.includes(y)){if("children"in h){const{children:_,...C}=h,k=Ec(C);return k.children=u.all(h),k}return Ec(h)}return(u.options.unknownHandler||O9)(u,h,g)}function d(h){const g=[];if("children"in h){const y=h.children;let v=-1;for(;++v<y.length;){const S=u.one(y[v],h);if(S){if(v&&y[v-1].type==="break"&&(!Array.isArray(S)&&S.type==="text"&&(S.value=zx(S.value)),!Array.isArray(S)&&S.type==="element")){const _=S.children[0];_&&_.type==="text"&&(_.value=zx(_.value))}Array.isArray(S)?g.push(...S):g.push(S)}}}return g}}function I9(e,t){e.position&&(t.position=u5(e))}function N9(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&i&&Object.assign(n.properties,Ec(i)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function O9(e,t){const n=t.data||{},r="value"in t&&!(Ch.call(n,"hProperties")||Ch.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function P9(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function zx(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function $x(e,t){const n=E9(e,t),r=n.one(e,void 0),s=g9(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&i.children.push({type:"text",value:`
`},s),i}function R9(e,t){return e&&"run"in e?async function(n,r){const s=$x(n,{file:r,...t});await e.run(s,r)}:function(n,r){return $x(n,{file:r,...e||t})}}function Ux(e){if(e)throw e}var gp,Bx;function j9(){if(Bx)return gp;Bx=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},i=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var y;for(y in d);return typeof y>"u"||e.call(d,y)},l=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},u=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return gp=function f(){var d,h,g,y,v,S,_=arguments[0],C=1,k=arguments.length,I=!1;for(typeof _=="boolean"&&(I=_,_=arguments[1]||{},C=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});C<k;++C)if(d=arguments[C],d!=null)for(h in d)g=u(_,h),y=u(d,h),_!==y&&(I&&y&&(i(y)||(v=s(y)))?(v?(v=!1,S=g&&s(g)?g:[]):S=g&&i(g)?g:{},l(_,{name:h,newValue:f(I,S,y)})):typeof y<"u"&&l(_,{name:h,newValue:y}));return _},gp}var A9=j9();const yp=hi(A9);function Th(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function D9(){const e=[],t={run:n,use:r};return t;function n(...s){let i=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);u(null,...s);function u(f,...d){const h=e[++i];let g=-1;if(f){l(f);return}for(;++g<s.length;)(d[g]===null||d[g]===void 0)&&(d[g]=s[g]);s=d,h?M9(h,u)(...d):l(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function M9(e,t){let n;return r;function r(...l){const u=e.length>l.length;let f;u&&l.push(s);try{f=e.apply(this,l)}catch(d){const h=d;if(u&&n)throw h;return s(h)}u||(f&&f.then&&typeof f.then=="function"?f.then(i,s):f instanceof Error?s(f):i(f))}function s(l,...u){n||(n=!0,t(l,...u))}function i(l){s(null,l)}}const dr={basename:L9,dirname:F9,extname:z9,join:$9,sep:"/"};function L9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');kl(e);let n=0,r=-1,s=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else r<0&&(i=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,u=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(i){n=s+1;break}}else l<0&&(i=!0,l=s+1),u>-1&&(e.codePointAt(s)===t.codePointAt(u--)?u<0&&(r=s):(u=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function F9(e){if(kl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function z9(e){kl(e);let t=e.length,n=-1,r=0,s=-1,i=0,l;for(;t--;){const u=e.codePointAt(t);if(u===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),u===46?s<0?s=t:i!==1&&(i=1):s>-1&&(i=-1)}return s<0||n<0||i===0||i===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function $9(...e){let t=-1,n;for(;++t<e.length;)kl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":U9(n)}function U9(e){kl(e);const t=e.codePointAt(0)===47;let n=B9(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function B9(e,t){let n="",r=0,s=-1,i=0,l=-1,u,f;for(;++l<=e.length;){if(l<e.length)u=e.codePointAt(l);else{if(u===47)break;u=47}if(u===47){if(!(s===l-1||i===1))if(s!==l-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=l,i=0;continue}}else if(n.length>0){n="",r=0,s=l,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),r=l-s-1;s=l,i=0}else u===46&&i>-1?i++:i=-1}return n}function kl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const H9={cwd:q9};function q9(){return"/"}function Eh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function V9(e){if(typeof e=="string")e=new URL(e);else if(!Eh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return W9(e)}function W9(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const vp=["history","path","basename","stem","extname","dirname"];class L_{constructor(t){let n;t?Eh(t)?n={path:t}:typeof t=="string"||Z9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":H9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<vp.length;){const i=vp[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let s;for(s in n)vp.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?dr.basename(this.path):void 0}set basename(t){wp(t,"basename"),xp(t,"basename"),this.path=dr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?dr.dirname(this.path):void 0}set dirname(t){Hx(this.basename,"dirname"),this.path=dr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?dr.extname(this.path):void 0}set extname(t){if(xp(t,"extname"),Hx(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=dr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Eh(t)&&(t=V9(t)),wp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?dr.basename(this.path,this.extname):void 0}set stem(t){wp(t,"stem"),xp(t,"stem"),this.path=dr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Yt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function xp(e,t){if(e&&e.includes(dr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+dr.sep+"`")}function wp(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Hx(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Z9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const J9=function(e){const r=this.constructor.prototype,s=r[e],i=function(){return s.apply(i,arguments)};return Object.setPrototypeOf(i,r),i},G9={}.hasOwnProperty;class Dm extends J9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=D9()}copy(){const t=new Dm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(yp(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(_p("data",this.frozen),this.namespace[t]=n,this):G9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_p("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Bu(t),r=this.parser||this.Parser;return bp("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),bp("process",this.parser||this.Parser),Sp("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(i,l){const u=Bu(t),f=r.parse(u);r.run(f,u,function(h,g,y){if(h||!g||!y)return d(h);const v=g,S=r.stringify(v,y);X9(S)?y.value=S:y.result=S,d(h,y)});function d(h,g){h||!g?l(h):i?i(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),bp("processSync",this.parser||this.Parser),Sp("processSync",this.compiler||this.Compiler),this.process(t,s),Vx("processSync","process",n),r;function s(i,l){n=!0,Ux(i),r=l}}run(t,n,r){qx(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(l,u){const f=Bu(n);s.run(t,f,d);function d(h,g,y){const v=g||t;h?u(h):l?l(v):r(void 0,v,y)}}}runSync(t,n){let r=!1,s;return this.run(t,n,i),Vx("runSync","run",r),s;function i(l,u){Ux(l),s=u,r=!0}}stringify(t,n){this.freeze();const r=Bu(n),s=this.compiler||this.Compiler;return Sp("stringify",s),qx(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(_p("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?u(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...g]=d;f(h,g)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(s.settings=yp(!0,s.settings,d.settings))}function u(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const g=d[h];i(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,h){let g=-1,y=-1;for(;++g<r.length;)if(r[g][0]===d){y=g;break}if(y===-1)r.push([d,...h]);else if(h.length>0){let[v,...S]=h;const _=r[y][1];Th(_)&&Th(v)&&(v=yp(!0,_,v)),r[y]=[d,v,...S]}}}}const Y9=new Dm().freeze();function bp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Sp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _p(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function qx(e){if(!Th(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Vx(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Bu(e){return K9(e)?e:new L_(e)}function K9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function X9(e){return typeof e=="string"||Q9(e)}function Q9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const e8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Wx=[],Zx={allowDangerousHtml:!0},t8=/^(https?|ircs?|mailto|xmpp)$/i,n8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Hu(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",s=e.className,i=e.components,l=e.disallowedElements,u=e.rehypePlugins||Wx,f=e.remarkPlugins||Wx,d=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Zx}:Zx,h=e.skipHtml,g=e.unwrapDisallowed,y=e.urlTransform||r8,v=Y9().use(LL).use(f).use(R9,d).use(u),S=new L_;typeof r=="string"&&(S.value=r);for(const I of n8)Object.hasOwn(e,I.from)&&(""+I.from+(I.to?"use `"+I.to+"` instead":"remove it")+e8+I.id,void 0);const _=v.parse(S);let C=v.runSync(_,S);return s&&(C={type:"element",tagName:"div",properties:{className:s},children:C.type==="root"?C.children:[C]}),M_(C,k),m5(C,{Fragment:w.Fragment,components:i,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function k(I,E,P){if(I.type==="raw"&&P&&typeof E=="number")return h?P.children.splice(E,1):P.children[E]={type:"text",value:I.value},E;if(I.type==="element"){let D;for(D in pp)if(Object.hasOwn(pp,D)&&Object.hasOwn(I.properties,D)){const A=I.properties[D],$=pp[D];($===null||$.includes(I.tagName))&&(I.properties[D]=y(String(A||""),D,I))}}if(I.type==="element"){let D=t?!t.includes(I.tagName):l?l.includes(I.tagName):!1;if(!D&&n&&typeof E=="number"&&(D=!n(I,E,P)),D&&P&&typeof E=="number")return g&&I.children?P.children.splice(E,1,...I.children):P.children.splice(E,1),E}}}function r8(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||t8.test(e.slice(0,t))?e:""}const Ih=({chat:e,maxWidth:t})=>{const[n,r]=O.useState(!0),s=Hc(),i=O.useMemo(()=>{if(!e.text)return{response:""};if(!e.text.includes("<think>"))return{response:e.text};if(e.text.includes("<think>")&&e.text.includes("</think>")){const[l,u,f]=e.text.match(/<think>(.*?)<\/think>(.*)/s)||[];return{thinking:u,response:f}}if(e.text.includes("<think>")){const[l,u]=e.text.match(/<think>(.*)$/s)||[];return{thinking:u,isThinking:!0}}return{response:e.text}},[e.text]);return e.role==="user"?w.jsx("div",{className:`${t||""} group px-4 lg:px-0`,children:w.jsxs("div",{className:"flex justify-end items-start gap-4",children:[w.jsx("div",{className:"",children:w.jsx(Ve,{theme:"custom",isOutline:!0,isSmall:!0,className:"opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 p-2 hover:text-red-500",onClick:()=>s==null?void 0:s.actions.chat.delete(e.id),children:w.jsx(Je,{icon:ec})})}),w.jsx("div",{className:"max-w-lg px-4 rounded-xl bg-base-200",children:w.jsxs("div",{className:"markdown",children:[i.thinking&&w.jsxs(w.Fragment,{children:[w.jsx(Ve,{theme:"ghost",isSmall:!0,onClick:()=>r(!n),className:`mb-2 ${i.isThinking?"animate-pulse":""}`,children:n?"Hide thinking":"Show thinking"}),n&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"opacity-50 mb-6 max-w-full",children:w.jsx(Hu,{children:i.thinking})})})]}),i.response&&w.jsx(Hu,{children:i.response})]})})]})}):w.jsx("div",{className:`${t||""} group px-4 lg:px-0`,children:w.jsxs("div",{className:"flex flex-row gap-2 items-start",children:[w.jsx("div",{className:"flex-grow",children:w.jsxs("div",{className:"markdown",children:[!e.text&&w.jsx(w.Fragment,{children:w.jsx(Je,{icon:ns,spin:!0})}),i.thinking&&w.jsxs(w.Fragment,{children:[w.jsx(Ve,{theme:"custom",isSmall:!0,onClick:()=>r(!n),className:`mb-2 ${i.isThinking?"animate-pulse":""}`,children:n?"Hide thinking":"Show thinking"}),n&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"opacity-50 mb-6",children:w.jsx(Hu,{children:i.thinking})})})]}),i.response&&w.jsx(Hu,{children:i.response})]})}),w.jsx("div",{className:"",children:w.jsx(Ve,{theme:"custom",isOutline:!0,isSmall:!0,className:"opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 p-2 hover:text-red-500",onClick:()=>s==null?void 0:s.actions.chat.delete(e.id),children:w.jsx(Je,{icon:ec})})})]})})},kp="max-w-3xl w-full mx-2 lg:mx-auto",a8=()=>{const e=Cr(),t=ys(),n=Hc(),r=n==null?void 0:n.conversation,s=n==null?void 0:n.chats,i=$n.useRef(null),l=bm(),[u,f]=O.useState(!1),d=$n.useRef(!1),h=$n.useRef(null),[g,y]=O.useState(void 0),v=$n.useRef(!1),[S,_]=O.useState("");O.useEffect(()=>{i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},[n==null?void 0:n.chats,g]);const C=O.useCallback(E=>{y(E.fullText)},[]),k=O.useCallback(async E=>{if(u||d.current)return;const P=E||S;if(!P.trim())return;const D=await(n==null?void 0:n.actions.chat.add({role:"user",text:P}));if(!D){alert("Failed to send message");return}if(!r){alert("Invalid conversation");return}if(!n.selectedConfig){alert("Invalid config");return}try{f(!0),d.current=!0,_(""),setTimeout(()=>{var $;($=h.current)==null||$.focus()},0);const A=await l.actions.streamMessage({aiService:n.selectedConfig,modelName:r.modelName||"",text:P,chats:[...s,D],streamingCallback:C});d.current=!1,f(!1),y(void 0),A&&(await(n==null?void 0:n.actions.chat.add({role:"assistant",text:A})),setTimeout(()=>{i.current&&i.current.scrollTo({top:i.current.scrollHeight,behavior:"smooth"})},20))}catch(A){f(!1),d.current=!1,console.error("Failed to generate AI response",A),alert("Failed to generate AI response")}},[u,S,n==null?void 0:n.actions.chat,n.selectedConfig,r,l.actions,s,C]);O.useEffect(()=>{var P;!r||n.isLoading||!((P=e.state)!=null&&P.initialMessage)||v.current||d.current||parseInt(e.pathname.split("/").pop()||"0")!==r.id||(v.current=!0,t(e.pathname,{replace:!0}),k(e.state.initialMessage))},[r,n.isLoading,e.pathname,e.state,t,k]);const I=async E=>{E.preventDefault(),await k()};return w.jsx("div",{className:"w-full h-full",children:w.jsxs("div",{className:"flex flex-col h-full",children:[w.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",ref:i,children:[w.jsx("div",{className:"h-8"}),s.map(E=>{const P=E.role==="user";return w.jsx("div",{className:P?"pt-12":"pt-4",children:w.jsx(Ih,{chat:E,maxWidth:kp})},E.id)}),(g||u)&&w.jsx(w.Fragment,{children:w.jsx(Ih,{maxWidth:kp,chat:{id:-1,role:"assistant",text:g||"",createdAt:Date.now(),conversationId:(r==null?void 0:r.id)||0}})}),!n.selectedConfig&&w.jsx("p",{className:"text-red-500 text-center",children:"No config"}),w.jsx("div",{className:"h-12"})]}),w.jsx("form",{onSubmit:I,className:"py-4 relative",children:w.jsxs("div",{className:`${kp} flex gap-2 bg-base-100 rounded-xl`,children:[w.jsx(Uc,{id:"chat-input",ref:h,autoFocus:!0,disabled:u,maxRows:6,value:S,onChange:E=>{u||_(E.target.value)},onSubmit:k,className:`flex-1 border-transparent ${u?"opacity-50":""}`,placeholder:"Type your message..."}),w.jsx(Ve,{isLoading:u,type:"submit",theme:"custom",className:"absolute right-2 top-2 opacity-0",children:"Send"})]})})]})})};function Ir(){}Ir.prototype={diff:function(t,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.callback;typeof s=="function"&&(i=s,s={});var l=this;function u(P){return P=l.postProcess(P,s),i?(setTimeout(function(){i(P)},0),!0):P}t=this.castInput(t,s),n=this.castInput(n,s),t=this.removeEmpty(this.tokenize(t,s)),n=this.removeEmpty(this.tokenize(n,s));var f=n.length,d=t.length,h=1,g=f+d;s.maxEditLength!=null&&(g=Math.min(g,s.maxEditLength));var y=(r=s.timeout)!==null&&r!==void 0?r:1/0,v=Date.now()+y,S=[{oldPos:-1,lastComponent:void 0}],_=this.extractCommon(S[0],n,t,0,s);if(S[0].oldPos+1>=d&&_+1>=f)return u(Jx(l,S[0].lastComponent,n,t,l.useLongestToken));var C=-1/0,k=1/0;function I(){for(var P=Math.max(C,-h);P<=Math.min(k,h);P+=2){var D=void 0,A=S[P-1],$=S[P+1];A&&(S[P-1]=void 0);var K=!1;if($){var ce=$.oldPos-P;K=$&&0<=ce&&ce<f}var de=A&&A.oldPos+1<d;if(!K&&!de){S[P]=void 0;continue}if(!de||K&&A.oldPos<$.oldPos?D=l.addToPath($,!0,!1,0,s):D=l.addToPath(A,!1,!0,1,s),_=l.extractCommon(D,n,t,P,s),D.oldPos+1>=d&&_+1>=f)return u(Jx(l,D.lastComponent,n,t,l.useLongestToken));S[P]=D,D.oldPos+1>=d&&(k=Math.min(k,P-1)),_+1>=f&&(C=Math.max(C,P+1))}h++}if(i)(function P(){setTimeout(function(){if(h>g||Date.now()>v)return i();I()||P()},0)})();else for(;h<=g&&Date.now()<=v;){var E=I();if(E)return E}},addToPath:function(t,n,r,s,i){var l=t.lastComponent;return l&&!i.oneChangePerToken&&l.added===n&&l.removed===r?{oldPos:t.oldPos+s,lastComponent:{count:l.count+1,added:n,removed:r,previousComponent:l.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:n,removed:r,previousComponent:l}}},extractCommon:function(t,n,r,s,i){for(var l=n.length,u=r.length,f=t.oldPos,d=f-s,h=0;d+1<l&&f+1<u&&this.equals(r[f+1],n[d+1],i);)d++,f++,h++,i.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return h&&!i.oneChangePerToken&&(t.lastComponent={count:h,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=f,d},equals:function(t,n,r){return r.comparator?r.comparator(t,n):t===n||r.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};function Jx(e,t,n,r,s){for(var i=[],l;t;)i.push(t),l=t.previousComponent,delete t.previousComponent,t=l;i.reverse();for(var u=0,f=i.length,d=0,h=0;u<f;u++){var g=i[u];if(g.removed)g.value=e.join(r.slice(h,h+g.count)),h+=g.count;else{if(!g.added&&s){var y=n.slice(d,d+g.count);y=y.map(function(v,S){var _=r[h+S];return _.length>v.length?_:v}),g.value=e.join(y)}else g.value=e.join(n.slice(d,d+g.count));d+=g.count,g.added||(h+=g.count)}}return i}function Gx(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function Yx(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function Nh(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function Oh(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function fo(e,t){return Nh(e,t,"")}function qu(e,t){return Oh(e,t,"")}function Kx(e,t){return t.slice(0,s8(e,t))}function s8(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var s=Array(r),i=0;s[0]=0;for(var l=1;l<r;l++){for(t[l]==t[i]?s[l]=s[i]:s[l]=i;i>0&&t[l]!=t[i];)i=s[i];t[l]==t[i]&&i++}i=0;for(var u=n;u<e.length;u++){for(;i>0&&e[u]!=t[i];)i=s[i];e[u]==t[i]&&i++}return i}var Ic="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",i8=new RegExp("[".concat(Ic,"]+|\\s+|[^").concat(Ic,"]"),"ug"),Zc=new Ir;Zc.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};Zc.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(i){return i.segment})}else n=e.match(i8)||[];var r=[],s=null;return n.forEach(function(i){/\s/.test(i)?s==null?r.push(i):r.push(r.pop()+i):/\s/.test(s)?r[r.length-1]==s?r.push(r.pop()+i):r.push(s+i):r.push(i),s=i}),r};Zc.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};Zc.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,s=null;return e.forEach(function(i){i.added?r=i:i.removed?s=i:((r||s)&&Xx(n,s,r,i),n=i,r=null,s=null)}),(r||s)&&Xx(n,s,r,null),e};function Xx(e,t,n,r){if(t&&n){var s=t.value.match(/^\s*/)[0],i=t.value.match(/\s*$/)[0],l=n.value.match(/^\s*/)[0],u=n.value.match(/\s*$/)[0];if(e){var f=Gx(s,l);e.value=Oh(e.value,l,f),t.value=fo(t.value,f),n.value=fo(n.value,f)}if(r){var d=Yx(i,u);r.value=Nh(r.value,u,d),t.value=qu(t.value,d),n.value=qu(n.value,d)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var h=r.value.match(/^\s*/)[0],g=t.value.match(/^\s*/)[0],y=t.value.match(/\s*$/)[0],v=Gx(h,g);t.value=fo(t.value,v);var S=Yx(fo(h,v),y);t.value=qu(t.value,S),r.value=Nh(r.value,h,S),e.value=Oh(e.value,h,h.slice(0,h.length-S.length))}else if(r){var _=r.value.match(/^\s*/)[0],C=t.value.match(/\s*$/)[0],k=Kx(C,_);t.value=qu(t.value,k)}else if(e){var I=e.value.match(/\s*$/)[0],E=t.value.match(/^\s*/)[0],P=Kx(I,E);t.value=fo(t.value,P)}}var o8=new Ir;o8.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Ic,"]+|[^\\S\\n\\r]+|[^").concat(Ic,"]"),"ug");return e.match(t)||[]};var Mm=new Ir;Mm.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var s=0;s<r.length;s++){var i=r[s];s%2&&!t.newlineIsToken?n[n.length-1]+=i:n.push(i)}return n};Mm.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),Ir.prototype.equals.call(this,e,t,n)};var F_=new Ir;F_.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function l8(e,t,n){return F_.diff(e,t,n)}var u8=new Ir;u8.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Ph(e){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ph(e)}var hl=new Ir;hl.useLongestToken=!0;hl.tokenize=Mm.tokenize;hl.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,s=r===void 0?function(i,l){return typeof l>"u"?n:l}:r;return typeof e=="string"?e:JSON.stringify(Rh(e,null,null,s),s,"  ")};hl.equals=function(e,t,n){return Ir.prototype.equals.call(hl,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function Rh(e,t,n,r,s){t=t||[],n=n||[],r&&(e=r(s,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return n[i];var l;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),l=new Array(e.length),n.push(l),i=0;i<e.length;i+=1)l[i]=Rh(e[i],t,n,r,s);return t.pop(),n.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),Ph(e)==="object"&&e!==null){t.push(e),l={},n.push(l);var u=[],f;for(f in e)Object.prototype.hasOwnProperty.call(e,f)&&u.push(f);for(u.sort(),i=0;i<u.length;i+=1)f=u[i],l[f]=Rh(e[f],t,n,r,f);t.pop(),n.pop()}else l=e;return l}var jh=new Ir;jh.tokenize=function(e){return e.slice()};jh.join=jh.removeEmpty=function(e){return e};const c8=({oldText:e,newText:t})=>{const n=l8(e,t,{ignoreCase:!1});return w.jsx("div",{className:"font-mono whitespace-pre-wrap",children:n.map((r,s)=>{const i=r.added?"bg-green-100 text-green-900":r.removed?"bg-red-100 text-red-900 line-through":"text-base-content";return w.jsx("span",{className:i,title:r.added?"Added":r.removed?"Removed":void 0,children:r.value},s)})})},d8=()=>{var oe,ae;const e=Hc(),t=e==null?void 0:e.conversation,n=e==null?void 0:e.chats,r=$n.useRef(null),s=bm(),[i,l]=O.useState(!1),u=$n.useRef(!1),f=$n.useRef(!1),[d,h]=O.useState(void 0),[g,y]=O.useState(""),[v,S]=O.useState(""),[_,C]=O.useState(null),k=Cr(),I=ys(),E=$n.useRef(null);O.useEffect(()=>{r.current&&r.current.scrollTo({top:r.current.scrollHeight,behavior:"smooth"})},[n,d]),O.useEffect(()=>{var ie;if(!t||e.isLoading||!((ie=k.state)!=null&&ie.initialMessage)||f.current||u.current||parseInt(k.pathname.split("/").pop()||"0")!==t.id)return;f.current=!0,I(k.pathname,{replace:!0});const J=async()=>{await(e==null?void 0:e.actions.chat.add({role:"user",text:"Init text",data:{text:k.state.initialMessage}}))};S(k.state.initialMessage),J()},[t,e==null?void 0:e.actions.chat,e.isLoading,k.pathname,(oe=k.state)==null?void 0:oe.initialMessage,I,g]),O.useEffect(()=>{var ie;if(!(n!=null&&n.length)||v)return;const J=n.filter(le=>{var V;return((V=le.data)==null?void 0:V.text)!==void 0}).sort((le,V)=>V.createdAt-le.createdAt)[0];(ie=J==null?void 0:J.data)!=null&&ie.text&&S(J.data.text)},[n,v]);const P=O.useCallback(q=>{h(q.text||"")},[]),D=()=>{const q=document.querySelector("textarea");if(!q)return;const J=q.selectionStart,ie=q.selectionEnd,le=q.value.substring(J,ie);C(le?{text:le,start:J,end:ie}:null)},A=O.useCallback(async()=>{var le;if(i||!g.trim()||u.current)return;let q=v;if(q.length>3e3){const V=(_==null?void 0:_.start)||0,Z=(_==null?void 0:_.end)||0,N=Math.max(0,V-1500),M=Math.min(q.length,Z+1500);q=q.substring(N,M)}const J=`You are an expert copywriter helping the user change their text.

Here is the text or a segment of their text:
<original_text>
${v}
</original_text>

${_&&`
The user wants to change this part of the text and only this part:
<selected_text>
${_.text}
</selected_text>

`}

Here is their messages on the edits they would like:
<user_message>
${g}
</user_message>

Your task is to help the user change the text to match their message.
${_&&"You change edit and return only the selected text of the user, nothing else."}

`;if(!await(e==null?void 0:e.actions.chat.add({role:"user",text:g}))||!t||!e.selectedConfig){alert("Failed to send message");return}if(!((le=e.conversation)!=null&&le.modelName)){alert("Invalid conversation");return}try{l(!0),u.current=!0;const V=x.object({text:x.string().describe("The edited text based on the user request.")});s.actions.streamObject({aiService:e.selectedConfig,modelName:e.conversation.modelName,prompt:J,responseType:V,streamingCallback:P}),l(!1),u.current=!1,y(""),setTimeout(()=>{var Z,N;(Z=r.current)==null||Z.scrollTo({top:r.current.scrollHeight,behavior:"smooth"}),(N=E.current)==null||N.focus()},100)}catch(V){l(!1),u.current=!1,console.error("Failed to generate AI response",V),alert("Failed to generate AI response")}},[i,g,v,_,e==null?void 0:e.actions.chat,e.selectedConfig,(ae=e.conversation)==null?void 0:ae.modelName,t,s.actions,P]),$=async q=>{q.preventDefault(),await A()},K=async()=>{var le;h(void 0);const q=te(),J=n[n.length-1];if(!J)return;const ie={...J};ie.data={text:q},S(q),await(e==null?void 0:e.actions.chat.update(J.id,{data:ie.data})),C(null),(le=document.querySelector("textarea"))==null||le.focus()},ce=async()=>{var q;h(void 0),C(null),(q=document.querySelector("textarea"))==null||q.focus()},de=()=>{C(null)},te=()=>{if(!d)return v;if(!_)return d;const q=v.slice(0,_.start),J=v.slice(_.end);return q+d+J};return w.jsxs("div",{className:"w-full h-full flex",children:[w.jsx("div",{className:"flex-1 h-full rounded-r-6xl border-l border-base-100",children:w.jsxs("div",{className:"max-w-xl mx-auto h-full",children:[d&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"w-full h-full p-4 pt-12 overflow-auto",children:w.jsx(c8,{oldText:v,newText:te()})})}),!d&&w.jsx(w.Fragment,{children:w.jsx("textarea",{value:v,disabled:i,onChange:q=>{i||(S(q.target.value),_&&C(null))},onSelect:D,className:"w-full h-full resize-none p-4 pt-12 focus:outline-none border-0",placeholder:"Enter or paste your text here..."})})]})}),w.jsxs("div",{className:"w-[400px] min-w-[200px] max-w-[600px] flex flex-col border-r border-base-300",children:[w.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",ref:r,children:[n.map(q=>{var J;return w.jsxs("div",{className:"pt-6",children:[w.jsx(Ih,{chat:q,maxWidth:"max-w-full mx-4"}),((J=q.data)==null?void 0:J.text)&&w.jsx("div",{className:"flex flex-row justify-end pr-3 mt-1",children:w.jsx(Ve,{theme:"ghost",isExtraSmall:!0,onClick:()=>{var ie;return S(((ie=q.data)==null?void 0:ie.text)||"")},children:"Revert"})})]},q.id)}),d&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex flex-row gap-2 items-center justify-end pr-4 pt-2",children:[w.jsx(Ve,{theme:"success",ref:E,onClick:K,children:"Approve"}),w.jsx(Ve,{theme:"warning",onClick:ce,children:"Reject"})]})}),w.jsx("div",{className:"h-8"})]}),w.jsxs("form",{onSubmit:$,className:"p-4 bg-base-200",children:[_&&w.jsxs("div",{className:"mb-2 p-2 bg-base-300 rounded text-sm",children:[w.jsxs("div",{className:"flex flex-row items-center",children:[w.jsxs("div",{className:"font-semibold text-xs flex-grow",children:["Selected text (pos: ",_.start,"-",_.end,"):"]}),w.jsx(Ve,{theme:"custom",isOutline:!0,isSmall:!0,className:"text-xs py-0 px-1 border rounded-xl hover:bg-accent",onClick:de,children:"Clear"})]}),w.jsx("div",{className:"truncate",children:_.text})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx(Uc,{id:"chat-input",autoFocus:!0,disabled:i,maxRows:3,value:g,onChange:q=>!i&&y(q.target.value),className:`flex-1 px-3 py-2 border-transparent ${i?"opacity-50":""}`,placeholder:"Type a message...",onSubmit:A}),w.jsx(Ve,{type:"submit",theme:"custom",className:"opacity-0 absolute right-0 top-0 h-0 w-0",children:"Send"})]})]})]})]})},f8=({toggleMenu:e,isMenuOpen:t,conversationId:n})=>{var f,d,h,g;const r=Hc(),s=r==null?void 0:r.conversation,i=O.useRef(void 0),[l,u]=O.useState(!1);return Tr(),O.useEffect(()=>{n&&(r!=null&&r.isLoading||i.current!==parseInt(n)&&(r==null||r.actions.getByConversationId(parseInt(n)),i.current=parseInt(n)))},[n,r==null?void 0:r.actions,r==null?void 0:r.isLoading]),O.useEffect(()=>{var y;r!=null&&r.selectedConfig&&((y=r==null?void 0:r.selectedConfig)==null||y.service)},[r==null?void 0:r.selectedConfig,r==null?void 0:r.configChecker]),r!=null&&r.isLoading||(r==null?void 0:r.isLoading)===void 0?w.jsx(w.Fragment,{children:"Loading..."}):s?w.jsxs(w.Fragment,{children:[w.jsx(Lw,{isOpen:l,onSelect:(y,v)=>{r==null||r.actions.update({aiServiceId:y.id,modelName:v||void 0}),u(!1)},onCancel:()=>u(!1)}),w.jsxs("div",{className:"absolute top-0 right-3 w-full flex flex-row gap-2 items-center ",children:[w.jsx("div",{className:"flex-grow"}),w.jsxs(Ve,{theme:"ghost",onClick:()=>u(!0),className:"rounded-tr-3xl rounded-b-none rounded-l-none flex flex-row gap-3 items-center",children:[((f=r==null?void 0:r.selectedConfig)==null?void 0:f.service)==="Ollama"&&w.jsxs(w.Fragment,{children:[(r==null?void 0:r.configChecker.isRunning)&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"})}),!(r!=null&&r.configChecker.isRunning)&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"})})]}),w.jsx("span",{children:((d=r.selectedConfig)==null?void 0:d.name)||"No config"}),((h=r.conversation)==null?void 0:h.modelName)&&w.jsx("span",{children:(g=r.conversation)==null?void 0:g.modelName})]})]}),s.type==="chat"&&w.jsx(w.Fragment,{children:w.jsx(a8,{})}),s.type==="co-authoring"&&w.jsx(w.Fragment,{children:w.jsx(d8,{})})]}):w.jsx(w.Fragment,{children:"Conversation not found"})},p8=()=>{const[e,t]=O.useState(!0),{conversationId:n}=yC(),r=O.useMemo(()=>window.location.hostname==="localhost",[]),s=()=>{t(!e)};return w.jsxs("div",{className:"h-screen relative flex overflow-hidden",children:[w.jsxs("div",{className:`absolute h-full w-64 transition-transform duration-300 ${e?"translate-x-0":"-translate-x-full"} flex flex-col`,children:[w.jsxs("div",{className:"flex justify-between items-center mt-6 pb-6",children:[w.jsx(_1,{}),w.jsx(Ve,{"aria-label":"Hide menu",theme:"ghost",onClick:s,children:w.jsx(Je,{icon:ET})})]}),w.jsx("div",{className:"w-full block px-3 pb-2",children:w.jsxs(rs,{href:"/chat",theme:"primary",isButton:!0,className:"w-full",children:[w.jsx(Je,{icon:k1})," Chat"]})}),w.jsx("div",{className:"flex-grow w-full overflow-y-auto overflow-x-hidden",children:w.jsx(i3,{conversationId:n})}),w.jsxs("ul",{className:"menu w-full border-t border-base-100",children:[w.jsx("li",{children:w.jsxs(rs,{href:"/settings",theme:"custom",className:"",children:[w.jsx(Je,{icon:_T})," Settings"]})}),r&&w.jsx("li",{children:w.jsxs(rs,{href:"/welcome",theme:"custom",className:"",children:[w.jsx(Je,{icon:OT})," Onboarding"]})})]})]}),w.jsx("div",{className:`flex-1 transition-all duration-300 p-4 pl-0 ${e?"ml-64":"ml-0 pl-4"} relative`,children:w.jsxs("div",{id:"chat-content",className:"h-full rounded-xl overflow-hidden relative",children:[!n&&w.jsx(l3,{}),n&&w.jsx(f8,{toggleMenu:s,isMenuOpen:e,conversationId:n}),w.jsx("div",{className:"absolute top-0 left-0 flex flex-row gap-2 items-center ",children:!e&&w.jsx(Ve,{"aria-label":"Hide menu",onClick:s,theme:"ghost",children:w.jsx(Je,{icon:IT})})})]})})]})},Qx=()=>w.jsx($M,{children:w.jsx(p8,{})}),e1=()=>{const e=ys(),t=O.useRef(!1),[n,r]=O.useState(null),s=O.useCallback(async()=>{if(t.current)return;t.current=!0;const i=await ni.getAllConfigs();r(i)},[]);return O.useEffect(()=>{s()},[s]),O.useEffect(()=>{if(n){if(n&&n.length>0){e("chat");return}e("welcome")}},[n,t,e]),w.jsx(w.Fragment,{})},ms=({children:e,title:t})=>w.jsxs("div",{className:"bg-base-200 p-4 rounded flex flex-col space-y-4",children:[t&&w.jsx("h2",{className:"text-xl",children:t}),e]}),h8=()=>{const[e,t]=O.useState(null),[n,r]=O.useState(!1),s=O.useCallback(async()=>{r(!0);try{const i=await os.systemInfoGet();t(i)}finally{r(!1)}},[]);return O.useEffect(()=>{s()},[s]),w.jsx(ms,{title:"System Information",children:n?w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Je,{icon:ns,className:"animate-spin"}),w.jsx("span",{children:"Loading system information..."})]}):e?w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold mb-2",children:"Operating System"}),w.jsxs("div",{className:"space-y-1 text-sm",children:[w.jsxs("p",{children:["Platform: ",e.os.platform]}),w.jsxs("p",{children:["Distribution: ",e.os.distro]}),w.jsxs("p",{children:["Release: ",e.os.release]}),w.jsxs("p",{children:["Architecture: ",e.os.arch]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold mb-2",children:"CPU"}),w.jsxs("div",{className:"space-y-1 text-sm",children:[w.jsxs("p",{children:["Model: ",e.cpu.brand]}),w.jsxs("p",{children:["Manufacturer: ",e.cpu.manufacturer]}),w.jsxs("p",{children:["Cores: ",e.cpu.cores]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold mb-2",children:"Memory"}),w.jsxs("div",{className:"space-y-1 text-sm",children:[w.jsxs("p",{children:["Total: ",(e.memory.total/(1024*1024*1024)).toFixed(2)," GB"]}),w.jsxs("p",{children:["Free: ",(e.memory.free/(1024*1024*1024)).toFixed(2)," GB"]}),w.jsxs("p",{children:["Used: ",((e.memory.total-e.memory.free)/(1024*1024*1024)).toFixed(2)," GB"]})]})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold mb-2",children:"Storage"}),w.jsxs("div",{className:"space-y-1 text-sm",children:[w.jsxs("p",{children:["Total: ",(e.disk.total/(1024*1024*1024)).toFixed(2)," GB"]}),w.jsxs("p",{children:["Free: ",(e.disk.free/(1024*1024*1024)).toFixed(2)," GB"]}),w.jsxs("p",{children:["Used: ",((e.disk.total-e.disk.free)/(1024*1024*1024)).toFixed(2)," GB"]})]})]}),e.graphics.controllers.length>0&&w.jsxs("div",{className:"md:col-span-2",children:[w.jsx("h3",{className:"font-bold mb-2",children:"Graphics"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.graphics.controllers.map((i,l)=>w.jsxs("div",{className:"space-y-1 text-sm",children:[w.jsxs("p",{children:["Model: ",i.model]}),i.vram>0&&w.jsxs("p",{children:["VRAM: ",(i.vram/1024).toFixed(2)," GB"]})]},l))})]})]}):w.jsx("div",{className:"text-gray-500",children:"Unable to load system information"})})},m8=({configChecker:e})=>{const t=n=>n?Dw(n,{addSuffix:!0}):"Never";return w.jsxs(ms,{title:"Status",children:[w.jsxs("div",{className:"flex items-center gap-3 ",children:[w.jsx("div",{className:`w-3 h-3 rounded-full ${e.isRunning?"bg-green-500":"bg-red-500"}`}),w.jsxs("span",{className:"flex-grow",children:["Ollama Status: ",e.isRunning?"Online":"Offline"]}),w.jsx(Ve,{theme:"ghost",isLoading:e.isCheckingRunning,onClick:e.actions.checkStatus,children:w.jsx(Je,{icon:vo,className:e.isCheckingRunning?"animate-spin":""})})]}),e.isLocalServer&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex items-center gap-3 bg-base-200 pl-8 pr-4 rounded",children:[w.jsx(Je,{icon:e.isCheckingInstall?ns:e.isInstalled?Ov:tc,className:`text-xl ${e.isCheckingInstall?"animate-spin":e.isInstalled?"text-green-500":"text-red-500"}`}),w.jsxs("div",{className:"flex-grow",children:[w.jsxs("span",{className:"block",children:["Ollama Installed: ",e.isInstalled?"Yes":"No"]}),w.jsxs("span",{className:"text-sm opacity-50 relative -top-2",children:["Last checked: ",t(e.lastInstallCheck)]}),e.isLocalServer&&w.jsx(w.Fragment,{children:!e.isInstalled&&w.jsxs(ms,{title:"Installation",children:[w.jsx("p",{children:"Looks like you don't have Ollama installed on your computer."}),w.jsxs("p",{children:["You can either follow the instructions on this page: ",w.jsx("a",{href:"https://ollama.com/download",target:"_blank",children:"Download Ollama yourself"}),"."]}),w.jsx("p",{children:"Or you can use the button below to install Ollama automatically."})]})})]}),w.jsx(Ve,{theme:"ghost",isLoading:e.isCheckingInstall,onClick:e.actions.checkInstall,children:w.jsx(Je,{icon:vo,className:e.isCheckingInstall?"animate-spin":""})})]})}),w.jsxs("div",{className:"flex items-center gap-3 bg-base-200 pl-8 pr-4 rounded",children:[w.jsx(Je,{icon:e.isCheckingRunning?ns:e.isRunning?Ov:tc,className:`text-xl ${e.isCheckingRunning?"animate-spin":e.isRunning?"text-green-500":"text-red-500"}`}),w.jsxs("div",{className:"flex-grow",children:[w.jsxs("span",{className:"block",children:["Ollama Server Running: ",e.isRunning?"Yes":"No"]}),w.jsxs("span",{className:"text-sm opacity-50 relative -top-2",children:["Last checked: ",t(e.lastRunningCheck)]})]}),w.jsx(Ve,{theme:"ghost",isLoading:e.isCheckingRunning,onClick:e.actions.checkStatusWithPing,children:w.jsx(Je,{icon:vo,className:e.isCheckingRunning?"animate-spin":""})})]}),w.jsxs("div",{className:"flex flex-row gap-2 items-center pt-4",children:[w.jsx(Ve,{onClick:e.actions.toggleServer,theme:"primary",isOutline:!0,disabled:e.isTogglingServer||!e.isLocalServer,children:e.isTogglingServer?w.jsxs(w.Fragment,{children:[w.jsx(Je,{icon:ns,className:"animate-spin mr-2"}),e.isRunning?"Stopping Server...":"Starting Server..."]}):e.isRunning?"Stop Server":"Start Server"}),!e.isLocalServer&&w.jsx("p",{className:"text-red-500",children:"This is not a local server, we cannot start and stop it."})]})]})},g8=({configChecker:e,selectedConfig:t,configs:n})=>{const[r,s]=O.useState([]),[i,l]=O.useState(!1),u=$n.useRef(!1),[f,d]=O.useState(!1),[h,g]=O.useState([]),[y,v]=O.useState(!1),S=O.useCallback(async()=>{if(u.current||!t||!e.isRunning||i)return;const k=n.find(I=>I.id===t);if(k&&k.url){u.current=!0,l(!0);try{const I=await pw({url:k.url});u.current=!1,I.success&&s(I.models)}finally{l(!1)}}},[t,e.isRunning,i,n]);O.useEffect(()=>{!t||!e.isRunning||i||r.length>0||S()},[S,i,e.isRunning,r.length,t]);const _=async k=>{if(confirm(`Are you sure you want to remove ${k}?`))try{await os.ollamaModelRemove(k),S()}catch(I){console.error("Error removing model:",I)}},C=O.useCallback(async()=>{if(!y){v(!0);try{const k=await os.ollamaModelRemote();g(k),v(!1)}catch(k){v(!1),console.error(k)}}},[y]);return w.jsxs(ms,{title:"Models",children:[i&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Je,{icon:ns,className:"animate-spin"}),w.jsx("span",{children:"Loading models..."})]})}),!i&&w.jsxs(w.Fragment,{children:[r.length===0&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"opacity-70 italic",children:"No models found"})}),r.length>0&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(k=>w.jsx("div",{className:"bg-base-300 p-4 rounded",children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-bold",children:k.name}),w.jsxs("div",{className:"text-sm opacity-50",children:["Size: ",(k.size/(1024*1024*1024)).toFixed(1),"GB"]})]}),w.jsx(Ve,{theme:"danger",isSmall:!0,onClick:()=>_(k.name),children:w.jsx(Je,{icon:ec})})]})},k.name))})})]}),w.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[w.jsxs(Ve,{theme:"primary",isOutline:!0,onClick:S,isLoading:i,children:[w.jsx(Je,{icon:vo,className:"mr-2"}),"Refresh Models"]}),w.jsx(Ve,{theme:"primary",isOutline:!0,disabled:!0,onClick:()=>{d(!f),C()},children:"Download New Models (Coming soon)"})]}),f&&w.jsxs(w.Fragment,{children:[y&&w.jsx(w.Fragment,{children:w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Je,{icon:ns,className:"animate-spin"}),w.jsx("span",{children:"Loading remote models..."})]})}),!y&&w.jsxs(w.Fragment,{children:[h.length===0&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"opacity-70 italic",children:"No models found"})}),h.length>0&&w.jsx(w.Fragment,{children:w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(k=>w.jsx("div",{className:"bg-base-300 p-4 rounded",children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-bold",children:k.name}),w.jsx("div",{className:"text-sm opacity-50"})]}),w.jsx(Ve,{theme:"primary",isSmall:!0,onClick:()=>{},children:"Download"})]})},k.name))})})]})]})]})},y8=()=>{const[e,t]=O.useState([]),[n,r]=O.useState(null),s=O.useRef(!1),i=$n.useRef(null),l=O.useMemo(()=>e.find(h=>h.id===n),[e,n]),u=Fw({config:l}),{isRunning:f}=u;O.useEffect(()=>{l&&i.current!==l.id&&(u.isCheckingInstall||u.isCheckingRunning||(i.current=l.id,u.actions.checkStatus()))},[u.actions,l,u.isCheckingInstall,u.isCheckingRunning]);const d=O.useCallback(async()=>{if(s.current)return;s.current=!0;const h=await ni.getAllConfigs();t(h),h.length>0&&(n||r(h[0].id)),s.current=!1},[n]);return O.useEffect(()=>{d()},[d]),w.jsxs("div",{className:"space-y-8",children:[w.jsx(ms,{title:"Test configuration",children:w.jsx(Xh,{label:"Select LLM Configuration",value:(n==null?void 0:n.toString())||"",onChange:h=>r(parseInt(h.target.value)),options:[{value:"",label:"Select LLM Configuration",disabled:!0},...e.map(h=>({value:h.id.toString(),label:h.name}))]})}),n&&w.jsxs(w.Fragment,{children:[w.jsx(m8,{configChecker:u}),f&&w.jsx(w.Fragment,{children:w.jsx(g8,{configChecker:u,selectedConfig:n,configs:e})})]}),w.jsx(h8,{})]})},v8=()=>{const[e,t]=O.useState(!1),[n,r]=O.useState(!1),[s,i]=O.useState(!1),l=async()=>{try{t(!0);const f=["llm-configs","conversations","folders"],d={};for(const v of f){const S=bo(v);d[v]=await S.getAll()}if(s){const v=bo("chats");d.chats=await v.getAll()}else d.chats=[];const h=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),g=URL.createObjectURL(h),y=document.createElement("a");y.href=g,y.download=`juicebox-backup-${new Date().toISOString()}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g)}catch(f){console.error("Export failed:",f),alert("Export failed. Please try again.")}finally{t(!1)}},u=async f=>{var d;try{r(!0);const h=(d=f.target.files)==null?void 0:d[0];if(!h)return;const g=await h.text(),y=JSON.parse(g);if(!(S=>typeof S=="object"&&S!==null&&["llm-configs","conversations","folders","chats"].every(C=>C in S&&Array.isArray(S[C])))(y))throw new Error("Invalid import data format");for(const[S,_]of Object.entries(y)){const C=bo(S);for(const k of _)await C.create(k)}alert("Import successful! Please refresh the page.")}catch(h){console.error("Import failed:",h),alert("Import failed. Please check the file format and try again.")}finally{r(!1),f.target&&(f.target.value="")}};return w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("input",{type:"checkbox",id:"includeChats",checked:s,onChange:f=>i(f.target.checked),className:""}),w.jsx("label",{htmlFor:"includeChats",className:"t",children:"Include chat history in export"})]}),w.jsxs("div",{className:"flex gap-4 items-center",children:[w.jsxs(Ve,{theme:"ghost",onClick:l,disabled:e,className:"flex items-center gap-2",children:[w.jsx(Je,{icon:kT,className:"h-5 w-5"}),e?"Exporting...":"Export Data"]}),w.jsxs("div",{className:"relative",children:[w.jsxs(Ve,{theme:"ghost",disabled:n,className:"flex items-center gap-2",children:[w.jsx(Je,{icon:CT,className:"h-5 w-5"}),n?"Importing...":"Import Data"]}),w.jsx("input",{"aria-label":"Import Data",type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".json",onChange:u,disabled:n})]})]})]})},x8=()=>w.jsxs("div",{className:"space-y-6 max-w-2xl w-full mx-auto",children:[w.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),w.jsx(ms,{title:"Import <> Export",children:w.jsx(v8,{})})]}),w8=[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"cupcake",label:"Cupcake"},{value:"bumblebee",label:"Bumblebee"},{value:"emerald",label:"Emerald"},{value:"corporate",label:"Corporate"},{value:"synthwave",label:"Synthwave"},{value:"retro",label:"Retro"},{value:"cyberpunk",label:"Cyberpunk"},{value:"valentine",label:"Valentine"},{value:"halloween",label:"Halloween"},{value:"garden",label:"Garden"},{value:"forest",label:"Forest"},{value:"aqua",label:"Aqua"},{value:"lofi",label:"Lo-Fi"},{value:"pastel",label:"Pastel"},{value:"fantasy",label:"Fantasy"},{value:"wireframe",label:"Wireframe"},{value:"black",label:"Black"},{value:"luxury",label:"Luxury"},{value:"dracula",label:"Dracula"},{value:"cmyk",label:"CMYK"},{value:"autumn",label:"Autumn"},{value:"business",label:"Business"},{value:"acid",label:"Acid"},{value:"lemonade",label:"Lemonade"},{value:"night",label:"Night"},{value:"coffee",label:"Coffee"},{value:"winter",label:"Winter"},{value:"dim",label:"Dim"},{value:"nord",label:"Nord"},{value:"sunset",label:"Sunset"}],t1=()=>{const{userSettings:e,actions:t}=Tr(),n=r=>{const s=r.target.value;t.userSettings.update({theme:s})};return w.jsxs("div",{className:"w-full max-w-2xl mx-auto px-4 space-y-8",children:[w.jsx("div",{className:"flex flex-row gap-2 items-center pt-8",children:w.jsx("h1",{className:"text-2xl font-bold flex-grow",children:"Theme Settings"})}),w.jsx(ms,{title:"Theme selection",children:w.jsx(Xh,{label:"Select Theme",options:w8,value:(e==null?void 0:e.theme)||"dim",onChange:n,description:"Choose your preferred theme for the application"})})]})},n1=({id:e,title:t,message:n,children:r})=>w.jsx("dialog",{id:e,className:"modal",children:w.jsxs("div",{className:"modal-box",children:[w.jsx("form",{method:"dialog",children:w.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""})}),t&&w.jsx("h3",{className:"font-bold text-lg",children:t}),n&&w.jsx("p",{className:"py-4",children:n}),r]})}),r1=e=>{const t=document.getElementById(e);t==null||t.showModal()},a1=e=>{const t=document.getElementById(e);t==null||t.close()},Cp="new-config-modal",Tp="edit-config-modal",b8=()=>{const{aiServices:e,actions:t}=Tr(),[n,r]=O.useState(null),s=async u=>{await t.aiServices.delete({configId:u})},i=async u=>{try{await t.aiServices.setDefault({configId:u})}catch(f){console.error("Error setting default config:",f)}},l=[...ow].sort().reduce((u,f)=>{const d=e.filter(h=>h.service===f);return d.length>0&&(u[f]=d),u},{});return w.jsxs("div",{className:"w-full max-w-2xl mx-auto px-4 space-y-8",children:[w.jsxs("div",{className:"flex flex-row gap-2 items-center pt-8",children:[w.jsx("h1",{className:"text-2xl font-bold flex-grow",children:"Your AI services"}),w.jsx(Ve,{onClick:()=>r1(Cp),theme:"primary",className:"flex-shrink-0",children:"Add service"})]}),w.jsx("p",{className:"italic",children:"Adding services allows you to connect to different AI models. We recommend Ollama for the most privacy."}),w.jsx("div",{className:"space-y-8",children:Object.entries(l).map(([u,f])=>w.jsxs("div",{className:"space-y-4",children:[w.jsx("h2",{className:"text-xl font-semibold border-b border-base-300 pb-2",children:u}),w.jsx("ul",{className:"space-y-4",children:f.map(d=>w.jsxs("li",{className:"bg-base-200 p-4 rounded-xl flex flex-col gap-4",children:[w.jsx("p",{className:"text-xl font-black",children:d.name}),w.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[w.jsx(Ve,{onClick:()=>{r(d),r1(Tp)},theme:"secondary",isOutline:!0,isSmall:!0,children:"Edit"}),w.jsx(Ve,{onClick:()=>s(d.id),theme:"danger",isOutline:!0,isSmall:!0,children:w.jsx(Je,{icon:ec})}),w.jsx("div",{className:"flex-grow"}),w.jsx(hw,{name:"default-config",label:"Default",theme:d.isDefault?"primary":"custom",isSmall:!0,setTextToLeft:!0,checked:!!d.isDefault,onChange:h=>{h.target.checked&&i(d.id)},value:d.id.toString()})]})]},d.id))})]},u))}),w.jsx(n1,{id:Cp,title:"Create New Config",children:w.jsx(Jp,{afterSubmit:()=>{a1(Cp)}})}),w.jsx(n1,{id:Tp,title:"Edit Config",children:n&&w.jsx(Jp,{initialValues:n,configId:n.id,afterSubmit:()=>{r(null),a1(Tp)}})})]})},S8=()=>{const t=Cr().pathname.split("/settings/")[1]||"theme";return w.jsxs("div",{className:"flex h-screen",children:[w.jsxs("nav",{className:"min-w-3xs max-w-[250px] w-full bg-base-200 pt-8 flex flex-col gap-4",children:[w.jsx(_1,{}),w.jsxs(rs,{href:"/chat",theme:"custom",className:"w-full text-left px-4 pr-2 py-2 hover:bg-base-300",children:[w.jsx(Je,{icon:wT,className:"mr-1"})," Back"]}),w.jsx("ul",{className:"menu rounded-box w-full",children:[{href:"/settings/theme",text:"Theme"},{href:"/settings/llm-configs",text:"Your AI services"},{href:"/settings/settings",text:"General options"},{href:"/settings/ollama",text:"Local Ollama"}].map(({href:n,text:r})=>{const s=t===n.replace("/settings/","");return w.jsx("li",{children:w.jsx(rs,{theme:"custom",href:n,className:s?"bg-primary/30":"",children:r})},n)})})]}),w.jsx("main",{className:"w-full p-4 h-full bg-base-100 overflow-y-auto",children:w.jsxs(g1,{children:[w.jsx(Ln,{path:"/",element:w.jsx(t1,{})}),w.jsx(Ln,{path:"/theme",element:w.jsx(t1,{})}),w.jsx(Ln,{path:"/llm-configs",element:w.jsx(b8,{})}),w.jsx(Ln,{path:"/settings",element:w.jsx(x8,{})}),w.jsx(Ln,{path:"/ollama",element:w.jsx(y8,{})})]})})]})};function _8(){return w.jsx(XI,{children:w.jsx(tT,{children:w.jsxs(g1,{children:[w.jsx(Ln,{path:"/",element:w.jsx(e1,{})}),w.jsx(Ln,{path:"/chat",element:w.jsx(Qx,{})}),w.jsx(Ln,{path:"/chat/:conversationId",element:w.jsx(Qx,{})}),w.jsx(Ln,{path:"/welcome",element:w.jsx(nN,{})}),w.jsx(Ln,{path:"/settings/*",element:w.jsx(S8,{})}),w.jsx(Ln,{path:"*",element:w.jsx(e1,{})})," "]})})})}U2.createRoot(document.getElementById("root")).render(w.jsx(O.StrictMode,{children:w.jsx(_8,{})}));
