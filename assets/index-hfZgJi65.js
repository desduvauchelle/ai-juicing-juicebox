var KS=Object.defineProperty;var XS=(e,t,n)=>t in e?KS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ha=(e,t,n)=>XS(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vf={exports:{}},Xi={},xf={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function QS(){if(Wy)return Fe;Wy=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,k={};function C(M,B,R){this.props=M,this.context=B,this.refs=k,this.updater=R||x}C.prototype.isReactComponent={},C.prototype.setState=function(M,B){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,B,"setState")},C.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function S(){}S.prototype=C.prototype;function T(M,B,R){this.props=M,this.context=B,this.refs=k,this.updater=R||x}var I=T.prototype=new S;I.constructor=T,_(I,C.prototype),I.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function ne(M,B,R){var Ee,Pe={},_e=null,qe=null;if(B!=null)for(Ee in B.ref!==void 0&&(qe=B.ref),B.key!==void 0&&(_e=""+B.key),B)D.call(B,Ee)&&!H.hasOwnProperty(Ee)&&(Pe[Ee]=B[Ee]);var Me=arguments.length-2;if(Me===1)Pe.children=R;else if(1<Me){for(var He=Array(Me),ct=0;ct<Me;ct++)He[ct]=arguments[ct+2];Pe.children=He}if(M&&M.defaultProps)for(Ee in Me=M.defaultProps,Me)Pe[Ee]===void 0&&(Pe[Ee]=Me[Ee]);return{$$typeof:e,type:M,key:_e,ref:qe,props:Pe,_owner:L.current}}function ue(M,B){return{$$typeof:e,type:M.type,key:B,ref:M.ref,props:M.props,_owner:M._owner}}function pe(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function re(M){var B={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(R){return B[R]})}var oe=/\/+/g;function se(M,B){return typeof M=="object"&&M!==null&&M.key!=null?re(""+M.key):B.toString(36)}function G(M,B,R,Ee,Pe){var _e=typeof M;(_e==="undefined"||_e==="boolean")&&(M=null);var qe=!1;if(M===null)qe=!0;else switch(_e){case"string":case"number":qe=!0;break;case"object":switch(M.$$typeof){case e:case t:qe=!0}}if(qe)return qe=M,Pe=Pe(qe),M=Ee===""?"."+se(qe,0):Ee,A(Pe)?(R="",M!=null&&(R=M.replace(oe,"$&/")+"/"),G(Pe,B,R,"",function(ct){return ct})):Pe!=null&&(pe(Pe)&&(Pe=ue(Pe,R+(!Pe.key||qe&&qe.key===Pe.key?"":(""+Pe.key).replace(oe,"$&/")+"/")+M)),B.push(Pe)),1;if(qe=0,Ee=Ee===""?".":Ee+":",A(M))for(var Me=0;Me<M.length;Me++){_e=M[Me];var He=Ee+se(_e,Me);qe+=G(_e,B,R,He,Pe)}else if(He=y(M),typeof He=="function")for(M=He.call(M),Me=0;!(_e=M.next()).done;)_e=_e.value,He=Ee+se(_e,Me++),qe+=G(_e,B,R,He,Pe);else if(_e==="object")throw B=String(M),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return qe}function ie(M,B,R){if(M==null)return M;var Ee=[],Pe=0;return G(M,Ee,"","",function(_e){return B.call(R,_e,Pe++)}),Ee}function he(M){if(M._status===-1){var B=M._result;B=B(),B.then(function(R){(M._status===0||M._status===-1)&&(M._status=1,M._result=R)},function(R){(M._status===0||M._status===-1)&&(M._status=2,M._result=R)}),M._status===-1&&(M._status=0,M._result=B)}if(M._status===1)return M._result.default;throw M._result}var ce={current:null},V={transition:null},W={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:V,ReactCurrentOwner:L};function N(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:ie,forEach:function(M,B,R){ie(M,function(){B.apply(this,arguments)},R)},count:function(M){var B=0;return ie(M,function(){B++}),B},toArray:function(M){return ie(M,function(B){return B})||[]},only:function(M){if(!pe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Fe.Component=C,Fe.Fragment=n,Fe.Profiler=s,Fe.PureComponent=T,Fe.StrictMode=r,Fe.Suspense=f,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,Fe.act=N,Fe.cloneElement=function(M,B,R){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ee=_({},M.props),Pe=M.key,_e=M.ref,qe=M._owner;if(B!=null){if(B.ref!==void 0&&(_e=B.ref,qe=L.current),B.key!==void 0&&(Pe=""+B.key),M.type&&M.type.defaultProps)var Me=M.type.defaultProps;for(He in B)D.call(B,He)&&!H.hasOwnProperty(He)&&(Ee[He]=B[He]===void 0&&Me!==void 0?Me[He]:B[He])}var He=arguments.length-2;if(He===1)Ee.children=R;else if(1<He){Me=Array(He);for(var ct=0;ct<He;ct++)Me[ct]=arguments[ct+2];Ee.children=Me}return{$$typeof:e,type:M.type,key:Pe,ref:_e,props:Ee,_owner:qe}},Fe.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:o,_context:M},M.Consumer=M},Fe.createElement=ne,Fe.createFactory=function(M){var B=ne.bind(null,M);return B.type=M,B},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(M){return{$$typeof:c,render:M}},Fe.isValidElement=pe,Fe.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:he}},Fe.memo=function(M,B){return{$$typeof:d,type:M,compare:B===void 0?null:B}},Fe.startTransition=function(M){var B=V.transition;V.transition={};try{M()}finally{V.transition=B}},Fe.unstable_act=N,Fe.useCallback=function(M,B){return ce.current.useCallback(M,B)},Fe.useContext=function(M){return ce.current.useContext(M)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(M){return ce.current.useDeferredValue(M)},Fe.useEffect=function(M,B){return ce.current.useEffect(M,B)},Fe.useId=function(){return ce.current.useId()},Fe.useImperativeHandle=function(M,B,R){return ce.current.useImperativeHandle(M,B,R)},Fe.useInsertionEffect=function(M,B){return ce.current.useInsertionEffect(M,B)},Fe.useLayoutEffect=function(M,B){return ce.current.useLayoutEffect(M,B)},Fe.useMemo=function(M,B){return ce.current.useMemo(M,B)},Fe.useReducer=function(M,B,R){return ce.current.useReducer(M,B,R)},Fe.useRef=function(M){return ce.current.useRef(M)},Fe.useState=function(M){return ce.current.useState(M)},Fe.useSyncExternalStore=function(M,B,R){return ce.current.useSyncExternalStore(M,B,R)},Fe.useTransition=function(){return ce.current.useTransition()},Fe.version="18.3.1",Fe}var Zy;function ph(){return Zy||(Zy=1,xf.exports=QS()),xf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function e2(){if(Yy)return Xi;Yy=1;var e=ph(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,d){var h,g={},y=null,x=null;d!==void 0&&(y=""+d),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(x=f.ref);for(h in f)r.call(f,h)&&!o.hasOwnProperty(h)&&(g[h]=f[h]);if(c&&c.defaultProps)for(h in f=c.defaultProps,f)g[h]===void 0&&(g[h]=f[h]);return{$$typeof:t,type:c,key:y,ref:x,props:g,_owner:s.current}}return Xi.Fragment=n,Xi.jsx=l,Xi.jsxs=l,Xi}var Gy;function t2(){return Gy||(Gy=1,vf.exports=e2()),vf.exports}var b=t2(),O=ph();const hr=ui(O);var wu={},wf={exports:{}},un={},bf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function n2(){return Jy||(Jy=1,function(e){function t(V,W){var N=V.length;V.push(W);e:for(;0<N;){var M=N-1>>>1,B=V[M];if(0<s(B,W))V[M]=W,V[N]=B,N=M;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var W=V[0],N=V.pop();if(N!==W){V[0]=N;e:for(var M=0,B=V.length,R=B>>>1;M<R;){var Ee=2*(M+1)-1,Pe=V[Ee],_e=Ee+1,qe=V[_e];if(0>s(Pe,N))_e<B&&0>s(qe,Pe)?(V[M]=qe,V[_e]=N,M=_e):(V[M]=Pe,V[Ee]=N,M=Ee);else if(_e<B&&0>s(qe,N))V[M]=qe,V[_e]=N,M=_e;else break e}}return W}function s(V,W){var N=V.sortIndex-W.sortIndex;return N!==0?N:V.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var f=[],d=[],h=1,g=null,y=3,x=!1,_=!1,k=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(V){for(var W=n(d);W!==null;){if(W.callback===null)r(d);else if(W.startTime<=V)r(d),W.sortIndex=W.expirationTime,t(f,W);else break;W=n(d)}}function A(V){if(k=!1,I(V),!_)if(n(f)!==null)_=!0,he(D);else{var W=n(d);W!==null&&ce(A,W.startTime-V)}}function D(V,W){_=!1,k&&(k=!1,S(ne),ne=-1),x=!0;var N=y;try{for(I(W),g=n(f);g!==null&&(!(g.expirationTime>W)||V&&!re());){var M=g.callback;if(typeof M=="function"){g.callback=null,y=g.priorityLevel;var B=M(g.expirationTime<=W);W=e.unstable_now(),typeof B=="function"?g.callback=B:g===n(f)&&r(f),I(W)}else r(f);g=n(f)}if(g!==null)var R=!0;else{var Ee=n(d);Ee!==null&&ce(A,Ee.startTime-W),R=!1}return R}finally{g=null,y=N,x=!1}}var L=!1,H=null,ne=-1,ue=5,pe=-1;function re(){return!(e.unstable_now()-pe<ue)}function oe(){if(H!==null){var V=e.unstable_now();pe=V;var W=!0;try{W=H(!0,V)}finally{W?se():(L=!1,H=null)}}else L=!1}var se;if(typeof T=="function")se=function(){T(oe)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ie=G.port2;G.port1.onmessage=oe,se=function(){ie.postMessage(null)}}else se=function(){C(oe,0)};function he(V){H=V,L||(L=!0,se())}function ce(V,W){ne=C(function(){V(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){_||x||(_=!0,he(D))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(V){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var N=y;y=W;try{return V()}finally{y=N}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,W){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var N=y;y=V;try{return W()}finally{y=N}},e.unstable_scheduleCallback=function(V,W,N){var M=e.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?M+N:M):N=M,V){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=N+B,V={id:h++,callback:W,priorityLevel:V,startTime:N,expirationTime:B,sortIndex:-1},N>M?(V.sortIndex=N,t(d,V),n(f)===null&&V===n(d)&&(k?(S(ne),ne=-1):k=!0,ce(A,N-M))):(V.sortIndex=B,t(f,V),_||x||(_=!0,he(D))),V},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(V){var W=y;return function(){var N=y;y=W;try{return V.apply(this,arguments)}finally{y=N}}}}(_f)),_f}var Ky;function r2(){return Ky||(Ky=1,bf.exports=n2()),bf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function a2(){if(Xy)return un;Xy=1;var e=ph(),t=r2();function n(a){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+a,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(a,i){l(a,i),l(a+"Capture",i)}function l(a,i){for(s[a]=i,a=0;a<i.length;a++)r.add(i[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function y(a){return f.call(g,a)?!0:f.call(h,a)?!1:d.test(a)?g[a]=!0:(h[a]=!0,!1)}function x(a,i,u,p){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,i,u,p){if(i===null||typeof i>"u"||x(a,i,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function k(a,i,u,p,m,w,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=a,this.type=i,this.sanitizeURL=w,this.removeEmptyString=E}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){C[a]=new k(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var i=a[0];C[i]=new k(i,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){C[a]=new k(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){C[a]=new k(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){C[a]=new k(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){C[a]=new k(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){C[a]=new k(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){C[a]=new k(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){C[a]=new k(a,5,!1,a.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var i=a.replace(S,T);C[i]=new k(i,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var i=a.replace(S,T);C[i]=new k(i,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var i=a.replace(S,T);C[i]=new k(i,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){C[a]=new k(a,1,!1,a.toLowerCase(),null,!1,!1)}),C.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){C[a]=new k(a,1,!1,a.toLowerCase(),null,!0,!0)});function I(a,i,u,p){var m=C.hasOwnProperty(i)?C[i]:null;(m!==null?m.type!==0:p||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(_(i,u,m,p)&&(u=null),p||m===null?y(i)&&(u===null?a.removeAttribute(i):a.setAttribute(i,""+u)):m.mustUseProperty?a[m.propertyName]=u===null?m.type===3?!1:"":u:(i=m.attributeName,p=m.attributeNamespace,u===null?a.removeAttribute(i):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,p?a.setAttributeNS(p,i,u):a.setAttribute(i,u))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),pe=Symbol.for("react.provider"),re=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),V=Symbol.iterator;function W(a){return a===null||typeof a!="object"?null:(a=V&&a[V]||a["@@iterator"],typeof a=="function"?a:null)}var N=Object.assign,M;function B(a){if(M===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+a}var R=!1;function Ee(a,i){if(!a||R)return"";R=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(U){var p=U}Reflect.construct(a,[],i)}else{try{i.call()}catch(U){p=U}a.call(i.prototype)}else{try{throw Error()}catch(U){p=U}a()}}catch(U){if(U&&p&&typeof U.stack=="string"){for(var m=U.stack.split(`
`),w=p.stack.split(`
`),E=m.length-1,P=w.length-1;1<=E&&0<=P&&m[E]!==w[P];)P--;for(;1<=E&&0<=P;E--,P--)if(m[E]!==w[P]){if(E!==1||P!==1)do if(E--,P--,0>P||m[E]!==w[P]){var j=`
`+m[E].replace(" at new "," at ");return a.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",a.displayName)),j}while(1<=E&&0<=P);break}}}finally{R=!1,Error.prepareStackTrace=u}return(a=a?a.displayName||a.name:"")?B(a):""}function Pe(a){switch(a.tag){case 5:return B(a.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return a=Ee(a.type,!1),a;case 11:return a=Ee(a.type.render,!1),a;case 1:return a=Ee(a.type,!0),a;default:return""}}function _e(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case H:return"Fragment";case L:return"Portal";case ue:return"Profiler";case ne:return"StrictMode";case se:return"Suspense";case G:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case re:return(a.displayName||"Context")+".Consumer";case pe:return(a._context.displayName||"Context")+".Provider";case oe:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ie:return i=a.displayName||null,i!==null?i:_e(a.type)||"Memo";case he:i=a._payload,a=a._init;try{return _e(a(i))}catch{}}return null}function qe(a){var i=a.type;switch(a.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=i.render,a=a.displayName||a.name||"",i.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(i);case 8:return i===ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function He(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ct(a){var i=He(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,i),p=""+a[i];if(!a.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,w=u.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return m.call(this)},set:function(E){p=""+E,w.call(this,E)}}),Object.defineProperty(a,i,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function fn(a){a._valueTracker||(a._valueTracker=ct(a))}function _t(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var u=i.getValue(),p="";return a&&(p=He(a)?a.checked?"true":"false":a.value),a=p,a!==u?(i.setValue(a),!0):!1}function At(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ft(a,i){var u=i.checked;return N({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??a._wrapperState.initialChecked})}function ye(a,i){var u=i.defaultValue==null?"":i.defaultValue,p=i.checked!=null?i.checked:i.defaultChecked;u=Me(i.value!=null?i.value:u),a._wrapperState={initialChecked:p,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ct(a,i){i=i.checked,i!=null&&I(a,"checked",i,!1)}function Zt(a,i){Ct(a,i);var u=Me(i.value),p=i.type;if(u!=null)p==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+u):a.value!==""+u&&(a.value=""+u);else if(p==="submit"||p==="reset"){a.removeAttribute("value");return}i.hasOwnProperty("value")?zn(a,i.type,u):i.hasOwnProperty("defaultValue")&&zn(a,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(a.defaultChecked=!!i.defaultChecked)}function jt(a,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var p=i.type;if(!(p!=="submit"&&p!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+a._wrapperState.initialValue,u||i===a.value||(a.value=i),a.defaultValue=i}u=a.name,u!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,u!==""&&(a.name=u)}function zn(a,i,u){(i!=="number"||At(a.ownerDocument)!==a)&&(u==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+u&&(a.defaultValue=""+u))}var ar=Array.isArray;function pn(a,i,u,p){if(a=a.options,i){i={};for(var m=0;m<u.length;m++)i["$"+u[m]]=!0;for(u=0;u<a.length;u++)m=i.hasOwnProperty("$"+a[u].value),a[u].selected!==m&&(a[u].selected=m),m&&p&&(a[u].defaultSelected=!0)}else{for(u=""+Me(u),i=null,m=0;m<a.length;m++){if(a[m].value===u){a[m].selected=!0,p&&(a[m].defaultSelected=!0);return}i!==null||a[m].disabled||(i=a[m])}i!==null&&(i.selected=!0)}}function Wr(a,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return N({},i,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Zr(a,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if(ar(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}a._wrapperState={initialValue:Me(u)}}function Pa(a,i){var u=Me(i.value),p=Me(i.defaultValue);u!=null&&(u=""+u,u!==a.value&&(a.value=u),i.defaultValue==null&&a.defaultValue!==u&&(a.defaultValue=u)),p!=null&&(a.defaultValue=""+p)}function Ra(a){var i=a.textContent;i===a._wrapperState.initialValue&&i!==""&&i!==null&&(a.value=i)}function q(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(a,i){return a==null||a==="http://www.w3.org/1999/xhtml"?q(i):a==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var ke,Re=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,p,m){MSApp.execUnsafeLocalFunction(function(){return a(i,u,p,m)})}:a}(function(a,i){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=i;else{for(ke=ke||document.createElement("div"),ke.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ke.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;i.firstChild;)a.appendChild(i.firstChild)}});function Ue(a,i){if(i){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=i;return}}a.textContent=i}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kn=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(a){kn.forEach(function(i){i=i+a.charAt(0).toUpperCase()+a.substring(1),ot[i]=ot[a]})});function en(a,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||ot.hasOwnProperty(a)&&ot[a]?(""+i).trim():i+"px"}function $n(a,i){a=a.style;for(var u in i)if(i.hasOwnProperty(u)){var p=u.indexOf("--")===0,m=en(u,i[u],p);u==="float"&&(u="cssFloat"),p?a.setProperty(u,m):a[u]=m}}var Yt=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xt(a,i){if(i){if(Yt[a]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function It(a,i){if(a.indexOf("-")===-1)return typeof i.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gt=null;function Aa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var gs=null,Sn=null,Yr=null;function gi(a){if(a=Li(a)){if(typeof gs!="function")throw Error(n(280));var i=a.stateNode;i&&(i=Dl(i),gs(a.stateNode,a.type,i))}}function ys(a){Sn?Yr?Yr.push(a):Yr=[a]:Sn=a}function tn(){if(Sn){var a=Sn,i=Yr;if(Yr=Sn=null,gi(a),i)for(a=0;a<i.length;a++)gi(i[a])}}function Cr(a,i){return a(i)}function yi(){}var vs=!1;function vi(a,i,u){if(vs)return a(i,u);vs=!0;try{return Cr(a,i,u)}finally{vs=!1,(Sn!==null||Yr!==null)&&(yi(),tn())}}function Er(a,i){var u=a.stateNode;if(u===null)return null;var p=Dl(u);if(p===null)return null;u=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var Be=!1;if(c)try{var lt={};Object.defineProperty(lt,"passive",{get:function(){Be=!0}}),window.addEventListener("test",lt,lt),window.removeEventListener("test",lt,lt)}catch{Be=!1}function Cn(a,i,u,p,m,w,E,P,j){var U=Array.prototype.slice.call(arguments,3);try{i.apply(u,U)}catch(Y){this.onError(Y)}}var Un=!1,En=null,ja=!1,nn=null,xs={onError:function(a){Un=!0,En=a}};function sk(a,i,u,p,m,w,E,P,j){Un=!1,En=null,Cn.apply(xs,arguments)}function ik(a,i,u,p,m,w,E,P,j){if(sk.apply(this,arguments),Un){if(Un){var U=En;Un=!1,En=null}else throw Error(n(198));ja||(ja=!0,nn=U)}}function Da(a){var i=a,u=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,i.flags&4098&&(u=i.return),a=i.return;while(a)}return i.tag===3?u:null}function mm(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function gm(a){if(Da(a)!==a)throw Error(n(188))}function ok(a){var i=a.alternate;if(!i){if(i=Da(a),i===null)throw Error(n(188));return i!==a?null:a}for(var u=a,p=i;;){var m=u.return;if(m===null)break;var w=m.alternate;if(w===null){if(p=m.return,p!==null){u=p;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===u)return gm(m),a;if(w===p)return gm(m),i;w=w.sibling}throw Error(n(188))}if(u.return!==p.return)u=m,p=w;else{for(var E=!1,P=m.child;P;){if(P===u){E=!0,u=m,p=w;break}if(P===p){E=!0,p=m,u=w;break}P=P.sibling}if(!E){for(P=w.child;P;){if(P===u){E=!0,u=w,p=m;break}if(P===p){E=!0,p=w,u=m;break}P=P.sibling}if(!E)throw Error(n(189))}}if(u.alternate!==p)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:i}function ym(a){return a=ok(a),a!==null?vm(a):null}function vm(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var i=vm(a);if(i!==null)return i;a=a.sibling}return null}var xm=t.unstable_scheduleCallback,wm=t.unstable_cancelCallback,lk=t.unstable_shouldYield,uk=t.unstable_requestPaint,wt=t.unstable_now,ck=t.unstable_getCurrentPriorityLevel,Lc=t.unstable_ImmediatePriority,bm=t.unstable_UserBlockingPriority,ml=t.unstable_NormalPriority,dk=t.unstable_LowPriority,_m=t.unstable_IdlePriority,gl=null,sr=null;function fk(a){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(gl,a,void 0,(a.current.flags&128)===128)}catch{}}var Bn=Math.clz32?Math.clz32:mk,pk=Math.log,hk=Math.LN2;function mk(a){return a>>>=0,a===0?32:31-(pk(a)/hk|0)|0}var yl=64,vl=4194304;function xi(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function xl(a,i){var u=a.pendingLanes;if(u===0)return 0;var p=0,m=a.suspendedLanes,w=a.pingedLanes,E=u&268435455;if(E!==0){var P=E&~m;P!==0?p=xi(P):(w&=E,w!==0&&(p=xi(w)))}else E=u&~m,E!==0?p=xi(E):w!==0&&(p=xi(w));if(p===0)return 0;if(i!==0&&i!==p&&!(i&m)&&(m=p&-p,w=i&-i,m>=w||m===16&&(w&4194240)!==0))return i;if(p&4&&(p|=u&16),i=a.entangledLanes,i!==0)for(a=a.entanglements,i&=p;0<i;)u=31-Bn(i),m=1<<u,p|=a[u],i&=~m;return p}function gk(a,i){switch(a){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yk(a,i){for(var u=a.suspendedLanes,p=a.pingedLanes,m=a.expirationTimes,w=a.pendingLanes;0<w;){var E=31-Bn(w),P=1<<E,j=m[E];j===-1?(!(P&u)||P&p)&&(m[E]=gk(P,i)):j<=i&&(a.expiredLanes|=P),w&=~P}}function Fc(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function km(){var a=yl;return yl<<=1,!(yl&4194240)&&(yl=64),a}function zc(a){for(var i=[],u=0;31>u;u++)i.push(a);return i}function wi(a,i,u){a.pendingLanes|=i,i!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,i=31-Bn(i),a[i]=u}function vk(a,i){var u=a.pendingLanes&~i;a.pendingLanes=i,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=i,a.mutableReadLanes&=i,a.entangledLanes&=i,i=a.entanglements;var p=a.eventTimes;for(a=a.expirationTimes;0<u;){var m=31-Bn(u),w=1<<m;i[m]=0,p[m]=-1,a[m]=-1,u&=~w}}function $c(a,i){var u=a.entangledLanes|=i;for(a=a.entanglements;u;){var p=31-Bn(u),m=1<<p;m&i|a[p]&i&&(a[p]|=i),u&=~m}}var Xe=0;function Sm(a){return a&=-a,1<a?4<a?a&268435455?16:536870912:4:1}var Cm,Uc,Em,Tm,Im,Bc=!1,wl=[],Gr=null,Jr=null,Kr=null,bi=new Map,_i=new Map,Xr=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nm(a,i){switch(a){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":bi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(i.pointerId)}}function ki(a,i,u,p,m,w){return a===null||a.nativeEvent!==w?(a={blockedOn:i,domEventName:u,eventSystemFlags:p,nativeEvent:w,targetContainers:[m]},i!==null&&(i=Li(i),i!==null&&Uc(i)),a):(a.eventSystemFlags|=p,i=a.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),a)}function wk(a,i,u,p,m){switch(i){case"focusin":return Gr=ki(Gr,a,i,u,p,m),!0;case"dragenter":return Jr=ki(Jr,a,i,u,p,m),!0;case"mouseover":return Kr=ki(Kr,a,i,u,p,m),!0;case"pointerover":var w=m.pointerId;return bi.set(w,ki(bi.get(w)||null,a,i,u,p,m)),!0;case"gotpointercapture":return w=m.pointerId,_i.set(w,ki(_i.get(w)||null,a,i,u,p,m)),!0}return!1}function Om(a){var i=Ma(a.target);if(i!==null){var u=Da(i);if(u!==null){if(i=u.tag,i===13){if(i=mm(u),i!==null){a.blockedOn=i,Im(a.priority,function(){Em(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function bl(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var u=qc(a.domEventName,a.eventSystemFlags,i[0],a.nativeEvent);if(u===null){u=a.nativeEvent;var p=new u.constructor(u.type,u);gt=p,u.target.dispatchEvent(p),gt=null}else return i=Li(u),i!==null&&Uc(i),a.blockedOn=u,!1;i.shift()}return!0}function Pm(a,i,u){bl(a)&&u.delete(i)}function bk(){Bc=!1,Gr!==null&&bl(Gr)&&(Gr=null),Jr!==null&&bl(Jr)&&(Jr=null),Kr!==null&&bl(Kr)&&(Kr=null),bi.forEach(Pm),_i.forEach(Pm)}function Si(a,i){a.blockedOn===i&&(a.blockedOn=null,Bc||(Bc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bk)))}function Ci(a){function i(m){return Si(m,a)}if(0<wl.length){Si(wl[0],a);for(var u=1;u<wl.length;u++){var p=wl[u];p.blockedOn===a&&(p.blockedOn=null)}}for(Gr!==null&&Si(Gr,a),Jr!==null&&Si(Jr,a),Kr!==null&&Si(Kr,a),bi.forEach(i),_i.forEach(i),u=0;u<Xr.length;u++)p=Xr[u],p.blockedOn===a&&(p.blockedOn=null);for(;0<Xr.length&&(u=Xr[0],u.blockedOn===null);)Om(u),u.blockedOn===null&&Xr.shift()}var ws=A.ReactCurrentBatchConfig,_l=!0;function _k(a,i,u,p){var m=Xe,w=ws.transition;ws.transition=null;try{Xe=1,Hc(a,i,u,p)}finally{Xe=m,ws.transition=w}}function kk(a,i,u,p){var m=Xe,w=ws.transition;ws.transition=null;try{Xe=4,Hc(a,i,u,p)}finally{Xe=m,ws.transition=w}}function Hc(a,i,u,p){if(_l){var m=qc(a,i,u,p);if(m===null)od(a,i,p,kl,u),Nm(a,p);else if(wk(m,a,i,u,p))p.stopPropagation();else if(Nm(a,p),i&4&&-1<xk.indexOf(a)){for(;m!==null;){var w=Li(m);if(w!==null&&Cm(w),w=qc(a,i,u,p),w===null&&od(a,i,p,kl,u),w===m)break;m=w}m!==null&&p.stopPropagation()}else od(a,i,p,null,u)}}var kl=null;function qc(a,i,u,p){if(kl=null,a=Aa(p),a=Ma(a),a!==null)if(i=Da(a),i===null)a=null;else if(u=i.tag,u===13){if(a=mm(i),a!==null)return a;a=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null);return kl=a,null}function Rm(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ck()){case Lc:return 1;case bm:return 4;case ml:case dk:return 16;case _m:return 536870912;default:return 16}default:return 16}}var Qr=null,Vc=null,Sl=null;function Am(){if(Sl)return Sl;var a,i=Vc,u=i.length,p,m="value"in Qr?Qr.value:Qr.textContent,w=m.length;for(a=0;a<u&&i[a]===m[a];a++);var E=u-a;for(p=1;p<=E&&i[u-p]===m[w-p];p++);return Sl=m.slice(a,1<p?1-p:void 0)}function Cl(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function El(){return!0}function jm(){return!1}function hn(a){function i(u,p,m,w,E){this._reactName=u,this._targetInst=m,this.type=p,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var P in a)a.hasOwnProperty(P)&&(u=a[P],this[P]=u?u(w):w[P]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?El:jm,this.isPropagationStopped=jm,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),i}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wc=hn(bs),Ei=N({},bs,{view:0,detail:0}),Sk=hn(Ei),Zc,Yc,Ti,Tl=N({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jc,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Ti&&(Ti&&a.type==="mousemove"?(Zc=a.screenX-Ti.screenX,Yc=a.screenY-Ti.screenY):Yc=Zc=0,Ti=a),Zc)},movementY:function(a){return"movementY"in a?a.movementY:Yc}}),Dm=hn(Tl),Ck=N({},Tl,{dataTransfer:0}),Ek=hn(Ck),Tk=N({},Ei,{relatedTarget:0}),Gc=hn(Tk),Ik=N({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=hn(Ik),Ok=N({},bs,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Pk=hn(Ok),Rk=N({},bs,{data:0}),Mm=hn(Rk),Ak={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mk(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Dk[a])?!!i[a]:!1}function Jc(){return Mk}var Lk=N({},Ei,{key:function(a){if(a.key){var i=Ak[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Cl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?jk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jc,charCode:function(a){return a.type==="keypress"?Cl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Cl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Fk=hn(Lk),zk=N({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lm=hn(zk),$k=N({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jc}),Uk=hn($k),Bk=N({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hk=hn(Bk),qk=N({},Tl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Vk=hn(qk),Wk=[9,13,27,32],Kc=c&&"CompositionEvent"in window,Ii=null;c&&"documentMode"in document&&(Ii=document.documentMode);var Zk=c&&"TextEvent"in window&&!Ii,Fm=c&&(!Kc||Ii&&8<Ii&&11>=Ii),zm=" ",$m=!1;function Um(a,i){switch(a){case"keyup":return Wk.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var _s=!1;function Yk(a,i){switch(a){case"compositionend":return Bm(i);case"keypress":return i.which!==32?null:($m=!0,zm);case"textInput":return a=i.data,a===zm&&$m?null:a;default:return null}}function Gk(a,i){if(_s)return a==="compositionend"||!Kc&&Um(a,i)?(a=Am(),Sl=Vc=Qr=null,_s=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fm&&i.locale!=="ko"?null:i.data;default:return null}}var Jk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hm(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!Jk[a.type]:i==="textarea"}function qm(a,i,u,p){ys(p),i=Rl(i,"onChange"),0<i.length&&(u=new Wc("onChange","change",null,u,p),a.push({event:u,listeners:i}))}var Ni=null,Oi=null;function Kk(a){lg(a,0)}function Il(a){var i=Ts(a);if(_t(i))return a}function Xk(a,i){if(a==="change")return i}var Vm=!1;if(c){var Xc;if(c){var Qc="oninput"in document;if(!Qc){var Wm=document.createElement("div");Wm.setAttribute("oninput","return;"),Qc=typeof Wm.oninput=="function"}Xc=Qc}else Xc=!1;Vm=Xc&&(!document.documentMode||9<document.documentMode)}function Zm(){Ni&&(Ni.detachEvent("onpropertychange",Ym),Oi=Ni=null)}function Ym(a){if(a.propertyName==="value"&&Il(Oi)){var i=[];qm(i,Oi,a,Aa(a)),vi(Kk,i)}}function Qk(a,i,u){a==="focusin"?(Zm(),Ni=i,Oi=u,Ni.attachEvent("onpropertychange",Ym)):a==="focusout"&&Zm()}function eS(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Il(Oi)}function tS(a,i){if(a==="click")return Il(i)}function nS(a,i){if(a==="input"||a==="change")return Il(i)}function rS(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var Hn=typeof Object.is=="function"?Object.is:rS;function Pi(a,i){if(Hn(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var u=Object.keys(a),p=Object.keys(i);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var m=u[p];if(!f.call(i,m)||!Hn(a[m],i[m]))return!1}return!0}function Gm(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Jm(a,i){var u=Gm(a);a=0;for(var p;u;){if(u.nodeType===3){if(p=a+u.textContent.length,a<=i&&p>=i)return{node:u,offset:i-a};a=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Gm(u)}}function Km(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?Km(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function Xm(){for(var a=window,i=At();i instanceof a.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)a=i.contentWindow;else break;i=At(a.document)}return i}function ed(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}function aS(a){var i=Xm(),u=a.focusedElem,p=a.selectionRange;if(i!==u&&u&&u.ownerDocument&&Km(u.ownerDocument.documentElement,u)){if(p!==null&&ed(u)){if(i=p.start,a=p.end,a===void 0&&(a=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(a,u.value.length);else if(a=(i=u.ownerDocument||document)&&i.defaultView||window,a.getSelection){a=a.getSelection();var m=u.textContent.length,w=Math.min(p.start,m);p=p.end===void 0?w:Math.min(p.end,m),!a.extend&&w>p&&(m=p,p=w,w=m),m=Jm(u,w);var E=Jm(u,p);m&&E&&(a.rangeCount!==1||a.anchorNode!==m.node||a.anchorOffset!==m.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),a.removeAllRanges(),w>p?(a.addRange(i),a.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),a.addRange(i)))}}for(i=[],a=u;a=a.parentNode;)a.nodeType===1&&i.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)a=i[u],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var sS=c&&"documentMode"in document&&11>=document.documentMode,ks=null,td=null,Ri=null,nd=!1;function Qm(a,i,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;nd||ks==null||ks!==At(p)||(p=ks,"selectionStart"in p&&ed(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ri&&Pi(Ri,p)||(Ri=p,p=Rl(td,"onSelect"),0<p.length&&(i=new Wc("onSelect","select",null,i,u),a.push({event:i,listeners:p}),i.target=ks)))}function Nl(a,i){var u={};return u[a.toLowerCase()]=i.toLowerCase(),u["Webkit"+a]="webkit"+i,u["Moz"+a]="moz"+i,u}var Ss={animationend:Nl("Animation","AnimationEnd"),animationiteration:Nl("Animation","AnimationIteration"),animationstart:Nl("Animation","AnimationStart"),transitionend:Nl("Transition","TransitionEnd")},rd={},eg={};c&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Ol(a){if(rd[a])return rd[a];if(!Ss[a])return a;var i=Ss[a],u;for(u in i)if(i.hasOwnProperty(u)&&u in eg)return rd[a]=i[u];return a}var tg=Ol("animationend"),ng=Ol("animationiteration"),rg=Ol("animationstart"),ag=Ol("transitionend"),sg=new Map,ig="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ea(a,i){sg.set(a,i),o(i,[a])}for(var ad=0;ad<ig.length;ad++){var sd=ig[ad],iS=sd.toLowerCase(),oS=sd[0].toUpperCase()+sd.slice(1);ea(iS,"on"+oS)}ea(tg,"onAnimationEnd"),ea(ng,"onAnimationIteration"),ea(rg,"onAnimationStart"),ea("dblclick","onDoubleClick"),ea("focusin","onFocus"),ea("focusout","onBlur"),ea(ag,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function og(a,i,u){var p=a.type||"unknown-event";a.currentTarget=u,ik(p,i,void 0,a),a.currentTarget=null}function lg(a,i){i=(i&4)!==0;for(var u=0;u<a.length;u++){var p=a[u],m=p.event;p=p.listeners;e:{var w=void 0;if(i)for(var E=p.length-1;0<=E;E--){var P=p[E],j=P.instance,U=P.currentTarget;if(P=P.listener,j!==w&&m.isPropagationStopped())break e;og(m,P,U),w=j}else for(E=0;E<p.length;E++){if(P=p[E],j=P.instance,U=P.currentTarget,P=P.listener,j!==w&&m.isPropagationStopped())break e;og(m,P,U),w=j}}}if(ja)throw a=nn,ja=!1,nn=null,a}function rt(a,i){var u=i[pd];u===void 0&&(u=i[pd]=new Set);var p=a+"__bubble";u.has(p)||(ug(i,a,2,!1),u.add(p))}function id(a,i,u){var p=0;i&&(p|=4),ug(u,a,p,i)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function ji(a){if(!a[Pl]){a[Pl]=!0,r.forEach(function(u){u!=="selectionchange"&&(lS.has(u)||id(u,!1,a),id(u,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Pl]||(i[Pl]=!0,id("selectionchange",!1,i))}}function ug(a,i,u,p){switch(Rm(i)){case 1:var m=_k;break;case 4:m=kk;break;default:m=Hc}u=m.bind(null,i,u,a),m=void 0,!Be||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),p?m!==void 0?a.addEventListener(i,u,{capture:!0,passive:m}):a.addEventListener(i,u,!0):m!==void 0?a.addEventListener(i,u,{passive:m}):a.addEventListener(i,u,!1)}function od(a,i,u,p,m){var w=p;if(!(i&1)&&!(i&2)&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var P=p.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(E===4)for(E=p.return;E!==null;){var j=E.tag;if((j===3||j===4)&&(j=E.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;E=E.return}for(;P!==null;){if(E=Ma(P),E===null)return;if(j=E.tag,j===5||j===6){p=w=E;continue e}P=P.parentNode}}p=p.return}vi(function(){var U=w,Y=Aa(u),J=[];e:{var Z=sg.get(a);if(Z!==void 0){var de=Wc,ge=a;switch(a){case"keypress":if(Cl(u)===0)break e;case"keydown":case"keyup":de=Fk;break;case"focusin":ge="focus",de=Gc;break;case"focusout":ge="blur",de=Gc;break;case"beforeblur":case"afterblur":de=Gc;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Dm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Uk;break;case tg:case ng:case rg:de=Nk;break;case ag:de=Hk;break;case"scroll":de=Sk;break;case"wheel":de=Vk;break;case"copy":case"cut":case"paste":de=Pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=Lm}var ve=(i&4)!==0,bt=!ve&&a==="scroll",z=ve?Z!==null?Z+"Capture":null:Z;ve=[];for(var F=U,$;F!==null;){$=F;var te=$.stateNode;if($.tag===5&&te!==null&&($=te,z!==null&&(te=Er(F,z),te!=null&&ve.push(Di(F,te,$)))),bt)break;F=F.return}0<ve.length&&(Z=new de(Z,ge,null,u,Y),J.push({event:Z,listeners:ve}))}}if(!(i&7)){e:{if(Z=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",Z&&u!==gt&&(ge=u.relatedTarget||u.fromElement)&&(Ma(ge)||ge[Tr]))break e;if((de||Z)&&(Z=Y.window===Y?Y:(Z=Y.ownerDocument)?Z.defaultView||Z.parentWindow:window,de?(ge=u.relatedTarget||u.toElement,de=U,ge=ge?Ma(ge):null,ge!==null&&(bt=Da(ge),ge!==bt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=U),de!==ge)){if(ve=Dm,te="onMouseLeave",z="onMouseEnter",F="mouse",(a==="pointerout"||a==="pointerover")&&(ve=Lm,te="onPointerLeave",z="onPointerEnter",F="pointer"),bt=de==null?Z:Ts(de),$=ge==null?Z:Ts(ge),Z=new ve(te,F+"leave",de,u,Y),Z.target=bt,Z.relatedTarget=$,te=null,Ma(Y)===U&&(ve=new ve(z,F+"enter",ge,u,Y),ve.target=$,ve.relatedTarget=bt,te=ve),bt=te,de&&ge)t:{for(ve=de,z=ge,F=0,$=ve;$;$=Cs($))F++;for($=0,te=z;te;te=Cs(te))$++;for(;0<F-$;)ve=Cs(ve),F--;for(;0<$-F;)z=Cs(z),$--;for(;F--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=Cs(ve),z=Cs(z)}ve=null}else ve=null;de!==null&&cg(J,Z,de,ve,!1),ge!==null&&bt!==null&&cg(J,bt,ge,ve,!0)}}e:{if(Z=U?Ts(U):window,de=Z.nodeName&&Z.nodeName.toLowerCase(),de==="select"||de==="input"&&Z.type==="file")var xe=Xk;else if(Hm(Z))if(Vm)xe=nS;else{xe=eS;var Se=Qk}else(de=Z.nodeName)&&de.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(xe=tS);if(xe&&(xe=xe(a,U))){qm(J,xe,u,Y);break e}Se&&Se(a,Z,U),a==="focusout"&&(Se=Z._wrapperState)&&Se.controlled&&Z.type==="number"&&zn(Z,"number",Z.value)}switch(Se=U?Ts(U):window,a){case"focusin":(Hm(Se)||Se.contentEditable==="true")&&(ks=Se,td=U,Ri=null);break;case"focusout":Ri=td=ks=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Qm(J,u,Y);break;case"selectionchange":if(sS)break;case"keydown":case"keyup":Qm(J,u,Y)}var Ce;if(Kc)e:{switch(a){case"compositionstart":var Ie="onCompositionStart";break e;case"compositionend":Ie="onCompositionEnd";break e;case"compositionupdate":Ie="onCompositionUpdate";break e}Ie=void 0}else _s?Um(a,u)&&(Ie="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Ie="onCompositionStart");Ie&&(Fm&&u.locale!=="ko"&&(_s||Ie!=="onCompositionStart"?Ie==="onCompositionEnd"&&_s&&(Ce=Am()):(Qr=Y,Vc="value"in Qr?Qr.value:Qr.textContent,_s=!0)),Se=Rl(U,Ie),0<Se.length&&(Ie=new Mm(Ie,a,null,u,Y),J.push({event:Ie,listeners:Se}),Ce?Ie.data=Ce:(Ce=Bm(u),Ce!==null&&(Ie.data=Ce)))),(Ce=Zk?Yk(a,u):Gk(a,u))&&(U=Rl(U,"onBeforeInput"),0<U.length&&(Y=new Mm("onBeforeInput","beforeinput",null,u,Y),J.push({event:Y,listeners:U}),Y.data=Ce))}lg(J,i)})}function Di(a,i,u){return{instance:a,listener:i,currentTarget:u}}function Rl(a,i){for(var u=i+"Capture",p=[];a!==null;){var m=a,w=m.stateNode;m.tag===5&&w!==null&&(m=w,w=Er(a,u),w!=null&&p.unshift(Di(a,w,m)),w=Er(a,i),w!=null&&p.push(Di(a,w,m))),a=a.return}return p}function Cs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function cg(a,i,u,p,m){for(var w=i._reactName,E=[];u!==null&&u!==p;){var P=u,j=P.alternate,U=P.stateNode;if(j!==null&&j===p)break;P.tag===5&&U!==null&&(P=U,m?(j=Er(u,w),j!=null&&E.unshift(Di(u,j,P))):m||(j=Er(u,w),j!=null&&E.push(Di(u,j,P)))),u=u.return}E.length!==0&&a.push({event:i,listeners:E})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function dg(a){return(typeof a=="string"?a:""+a).replace(uS,`
`).replace(cS,"")}function Al(a,i,u){if(i=dg(i),dg(a)!==i&&u)throw Error(n(425))}function jl(){}var ld=null,ud=null;function cd(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,fg=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof fg<"u"?function(a){return fg.resolve(null).then(a).catch(pS)}:dd;function pS(a){setTimeout(function(){throw a})}function fd(a,i){var u=i,p=0;do{var m=u.nextSibling;if(a.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(p===0){a.removeChild(m),Ci(i);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=m}while(u);Ci(i)}function ta(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return a}function pg(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return a;i--}else u==="/$"&&i++}a=a.previousSibling}return null}var Es=Math.random().toString(36).slice(2),ir="__reactFiber$"+Es,Mi="__reactProps$"+Es,Tr="__reactContainer$"+Es,pd="__reactEvents$"+Es,hS="__reactListeners$"+Es,mS="__reactHandles$"+Es;function Ma(a){var i=a[ir];if(i)return i;for(var u=a.parentNode;u;){if(i=u[Tr]||u[ir]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(a=pg(a);a!==null;){if(u=a[ir])return u;a=pg(a)}return i}a=u,u=a.parentNode}return null}function Li(a){return a=a[ir]||a[Tr],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ts(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Dl(a){return a[Mi]||null}var hd=[],Is=-1;function na(a){return{current:a}}function at(a){0>Is||(a.current=hd[Is],hd[Is]=null,Is--)}function et(a,i){Is++,hd[Is]=a.current,a.current=i}var ra={},zt=na(ra),rn=na(!1),La=ra;function Ns(a,i){var u=a.type.contextTypes;if(!u)return ra;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===i)return p.__reactInternalMemoizedMaskedChildContext;var m={},w;for(w in u)m[w]=i[w];return p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=i,a.__reactInternalMemoizedMaskedChildContext=m),m}function an(a){return a=a.childContextTypes,a!=null}function Ml(){at(rn),at(zt)}function hg(a,i,u){if(zt.current!==ra)throw Error(n(168));et(zt,i),et(rn,u)}function mg(a,i,u){var p=a.stateNode;if(i=i.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var m in p)if(!(m in i))throw Error(n(108,qe(a)||"Unknown",m));return N({},u,p)}function Ll(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||ra,La=zt.current,et(zt,a),et(rn,rn.current),!0}function gg(a,i,u){var p=a.stateNode;if(!p)throw Error(n(169));u?(a=mg(a,i,La),p.__reactInternalMemoizedMergedChildContext=a,at(rn),at(zt),et(zt,a)):at(rn),et(rn,u)}var Ir=null,Fl=!1,md=!1;function yg(a){Ir===null?Ir=[a]:Ir.push(a)}function gS(a){Fl=!0,yg(a)}function aa(){if(!md&&Ir!==null){md=!0;var a=0,i=Xe;try{var u=Ir;for(Xe=1;a<u.length;a++){var p=u[a];do p=p(!0);while(p!==null)}Ir=null,Fl=!1}catch(m){throw Ir!==null&&(Ir=Ir.slice(a+1)),xm(Lc,aa),m}finally{Xe=i,md=!1}}return null}var Os=[],Ps=0,zl=null,$l=0,Tn=[],In=0,Fa=null,Nr=1,Or="";function za(a,i){Os[Ps++]=$l,Os[Ps++]=zl,zl=a,$l=i}function vg(a,i,u){Tn[In++]=Nr,Tn[In++]=Or,Tn[In++]=Fa,Fa=a;var p=Nr;a=Or;var m=32-Bn(p)-1;p&=~(1<<m),u+=1;var w=32-Bn(i)+m;if(30<w){var E=m-m%5;w=(p&(1<<E)-1).toString(32),p>>=E,m-=E,Nr=1<<32-Bn(i)+m|u<<m|p,Or=w+a}else Nr=1<<w|u<<m|p,Or=a}function gd(a){a.return!==null&&(za(a,1),vg(a,1,0))}function yd(a){for(;a===zl;)zl=Os[--Ps],Os[Ps]=null,$l=Os[--Ps],Os[Ps]=null;for(;a===Fa;)Fa=Tn[--In],Tn[In]=null,Or=Tn[--In],Tn[In]=null,Nr=Tn[--In],Tn[In]=null}var mn=null,gn=null,ut=!1,qn=null;function xg(a,i){var u=Rn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=a,i=a.deletions,i===null?(a.deletions=[u],a.flags|=16):i.push(u)}function wg(a,i){switch(a.tag){case 5:var u=a.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(a.stateNode=i,mn=a,gn=ta(i.firstChild),!0):!1;case 6:return i=a.pendingProps===""||i.nodeType!==3?null:i,i!==null?(a.stateNode=i,mn=a,gn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Fa!==null?{id:Nr,overflow:Or}:null,a.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Rn(18,null,null,0),u.stateNode=i,u.return=a,a.child=u,mn=a,gn=null,!0):!1;default:return!1}}function vd(a){return(a.mode&1)!==0&&(a.flags&128)===0}function xd(a){if(ut){var i=gn;if(i){var u=i;if(!wg(a,i)){if(vd(a))throw Error(n(418));i=ta(u.nextSibling);var p=mn;i&&wg(a,i)?xg(p,u):(a.flags=a.flags&-4097|2,ut=!1,mn=a)}}else{if(vd(a))throw Error(n(418));a.flags=a.flags&-4097|2,ut=!1,mn=a}}}function bg(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;mn=a}function Ul(a){if(a!==mn)return!1;if(!ut)return bg(a),ut=!0,!1;var i;if((i=a.tag!==3)&&!(i=a.tag!==5)&&(i=a.type,i=i!=="head"&&i!=="body"&&!cd(a.type,a.memoizedProps)),i&&(i=gn)){if(vd(a))throw _g(),Error(n(418));for(;i;)xg(a,i),i=ta(i.nextSibling)}if(bg(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,i=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"){if(i===0){gn=ta(a.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}a=a.nextSibling}gn=null}}else gn=mn?ta(a.stateNode.nextSibling):null;return!0}function _g(){for(var a=gn;a;)a=ta(a.nextSibling)}function Rs(){gn=mn=null,ut=!1}function wd(a){qn===null?qn=[a]:qn.push(a)}var yS=A.ReactCurrentBatchConfig;function Fi(a,i,u){if(a=u.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var p=u.stateNode}if(!p)throw Error(n(147,a));var m=p,w=""+a;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===w?i.ref:(i=function(E){var P=m.refs;E===null?delete P[w]:P[w]=E},i._stringRef=w,i)}if(typeof a!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,a))}return a}function Bl(a,i){throw a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a))}function kg(a){var i=a._init;return i(a._payload)}function Sg(a){function i(z,F){if(a){var $=z.deletions;$===null?(z.deletions=[F],z.flags|=16):$.push(F)}}function u(z,F){if(!a)return null;for(;F!==null;)i(z,F),F=F.sibling;return null}function p(z,F){for(z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function m(z,F){return z=fa(z,F),z.index=0,z.sibling=null,z}function w(z,F,$){return z.index=$,a?($=z.alternate,$!==null?($=$.index,$<F?(z.flags|=2,F):$):(z.flags|=2,F)):(z.flags|=1048576,F)}function E(z){return a&&z.alternate===null&&(z.flags|=2),z}function P(z,F,$,te){return F===null||F.tag!==6?(F=ff($,z.mode,te),F.return=z,F):(F=m(F,$),F.return=z,F)}function j(z,F,$,te){var xe=$.type;return xe===H?Y(z,F,$.props.children,te,$.key):F!==null&&(F.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===he&&kg(xe)===F.type)?(te=m(F,$.props),te.ref=Fi(z,F,$),te.return=z,te):(te=fu($.type,$.key,$.props,null,z.mode,te),te.ref=Fi(z,F,$),te.return=z,te)}function U(z,F,$,te){return F===null||F.tag!==4||F.stateNode.containerInfo!==$.containerInfo||F.stateNode.implementation!==$.implementation?(F=pf($,z.mode,te),F.return=z,F):(F=m(F,$.children||[]),F.return=z,F)}function Y(z,F,$,te,xe){return F===null||F.tag!==7?(F=Za($,z.mode,te,xe),F.return=z,F):(F=m(F,$),F.return=z,F)}function J(z,F,$){if(typeof F=="string"&&F!==""||typeof F=="number")return F=ff(""+F,z.mode,$),F.return=z,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return $=fu(F.type,F.key,F.props,null,z.mode,$),$.ref=Fi(z,null,F),$.return=z,$;case L:return F=pf(F,z.mode,$),F.return=z,F;case he:var te=F._init;return J(z,te(F._payload),$)}if(ar(F)||W(F))return F=Za(F,z.mode,$,null),F.return=z,F;Bl(z,F)}return null}function Z(z,F,$,te){var xe=F!==null?F.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return xe!==null?null:P(z,F,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return $.key===xe?j(z,F,$,te):null;case L:return $.key===xe?U(z,F,$,te):null;case he:return xe=$._init,Z(z,F,xe($._payload),te)}if(ar($)||W($))return xe!==null?null:Y(z,F,$,te,null);Bl(z,$)}return null}function de(z,F,$,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number")return z=z.get($)||null,P(F,z,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case D:return z=z.get(te.key===null?$:te.key)||null,j(F,z,te,xe);case L:return z=z.get(te.key===null?$:te.key)||null,U(F,z,te,xe);case he:var Se=te._init;return de(z,F,$,Se(te._payload),xe)}if(ar(te)||W(te))return z=z.get($)||null,Y(F,z,te,xe,null);Bl(F,te)}return null}function ge(z,F,$,te){for(var xe=null,Se=null,Ce=F,Ie=F=0,Pt=null;Ce!==null&&Ie<$.length;Ie++){Ce.index>Ie?(Pt=Ce,Ce=null):Pt=Ce.sibling;var Ye=Z(z,Ce,$[Ie],te);if(Ye===null){Ce===null&&(Ce=Pt);break}a&&Ce&&Ye.alternate===null&&i(z,Ce),F=w(Ye,F,Ie),Se===null?xe=Ye:Se.sibling=Ye,Se=Ye,Ce=Pt}if(Ie===$.length)return u(z,Ce),ut&&za(z,Ie),xe;if(Ce===null){for(;Ie<$.length;Ie++)Ce=J(z,$[Ie],te),Ce!==null&&(F=w(Ce,F,Ie),Se===null?xe=Ce:Se.sibling=Ce,Se=Ce);return ut&&za(z,Ie),xe}for(Ce=p(z,Ce);Ie<$.length;Ie++)Pt=de(Ce,z,Ie,$[Ie],te),Pt!==null&&(a&&Pt.alternate!==null&&Ce.delete(Pt.key===null?Ie:Pt.key),F=w(Pt,F,Ie),Se===null?xe=Pt:Se.sibling=Pt,Se=Pt);return a&&Ce.forEach(function(pa){return i(z,pa)}),ut&&za(z,Ie),xe}function ve(z,F,$,te){var xe=W($);if(typeof xe!="function")throw Error(n(150));if($=xe.call($),$==null)throw Error(n(151));for(var Se=xe=null,Ce=F,Ie=F=0,Pt=null,Ye=$.next();Ce!==null&&!Ye.done;Ie++,Ye=$.next()){Ce.index>Ie?(Pt=Ce,Ce=null):Pt=Ce.sibling;var pa=Z(z,Ce,Ye.value,te);if(pa===null){Ce===null&&(Ce=Pt);break}a&&Ce&&pa.alternate===null&&i(z,Ce),F=w(pa,F,Ie),Se===null?xe=pa:Se.sibling=pa,Se=pa,Ce=Pt}if(Ye.done)return u(z,Ce),ut&&za(z,Ie),xe;if(Ce===null){for(;!Ye.done;Ie++,Ye=$.next())Ye=J(z,Ye.value,te),Ye!==null&&(F=w(Ye,F,Ie),Se===null?xe=Ye:Se.sibling=Ye,Se=Ye);return ut&&za(z,Ie),xe}for(Ce=p(z,Ce);!Ye.done;Ie++,Ye=$.next())Ye=de(Ce,z,Ie,Ye.value,te),Ye!==null&&(a&&Ye.alternate!==null&&Ce.delete(Ye.key===null?Ie:Ye.key),F=w(Ye,F,Ie),Se===null?xe=Ye:Se.sibling=Ye,Se=Ye);return a&&Ce.forEach(function(JS){return i(z,JS)}),ut&&za(z,Ie),xe}function bt(z,F,$,te){if(typeof $=="object"&&$!==null&&$.type===H&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case D:e:{for(var xe=$.key,Se=F;Se!==null;){if(Se.key===xe){if(xe=$.type,xe===H){if(Se.tag===7){u(z,Se.sibling),F=m(Se,$.props.children),F.return=z,z=F;break e}}else if(Se.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===he&&kg(xe)===Se.type){u(z,Se.sibling),F=m(Se,$.props),F.ref=Fi(z,Se,$),F.return=z,z=F;break e}u(z,Se);break}else i(z,Se);Se=Se.sibling}$.type===H?(F=Za($.props.children,z.mode,te,$.key),F.return=z,z=F):(te=fu($.type,$.key,$.props,null,z.mode,te),te.ref=Fi(z,F,$),te.return=z,z=te)}return E(z);case L:e:{for(Se=$.key;F!==null;){if(F.key===Se)if(F.tag===4&&F.stateNode.containerInfo===$.containerInfo&&F.stateNode.implementation===$.implementation){u(z,F.sibling),F=m(F,$.children||[]),F.return=z,z=F;break e}else{u(z,F);break}else i(z,F);F=F.sibling}F=pf($,z.mode,te),F.return=z,z=F}return E(z);case he:return Se=$._init,bt(z,F,Se($._payload),te)}if(ar($))return ge(z,F,$,te);if(W($))return ve(z,F,$,te);Bl(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,F!==null&&F.tag===6?(u(z,F.sibling),F=m(F,$),F.return=z,z=F):(u(z,F),F=ff($,z.mode,te),F.return=z,z=F),E(z)):u(z,F)}return bt}var As=Sg(!0),Cg=Sg(!1),Hl=na(null),ql=null,js=null,bd=null;function _d(){bd=js=ql=null}function kd(a){var i=Hl.current;at(Hl),a._currentValue=i}function Sd(a,i,u){for(;a!==null;){var p=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),a===u)break;a=a.return}}function Ds(a,i){ql=a,bd=js=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&i&&(sn=!0),a.firstContext=null)}function Nn(a){var i=a._currentValue;if(bd!==a)if(a={context:a,memoizedValue:i,next:null},js===null){if(ql===null)throw Error(n(308));js=a,ql.dependencies={lanes:0,firstContext:a}}else js=js.next=a;return i}var $a=null;function Cd(a){$a===null?$a=[a]:$a.push(a)}function Eg(a,i,u,p){var m=i.interleaved;return m===null?(u.next=u,Cd(i)):(u.next=m.next,m.next=u),i.interleaved=u,Pr(a,p)}function Pr(a,i){a.lanes|=i;var u=a.alternate;for(u!==null&&(u.lanes|=i),u=a,a=a.return;a!==null;)a.childLanes|=i,u=a.alternate,u!==null&&(u.childLanes|=i),u=a,a=a.return;return u.tag===3?u.stateNode:null}var sa=!1;function Ed(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tg(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Rr(a,i){return{eventTime:a,lane:i,tag:0,payload:null,callback:null,next:null}}function ia(a,i,u){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,Ze&2){var m=p.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),p.pending=i,Pr(a,u)}return m=p.interleaved,m===null?(i.next=i,Cd(p)):(i.next=m.next,m.next=i),p.interleaved=i,Pr(a,u)}function Vl(a,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var p=i.lanes;p&=a.pendingLanes,u|=p,i.lanes=u,$c(a,u)}}function Ig(a,i){var u=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var m=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?m=w=E:w=w.next=E,u=u.next}while(u!==null);w===null?m=w=i:w=w.next=i}else m=w=i;u={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:w,shared:p.shared,effects:p.effects},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=i:a.next=i,u.lastBaseUpdate=i}function Wl(a,i,u,p){var m=a.updateQueue;sa=!1;var w=m.firstBaseUpdate,E=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var j=P,U=j.next;j.next=null,E===null?w=U:E.next=U,E=j;var Y=a.alternate;Y!==null&&(Y=Y.updateQueue,P=Y.lastBaseUpdate,P!==E&&(P===null?Y.firstBaseUpdate=U:P.next=U,Y.lastBaseUpdate=j))}if(w!==null){var J=m.baseState;E=0,Y=U=j=null,P=w;do{var Z=P.lane,de=P.eventTime;if((p&Z)===Z){Y!==null&&(Y=Y.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ge=a,ve=P;switch(Z=i,de=u,ve.tag){case 1:if(ge=ve.payload,typeof ge=="function"){J=ge.call(de,J,Z);break e}J=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ve.payload,Z=typeof ge=="function"?ge.call(de,J,Z):ge,Z==null)break e;J=N({},J,Z);break e;case 2:sa=!0}}P.callback!==null&&P.lane!==0&&(a.flags|=64,Z=m.effects,Z===null?m.effects=[P]:Z.push(P))}else de={eventTime:de,lane:Z,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Y===null?(U=Y=de,j=J):Y=Y.next=de,E|=Z;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;Z=P,P=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(Y===null&&(j=J),m.baseState=j,m.firstBaseUpdate=U,m.lastBaseUpdate=Y,i=m.shared.interleaved,i!==null){m=i;do E|=m.lane,m=m.next;while(m!==i)}else w===null&&(m.shared.lanes=0);Ha|=E,a.lanes=E,a.memoizedState=J}}function Ng(a,i,u){if(a=i.effects,i.effects=null,a!==null)for(i=0;i<a.length;i++){var p=a[i],m=p.callback;if(m!==null){if(p.callback=null,p=u,typeof m!="function")throw Error(n(191,m));m.call(p)}}}var zi={},or=na(zi),$i=na(zi),Ui=na(zi);function Ua(a){if(a===zi)throw Error(n(174));return a}function Td(a,i){switch(et(Ui,i),et($i,a),et(or,zi),a=i.nodeType,a){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ae(null,"");break;default:a=a===8?i.parentNode:i,i=a.namespaceURI||null,a=a.tagName,i=ae(i,a)}at(or),et(or,i)}function Ms(){at(or),at($i),at(Ui)}function Og(a){Ua(Ui.current);var i=Ua(or.current),u=ae(i,a.type);i!==u&&(et($i,a),et(or,u))}function Id(a){$i.current===a&&(at(or),at($i))}var dt=na(0);function Zl(a){for(var i=a;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nd=[];function Od(){for(var a=0;a<Nd.length;a++)Nd[a]._workInProgressVersionPrimary=null;Nd.length=0}var Yl=A.ReactCurrentDispatcher,Pd=A.ReactCurrentBatchConfig,Ba=0,ft=null,Et=null,Nt=null,Gl=!1,Bi=!1,Hi=0,vS=0;function $t(){throw Error(n(321))}function Rd(a,i){if(i===null)return!1;for(var u=0;u<i.length&&u<a.length;u++)if(!Hn(a[u],i[u]))return!1;return!0}function Ad(a,i,u,p,m,w){if(Ba=w,ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Yl.current=a===null||a.memoizedState===null?_S:kS,a=u(p,m),Bi){w=0;do{if(Bi=!1,Hi=0,25<=w)throw Error(n(301));w+=1,Nt=Et=null,i.updateQueue=null,Yl.current=SS,a=u(p,m)}while(Bi)}if(Yl.current=Xl,i=Et!==null&&Et.next!==null,Ba=0,Nt=Et=ft=null,Gl=!1,i)throw Error(n(300));return a}function jd(){var a=Hi!==0;return Hi=0,a}function lr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?ft.memoizedState=Nt=a:Nt=Nt.next=a,Nt}function On(){if(Et===null){var a=ft.alternate;a=a!==null?a.memoizedState:null}else a=Et.next;var i=Nt===null?ft.memoizedState:Nt.next;if(i!==null)Nt=i,Et=a;else{if(a===null)throw Error(n(310));Et=a,a={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Nt===null?ft.memoizedState=Nt=a:Nt=Nt.next=a}return Nt}function qi(a,i){return typeof i=="function"?i(a):i}function Dd(a){var i=On(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var p=Et,m=p.baseQueue,w=u.pending;if(w!==null){if(m!==null){var E=m.next;m.next=w.next,w.next=E}p.baseQueue=m=w,u.pending=null}if(m!==null){w=m.next,p=p.baseState;var P=E=null,j=null,U=w;do{var Y=U.lane;if((Ba&Y)===Y)j!==null&&(j=j.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),p=U.hasEagerState?U.eagerState:a(p,U.action);else{var J={lane:Y,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};j===null?(P=j=J,E=p):j=j.next=J,ft.lanes|=Y,Ha|=Y}U=U.next}while(U!==null&&U!==w);j===null?E=p:j.next=P,Hn(p,i.memoizedState)||(sn=!0),i.memoizedState=p,i.baseState=E,i.baseQueue=j,u.lastRenderedState=p}if(a=u.interleaved,a!==null){m=a;do w=m.lane,ft.lanes|=w,Ha|=w,m=m.next;while(m!==a)}else m===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Md(a){var i=On(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var p=u.dispatch,m=u.pending,w=i.memoizedState;if(m!==null){u.pending=null;var E=m=m.next;do w=a(w,E.action),E=E.next;while(E!==m);Hn(w,i.memoizedState)||(sn=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),u.lastRenderedState=w}return[w,p]}function Pg(){}function Rg(a,i){var u=ft,p=On(),m=i(),w=!Hn(p.memoizedState,m);if(w&&(p.memoizedState=m,sn=!0),p=p.queue,Ld(Dg.bind(null,u,p,a),[a]),p.getSnapshot!==i||w||Nt!==null&&Nt.memoizedState.tag&1){if(u.flags|=2048,Vi(9,jg.bind(null,u,p,m,i),void 0,null),Ot===null)throw Error(n(349));Ba&30||Ag(u,i,m)}return m}function Ag(a,i,u){a.flags|=16384,a={getSnapshot:i,value:u},i=ft.updateQueue,i===null?(i={lastEffect:null,stores:null},ft.updateQueue=i,i.stores=[a]):(u=i.stores,u===null?i.stores=[a]:u.push(a))}function jg(a,i,u,p){i.value=u,i.getSnapshot=p,Mg(i)&&Lg(a)}function Dg(a,i,u){return u(function(){Mg(i)&&Lg(a)})}function Mg(a){var i=a.getSnapshot;a=a.value;try{var u=i();return!Hn(a,u)}catch{return!0}}function Lg(a){var i=Pr(a,1);i!==null&&Yn(i,a,1,-1)}function Fg(a){var i=lr();return typeof a=="function"&&(a=a()),i.memoizedState=i.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},i.queue=a,a=a.dispatch=bS.bind(null,ft,a),[i.memoizedState,a]}function Vi(a,i,u,p){return a={tag:a,create:i,destroy:u,deps:p,next:null},i=ft.updateQueue,i===null?(i={lastEffect:null,stores:null},ft.updateQueue=i,i.lastEffect=a.next=a):(u=i.lastEffect,u===null?i.lastEffect=a.next=a:(p=u.next,u.next=a,a.next=p,i.lastEffect=a)),a}function zg(){return On().memoizedState}function Jl(a,i,u,p){var m=lr();ft.flags|=a,m.memoizedState=Vi(1|i,u,void 0,p===void 0?null:p)}function Kl(a,i,u,p){var m=On();p=p===void 0?null:p;var w=void 0;if(Et!==null){var E=Et.memoizedState;if(w=E.destroy,p!==null&&Rd(p,E.deps)){m.memoizedState=Vi(i,u,w,p);return}}ft.flags|=a,m.memoizedState=Vi(1|i,u,w,p)}function $g(a,i){return Jl(8390656,8,a,i)}function Ld(a,i){return Kl(2048,8,a,i)}function Ug(a,i){return Kl(4,2,a,i)}function Bg(a,i){return Kl(4,4,a,i)}function Hg(a,i){if(typeof i=="function")return a=a(),i(a),function(){i(null)};if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function qg(a,i,u){return u=u!=null?u.concat([a]):null,Kl(4,4,Hg.bind(null,i,a),u)}function Fd(){}function Vg(a,i){var u=On();i=i===void 0?null:i;var p=u.memoizedState;return p!==null&&i!==null&&Rd(i,p[1])?p[0]:(u.memoizedState=[a,i],a)}function Wg(a,i){var u=On();i=i===void 0?null:i;var p=u.memoizedState;return p!==null&&i!==null&&Rd(i,p[1])?p[0]:(a=a(),u.memoizedState=[a,i],a)}function Zg(a,i,u){return Ba&21?(Hn(u,i)||(u=km(),ft.lanes|=u,Ha|=u,a.baseState=!0),i):(a.baseState&&(a.baseState=!1,sn=!0),a.memoizedState=u)}function xS(a,i){var u=Xe;Xe=u!==0&&4>u?u:4,a(!0);var p=Pd.transition;Pd.transition={};try{a(!1),i()}finally{Xe=u,Pd.transition=p}}function Yg(){return On().memoizedState}function wS(a,i,u){var p=ca(a);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Gg(a))Jg(i,u);else if(u=Eg(a,i,u,p),u!==null){var m=Jt();Yn(u,a,p,m),Kg(u,i,p)}}function bS(a,i,u){var p=ca(a),m={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Gg(a))Jg(i,m);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var E=i.lastRenderedState,P=w(E,u);if(m.hasEagerState=!0,m.eagerState=P,Hn(P,E)){var j=i.interleaved;j===null?(m.next=m,Cd(i)):(m.next=j.next,j.next=m),i.interleaved=m;return}}catch{}finally{}u=Eg(a,i,m,p),u!==null&&(m=Jt(),Yn(u,a,p,m),Kg(u,i,p))}}function Gg(a){var i=a.alternate;return a===ft||i!==null&&i===ft}function Jg(a,i){Bi=Gl=!0;var u=a.pending;u===null?i.next=i:(i.next=u.next,u.next=i),a.pending=i}function Kg(a,i,u){if(u&4194240){var p=i.lanes;p&=a.pendingLanes,u|=p,i.lanes=u,$c(a,u)}}var Xl={readContext:Nn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},_S={readContext:Nn,useCallback:function(a,i){return lr().memoizedState=[a,i===void 0?null:i],a},useContext:Nn,useEffect:$g,useImperativeHandle:function(a,i,u){return u=u!=null?u.concat([a]):null,Jl(4194308,4,Hg.bind(null,i,a),u)},useLayoutEffect:function(a,i){return Jl(4194308,4,a,i)},useInsertionEffect:function(a,i){return Jl(4,2,a,i)},useMemo:function(a,i){var u=lr();return i=i===void 0?null:i,a=a(),u.memoizedState=[a,i],a},useReducer:function(a,i,u){var p=lr();return i=u!==void 0?u(i):i,p.memoizedState=p.baseState=i,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:i},p.queue=a,a=a.dispatch=wS.bind(null,ft,a),[p.memoizedState,a]},useRef:function(a){var i=lr();return a={current:a},i.memoizedState=a},useState:Fg,useDebugValue:Fd,useDeferredValue:function(a){return lr().memoizedState=a},useTransition:function(){var a=Fg(!1),i=a[0];return a=xS.bind(null,a[1]),lr().memoizedState=a,[i,a]},useMutableSource:function(){},useSyncExternalStore:function(a,i,u){var p=ft,m=lr();if(ut){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Ot===null)throw Error(n(349));Ba&30||Ag(p,i,u)}m.memoizedState=u;var w={value:u,getSnapshot:i};return m.queue=w,$g(Dg.bind(null,p,w,a),[a]),p.flags|=2048,Vi(9,jg.bind(null,p,w,u,i),void 0,null),u},useId:function(){var a=lr(),i=Ot.identifierPrefix;if(ut){var u=Or,p=Nr;u=(p&~(1<<32-Bn(p)-1)).toString(32)+u,i=":"+i+"R"+u,u=Hi++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=vS++,i=":"+i+"r"+u.toString(32)+":";return a.memoizedState=i},unstable_isNewReconciler:!1},kS={readContext:Nn,useCallback:Vg,useContext:Nn,useEffect:Ld,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:Wg,useReducer:Dd,useRef:zg,useState:function(){return Dd(qi)},useDebugValue:Fd,useDeferredValue:function(a){var i=On();return Zg(i,Et.memoizedState,a)},useTransition:function(){var a=Dd(qi)[0],i=On().memoizedState;return[a,i]},useMutableSource:Pg,useSyncExternalStore:Rg,useId:Yg,unstable_isNewReconciler:!1},SS={readContext:Nn,useCallback:Vg,useContext:Nn,useEffect:Ld,useImperativeHandle:qg,useInsertionEffect:Ug,useLayoutEffect:Bg,useMemo:Wg,useReducer:Md,useRef:zg,useState:function(){return Md(qi)},useDebugValue:Fd,useDeferredValue:function(a){var i=On();return Et===null?i.memoizedState=a:Zg(i,Et.memoizedState,a)},useTransition:function(){var a=Md(qi)[0],i=On().memoizedState;return[a,i]},useMutableSource:Pg,useSyncExternalStore:Rg,useId:Yg,unstable_isNewReconciler:!1};function Vn(a,i){if(a&&a.defaultProps){i=N({},i),a=a.defaultProps;for(var u in a)i[u]===void 0&&(i[u]=a[u]);return i}return i}function zd(a,i,u,p){i=a.memoizedState,u=u(p,i),u=u==null?i:N({},i,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Ql={isMounted:function(a){return(a=a._reactInternals)?Da(a)===a:!1},enqueueSetState:function(a,i,u){a=a._reactInternals;var p=Jt(),m=ca(a),w=Rr(p,m);w.payload=i,u!=null&&(w.callback=u),i=ia(a,w,m),i!==null&&(Yn(i,a,m,p),Vl(i,a,m))},enqueueReplaceState:function(a,i,u){a=a._reactInternals;var p=Jt(),m=ca(a),w=Rr(p,m);w.tag=1,w.payload=i,u!=null&&(w.callback=u),i=ia(a,w,m),i!==null&&(Yn(i,a,m,p),Vl(i,a,m))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var u=Jt(),p=ca(a),m=Rr(u,p);m.tag=2,i!=null&&(m.callback=i),i=ia(a,m,p),i!==null&&(Yn(i,a,p,u),Vl(i,a,p))}};function Xg(a,i,u,p,m,w,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,w,E):i.prototype&&i.prototype.isPureReactComponent?!Pi(u,p)||!Pi(m,w):!0}function Qg(a,i,u){var p=!1,m=ra,w=i.contextType;return typeof w=="object"&&w!==null?w=Nn(w):(m=an(i)?La:zt.current,p=i.contextTypes,w=(p=p!=null)?Ns(a,m):ra),i=new i(u,w),a.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ql,a.stateNode=i,i._reactInternals=a,p&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=m,a.__reactInternalMemoizedMaskedChildContext=w),i}function ey(a,i,u,p){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,p),i.state!==a&&Ql.enqueueReplaceState(i,i.state,null)}function $d(a,i,u,p){var m=a.stateNode;m.props=u,m.state=a.memoizedState,m.refs={},Ed(a);var w=i.contextType;typeof w=="object"&&w!==null?m.context=Nn(w):(w=an(i)?La:zt.current,m.context=Ns(a,w)),m.state=a.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(zd(a,i,w,u),m.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(i=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),i!==m.state&&Ql.enqueueReplaceState(m,m.state,null),Wl(a,u,m,p),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308)}function Ls(a,i){try{var u="",p=i;do u+=Pe(p),p=p.return;while(p);var m=u}catch(w){m=`
Error generating stack: `+w.message+`
`+w.stack}return{value:a,source:i,stack:m,digest:null}}function Ud(a,i,u){return{value:a,source:null,stack:u??null,digest:i??null}}function Bd(a,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var CS=typeof WeakMap=="function"?WeakMap:Map;function ty(a,i,u){u=Rr(-1,u),u.tag=3,u.payload={element:null};var p=i.value;return u.callback=function(){iu||(iu=!0,rf=p),Bd(a,i)},u}function ny(a,i,u){u=Rr(-1,u),u.tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var m=i.value;u.payload=function(){return p(m)},u.callback=function(){Bd(a,i)}}var w=a.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Bd(a,i),typeof p!="function"&&(la===null?la=new Set([this]):la.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),u}function ry(a,i,u){var p=a.pingCache;if(p===null){p=a.pingCache=new CS;var m=new Set;p.set(i,m)}else m=p.get(i),m===void 0&&(m=new Set,p.set(i,m));m.has(u)||(m.add(u),a=zS.bind(null,a,i,u),i.then(a,a))}function ay(a){do{var i;if((i=a.tag===13)&&(i=a.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return a;a=a.return}while(a!==null);return null}function sy(a,i,u,p,m){return a.mode&1?(a.flags|=65536,a.lanes=m,a):(a===i?a.flags|=65536:(a.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Rr(-1,1),i.tag=2,ia(u,i,1))),u.lanes|=1),a)}var ES=A.ReactCurrentOwner,sn=!1;function Gt(a,i,u,p){i.child=a===null?Cg(i,null,u,p):As(i,a.child,u,p)}function iy(a,i,u,p,m){u=u.render;var w=i.ref;return Ds(i,m),p=Ad(a,i,u,p,w,m),u=jd(),a!==null&&!sn?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~m,Ar(a,i,m)):(ut&&u&&gd(i),i.flags|=1,Gt(a,i,p,m),i.child)}function oy(a,i,u,p,m){if(a===null){var w=u.type;return typeof w=="function"&&!df(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=w,ly(a,i,w,p,m)):(a=fu(u.type,null,p,i,i.mode,m),a.ref=i.ref,a.return=i,i.child=a)}if(w=a.child,!(a.lanes&m)){var E=w.memoizedProps;if(u=u.compare,u=u!==null?u:Pi,u(E,p)&&a.ref===i.ref)return Ar(a,i,m)}return i.flags|=1,a=fa(w,p),a.ref=i.ref,a.return=i,i.child=a}function ly(a,i,u,p,m){if(a!==null){var w=a.memoizedProps;if(Pi(w,p)&&a.ref===i.ref)if(sn=!1,i.pendingProps=p=w,(a.lanes&m)!==0)a.flags&131072&&(sn=!0);else return i.lanes=a.lanes,Ar(a,i,m)}return Hd(a,i,u,p,m)}function uy(a,i,u){var p=i.pendingProps,m=p.children,w=a!==null?a.memoizedState:null;if(p.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(zs,yn),yn|=u;else{if(!(u&1073741824))return a=w!==null?w.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:a,cachePool:null,transitions:null},i.updateQueue=null,et(zs,yn),yn|=a,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=w!==null?w.baseLanes:u,et(zs,yn),yn|=p}else w!==null?(p=w.baseLanes|u,i.memoizedState=null):p=u,et(zs,yn),yn|=p;return Gt(a,i,m,u),i.child}function cy(a,i){var u=i.ref;(a===null&&u!==null||a!==null&&a.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Hd(a,i,u,p,m){var w=an(u)?La:zt.current;return w=Ns(i,w),Ds(i,m),u=Ad(a,i,u,p,w,m),p=jd(),a!==null&&!sn?(i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~m,Ar(a,i,m)):(ut&&p&&gd(i),i.flags|=1,Gt(a,i,u,m),i.child)}function dy(a,i,u,p,m){if(an(u)){var w=!0;Ll(i)}else w=!1;if(Ds(i,m),i.stateNode===null)tu(a,i),Qg(i,u,p),$d(i,u,p,m),p=!0;else if(a===null){var E=i.stateNode,P=i.memoizedProps;E.props=P;var j=E.context,U=u.contextType;typeof U=="object"&&U!==null?U=Nn(U):(U=an(u)?La:zt.current,U=Ns(i,U));var Y=u.getDerivedStateFromProps,J=typeof Y=="function"||typeof E.getSnapshotBeforeUpdate=="function";J||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==p||j!==U)&&ey(i,E,p,U),sa=!1;var Z=i.memoizedState;E.state=Z,Wl(i,p,E,m),j=i.memoizedState,P!==p||Z!==j||rn.current||sa?(typeof Y=="function"&&(zd(i,u,Y,p),j=i.memoizedState),(P=sa||Xg(i,u,P,p,Z,j,U))?(J||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=j),E.props=p,E.state=j,E.context=U,p=P):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{E=i.stateNode,Tg(a,i),P=i.memoizedProps,U=i.type===i.elementType?P:Vn(i.type,P),E.props=U,J=i.pendingProps,Z=E.context,j=u.contextType,typeof j=="object"&&j!==null?j=Nn(j):(j=an(u)?La:zt.current,j=Ns(i,j));var de=u.getDerivedStateFromProps;(Y=typeof de=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(P!==J||Z!==j)&&ey(i,E,p,j),sa=!1,Z=i.memoizedState,E.state=Z,Wl(i,p,E,m);var ge=i.memoizedState;P!==J||Z!==ge||rn.current||sa?(typeof de=="function"&&(zd(i,u,de,p),ge=i.memoizedState),(U=sa||Xg(i,u,U,p,Z,ge,j)||!1)?(Y||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,ge,j),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,ge,j)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||P===a.memoizedProps&&Z===a.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Z===a.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=ge),E.props=p,E.state=ge,E.context=j,p=U):(typeof E.componentDidUpdate!="function"||P===a.memoizedProps&&Z===a.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&Z===a.memoizedState||(i.flags|=1024),p=!1)}return qd(a,i,u,p,w,m)}function qd(a,i,u,p,m,w){cy(a,i);var E=(i.flags&128)!==0;if(!p&&!E)return m&&gg(i,u,!1),Ar(a,i,w);p=i.stateNode,ES.current=i;var P=E&&typeof u.getDerivedStateFromError!="function"?null:p.render();return i.flags|=1,a!==null&&E?(i.child=As(i,a.child,null,w),i.child=As(i,null,P,w)):Gt(a,i,P,w),i.memoizedState=p.state,m&&gg(i,u,!0),i.child}function fy(a){var i=a.stateNode;i.pendingContext?hg(a,i.pendingContext,i.pendingContext!==i.context):i.context&&hg(a,i.context,!1),Td(a,i.containerInfo)}function py(a,i,u,p,m){return Rs(),wd(m),i.flags|=256,Gt(a,i,u,p),i.child}var Vd={dehydrated:null,treeContext:null,retryLane:0};function Wd(a){return{baseLanes:a,cachePool:null,transitions:null}}function hy(a,i,u){var p=i.pendingProps,m=dt.current,w=!1,E=(i.flags&128)!==0,P;if((P=E)||(P=a!==null&&a.memoizedState===null?!1:(m&2)!==0),P?(w=!0,i.flags&=-129):(a===null||a.memoizedState!==null)&&(m|=1),et(dt,m&1),a===null)return xd(i),a=i.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(i.mode&1?a.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(E=p.children,a=p.fallback,w?(p=i.mode,w=i.child,E={mode:"hidden",children:E},!(p&1)&&w!==null?(w.childLanes=0,w.pendingProps=E):w=pu(E,p,0,null),a=Za(a,p,u,null),w.return=i,a.return=i,w.sibling=a,i.child=w,i.child.memoizedState=Wd(u),i.memoizedState=Vd,a):Zd(i,E));if(m=a.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return TS(a,i,E,p,P,m,u);if(w){w=p.fallback,E=i.mode,m=a.child,P=m.sibling;var j={mode:"hidden",children:p.children};return!(E&1)&&i.child!==m?(p=i.child,p.childLanes=0,p.pendingProps=j,i.deletions=null):(p=fa(m,j),p.subtreeFlags=m.subtreeFlags&14680064),P!==null?w=fa(P,w):(w=Za(w,E,u,null),w.flags|=2),w.return=i,p.return=i,p.sibling=w,i.child=p,p=w,w=i.child,E=a.child.memoizedState,E=E===null?Wd(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=a.childLanes&~u,i.memoizedState=Vd,p}return w=a.child,a=w.sibling,p=fa(w,{mode:"visible",children:p.children}),!(i.mode&1)&&(p.lanes=u),p.return=i,p.sibling=null,a!==null&&(u=i.deletions,u===null?(i.deletions=[a],i.flags|=16):u.push(a)),i.child=p,i.memoizedState=null,p}function Zd(a,i){return i=pu({mode:"visible",children:i},a.mode,0,null),i.return=a,a.child=i}function eu(a,i,u,p){return p!==null&&wd(p),As(i,a.child,null,u),a=Zd(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function TS(a,i,u,p,m,w,E){if(u)return i.flags&256?(i.flags&=-257,p=Ud(Error(n(422))),eu(a,i,E,p)):i.memoizedState!==null?(i.child=a.child,i.flags|=128,null):(w=p.fallback,m=i.mode,p=pu({mode:"visible",children:p.children},m,0,null),w=Za(w,m,E,null),w.flags|=2,p.return=i,w.return=i,p.sibling=w,i.child=p,i.mode&1&&As(i,a.child,null,E),i.child.memoizedState=Wd(E),i.memoizedState=Vd,w);if(!(i.mode&1))return eu(a,i,E,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var P=p.dgst;return p=P,w=Error(n(419)),p=Ud(w,p,void 0),eu(a,i,E,p)}if(P=(E&a.childLanes)!==0,sn||P){if(p=Ot,p!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(p.suspendedLanes|E)?0:m,m!==0&&m!==w.retryLane&&(w.retryLane=m,Pr(a,m),Yn(p,a,m,-1))}return cf(),p=Ud(Error(n(421))),eu(a,i,E,p)}return m.data==="$?"?(i.flags|=128,i.child=a.child,i=$S.bind(null,a),m._reactRetry=i,null):(a=w.treeContext,gn=ta(m.nextSibling),mn=i,ut=!0,qn=null,a!==null&&(Tn[In++]=Nr,Tn[In++]=Or,Tn[In++]=Fa,Nr=a.id,Or=a.overflow,Fa=i),i=Zd(i,p.children),i.flags|=4096,i)}function my(a,i,u){a.lanes|=i;var p=a.alternate;p!==null&&(p.lanes|=i),Sd(a.return,i,u)}function Yd(a,i,u,p,m){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:m}:(w.isBackwards=i,w.rendering=null,w.renderingStartTime=0,w.last=p,w.tail=u,w.tailMode=m)}function gy(a,i,u){var p=i.pendingProps,m=p.revealOrder,w=p.tail;if(Gt(a,i,p.children,u),p=dt.current,p&2)p=p&1|2,i.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&my(a,u,i);else if(a.tag===19)my(a,u,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(et(dt,p),!(i.mode&1))i.memoizedState=null;else switch(m){case"forwards":for(u=i.child,m=null;u!==null;)a=u.alternate,a!==null&&Zl(a)===null&&(m=u),u=u.sibling;u=m,u===null?(m=i.child,i.child=null):(m=u.sibling,u.sibling=null),Yd(i,!1,m,u,w);break;case"backwards":for(u=null,m=i.child,i.child=null;m!==null;){if(a=m.alternate,a!==null&&Zl(a)===null){i.child=m;break}a=m.sibling,m.sibling=u,u=m,m=a}Yd(i,!0,u,null,w);break;case"together":Yd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function tu(a,i){!(i.mode&1)&&a!==null&&(a.alternate=null,i.alternate=null,i.flags|=2)}function Ar(a,i,u){if(a!==null&&(i.dependencies=a.dependencies),Ha|=i.lanes,!(u&i.childLanes))return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,u=fa(a,a.pendingProps),i.child=u,u.return=i;a.sibling!==null;)a=a.sibling,u=u.sibling=fa(a,a.pendingProps),u.return=i;u.sibling=null}return i.child}function IS(a,i,u){switch(i.tag){case 3:fy(i),Rs();break;case 5:Og(i);break;case 1:an(i.type)&&Ll(i);break;case 4:Td(i,i.stateNode.containerInfo);break;case 10:var p=i.type._context,m=i.memoizedProps.value;et(Hl,p._currentValue),p._currentValue=m;break;case 13:if(p=i.memoizedState,p!==null)return p.dehydrated!==null?(et(dt,dt.current&1),i.flags|=128,null):u&i.child.childLanes?hy(a,i,u):(et(dt,dt.current&1),a=Ar(a,i,u),a!==null?a.sibling:null);et(dt,dt.current&1);break;case 19:if(p=(u&i.childLanes)!==0,a.flags&128){if(p)return gy(a,i,u);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(dt,dt.current),p)break;return null;case 22:case 23:return i.lanes=0,uy(a,i,u)}return Ar(a,i,u)}var yy,Gd,vy,xy;yy=function(a,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)a.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Gd=function(){},vy=function(a,i,u,p){var m=a.memoizedProps;if(m!==p){a=i.stateNode,Ua(or.current);var w=null;switch(u){case"input":m=Ft(a,m),p=Ft(a,p),w=[];break;case"select":m=N({},m,{value:void 0}),p=N({},p,{value:void 0}),w=[];break;case"textarea":m=Wr(a,m),p=Wr(a,p),w=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(a.onclick=jl)}xt(u,p);var E;u=null;for(U in m)if(!p.hasOwnProperty(U)&&m.hasOwnProperty(U)&&m[U]!=null)if(U==="style"){var P=m[U];for(E in P)P.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?w||(w=[]):(w=w||[]).push(U,null));for(U in p){var j=p[U];if(P=m!=null?m[U]:void 0,p.hasOwnProperty(U)&&j!==P&&(j!=null||P!=null))if(U==="style")if(P){for(E in P)!P.hasOwnProperty(E)||j&&j.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in j)j.hasOwnProperty(E)&&P[E]!==j[E]&&(u||(u={}),u[E]=j[E])}else u||(w||(w=[]),w.push(U,u)),u=j;else U==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,P=P?P.__html:void 0,j!=null&&P!==j&&(w=w||[]).push(U,j)):U==="children"?typeof j!="string"&&typeof j!="number"||(w=w||[]).push(U,""+j):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(s.hasOwnProperty(U)?(j!=null&&U==="onScroll"&&rt("scroll",a),w||P===j||(w=[])):(w=w||[]).push(U,j))}u&&(w=w||[]).push("style",u);var U=w;(i.updateQueue=U)&&(i.flags|=4)}},xy=function(a,i,u,p){u!==p&&(i.flags|=4)};function Wi(a,i){if(!ut)switch(a.tailMode){case"hidden":i=a.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Ut(a){var i=a.alternate!==null&&a.alternate.child===a.child,u=0,p=0;if(i)for(var m=a.child;m!==null;)u|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=a,m=m.sibling;else for(m=a.child;m!==null;)u|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=a,m=m.sibling;return a.subtreeFlags|=p,a.childLanes=u,i}function NS(a,i,u){var p=i.pendingProps;switch(yd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return an(i.type)&&Ml(),Ut(i),null;case 3:return p=i.stateNode,Ms(),at(rn),at(zt),Od(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(a===null||a.child===null)&&(Ul(i)?i.flags|=4:a===null||a.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,qn!==null&&(of(qn),qn=null))),Gd(a,i),Ut(i),null;case 5:Id(i);var m=Ua(Ui.current);if(u=i.type,a!==null&&i.stateNode!=null)vy(a,i,u,p,m),a.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!p){if(i.stateNode===null)throw Error(n(166));return Ut(i),null}if(a=Ua(or.current),Ul(i)){p=i.stateNode,u=i.type;var w=i.memoizedProps;switch(p[ir]=i,p[Mi]=w,a=(i.mode&1)!==0,u){case"dialog":rt("cancel",p),rt("close",p);break;case"iframe":case"object":case"embed":rt("load",p);break;case"video":case"audio":for(m=0;m<Ai.length;m++)rt(Ai[m],p);break;case"source":rt("error",p);break;case"img":case"image":case"link":rt("error",p),rt("load",p);break;case"details":rt("toggle",p);break;case"input":ye(p,w),rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},rt("invalid",p);break;case"textarea":Zr(p,w),rt("invalid",p)}xt(u,w),m=null;for(var E in w)if(w.hasOwnProperty(E)){var P=w[E];E==="children"?typeof P=="string"?p.textContent!==P&&(w.suppressHydrationWarning!==!0&&Al(p.textContent,P,a),m=["children",P]):typeof P=="number"&&p.textContent!==""+P&&(w.suppressHydrationWarning!==!0&&Al(p.textContent,P,a),m=["children",""+P]):s.hasOwnProperty(E)&&P!=null&&E==="onScroll"&&rt("scroll",p)}switch(u){case"input":fn(p),jt(p,w,!0);break;case"textarea":fn(p),Ra(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=jl)}p=m,i.updateQueue=p,p!==null&&(i.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=q(u)),a==="http://www.w3.org/1999/xhtml"?u==="script"?(a=E.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof p.is=="string"?a=E.createElement(u,{is:p.is}):(a=E.createElement(u),u==="select"&&(E=a,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):a=E.createElementNS(a,u),a[ir]=i,a[Mi]=p,yy(a,i,!1,!1),i.stateNode=a;e:{switch(E=It(u,p),u){case"dialog":rt("cancel",a),rt("close",a),m=p;break;case"iframe":case"object":case"embed":rt("load",a),m=p;break;case"video":case"audio":for(m=0;m<Ai.length;m++)rt(Ai[m],a);m=p;break;case"source":rt("error",a),m=p;break;case"img":case"image":case"link":rt("error",a),rt("load",a),m=p;break;case"details":rt("toggle",a),m=p;break;case"input":ye(a,p),m=Ft(a,p),rt("invalid",a);break;case"option":m=p;break;case"select":a._wrapperState={wasMultiple:!!p.multiple},m=N({},p,{value:void 0}),rt("invalid",a);break;case"textarea":Zr(a,p),m=Wr(a,p),rt("invalid",a);break;default:m=p}xt(u,m),P=m;for(w in P)if(P.hasOwnProperty(w)){var j=P[w];w==="style"?$n(a,j):w==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Re(a,j)):w==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&Ue(a,j):typeof j=="number"&&Ue(a,""+j):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(s.hasOwnProperty(w)?j!=null&&w==="onScroll"&&rt("scroll",a):j!=null&&I(a,w,j,E))}switch(u){case"input":fn(a),jt(a,p,!1);break;case"textarea":fn(a),Ra(a);break;case"option":p.value!=null&&a.setAttribute("value",""+Me(p.value));break;case"select":a.multiple=!!p.multiple,w=p.value,w!=null?pn(a,!!p.multiple,w,!1):p.defaultValue!=null&&pn(a,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(a.onclick=jl)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ut(i),null;case 6:if(a&&i.stateNode!=null)xy(a,i,a.memoizedProps,p);else{if(typeof p!="string"&&i.stateNode===null)throw Error(n(166));if(u=Ua(Ui.current),Ua(or.current),Ul(i)){if(p=i.stateNode,u=i.memoizedProps,p[ir]=i,(w=p.nodeValue!==u)&&(a=mn,a!==null))switch(a.tag){case 3:Al(p.nodeValue,u,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Al(p.nodeValue,u,(a.mode&1)!==0)}w&&(i.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[ir]=i,i.stateNode=p}return Ut(i),null;case 13:if(at(dt),p=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(ut&&gn!==null&&i.mode&1&&!(i.flags&128))_g(),Rs(),i.flags|=98560,w=!1;else if(w=Ul(i),p!==null&&p.dehydrated!==null){if(a===null){if(!w)throw Error(n(318));if(w=i.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(n(317));w[ir]=i}else Rs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;Ut(i),w=!1}else qn!==null&&(of(qn),qn=null),w=!0;if(!w)return i.flags&65536?i:null}return i.flags&128?(i.lanes=u,i):(p=p!==null,p!==(a!==null&&a.memoizedState!==null)&&p&&(i.child.flags|=8192,i.mode&1&&(a===null||dt.current&1?Tt===0&&(Tt=3):cf())),i.updateQueue!==null&&(i.flags|=4),Ut(i),null);case 4:return Ms(),Gd(a,i),a===null&&ji(i.stateNode.containerInfo),Ut(i),null;case 10:return kd(i.type._context),Ut(i),null;case 17:return an(i.type)&&Ml(),Ut(i),null;case 19:if(at(dt),w=i.memoizedState,w===null)return Ut(i),null;if(p=(i.flags&128)!==0,E=w.rendering,E===null)if(p)Wi(w,!1);else{if(Tt!==0||a!==null&&a.flags&128)for(a=i.child;a!==null;){if(E=Zl(a),E!==null){for(i.flags|=128,Wi(w,!1),p=E.updateQueue,p!==null&&(i.updateQueue=p,i.flags|=4),i.subtreeFlags=0,p=u,u=i.child;u!==null;)w=u,a=p,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=a,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,a=E.dependencies,w.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),u=u.sibling;return et(dt,dt.current&1|2),i.child}a=a.sibling}w.tail!==null&&wt()>$s&&(i.flags|=128,p=!0,Wi(w,!1),i.lanes=4194304)}else{if(!p)if(a=Zl(E),a!==null){if(i.flags|=128,p=!0,u=a.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),Wi(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!ut)return Ut(i),null}else 2*wt()-w.renderingStartTime>$s&&u!==1073741824&&(i.flags|=128,p=!0,Wi(w,!1),i.lanes=4194304);w.isBackwards?(E.sibling=i.child,i.child=E):(u=w.last,u!==null?u.sibling=E:i.child=E,w.last=E)}return w.tail!==null?(i=w.tail,w.rendering=i,w.tail=i.sibling,w.renderingStartTime=wt(),i.sibling=null,u=dt.current,et(dt,p?u&1|2:u&1),i):(Ut(i),null);case 22:case 23:return uf(),p=i.memoizedState!==null,a!==null&&a.memoizedState!==null!==p&&(i.flags|=8192),p&&i.mode&1?yn&1073741824&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function OS(a,i){switch(yd(i),i.tag){case 1:return an(i.type)&&Ml(),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Ms(),at(rn),at(zt),Od(),a=i.flags,a&65536&&!(a&128)?(i.flags=a&-65537|128,i):null;case 5:return Id(i),null;case 13:if(at(dt),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Rs()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return at(dt),null;case 4:return Ms(),null;case 10:return kd(i.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var nu=!1,Bt=!1,PS=typeof WeakSet=="function"?WeakSet:Set,me=null;function Fs(a,i){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){yt(a,i,p)}else u.current=null}function Jd(a,i,u){try{u()}catch(p){yt(a,i,p)}}var wy=!1;function RS(a,i){if(ld=_l,a=Xm(),ed(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var m=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break e}var E=0,P=-1,j=-1,U=0,Y=0,J=a,Z=null;t:for(;;){for(var de;J!==u||m!==0&&J.nodeType!==3||(P=E+m),J!==w||p!==0&&J.nodeType!==3||(j=E+p),J.nodeType===3&&(E+=J.nodeValue.length),(de=J.firstChild)!==null;)Z=J,J=de;for(;;){if(J===a)break t;if(Z===u&&++U===m&&(P=E),Z===w&&++Y===p&&(j=E),(de=J.nextSibling)!==null)break;J=Z,Z=J.parentNode}J=de}u=P===-1||j===-1?null:{start:P,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(ud={focusedElem:a,selectionRange:u},_l=!1,me=i;me!==null;)if(i=me,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,me=a;else for(;me!==null;){i=me;try{var ge=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ve=ge.memoizedProps,bt=ge.memoizedState,z=i.stateNode,F=z.getSnapshotBeforeUpdate(i.elementType===i.type?ve:Vn(i.type,ve),bt);z.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var $=i.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){yt(i,i.return,te)}if(a=i.sibling,a!==null){a.return=i.return,me=a;break}me=i.return}return ge=wy,wy=!1,ge}function Zi(a,i,u){var p=i.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&a)===a){var w=m.destroy;m.destroy=void 0,w!==void 0&&Jd(i,u,w)}m=m.next}while(m!==p)}}function ru(a,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&a)===a){var p=u.create;u.destroy=p()}u=u.next}while(u!==i)}}function Kd(a){var i=a.ref;if(i!==null){var u=a.stateNode;switch(a.tag){case 5:a=u;break;default:a=u}typeof i=="function"?i(a):i.current=a}}function by(a){var i=a.alternate;i!==null&&(a.alternate=null,by(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&(delete i[ir],delete i[Mi],delete i[pd],delete i[hS],delete i[mS])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function _y(a){return a.tag===5||a.tag===3||a.tag===4}function ky(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||_y(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Xd(a,i,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(a,i):u.insertBefore(a,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(a,u)):(i=u,i.appendChild(a)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=jl));else if(p!==4&&(a=a.child,a!==null))for(Xd(a,i,u),a=a.sibling;a!==null;)Xd(a,i,u),a=a.sibling}function Qd(a,i,u){var p=a.tag;if(p===5||p===6)a=a.stateNode,i?u.insertBefore(a,i):u.appendChild(a);else if(p!==4&&(a=a.child,a!==null))for(Qd(a,i,u),a=a.sibling;a!==null;)Qd(a,i,u),a=a.sibling}var Dt=null,Wn=!1;function oa(a,i,u){for(u=u.child;u!==null;)Sy(a,i,u),u=u.sibling}function Sy(a,i,u){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(gl,u)}catch{}switch(u.tag){case 5:Bt||Fs(u,i);case 6:var p=Dt,m=Wn;Dt=null,oa(a,i,u),Dt=p,Wn=m,Dt!==null&&(Wn?(a=Dt,u=u.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):Dt.removeChild(u.stateNode));break;case 18:Dt!==null&&(Wn?(a=Dt,u=u.stateNode,a.nodeType===8?fd(a.parentNode,u):a.nodeType===1&&fd(a,u),Ci(a)):fd(Dt,u.stateNode));break;case 4:p=Dt,m=Wn,Dt=u.stateNode.containerInfo,Wn=!0,oa(a,i,u),Dt=p,Wn=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var w=m,E=w.destroy;w=w.tag,E!==void 0&&(w&2||w&4)&&Jd(u,i,E),m=m.next}while(m!==p)}oa(a,i,u);break;case 1:if(!Bt&&(Fs(u,i),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(P){yt(u,i,P)}oa(a,i,u);break;case 21:oa(a,i,u);break;case 22:u.mode&1?(Bt=(p=Bt)||u.memoizedState!==null,oa(a,i,u),Bt=p):oa(a,i,u);break;default:oa(a,i,u)}}function Cy(a){var i=a.updateQueue;if(i!==null){a.updateQueue=null;var u=a.stateNode;u===null&&(u=a.stateNode=new PS),i.forEach(function(p){var m=US.bind(null,a,p);u.has(p)||(u.add(p),p.then(m,m))})}}function Zn(a,i){var u=i.deletions;if(u!==null)for(var p=0;p<u.length;p++){var m=u[p];try{var w=a,E=i,P=E;e:for(;P!==null;){switch(P.tag){case 5:Dt=P.stateNode,Wn=!1;break e;case 3:Dt=P.stateNode.containerInfo,Wn=!0;break e;case 4:Dt=P.stateNode.containerInfo,Wn=!0;break e}P=P.return}if(Dt===null)throw Error(n(160));Sy(w,E,m),Dt=null,Wn=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(U){yt(m,i,U)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Ey(i,a),i=i.sibling}function Ey(a,i){var u=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Zn(i,a),ur(a),p&4){try{Zi(3,a,a.return),ru(3,a)}catch(ve){yt(a,a.return,ve)}try{Zi(5,a,a.return)}catch(ve){yt(a,a.return,ve)}}break;case 1:Zn(i,a),ur(a),p&512&&u!==null&&Fs(u,u.return);break;case 5:if(Zn(i,a),ur(a),p&512&&u!==null&&Fs(u,u.return),a.flags&32){var m=a.stateNode;try{Ue(m,"")}catch(ve){yt(a,a.return,ve)}}if(p&4&&(m=a.stateNode,m!=null)){var w=a.memoizedProps,E=u!==null?u.memoizedProps:w,P=a.type,j=a.updateQueue;if(a.updateQueue=null,j!==null)try{P==="input"&&w.type==="radio"&&w.name!=null&&Ct(m,w),It(P,E);var U=It(P,w);for(E=0;E<j.length;E+=2){var Y=j[E],J=j[E+1];Y==="style"?$n(m,J):Y==="dangerouslySetInnerHTML"?Re(m,J):Y==="children"?Ue(m,J):I(m,Y,J,U)}switch(P){case"input":Zt(m,w);break;case"textarea":Pa(m,w);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!w.multiple;var de=w.value;de!=null?pn(m,!!w.multiple,de,!1):Z!==!!w.multiple&&(w.defaultValue!=null?pn(m,!!w.multiple,w.defaultValue,!0):pn(m,!!w.multiple,w.multiple?[]:"",!1))}m[Mi]=w}catch(ve){yt(a,a.return,ve)}}break;case 6:if(Zn(i,a),ur(a),p&4){if(a.stateNode===null)throw Error(n(162));m=a.stateNode,w=a.memoizedProps;try{m.nodeValue=w}catch(ve){yt(a,a.return,ve)}}break;case 3:if(Zn(i,a),ur(a),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Ci(i.containerInfo)}catch(ve){yt(a,a.return,ve)}break;case 4:Zn(i,a),ur(a);break;case 13:Zn(i,a),ur(a),m=a.child,m.flags&8192&&(w=m.memoizedState!==null,m.stateNode.isHidden=w,!w||m.alternate!==null&&m.alternate.memoizedState!==null||(nf=wt())),p&4&&Cy(a);break;case 22:if(Y=u!==null&&u.memoizedState!==null,a.mode&1?(Bt=(U=Bt)||Y,Zn(i,a),Bt=U):Zn(i,a),ur(a),p&8192){if(U=a.memoizedState!==null,(a.stateNode.isHidden=U)&&!Y&&a.mode&1)for(me=a,Y=a.child;Y!==null;){for(J=me=Y;me!==null;){switch(Z=me,de=Z.child,Z.tag){case 0:case 11:case 14:case 15:Zi(4,Z,Z.return);break;case 1:Fs(Z,Z.return);var ge=Z.stateNode;if(typeof ge.componentWillUnmount=="function"){p=Z,u=Z.return;try{i=p,ge.props=i.memoizedProps,ge.state=i.memoizedState,ge.componentWillUnmount()}catch(ve){yt(p,u,ve)}}break;case 5:Fs(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Ny(J);continue}}de!==null?(de.return=Z,me=de):Ny(J)}Y=Y.sibling}e:for(Y=null,J=a;;){if(J.tag===5){if(Y===null){Y=J;try{m=J.stateNode,U?(w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(P=J.stateNode,j=J.memoizedProps.style,E=j!=null&&j.hasOwnProperty("display")?j.display:null,P.style.display=en("display",E))}catch(ve){yt(a,a.return,ve)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=U?"":J.memoizedProps}catch(ve){yt(a,a.return,ve)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===a)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===a)break e;for(;J.sibling===null;){if(J.return===null||J.return===a)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Zn(i,a),ur(a),p&4&&Cy(a);break;case 21:break;default:Zn(i,a),ur(a)}}function ur(a){var i=a.flags;if(i&2){try{e:{for(var u=a.return;u!==null;){if(_y(u)){var p=u;break e}u=u.return}throw Error(n(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(Ue(m,""),p.flags&=-33);var w=ky(a);Qd(a,w,m);break;case 3:case 4:var E=p.stateNode.containerInfo,P=ky(a);Xd(a,P,E);break;default:throw Error(n(161))}}catch(j){yt(a,a.return,j)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function AS(a,i,u){me=a,Ty(a)}function Ty(a,i,u){for(var p=(a.mode&1)!==0;me!==null;){var m=me,w=m.child;if(m.tag===22&&p){var E=m.memoizedState!==null||nu;if(!E){var P=m.alternate,j=P!==null&&P.memoizedState!==null||Bt;P=nu;var U=Bt;if(nu=E,(Bt=j)&&!U)for(me=m;me!==null;)E=me,j=E.child,E.tag===22&&E.memoizedState!==null?Oy(m):j!==null?(j.return=E,me=j):Oy(m);for(;w!==null;)me=w,Ty(w),w=w.sibling;me=m,nu=P,Bt=U}Iy(a)}else m.subtreeFlags&8772&&w!==null?(w.return=m,me=w):Iy(a)}}function Iy(a){for(;me!==null;){var i=me;if(i.flags&8772){var u=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:Bt||ru(5,i);break;case 1:var p=i.stateNode;if(i.flags&4&&!Bt)if(u===null)p.componentDidMount();else{var m=i.elementType===i.type?u.memoizedProps:Vn(i.type,u.memoizedProps);p.componentDidUpdate(m,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var w=i.updateQueue;w!==null&&Ng(i,w,p);break;case 3:var E=i.updateQueue;if(E!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Ng(i,E,u)}break;case 5:var P=i.stateNode;if(u===null&&i.flags&4){u=P;var j=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var U=i.alternate;if(U!==null){var Y=U.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&Ci(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bt||i.flags&512&&Kd(i)}catch(Z){yt(i,i.return,Z)}}if(i===a){me=null;break}if(u=i.sibling,u!==null){u.return=i.return,me=u;break}me=i.return}}function Ny(a){for(;me!==null;){var i=me;if(i===a){me=null;break}var u=i.sibling;if(u!==null){u.return=i.return,me=u;break}me=i.return}}function Oy(a){for(;me!==null;){var i=me;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{ru(4,i)}catch(j){yt(i,u,j)}break;case 1:var p=i.stateNode;if(typeof p.componentDidMount=="function"){var m=i.return;try{p.componentDidMount()}catch(j){yt(i,m,j)}}var w=i.return;try{Kd(i)}catch(j){yt(i,w,j)}break;case 5:var E=i.return;try{Kd(i)}catch(j){yt(i,E,j)}}}catch(j){yt(i,i.return,j)}if(i===a){me=null;break}var P=i.sibling;if(P!==null){P.return=i.return,me=P;break}me=i.return}}var jS=Math.ceil,au=A.ReactCurrentDispatcher,ef=A.ReactCurrentOwner,Pn=A.ReactCurrentBatchConfig,Ze=0,Ot=null,kt=null,Mt=0,yn=0,zs=na(0),Tt=0,Yi=null,Ha=0,su=0,tf=0,Gi=null,on=null,nf=0,$s=1/0,jr=null,iu=!1,rf=null,la=null,ou=!1,ua=null,lu=0,Ji=0,af=null,uu=-1,cu=0;function Jt(){return Ze&6?wt():uu!==-1?uu:uu=wt()}function ca(a){return a.mode&1?Ze&2&&Mt!==0?Mt&-Mt:yS.transition!==null?(cu===0&&(cu=km()),cu):(a=Xe,a!==0||(a=window.event,a=a===void 0?16:Rm(a.type)),a):1}function Yn(a,i,u,p){if(50<Ji)throw Ji=0,af=null,Error(n(185));wi(a,u,p),(!(Ze&2)||a!==Ot)&&(a===Ot&&(!(Ze&2)&&(su|=u),Tt===4&&da(a,Mt)),ln(a,p),u===1&&Ze===0&&!(i.mode&1)&&($s=wt()+500,Fl&&aa()))}function ln(a,i){var u=a.callbackNode;yk(a,i);var p=xl(a,a===Ot?Mt:0);if(p===0)u!==null&&wm(u),a.callbackNode=null,a.callbackPriority=0;else if(i=p&-p,a.callbackPriority!==i){if(u!=null&&wm(u),i===1)a.tag===0?gS(Ry.bind(null,a)):yg(Ry.bind(null,a)),fS(function(){!(Ze&6)&&aa()}),u=null;else{switch(Sm(p)){case 1:u=Lc;break;case 4:u=bm;break;case 16:u=ml;break;case 536870912:u=_m;break;default:u=ml}u=$y(u,Py.bind(null,a))}a.callbackPriority=i,a.callbackNode=u}}function Py(a,i){if(uu=-1,cu=0,Ze&6)throw Error(n(327));var u=a.callbackNode;if(Us()&&a.callbackNode!==u)return null;var p=xl(a,a===Ot?Mt:0);if(p===0)return null;if(p&30||p&a.expiredLanes||i)i=du(a,p);else{i=p;var m=Ze;Ze|=2;var w=jy();(Ot!==a||Mt!==i)&&(jr=null,$s=wt()+500,Va(a,i));do try{LS();break}catch(P){Ay(a,P)}while(!0);_d(),au.current=w,Ze=m,kt!==null?i=0:(Ot=null,Mt=0,i=Tt)}if(i!==0){if(i===2&&(m=Fc(a),m!==0&&(p=m,i=sf(a,m))),i===1)throw u=Yi,Va(a,0),da(a,p),ln(a,wt()),u;if(i===6)da(a,p);else{if(m=a.current.alternate,!(p&30)&&!DS(m)&&(i=du(a,p),i===2&&(w=Fc(a),w!==0&&(p=w,i=sf(a,w))),i===1))throw u=Yi,Va(a,0),da(a,p),ln(a,wt()),u;switch(a.finishedWork=m,a.finishedLanes=p,i){case 0:case 1:throw Error(n(345));case 2:Wa(a,on,jr);break;case 3:if(da(a,p),(p&130023424)===p&&(i=nf+500-wt(),10<i)){if(xl(a,0)!==0)break;if(m=a.suspendedLanes,(m&p)!==p){Jt(),a.pingedLanes|=a.suspendedLanes&m;break}a.timeoutHandle=dd(Wa.bind(null,a,on,jr),i);break}Wa(a,on,jr);break;case 4:if(da(a,p),(p&4194240)===p)break;for(i=a.eventTimes,m=-1;0<p;){var E=31-Bn(p);w=1<<E,E=i[E],E>m&&(m=E),p&=~w}if(p=m,p=wt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*jS(p/1960))-p,10<p){a.timeoutHandle=dd(Wa.bind(null,a,on,jr),p);break}Wa(a,on,jr);break;case 5:Wa(a,on,jr);break;default:throw Error(n(329))}}}return ln(a,wt()),a.callbackNode===u?Py.bind(null,a):null}function sf(a,i){var u=Gi;return a.current.memoizedState.isDehydrated&&(Va(a,i).flags|=256),a=du(a,i),a!==2&&(i=on,on=u,i!==null&&of(i)),a}function of(a){on===null?on=a:on.push.apply(on,a)}function DS(a){for(var i=a;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var m=u[p],w=m.getSnapshot;m=m.value;try{if(!Hn(w(),m))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function da(a,i){for(i&=~tf,i&=~su,a.suspendedLanes|=i,a.pingedLanes&=~i,a=a.expirationTimes;0<i;){var u=31-Bn(i),p=1<<u;a[u]=-1,i&=~p}}function Ry(a){if(Ze&6)throw Error(n(327));Us();var i=xl(a,0);if(!(i&1))return ln(a,wt()),null;var u=du(a,i);if(a.tag!==0&&u===2){var p=Fc(a);p!==0&&(i=p,u=sf(a,p))}if(u===1)throw u=Yi,Va(a,0),da(a,i),ln(a,wt()),u;if(u===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=i,Wa(a,on,jr),ln(a,wt()),null}function lf(a,i){var u=Ze;Ze|=1;try{return a(i)}finally{Ze=u,Ze===0&&($s=wt()+500,Fl&&aa())}}function qa(a){ua!==null&&ua.tag===0&&!(Ze&6)&&Us();var i=Ze;Ze|=1;var u=Pn.transition,p=Xe;try{if(Pn.transition=null,Xe=1,a)return a()}finally{Xe=p,Pn.transition=u,Ze=i,!(Ze&6)&&aa()}}function uf(){yn=zs.current,at(zs)}function Va(a,i){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;if(u!==-1&&(a.timeoutHandle=-1,dS(u)),kt!==null)for(u=kt.return;u!==null;){var p=u;switch(yd(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ml();break;case 3:Ms(),at(rn),at(zt),Od();break;case 5:Id(p);break;case 4:Ms();break;case 13:at(dt);break;case 19:at(dt);break;case 10:kd(p.type._context);break;case 22:case 23:uf()}u=u.return}if(Ot=a,kt=a=fa(a.current,null),Mt=yn=i,Tt=0,Yi=null,tf=su=Ha=0,on=Gi=null,$a!==null){for(i=0;i<$a.length;i++)if(u=$a[i],p=u.interleaved,p!==null){u.interleaved=null;var m=p.next,w=u.pending;if(w!==null){var E=w.next;w.next=m,p.next=E}u.pending=p}$a=null}return a}function Ay(a,i){do{var u=kt;try{if(_d(),Yl.current=Xl,Gl){for(var p=ft.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}Gl=!1}if(Ba=0,Nt=Et=ft=null,Bi=!1,Hi=0,ef.current=null,u===null||u.return===null){Tt=1,Yi=i,kt=null;break}e:{var w=a,E=u.return,P=u,j=i;if(i=Mt,P.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var U=j,Y=P,J=Y.tag;if(!(Y.mode&1)&&(J===0||J===11||J===15)){var Z=Y.alternate;Z?(Y.updateQueue=Z.updateQueue,Y.memoizedState=Z.memoizedState,Y.lanes=Z.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var de=ay(E);if(de!==null){de.flags&=-257,sy(de,E,P,w,i),de.mode&1&&ry(w,U,i),i=de,j=U;var ge=i.updateQueue;if(ge===null){var ve=new Set;ve.add(j),i.updateQueue=ve}else ge.add(j);break e}else{if(!(i&1)){ry(w,U,i),cf();break e}j=Error(n(426))}}else if(ut&&P.mode&1){var bt=ay(E);if(bt!==null){!(bt.flags&65536)&&(bt.flags|=256),sy(bt,E,P,w,i),wd(Ls(j,P));break e}}w=j=Ls(j,P),Tt!==4&&(Tt=2),Gi===null?Gi=[w]:Gi.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,i&=-i,w.lanes|=i;var z=ty(w,j,i);Ig(w,z);break e;case 1:P=j;var F=w.type,$=w.stateNode;if(!(w.flags&128)&&(typeof F.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(la===null||!la.has($)))){w.flags|=65536,i&=-i,w.lanes|=i;var te=ny(w,P,i);Ig(w,te);break e}}w=w.return}while(w!==null)}My(u)}catch(xe){i=xe,kt===u&&u!==null&&(kt=u=u.return);continue}break}while(!0)}function jy(){var a=au.current;return au.current=Xl,a===null?Xl:a}function cf(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ot===null||!(Ha&268435455)&&!(su&268435455)||da(Ot,Mt)}function du(a,i){var u=Ze;Ze|=2;var p=jy();(Ot!==a||Mt!==i)&&(jr=null,Va(a,i));do try{MS();break}catch(m){Ay(a,m)}while(!0);if(_d(),Ze=u,au.current=p,kt!==null)throw Error(n(261));return Ot=null,Mt=0,Tt}function MS(){for(;kt!==null;)Dy(kt)}function LS(){for(;kt!==null&&!lk();)Dy(kt)}function Dy(a){var i=zy(a.alternate,a,yn);a.memoizedProps=a.pendingProps,i===null?My(a):kt=i,ef.current=null}function My(a){var i=a;do{var u=i.alternate;if(a=i.return,i.flags&32768){if(u=OS(u,i),u!==null){u.flags&=32767,kt=u;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{Tt=6,kt=null;return}}else if(u=NS(u,i,yn),u!==null){kt=u;return}if(i=i.sibling,i!==null){kt=i;return}kt=i=a}while(i!==null);Tt===0&&(Tt=5)}function Wa(a,i,u){var p=Xe,m=Pn.transition;try{Pn.transition=null,Xe=1,FS(a,i,u,p)}finally{Pn.transition=m,Xe=p}return null}function FS(a,i,u,p){do Us();while(ua!==null);if(Ze&6)throw Error(n(327));u=a.finishedWork;var m=a.finishedLanes;if(u===null)return null;if(a.finishedWork=null,a.finishedLanes=0,u===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var w=u.lanes|u.childLanes;if(vk(a,w),a===Ot&&(kt=Ot=null,Mt=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||ou||(ou=!0,$y(ml,function(){return Us(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=Pn.transition,Pn.transition=null;var E=Xe;Xe=1;var P=Ze;Ze|=4,ef.current=null,RS(a,u),Ey(u,a),aS(ud),_l=!!ld,ud=ld=null,a.current=u,AS(u),uk(),Ze=P,Xe=E,Pn.transition=w}else a.current=u;if(ou&&(ou=!1,ua=a,lu=m),w=a.pendingLanes,w===0&&(la=null),fk(u.stateNode),ln(a,wt()),i!==null)for(p=a.onRecoverableError,u=0;u<i.length;u++)m=i[u],p(m.value,{componentStack:m.stack,digest:m.digest});if(iu)throw iu=!1,a=rf,rf=null,a;return lu&1&&a.tag!==0&&Us(),w=a.pendingLanes,w&1?a===af?Ji++:(Ji=0,af=a):Ji=0,aa(),null}function Us(){if(ua!==null){var a=Sm(lu),i=Pn.transition,u=Xe;try{if(Pn.transition=null,Xe=16>a?16:a,ua===null)var p=!1;else{if(a=ua,ua=null,lu=0,Ze&6)throw Error(n(331));var m=Ze;for(Ze|=4,me=a.current;me!==null;){var w=me,E=w.child;if(me.flags&16){var P=w.deletions;if(P!==null){for(var j=0;j<P.length;j++){var U=P[j];for(me=U;me!==null;){var Y=me;switch(Y.tag){case 0:case 11:case 15:Zi(8,Y,w)}var J=Y.child;if(J!==null)J.return=Y,me=J;else for(;me!==null;){Y=me;var Z=Y.sibling,de=Y.return;if(by(Y),Y===U){me=null;break}if(Z!==null){Z.return=de,me=Z;break}me=de}}}var ge=w.alternate;if(ge!==null){var ve=ge.child;if(ve!==null){ge.child=null;do{var bt=ve.sibling;ve.sibling=null,ve=bt}while(ve!==null)}}me=w}}if(w.subtreeFlags&2064&&E!==null)E.return=w,me=E;else e:for(;me!==null;){if(w=me,w.flags&2048)switch(w.tag){case 0:case 11:case 15:Zi(9,w,w.return)}var z=w.sibling;if(z!==null){z.return=w.return,me=z;break e}me=w.return}}var F=a.current;for(me=F;me!==null;){E=me;var $=E.child;if(E.subtreeFlags&2064&&$!==null)$.return=E,me=$;else e:for(E=F;me!==null;){if(P=me,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:ru(9,P)}}catch(xe){yt(P,P.return,xe)}if(P===E){me=null;break e}var te=P.sibling;if(te!==null){te.return=P.return,me=te;break e}me=P.return}}if(Ze=m,aa(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(gl,a)}catch{}p=!0}return p}finally{Xe=u,Pn.transition=i}}return!1}function Ly(a,i,u){i=Ls(u,i),i=ty(a,i,1),a=ia(a,i,1),i=Jt(),a!==null&&(wi(a,1,i),ln(a,i))}function yt(a,i,u){if(a.tag===3)Ly(a,a,u);else for(;i!==null;){if(i.tag===3){Ly(i,a,u);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(la===null||!la.has(p))){a=Ls(u,a),a=ny(i,a,1),i=ia(i,a,1),a=Jt(),i!==null&&(wi(i,1,a),ln(i,a));break}}i=i.return}}function zS(a,i,u){var p=a.pingCache;p!==null&&p.delete(i),i=Jt(),a.pingedLanes|=a.suspendedLanes&u,Ot===a&&(Mt&u)===u&&(Tt===4||Tt===3&&(Mt&130023424)===Mt&&500>wt()-nf?Va(a,0):tf|=u),ln(a,i)}function Fy(a,i){i===0&&(a.mode&1?(i=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):i=1);var u=Jt();a=Pr(a,i),a!==null&&(wi(a,i,u),ln(a,u))}function $S(a){var i=a.memoizedState,u=0;i!==null&&(u=i.retryLane),Fy(a,u)}function US(a,i){var u=0;switch(a.tag){case 13:var p=a.stateNode,m=a.memoizedState;m!==null&&(u=m.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(i),Fy(a,u)}var zy;zy=function(a,i,u){if(a!==null)if(a.memoizedProps!==i.pendingProps||rn.current)sn=!0;else{if(!(a.lanes&u)&&!(i.flags&128))return sn=!1,IS(a,i,u);sn=!!(a.flags&131072)}else sn=!1,ut&&i.flags&1048576&&vg(i,$l,i.index);switch(i.lanes=0,i.tag){case 2:var p=i.type;tu(a,i),a=i.pendingProps;var m=Ns(i,zt.current);Ds(i,u),m=Ad(null,i,p,a,m,u);var w=jd();return i.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,an(p)?(w=!0,Ll(i)):w=!1,i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Ed(i),m.updater=Ql,i.stateNode=m,m._reactInternals=i,$d(i,p,a,u),i=qd(null,i,p,!0,w,u)):(i.tag=0,ut&&w&&gd(i),Gt(null,i,m,u),i=i.child),i;case 16:p=i.elementType;e:{switch(tu(a,i),a=i.pendingProps,m=p._init,p=m(p._payload),i.type=p,m=i.tag=HS(p),a=Vn(p,a),m){case 0:i=Hd(null,i,p,a,u);break e;case 1:i=dy(null,i,p,a,u);break e;case 11:i=iy(null,i,p,a,u);break e;case 14:i=oy(null,i,p,Vn(p.type,a),u);break e}throw Error(n(306,p,""))}return i;case 0:return p=i.type,m=i.pendingProps,m=i.elementType===p?m:Vn(p,m),Hd(a,i,p,m,u);case 1:return p=i.type,m=i.pendingProps,m=i.elementType===p?m:Vn(p,m),dy(a,i,p,m,u);case 3:e:{if(fy(i),a===null)throw Error(n(387));p=i.pendingProps,w=i.memoizedState,m=w.element,Tg(a,i),Wl(i,p,null,u);var E=i.memoizedState;if(p=E.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){m=Ls(Error(n(423)),i),i=py(a,i,p,u,m);break e}else if(p!==m){m=Ls(Error(n(424)),i),i=py(a,i,p,u,m);break e}else for(gn=ta(i.stateNode.containerInfo.firstChild),mn=i,ut=!0,qn=null,u=Cg(i,null,p,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Rs(),p===m){i=Ar(a,i,u);break e}Gt(a,i,p,u)}i=i.child}return i;case 5:return Og(i),a===null&&xd(i),p=i.type,m=i.pendingProps,w=a!==null?a.memoizedProps:null,E=m.children,cd(p,m)?E=null:w!==null&&cd(p,w)&&(i.flags|=32),cy(a,i),Gt(a,i,E,u),i.child;case 6:return a===null&&xd(i),null;case 13:return hy(a,i,u);case 4:return Td(i,i.stateNode.containerInfo),p=i.pendingProps,a===null?i.child=As(i,null,p,u):Gt(a,i,p,u),i.child;case 11:return p=i.type,m=i.pendingProps,m=i.elementType===p?m:Vn(p,m),iy(a,i,p,m,u);case 7:return Gt(a,i,i.pendingProps,u),i.child;case 8:return Gt(a,i,i.pendingProps.children,u),i.child;case 12:return Gt(a,i,i.pendingProps.children,u),i.child;case 10:e:{if(p=i.type._context,m=i.pendingProps,w=i.memoizedProps,E=m.value,et(Hl,p._currentValue),p._currentValue=E,w!==null)if(Hn(w.value,E)){if(w.children===m.children&&!rn.current){i=Ar(a,i,u);break e}}else for(w=i.child,w!==null&&(w.return=i);w!==null;){var P=w.dependencies;if(P!==null){E=w.child;for(var j=P.firstContext;j!==null;){if(j.context===p){if(w.tag===1){j=Rr(-1,u&-u),j.tag=2;var U=w.updateQueue;if(U!==null){U=U.shared;var Y=U.pending;Y===null?j.next=j:(j.next=Y.next,Y.next=j),U.pending=j}}w.lanes|=u,j=w.alternate,j!==null&&(j.lanes|=u),Sd(w.return,u,i),P.lanes|=u;break}j=j.next}}else if(w.tag===10)E=w.type===i.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(n(341));E.lanes|=u,P=E.alternate,P!==null&&(P.lanes|=u),Sd(E,u,i),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===i){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}Gt(a,i,m.children,u),i=i.child}return i;case 9:return m=i.type,p=i.pendingProps.children,Ds(i,u),m=Nn(m),p=p(m),i.flags|=1,Gt(a,i,p,u),i.child;case 14:return p=i.type,m=Vn(p,i.pendingProps),m=Vn(p.type,m),oy(a,i,p,m,u);case 15:return ly(a,i,i.type,i.pendingProps,u);case 17:return p=i.type,m=i.pendingProps,m=i.elementType===p?m:Vn(p,m),tu(a,i),i.tag=1,an(p)?(a=!0,Ll(i)):a=!1,Ds(i,u),Qg(i,p,m),$d(i,p,m,u),qd(null,i,p,!0,a,u);case 19:return gy(a,i,u);case 22:return uy(a,i,u)}throw Error(n(156,i.tag))};function $y(a,i){return xm(a,i)}function BS(a,i,u,p){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(a,i,u,p){return new BS(a,i,u,p)}function df(a){return a=a.prototype,!(!a||!a.isReactComponent)}function HS(a){if(typeof a=="function")return df(a)?1:0;if(a!=null){if(a=a.$$typeof,a===oe)return 11;if(a===ie)return 14}return 2}function fa(a,i){var u=a.alternate;return u===null?(u=Rn(a.tag,i,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=i,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&14680064,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,i=a.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u}function fu(a,i,u,p,m,w){var E=2;if(p=a,typeof a=="function")df(a)&&(E=1);else if(typeof a=="string")E=5;else e:switch(a){case H:return Za(u.children,m,w,i);case ne:E=8,m|=8;break;case ue:return a=Rn(12,u,i,m|2),a.elementType=ue,a.lanes=w,a;case se:return a=Rn(13,u,i,m),a.elementType=se,a.lanes=w,a;case G:return a=Rn(19,u,i,m),a.elementType=G,a.lanes=w,a;case ce:return pu(u,m,w,i);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case pe:E=10;break e;case re:E=9;break e;case oe:E=11;break e;case ie:E=14;break e;case he:E=16,p=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return i=Rn(E,u,i,m),i.elementType=a,i.type=p,i.lanes=w,i}function Za(a,i,u,p){return a=Rn(7,a,p,i),a.lanes=u,a}function pu(a,i,u,p){return a=Rn(22,a,p,i),a.elementType=ce,a.lanes=u,a.stateNode={isHidden:!1},a}function ff(a,i,u){return a=Rn(6,a,null,i),a.lanes=u,a}function pf(a,i,u){return i=Rn(4,a.children!==null?a.children:[],a.key,i),i.lanes=u,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}function qS(a,i,u,p,m){this.tag=i,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function hf(a,i,u,p,m,w,E,P,j){return a=new qS(a,i,u,P,j),i===1?(i=1,w===!0&&(i|=8)):i=0,w=Rn(3,null,null,i),a.current=w,w.stateNode=a,w.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ed(w),a}function VS(a,i,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:p==null?null:""+p,children:a,containerInfo:i,implementation:u}}function Uy(a){if(!a)return ra;a=a._reactInternals;e:{if(Da(a)!==a||a.tag!==1)throw Error(n(170));var i=a;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(an(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(a.tag===1){var u=a.type;if(an(u))return mg(a,u,i)}return i}function By(a,i,u,p,m,w,E,P,j){return a=hf(u,p,!0,a,m,w,E,P,j),a.context=Uy(null),u=a.current,p=Jt(),m=ca(u),w=Rr(p,m),w.callback=i??null,ia(u,w,m),a.current.lanes=m,wi(a,m,p),ln(a,p),a}function hu(a,i,u,p){var m=i.current,w=Jt(),E=ca(m);return u=Uy(u),i.context===null?i.context=u:i.pendingContext=u,i=Rr(w,E),i.payload={element:a},p=p===void 0?null:p,p!==null&&(i.callback=p),a=ia(m,i,E),a!==null&&(Yn(a,m,E,w),Vl(a,m,E)),E}function mu(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Hy(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<i?u:i}}function mf(a,i){Hy(a,i),(a=a.alternate)&&Hy(a,i)}function WS(){return null}var qy=typeof reportError=="function"?reportError:function(a){console.error(a)};function gf(a){this._internalRoot=a}gu.prototype.render=gf.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));hu(a,i,null,null)},gu.prototype.unmount=gf.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;qa(function(){hu(null,a,null,null)}),i[Tr]=null}};function gu(a){this._internalRoot=a}gu.prototype.unstable_scheduleHydration=function(a){if(a){var i=Tm();a={blockedOn:null,target:a,priority:i};for(var u=0;u<Xr.length&&i!==0&&i<Xr[u].priority;u++);Xr.splice(u,0,a),u===0&&Om(a)}};function yf(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function yu(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Vy(){}function ZS(a,i,u,p,m){if(m){if(typeof p=="function"){var w=p;p=function(){var U=mu(E);w.call(U)}}var E=By(i,p,a,0,null,!1,!1,"",Vy);return a._reactRootContainer=E,a[Tr]=E.current,ji(a.nodeType===8?a.parentNode:a),qa(),E}for(;m=a.lastChild;)a.removeChild(m);if(typeof p=="function"){var P=p;p=function(){var U=mu(j);P.call(U)}}var j=hf(a,0,!1,null,null,!1,!1,"",Vy);return a._reactRootContainer=j,a[Tr]=j.current,ji(a.nodeType===8?a.parentNode:a),qa(function(){hu(i,j,u,p)}),j}function vu(a,i,u,p,m){var w=u._reactRootContainer;if(w){var E=w;if(typeof m=="function"){var P=m;m=function(){var j=mu(E);P.call(j)}}hu(i,E,a,m)}else E=ZS(u,i,a,m,p);return mu(E)}Cm=function(a){switch(a.tag){case 3:var i=a.stateNode;if(i.current.memoizedState.isDehydrated){var u=xi(i.pendingLanes);u!==0&&($c(i,u|1),ln(i,wt()),!(Ze&6)&&($s=wt()+500,aa()))}break;case 13:qa(function(){var p=Pr(a,1);if(p!==null){var m=Jt();Yn(p,a,1,m)}}),mf(a,1)}},Uc=function(a){if(a.tag===13){var i=Pr(a,134217728);if(i!==null){var u=Jt();Yn(i,a,134217728,u)}mf(a,134217728)}},Em=function(a){if(a.tag===13){var i=ca(a),u=Pr(a,i);if(u!==null){var p=Jt();Yn(u,a,i,p)}mf(a,i)}},Tm=function(){return Xe},Im=function(a,i){var u=Xe;try{return Xe=a,i()}finally{Xe=u}},gs=function(a,i,u){switch(i){case"input":if(Zt(a,u),i=u.name,u.type==="radio"&&i!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var p=u[i];if(p!==a&&p.form===a.form){var m=Dl(p);if(!m)throw Error(n(90));_t(p),Zt(p,m)}}}break;case"textarea":Pa(a,u);break;case"select":i=u.value,i!=null&&pn(a,!!u.multiple,i,!1)}},Cr=lf,yi=qa;var YS={usingClientEntryPoint:!1,Events:[Li,Ts,Dl,ys,tn,lf]},Ki={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GS={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=ym(a),a===null?null:a.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||WS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{gl=xu.inject(GS),sr=xu}catch{}}return un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YS,un.createPortal=function(a,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(i))throw Error(n(200));return VS(a,i,null,u)},un.createRoot=function(a,i){if(!yf(a))throw Error(n(299));var u=!1,p="",m=qy;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),i=hf(a,1,!1,null,null,u,!1,p,m),a[Tr]=i.current,ji(a.nodeType===8?a.parentNode:a),new gf(i)},un.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=ym(i),a=a===null?null:a.stateNode,a},un.flushSync=function(a){return qa(a)},un.hydrate=function(a,i,u){if(!yu(i))throw Error(n(200));return vu(null,a,i,!0,u)},un.hydrateRoot=function(a,i,u){if(!yf(a))throw Error(n(405));var p=u!=null&&u.hydratedSources||null,m=!1,w="",E=qy;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),i=By(i,null,a,1,u??null,m,!1,w,E),a[Tr]=i.current,ji(a),p)for(a=0;a<p.length;a++)u=p[a],m=u._getVersion,m=m(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,m]:i.mutableSourceEagerHydrationData.push(u,m);return new gu(i)},un.render=function(a,i,u){if(!yu(i))throw Error(n(200));return vu(null,a,i,!1,u)},un.unmountComponentAtNode=function(a){if(!yu(a))throw Error(n(40));return a._reactRootContainer?(qa(function(){vu(null,null,a,!1,function(){a._reactRootContainer=null,a[Tr]=null})}),!0):!1},un.unstable_batchedUpdates=lf,un.unstable_renderSubtreeIntoContainer=function(a,i,u,p){if(!yu(u))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return vu(a,i,u,!1,p)},un.version="18.3.1-next-f1338f8080-20240426",un}var Qy;function s2(){if(Qy)return wf.exports;Qy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wf.exports=a2(),wf.exports}var ev;function i2(){if(ev)return wu;ev=1;var e=s2();return wu.createRoot=e.createRoot,wu.hydrateRoot=e.hydrateRoot,wu}var o2=i2(),Qi={},tv;function l2(){if(tv)return Qi;tv=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.parse=l,Qi.serialize=d;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,x){const _=new o,k=y.length;if(k<2)return _;const C=(x==null?void 0:x.decode)||h;let S=0;do{const T=y.indexOf("=",S);if(T===-1)break;const I=y.indexOf(";",S),A=I===-1?k:I;if(T>A){S=y.lastIndexOf(";",T-1)+1;continue}const D=c(y,S,T),L=f(y,T,D),H=y.slice(D,L);if(_[H]===void 0){let ne=c(y,T+1,A),ue=f(y,A,ne);const pe=C(y.slice(ne,ue));_[H]=pe}S=A+1}while(S<k);return _}function c(y,x,_){do{const k=y.charCodeAt(x);if(k!==32&&k!==9)return x}while(++x<_);return _}function f(y,x,_){for(;x>_;){const k=y.charCodeAt(--x);if(k!==32&&k!==9)return x+1}return _}function d(y,x,_){const k=(_==null?void 0:_.encode)||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const C=k(x);if(!t.test(C))throw new TypeError(`argument val is invalid: ${x}`);let S=y+"="+C;if(!_)return S;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);S+="; Max-Age="+_.maxAge}if(_.domain){if(!n.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);S+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);S+="; Path="+_.path}if(_.expires){if(!g(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);S+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(S+="; HttpOnly"),_.secure&&(S+="; Secure"),_.partitioned&&(S+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return S}function h(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return s.call(y)==="[object Date]"}return Qi}l2();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nv="popstate";function u2(e={}){function t(s,o){let{pathname:l="/",search:c="",hash:f=""}=fs(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),yp("",{pathname:l,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=s.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof o=="string"?o:bo(o))}function r(s,o){nr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return d2(t,n,r,e)}function ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function nr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function c2(){return Math.random().toString(36).substring(2,10)}function rv(e,t){return{usr:e.state,key:e.key,idx:t}}function yp(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?fs(t):t,state:n,key:t&&t.key||r||c2()}}function bo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function fs(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function d2(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,l=s.history,c="POP",f=null,d=h();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function h(){return(l.state||{idx:null}).idx}function g(){c="POP";let C=h(),S=C==null?null:C-d;d=C,f&&f({action:c,location:k.location,delta:S})}function y(C,S){c="PUSH";let T=yp(k.location,C,S);n&&n(T,C),d=h()+1;let I=rv(T,d),A=k.createHref(T);try{l.pushState(I,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(A)}o&&f&&f({action:c,location:k.location,delta:1})}function x(C,S){c="REPLACE";let T=yp(k.location,C,S);n&&n(T,C),d=h();let I=rv(T,d),A=k.createHref(T);l.replaceState(I,"",A),o&&f&&f({action:c,location:k.location,delta:0})}function _(C){let S=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof C=="string"?C:bo(C);return T=T.replace(/ $/,"%20"),ht(S,`No window.location.(origin|href) available to create URL for href: ${T}`),new URL(T,S)}let k={get action(){return c},get location(){return e(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(nv,g),f=C,()=>{s.removeEventListener(nv,g),f=null}},createHref(C){return t(s,C)},createURL:_,encodeLocation(C){let S=_(C);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:x,go(C){return l.go(C)}};return k}function j1(e,t,n="/"){return f2(e,t,n,!1)}function f2(e,t,n,r){let s=typeof t=="string"?fs(t):t,o=xa(s.pathname||"/",n);if(o==null)return null;let l=D1(e);p2(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let d=S2(o);c=_2(l[f],d,r)}return c}function D1(e,t=[],n=[],r=""){let s=(o,l,c)=>{let f={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=Lr([r,f.relativePath]),h=n.concat(f);o.children&&o.children.length>0&&(ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),D1(o.children,t,h,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:w2(d,o.index),routesMeta:h})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let f of M1(o.path))s(o,l,f)}),t}function M1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let l=M1(r.join("/")),c=[];return c.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...l),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function p2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:b2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var h2=/^:[\w-]+$/,m2=3,g2=2,y2=1,v2=10,x2=-2,av=e=>e==="*";function w2(e,t){let n=e.split("/"),r=n.length;return n.some(av)&&(r+=x2),t&&(r+=g2),n.filter(s=>!av(s)).reduce((s,o)=>s+(h2.test(o)?m2:o===""?y2:v2),r)}function b2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function _2(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",g=Bu({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),y=f.route;if(!g&&d&&n&&!r[r.length-1].route.index&&(g=Bu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Lr([o,g.pathname]),pathnameBase:I2(Lr([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=Lr([o,g.pathnameBase]))}return l}function Bu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=k2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:g},y)=>{if(h==="*"){let _=c[y]||"";l=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const x=c[y];return g&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:e}}function k2(e,t=!1,n=!0){nr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function S2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return nr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function xa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function C2(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?fs(e):e;return{pathname:n?n.startsWith("/")?n:E2(n,t):t,search:N2(r),hash:O2(s)}}function E2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function kf(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function L1(e){let t=T2(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function F1(e,t,n,r=!1){let s;typeof e=="string"?s=fs(e):(s={...e},ht(!s.pathname||!s.pathname.includes("?"),kf("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),kf("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),kf("#","search","hash",s)));let o=e===""||s.pathname==="",l=o?"/":s.pathname,c;if(l==null)c=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),g-=1;s.pathname=y.join("/")}c=g>=0?t[g]:"/"}let f=C2(s,c),d=l&&l!=="/"&&l.endsWith("/"),h=(o||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}var Lr=e=>e.join("/").replace(/\/\/+/g,"/"),I2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function P2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var z1=["POST","PUT","PATCH","DELETE"];new Set(z1);var R2=["GET",...z1];new Set(R2);var ci=O.createContext(null);ci.displayName="DataRouter";var vc=O.createContext(null);vc.displayName="DataRouterState";var $1=O.createContext({isTransitioning:!1});$1.displayName="ViewTransition";var A2=O.createContext(new Map);A2.displayName="Fetchers";var j2=O.createContext(null);j2.displayName="Await";var br=O.createContext(null);br.displayName="Navigation";var sl=O.createContext(null);sl.displayName="Location";var _r=O.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var hh=O.createContext(null);hh.displayName="RouteError";function D2(e,{relative:t}={}){ht(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(br),{hash:s,pathname:o,search:l}=ol(e,{relative:t}),c=o;return n!=="/"&&(c=o==="/"?n:Lr([n,o])),r.createHref({pathname:c,search:l,hash:s})}function il(){return O.useContext(sl)!=null}function Hr(){return ht(il(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(sl).location}var U1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function B1(e){O.useContext(br).static||O.useLayoutEffect(e)}function di(){let{isDataRoute:e}=O.useContext(_r);return e?G2():M2()}function M2(){ht(il(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext(ci),{basename:t,navigator:n}=O.useContext(br),{matches:r}=O.useContext(_r),{pathname:s}=Hr(),o=JSON.stringify(L1(r)),l=O.useRef(!1);return B1(()=>{l.current=!0}),O.useCallback((f,d={})=>{if(nr(l.current,U1),!l.current)return;if(typeof f=="number"){n.go(f);return}let h=F1(f,JSON.parse(o),s,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Lr([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,s,e])}O.createContext(null);function L2(){let{matches:e}=O.useContext(_r),t=e[e.length-1];return t?t.params:{}}function ol(e,{relative:t}={}){let{matches:n}=O.useContext(_r),{pathname:r}=Hr(),s=JSON.stringify(L1(n));return O.useMemo(()=>F1(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function F2(e,t){return H1(e,t)}function H1(e,t,n,r){var T;ht(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=O.useContext(br),{matches:l}=O.useContext(_r),c=l[l.length-1],f=c?c.params:{},d=c?c.pathname:"/",h=c?c.pathnameBase:"/",g=c&&c.route;{let I=g&&g.path||"";q1(d,!g||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let y=Hr(),x;if(t){let I=typeof t=="string"?fs(t):t;ht(h==="/"||((T=I.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${I.pathname}" was given in the \`location\` prop.`),x=I}else x=y;let _=x.pathname||"/",k=_;if(h!=="/"){let I=h.replace(/^\//,"").split("/");k="/"+_.replace(/^\//,"").split("/").slice(I.length).join("/")}let C=!o&&n&&n.matches&&n.matches.length>0?n.matches:j1(e,{pathname:k});nr(g||C!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),nr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=H2(C&&C.map(I=>Object.assign({},I,{params:Object.assign({},f,I.params),pathname:Lr([h,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?h:Lr([h,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,n,r);return t&&S?O.createElement(sl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},S):S}function z2(){let e=Y2(),t=P2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:s},n):null,l)}var $2=O.createElement(z2,null),U2=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(_r.Provider,{value:this.props.routeContext},O.createElement(hh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B2({routeContext:e,match:t,children:n}){let r=O.useContext(ci);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(_r.Provider,{value:e},n)}function H2(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(n)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:g}=n,y=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,d,h)=>{let g,y=!1,x=null,_=null;n&&(g=o&&d.route.id?o[d.route.id]:void 0,x=d.route.errorElement||$2,l&&(c<0&&h===0?(q1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):c===h&&(y=!0,_=d.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,h+1)),C=()=>{let S;return g?S=x:y?S=_:d.route.Component?S=O.createElement(d.route.Component,null):d.route.element?S=d.route.element:S=f,O.createElement(B2,{match:d,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:S})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(U2,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}function mh(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function q2(e){let t=O.useContext(ci);return ht(t,mh(e)),t}function V2(e){let t=O.useContext(vc);return ht(t,mh(e)),t}function W2(e){let t=O.useContext(_r);return ht(t,mh(e)),t}function gh(e){let t=W2(e),n=t.matches[t.matches.length-1];return ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Z2(){return gh("useRouteId")}function Y2(){var r;let e=O.useContext(hh),t=V2("useRouteError"),n=gh("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function G2(){let{router:e}=q2("useNavigate"),t=gh("useNavigate"),n=O.useRef(!1);return B1(()=>{n.current=!0}),O.useCallback(async(s,o={})=>{nr(n.current,U1),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var sv={};function q1(e,t,n){!t&&!sv[e]&&(sv[e]=!0,nr(!1,n))}O.memo(J2);function J2({routes:e,future:t,state:n}){return H1(e,void 0,n,t)}function Dn(e){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K2({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){ht(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof n=="string"&&(n=fs(n));let{pathname:f="/",search:d="",hash:h="",state:g=null,key:y="default"}=n,x=O.useMemo(()=>{let _=xa(f,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:g,key:y},navigationType:r}},[l,f,d,h,g,y,r]);return nr(x!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:O.createElement(br.Provider,{value:c},O.createElement(sl.Provider,{children:t,value:x}))}function V1({children:e,location:t}){return F2(vp(e),t)}function vp(e,t=[]){let n=[];return O.Children.forEach(e,(r,s)=>{if(!O.isValidElement(r))return;let o=[...t,s];if(r.type===O.Fragment){n.push.apply(n,vp(r.props.children,o));return}ht(r.type===Dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=vp(r.props.children,o)),n.push(l)}),n}var ju="get",Du="application/x-www-form-urlencoded";function xc(e){return e!=null&&typeof e.tagName=="string"}function X2(e){return xc(e)&&e.tagName.toLowerCase()==="button"}function Q2(e){return xc(e)&&e.tagName.toLowerCase()==="form"}function eC(e){return xc(e)&&e.tagName.toLowerCase()==="input"}function tC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nC(e,t){return e.button===0&&(!t||t==="_self")&&!tC(e)}var bu=null;function rC(){if(bu===null)try{new FormData(document.createElement("form"),0),bu=!1}catch{bu=!0}return bu}var aC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sf(e){return e!=null&&!aC.has(e)?(nr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Du}"`),null):e}function sC(e,t){let n,r,s,o,l;if(Q2(e)){let c=e.getAttribute("action");r=c?xa(c,t):null,n=e.getAttribute("method")||ju,s=Sf(e.getAttribute("enctype"))||Du,o=new FormData(e)}else if(X2(e)||eC(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||c.getAttribute("action");if(r=f?xa(f,t):null,n=e.getAttribute("formmethod")||c.getAttribute("method")||ju,s=Sf(e.getAttribute("formenctype"))||Sf(c.getAttribute("enctype"))||Du,o=new FormData(c,e),!rC()){let{name:d,type:h,value:g}=e;if(h==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,g)}}else{if(xc(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ju,r=null,s=Du,l=e}return o&&s==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:l}}function yh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function iC(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function lC(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await iC(o,n);return l.links?l.links():[]}return[]}));return fC(r.flat(1).filter(oC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function iv(e,t,n,r,s,o){let l=(f,d)=>n[d]?f.route.id!==n[d].route.id:!0,c=(f,d)=>{var h;return n[d].pathname!==f.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,d)=>l(f,d)||c(f,d)):o==="data"?t.filter((f,d)=>{var g;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(l(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=n[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function uC(e,t){return cC(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function cC(e){return[...new Set(e)]}function dC(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function fC(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(dC(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}function pC(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function hC(){let e=O.useContext(ci);return yh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mC(){let e=O.useContext(vc);return yh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var vh=O.createContext(void 0);vh.displayName="FrameworkContext";function W1(){let e=O.useContext(vh);return yh(e,"You must render this element inside a <HydratedRouter> element"),e}function gC(e,t){let n=O.useContext(vh),[r,s]=O.useState(!1),[o,l]=O.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:h,onTouchStart:g}=t,y=O.useRef(null);O.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let k=S=>{S.forEach(T=>{l(T.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return y.current&&C.observe(y.current),()=>{C.disconnect()}}},[e]),O.useEffect(()=>{if(r){let k=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(k)}}},[r]);let x=()=>{s(!0)},_=()=>{s(!1),l(!1)};return n?e!=="intent"?[o,y,{}]:[o,y,{onFocus:eo(c,x),onBlur:eo(f,_),onMouseEnter:eo(d,x),onMouseLeave:eo(h,_),onTouchStart:eo(g,x)}]:[!1,y,{}]}function eo(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function yC({page:e,...t}){let{router:n}=hC(),r=O.useMemo(()=>j1(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?O.createElement(xC,{page:e,matches:r,...t}):null}function vC(e){let{manifest:t,routeModules:n}=W1(),[r,s]=O.useState([]);return O.useEffect(()=>{let o=!1;return lC(e,t,n).then(l=>{o||s(l)}),()=>{o=!0}},[e,t,n]),r}function xC({page:e,matches:t,...n}){let r=Hr(),{manifest:s,routeModules:o}=W1(),{loaderData:l,matches:c}=mC(),f=O.useMemo(()=>iv(e,t,c,s,r,"data"),[e,t,c,s,r]),d=O.useMemo(()=>iv(e,t,c,s,r,"assets"),[e,t,c,s,r]),h=O.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let x=new Set,_=!1;if(t.forEach(C=>{var T;let S=s.routes[C.route.id];!S||!S.hasLoader||(!f.some(I=>I.route.id===C.route.id)&&C.route.id in l&&((T=o[C.route.id])!=null&&T.shouldRevalidate)||S.hasClientLoader?_=!0:x.add(C.route.id))}),x.size===0)return[];let k=pC(e);return _&&x.size>0&&k.searchParams.set("_routes",t.filter(C=>x.has(C.route.id)).map(C=>C.route.id).join(",")),[k.pathname+k.search]},[l,r,s,f,t,e,o]),g=O.useMemo(()=>uC(d,s),[d,s]),y=vC(d);return O.createElement(O.Fragment,null,h.map(x=>O.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),g.map(x=>O.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),y.map(({key:x,link:_})=>O.createElement("link",{key:x,..._})))}function wC(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z1&&(window.__reactRouterVersion="7.1.5")}catch{}function bC({basename:e,children:t,window:n}){let r=O.useRef();r.current==null&&(r.current=u2({window:n,v5Compat:!0}));let s=r.current,[o,l]=O.useState({action:s.action,location:s.location}),c=O.useCallback(f=>{O.startTransition(()=>l(f))},[l]);return O.useLayoutEffect(()=>s.listen(c),[s,c]),O.createElement(K2,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var Y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xh=O.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:l,state:c,target:f,to:d,preventScrollReset:h,viewTransition:g,...y},x){let{basename:_}=O.useContext(br),k=typeof d=="string"&&Y1.test(d),C,S=!1;if(typeof d=="string"&&k&&(C=d,Z1))try{let ue=new URL(window.location.href),pe=d.startsWith("//")?new URL(ue.protocol+d):new URL(d),re=xa(pe.pathname,_);pe.origin===ue.origin&&re!=null?d=re+pe.search+pe.hash:S=!0}catch{nr(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=D2(d,{relative:s}),[I,A,D]=gC(r,y),L=CC(d,{replace:l,state:c,target:f,preventScrollReset:h,relative:s,viewTransition:g});function H(ue){t&&t(ue),ue.defaultPrevented||L(ue)}let ne=O.createElement("a",{...y,...D,href:C||T,onClick:S||o?t:H,ref:wC(x,A),target:f,"data-discover":!k&&n==="render"?"true":void 0});return I&&!k?O.createElement(O.Fragment,null,ne,O.createElement(yC,{page:T})):ne});xh.displayName="Link";var _C=O.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:l,viewTransition:c,children:f,...d},h){let g=ol(l,{relative:d.relative}),y=Hr(),x=O.useContext(vc),{navigator:_,basename:k}=O.useContext(br),C=x!=null&&OC(g)&&c===!0,S=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,T=y.pathname,I=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(T=T.toLowerCase(),I=I?I.toLowerCase():null,S=S.toLowerCase()),I&&k&&(I=xa(I,k)||I);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let D=T===S||!s&&T.startsWith(S)&&T.charAt(A)==="/",L=I!=null&&(I===S||!s&&I.startsWith(S)&&I.charAt(S.length)==="/"),H={isActive:D,isPending:L,isTransitioning:C},ne=D?t:void 0,ue;typeof r=="function"?ue=r(H):ue=[r,D?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let pe=typeof o=="function"?o(H):o;return O.createElement(xh,{...d,"aria-current":ne,className:ue,ref:h,style:pe,to:l,viewTransition:c},typeof f=="function"?f(H):f)});_C.displayName="NavLink";var kC=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:l=ju,action:c,onSubmit:f,relative:d,preventScrollReset:h,viewTransition:g,...y},x)=>{let _=IC(),k=NC(c,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",S=typeof c=="string"&&Y1.test(c),T=I=>{if(f&&f(I),I.defaultPrevented)return;I.preventDefault();let A=I.nativeEvent.submitter,D=(A==null?void 0:A.getAttribute("formmethod"))||l;_(A||I.currentTarget,{fetcherKey:t,method:D,navigate:n,replace:s,state:o,relative:d,preventScrollReset:h,viewTransition:g})};return O.createElement("form",{ref:x,method:C,action:k,onSubmit:r?f:T,...y,"data-discover":!S&&e==="render"?"true":void 0})});kC.displayName="Form";function SC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(e){let t=O.useContext(ci);return ht(t,SC(e)),t}function CC(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:l}={}){let c=di(),f=Hr(),d=ol(e,{relative:o});return O.useCallback(h=>{if(nC(h,t)){h.preventDefault();let g=n!==void 0?n:bo(f)===bo(d);c(e,{replace:g,state:r,preventScrollReset:s,relative:o,viewTransition:l})}},[f,c,d,n,r,t,e,s,o,l])}var EC=0,TC=()=>`__${String(++EC)}__`;function IC(){let{router:e}=G1("useSubmit"),{basename:t}=O.useContext(br),n=Z2();return O.useCallback(async(r,s={})=>{let{action:o,method:l,encType:c,formData:f,body:d}=sC(r,t);if(s.navigate===!1){let h=s.fetcherKey||TC();await e.fetch(h,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function NC(e,{relative:t}={}){let{basename:n}=O.useContext(br),r=O.useContext(_r);ht(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...ol(e||".",{relative:t})},l=Hr();if(e==null){o.search=l.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(h=>h==="")){c.delete("index"),f.filter(g=>g).forEach(g=>c.append("index",g));let h=c.toString();o.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Lr([n,o.pathname])),bo(o)}function OC(e,t={}){let n=O.useContext($1);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=G1("useViewTransitionState"),s=ol(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=xa(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=xa(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Bu(s.pathname,l)!=null||Bu(s.pathname,o)!=null}new TextEncoder;const vt=window.electron,ns={ollamaInstallCheck:async()=>(vt==null?void 0:vt.ollamaInstallCheck())??!1,ollamaServerToggle:async e=>(vt==null?void 0:vt.ollamaServerToggle(e))??!1,ollamaModelDownload:async e=>(vt==null?void 0:vt.ollamaModelDownload(e))??"Error: Electron bridge not available",ollamaModelRemove:async e=>(vt==null?void 0:vt.ollamaModelRemove(e))??"Error: Electron bridge not available",systemInfoGet:async()=>{const e=await(vt==null?void 0:vt.systemInfoGet());if(!e)throw new Error("SystemInfo not available");return e},ollamaModelRemote:async()=>(vt==null?void 0:vt.ollamaModelRemote())??[],goToUrl:e=>{console.log("goToUrl",e,vt),vt==null||vt.goToUrl(e)}},J1=({className:e})=>b.jsx("img",{src:"./logo.png",alt:"Logo",className:`h-8 aspect-square ${e||""}`}),K1=({className:e})=>b.jsx("span",{className:`font-black uppercase tracking-wide logo text-2xl ${e||""}`,children:"Juicebox"}),X1=({className:e,imgClassName:t})=>b.jsxs("h2",{className:"pl-4 flex flex-row gap-2 items-center ",children:[b.jsx(J1,{className:t}),b.jsx(K1,{className:e})]}),ov=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current h-6 w-6 shrink-0",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),PC=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),RC=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),AC=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),jC=e=>{switch(e){case"info":return b.jsx(ov,{});case"success":return b.jsx(PC,{});case"warning":return b.jsx(RC,{});case"error":return b.jsx(AC,{});default:return b.jsx(ov,{})}},DC=(e,t,n="")=>{const r="alert",s=t?"shadow-lg":"",o={default:"",info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-error"}[e];return[r,o,s,n].filter(Boolean).join(" ").trim()},Hu=({type:e="default",children:t,title:n,description:r,buttons:s,className:o=""})=>{const l=DC(e,!!n,o);return b.jsxs("div",{role:"alert",className:l,children:[jC(e),n?b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold",children:n}),b.jsx("div",{className:"text-xs",children:r||t})]}):b.jsx("span",{children:t}),s&&b.jsx("div",{children:s})]})},Cf=({label:e,description:t,className:n,topRight:r,...s})=>b.jsxs("div",{className:n||"",children:[b.jsxs("div",{className:"flex flex-row w-full items-center items-center mb-1",children:[b.jsx("label",{className:"flex-grow text-sm font-bold",children:e}),r&&b.jsx(b.Fragment,{children:r})]}),b.jsx("input",{className:"input input-bordered w-full",...s}),t&&b.jsx("p",{className:"text-xs italic mt-2 opacity-70",children:t})]});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const MC={prefix:"fas",iconName:"circle-notch",icon:[512,512,[],"f1ce","M222.7 32.1c5 16.9-4.6 34.8-21.5 39.8C121.8 95.6 64 169.1 64 256c0 106 86 192 192 192s192-86 192-192c0-86.9-57.8-160.4-137.1-184.1c-16.9-5-26.6-22.9-21.5-39.8s22.9-26.6 39.8-21.5C434.9 42.1 512 140 512 256c0 141.4-114.6 256-256 256S0 397.4 0 256C0 140 77.1 42.1 182.9 10.6c16.9-5 34.8 4.6 39.8 21.5z"]},LC={prefix:"fas",iconName:"chevron-up",icon:[512,512,[],"f077","M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"]},FC={prefix:"fas",iconName:"arrows-rotate",icon:[512,512,[128472,"refresh","sync"],"f021","M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"]},fo=FC,zC={prefix:"fas",iconName:"arrow-right",icon:[448,512,[8594],"f061","M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"]},qu={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},$C={prefix:"fas",iconName:"arrow-left",icon:[448,512,[8592],"f060","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"]},UC={prefix:"fas",iconName:"comment",icon:[512,512,[128489,61669],"f075","M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4c0 0 0 0 0 0s0 0 0 0s0 0 0 0c0 0 0 0 0 0l.3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z"]},BC={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},HC=BC,qC={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},VC={prefix:"fas",iconName:"upload",icon:[512,512,[],"f093","M288 109.3L288 352c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-242.7-73.4 73.4c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l128-128c12.5-12.5 32.8-12.5 45.3 0l128 128c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L288 109.3zM64 352l128 0c0 35.3 28.7 64 64 64s64-28.7 64-64l128 0c35.3 0 64 28.7 64 64l0 32c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64l0-32c0-35.3 28.7-64 64-64zM432 456a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"]},Q1={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"]},WC={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Vu=WC,ZC={prefix:"fas",iconName:"chevron-left",icon:[320,512,[9001],"f053","M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"]},YC={prefix:"fas",iconName:"chevron-right",icon:[320,512,[9002],"f054","M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"]},Xa={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},GC={prefix:"fas",iconName:"robot",icon:[640,512,[129302],"f544","M320 0c17.7 0 32 14.3 32 32l0 64 120 0c39.8 0 72 32.2 72 72l0 272c0 39.8-32.2 72-72 72l-304 0c-39.8 0-72-32.2-72-72l0-272c0-39.8 32.2-72 72-72l120 0 0-64c0-17.7 14.3-32 32-32zM208 384c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zm96 0c-8.8 0-16 7.2-16 16s7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0zM264 256a40 40 0 1 0 -80 0 40 40 0 1 0 80 0zm152 40a40 40 0 1 0 0-80 40 40 0 1 0 0 80zM48 224l16 0 0 192-16 0c-26.5 0-48-21.5-48-48l0-96c0-26.5 21.5-48 48-48zm544 0c26.5 0 48 21.5 48 48l0 96c0 26.5-21.5 48-48 48l-16 0 0-192 16 0z"]},lv={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},JC={prefix:"fas",iconName:"exclamation",icon:[128,512,[10069,10071,61738],"21","M96 64c0-17.7-14.3-32-32-32S32 46.3 32 64l0 256c0 17.7 14.3 32 32 32s32-14.3 32-32L96 64zM64 480a40 40 0 1 0 0-80 40 40 0 1 0 0 80z"]};/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function KC(e,t,n){return(t=QC(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uv(Object(n),!0).forEach(function(r){KC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XC(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QC(e){var t=XC(e,"string");return typeof t=="symbol"?t:t+""}const cv=()=>{};let wh={},ex={},tx=null,nx={mark:cv,measure:cv};try{typeof window<"u"&&(wh=window),typeof document<"u"&&(ex=document),typeof MutationObserver<"u"&&(tx=MutationObserver),typeof performance<"u"&&(nx=performance)}catch{}const{userAgent:dv=""}=wh.navigator||{},wa=wh,st=ex,fv=tx,_u=nx;wa.document;const qr=!!st.documentElement&&!!st.head&&typeof st.addEventListener=="function"&&typeof st.createElement=="function",rx=~dv.indexOf("MSIE")||~dv.indexOf("Trident/");var eE=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,tE=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ax={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},nE={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},sx=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ht="classic",wc="duotone",rE="sharp",aE="sharp-duotone",ix=[Ht,wc,rE,aE],sE={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},iE={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},oE=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),lE={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},uE=["fak","fa-kit","fakd","fa-kit-duotone"],pv={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},cE=["kit"],dE={kit:{"fa-kit":"fak"}},fE=["fak","fakd"],pE={kit:{fak:"fa-kit"}},hv={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ku={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},hE=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],mE=["fak","fa-kit","fakd","fa-kit-duotone"],gE={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},yE={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},vE={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},xp={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},xE=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],wp=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...hE,...xE],wE=["solid","regular","light","thin","duotone","brands"],ox=[1,2,3,4,5,6,7,8,9,10],bE=ox.concat([11,12,13,14,15,16,17,18,19,20]),_E=[...Object.keys(vE),...wE,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ku.GROUP,ku.SWAP_OPACITY,ku.PRIMARY,ku.SECONDARY].concat(ox.map(e=>"".concat(e,"x"))).concat(bE.map(e=>"w-".concat(e))),kE={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const zr="___FONT_AWESOME___",bp=16,lx="fa",ux="svg-inline--fa",rs="data-fa-i2svg",_p="data-fa-pseudo-element",SE="data-fa-pseudo-element-pending",bh="data-prefix",_h="data-icon",mv="fontawesome-i2svg",CE="async",EE=["HTML","HEAD","STYLE","SCRIPT"],cx=(()=>{try{return!0}catch{return!1}})();function ll(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[Ht]}})}const dx=X({},ax);dx[Ht]=X(X(X(X({},{"fa-duotone":"duotone"}),ax[Ht]),pv.kit),pv["kit-duotone"]);const TE=ll(dx),kp=X({},lE);kp[Ht]=X(X(X(X({},{duotone:"fad"}),kp[Ht]),hv.kit),hv["kit-duotone"]);const gv=ll(kp),Sp=X({},xp);Sp[Ht]=X(X({},Sp[Ht]),pE.kit);const kh=ll(Sp),Cp=X({},yE);Cp[Ht]=X(X({},Cp[Ht]),dE.kit);ll(Cp);const IE=eE,fx="fa-layers-text",NE=tE,OE=X({},sE);ll(OE);const PE=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ef=nE,RE=[...cE,..._E],po=wa.FontAwesomeConfig||{};function AE(e){var t=st.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function jE(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}st&&typeof st.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const s=jE(AE(n));s!=null&&(po[r]=s)});const px={styleDefault:"solid",familyDefault:Ht,cssPrefix:lx,replacementClass:ux,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};po.familyPrefix&&(po.cssPrefix=po.familyPrefix);const ni=X(X({},px),po);ni.autoReplaceSvg||(ni.observeMutations=!1);const be={};Object.keys(px).forEach(e=>{Object.defineProperty(be,e,{enumerable:!0,set:function(t){ni[e]=t,ho.forEach(n=>n(be))},get:function(){return ni[e]}})});Object.defineProperty(be,"familyPrefix",{enumerable:!0,set:function(e){ni.cssPrefix=e,ho.forEach(t=>t(be))},get:function(){return ni.cssPrefix}});wa.FontAwesomeConfig=be;const ho=[];function DE(e){return ho.push(e),()=>{ho.splice(ho.indexOf(e),1)}}const ma=bp,mr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ME(e){if(!e||!qr)return;const t=st.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=st.head.childNodes;let r=null;for(let s=n.length-1;s>-1;s--){const o=n[s],l=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(l)>-1&&(r=o)}return st.head.insertBefore(t,r),e}const LE="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _o(){let e=12,t="";for(;e-- >0;)t+=LE[Math.random()*62|0];return t}function fi(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Sh(e){return e.classList?fi(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function hx(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function FE(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(hx(e[n]),'" '),"").trim()}function bc(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function Ch(e){return e.size!==mr.size||e.x!==mr.x||e.y!==mr.y||e.rotate!==mr.rotate||e.flipX||e.flipY}function zE(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const s={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(t.x*32,", ").concat(t.y*32,") "),l="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),c="rotate(".concat(t.rotate," 0 0)"),f={transform:"".concat(o," ").concat(l," ").concat(c)},d={transform:"translate(".concat(r/2*-1," -256)")};return{outer:s,inner:f,path:d}}function $E(e){let{transform:t,width:n=bp,height:r=bp,startCentered:s=!1}=e,o="";return s&&rx?o+="translate(".concat(t.x/ma-n/2,"em, ").concat(t.y/ma-r/2,"em) "):s?o+="translate(calc(-50% + ".concat(t.x/ma,"em), calc(-50% + ").concat(t.y/ma,"em)) "):o+="translate(".concat(t.x/ma,"em, ").concat(t.y/ma,"em) "),o+="scale(".concat(t.size/ma*(t.flipX?-1:1),", ").concat(t.size/ma*(t.flipY?-1:1),") "),o+="rotate(".concat(t.rotate,"deg) "),o}var UE=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function mx(){const e=lx,t=ux,n=be.cssPrefix,r=be.replacementClass;let s=UE;if(n!==e||r!==t){const o=new RegExp("\\.".concat(e,"\\-"),"g"),l=new RegExp("\\--".concat(e,"\\-"),"g"),c=new RegExp("\\.".concat(t),"g");s=s.replace(o,".".concat(n,"-")).replace(l,"--".concat(n,"-")).replace(c,".".concat(r))}return s}let yv=!1;function Tf(){be.autoAddCss&&!yv&&(ME(mx()),yv=!0)}var BE={mixout(){return{dom:{css:mx,insertCss:Tf}}},hooks(){return{beforeDOMElementCreation(){Tf()},beforeI2svg(){Tf()}}}};const $r=wa||{};$r[zr]||($r[zr]={});$r[zr].styles||($r[zr].styles={});$r[zr].hooks||($r[zr].hooks={});$r[zr].shims||($r[zr].shims=[]);var gr=$r[zr];const gx=[],yx=function(){st.removeEventListener("DOMContentLoaded",yx),Wu=1,gx.map(e=>e())};let Wu=!1;qr&&(Wu=(st.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(st.readyState),Wu||st.addEventListener("DOMContentLoaded",yx));function HE(e){qr&&(Wu?setTimeout(e,0):gx.push(e))}function ul(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?hx(e):"<".concat(t," ").concat(FE(n),">").concat(r.map(ul).join(""),"</").concat(t,">")}function vv(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var If=function(t,n,r,s){var o=Object.keys(t),l=o.length,c=n,f,d,h;for(r===void 0?(f=1,h=t[o[0]]):(f=0,h=r);f<l;f++)d=o[f],h=c(h,t[d],d,t);return h};function qE(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const o=e.charCodeAt(n++);(o&64512)==56320?t.push(((s&1023)<<10)+(o&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function Ep(e){const t=qE(e);return t.length===1?t[0].toString(16):null}function VE(e,t){const n=e.length;let r=e.charCodeAt(t),s;return r>=55296&&r<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(r-55296)*1024+s-56320+65536:r}function xv(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Tp(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,s=xv(t);typeof gr.hooks.addPack=="function"&&!r?gr.hooks.addPack(e,xv(t)):gr.styles[e]=X(X({},gr.styles[e]||{}),s),e==="fas"&&Tp("fa",t)}const{styles:ko,shims:WE}=gr,vx=Object.keys(kh),ZE=vx.reduce((e,t)=>(e[t]=Object.keys(kh[t]),e),{});let Eh=null,xx={},wx={},bx={},_x={},kx={};function YE(e){return~RE.indexOf(e)}function GE(e,t){const n=t.split("-"),r=n[0],s=n.slice(1).join("-");return r===e&&s!==""&&!YE(s)?s:null}const Sx=()=>{const e=r=>If(ko,(s,o,l)=>(s[l]=If(o,r,{}),s),{});xx=e((r,s,o)=>(s[3]&&(r[s[3]]=o),s[2]&&s[2].filter(c=>typeof c=="number").forEach(c=>{r[c.toString(16)]=o}),r)),wx=e((r,s,o)=>(r[o]=o,s[2]&&s[2].filter(c=>typeof c=="string").forEach(c=>{r[c]=o}),r)),kx=e((r,s,o)=>{const l=s[2];return r[o]=o,l.forEach(c=>{r[c]=o}),r});const t="far"in ko||be.autoFetchSvg,n=If(WE,(r,s)=>{const o=s[0];let l=s[1];const c=s[2];return l==="far"&&!t&&(l="fas"),typeof o=="string"&&(r.names[o]={prefix:l,iconName:c}),typeof o=="number"&&(r.unicodes[o.toString(16)]={prefix:l,iconName:c}),r},{names:{},unicodes:{}});bx=n.names,_x=n.unicodes,Eh=_c(be.styleDefault,{family:be.familyDefault})};DE(e=>{Eh=_c(e.styleDefault,{family:be.familyDefault})});Sx();function Th(e,t){return(xx[e]||{})[t]}function JE(e,t){return(wx[e]||{})[t]}function Ja(e,t){return(kx[e]||{})[t]}function Cx(e){return bx[e]||{prefix:null,iconName:null}}function KE(e){const t=_x[e],n=Th("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ba(){return Eh}const Ex=()=>({prefix:null,iconName:null,rest:[]});function XE(e){let t=Ht;const n=vx.reduce((r,s)=>(r[s]="".concat(be.cssPrefix,"-").concat(s),r),{});return ix.forEach(r=>{(e.includes(n[r])||e.some(s=>ZE[r].includes(s)))&&(t=r)}),t}function _c(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Ht}=t,r=TE[n][e];if(n===wc&&!e)return"fad";const s=gv[n][e]||gv[n][r],o=e in gr.styles?e:null;return s||o||null}function QE(e){let t=[],n=null;return e.forEach(r=>{const s=GE(be.cssPrefix,r);s?n=s:r&&t.push(r)}),{iconName:n,rest:t}}function wv(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function kc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const s=wp.concat(mE),o=wv(e.filter(g=>s.includes(g))),l=wv(e.filter(g=>!wp.includes(g))),c=o.filter(g=>(r=g,!sx.includes(g))),[f=null]=c,d=XE(o),h=X(X({},QE(l)),{},{prefix:_c(f,{family:d})});return X(X(X({},h),rT({values:e,family:d,styles:ko,config:be,canonical:h,givenPrefix:r})),eT(n,r,h))}function eT(e,t,n){let{prefix:r,iconName:s}=n;if(e||!r||!s)return{prefix:r,iconName:s};const o=t==="fa"?Cx(s):{},l=Ja(r,s);return s=o.iconName||l||s,r=o.prefix||r,r==="far"&&!ko.far&&ko.fas&&!be.autoFetchSvg&&(r="fas"),{prefix:r,iconName:s}}const tT=ix.filter(e=>e!==Ht||e!==wc),nT=Object.keys(xp).filter(e=>e!==Ht).map(e=>Object.keys(xp[e])).flat();function rT(e){const{values:t,family:n,canonical:r,givenPrefix:s="",styles:o={},config:l={}}=e,c=n===wc,f=t.includes("fa-duotone")||t.includes("fad"),d=l.familyDefault==="duotone",h=r.prefix==="fad"||r.prefix==="fa-duotone";if(!c&&(f||d||h)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&tT.includes(n)&&(Object.keys(o).find(y=>nT.includes(y))||l.autoFetchSvg)){const y=oE.get(n).defaultShortPrefixId;r.prefix=y,r.iconName=Ja(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||s==="fa")&&(r.prefix=ba()||"fas"),r}class aT{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const s=n.reduce(this._pullDefinitions,{});Object.keys(s).forEach(o=>{this.definitions[o]=X(X({},this.definitions[o]||{}),s[o]),Tp(o,s[o]);const l=kh[Ht][o];l&&Tp(l,s[o]),Sx()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(s=>{const{prefix:o,iconName:l,icon:c}=r[s],f=c[2];t[o]||(t[o]={}),f.length>0&&f.forEach(d=>{typeof d=="string"&&(t[o][d]=c)}),t[o][l]=c}),t}}let bv=[],Zs={};const Ks={},sT=Object.keys(Ks);function iT(e,t){let{mixoutsTo:n}=t;return bv=e,Zs={},Object.keys(Ks).forEach(r=>{sT.indexOf(r)===-1&&delete Ks[r]}),bv.forEach(r=>{const s=r.mixout?r.mixout():{};if(Object.keys(s).forEach(o=>{typeof s[o]=="function"&&(n[o]=s[o]),typeof s[o]=="object"&&Object.keys(s[o]).forEach(l=>{n[o]||(n[o]={}),n[o][l]=s[o][l]})}),r.hooks){const o=r.hooks();Object.keys(o).forEach(l=>{Zs[l]||(Zs[l]=[]),Zs[l].push(o[l])})}r.provides&&r.provides(Ks)}),n}function Ip(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];return(Zs[e]||[]).forEach(l=>{t=l.apply(null,[t,...r])}),t}function as(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Zs[e]||[]).forEach(o=>{o.apply(null,n)})}function _a(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ks[e]?Ks[e].apply(null,t):void 0}function Np(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||ba();if(t)return t=Ja(n,t)||t,vv(Tx.definitions,n,t)||vv(gr.styles,n,t)}const Tx=new aT,oT=()=>{be.autoReplaceSvg=!1,be.observeMutations=!1,as("noAuto")},lT={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return qr?(as("beforeI2svg",e),_a("pseudoElements2svg",e),_a("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;be.autoReplaceSvg===!1&&(be.autoReplaceSvg=!0),be.observeMutations=!0,HE(()=>{cT({autoReplaceSvgRoot:t}),as("watch",e)})}},uT={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ja(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=_c(e[0]);return{prefix:n,iconName:Ja(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(be.cssPrefix,"-"))>-1||e.match(IE))){const t=kc(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||ba(),iconName:Ja(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=ba();return{prefix:t,iconName:Ja(t,e)||e}}}},_n={noAuto:oT,config:be,dom:lT,parse:uT,library:Tx,findIconDefinition:Np,toHtml:ul},cT=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=st}=e;(Object.keys(gr.styles).length>0||be.autoFetchSvg)&&qr&&be.autoReplaceSvg&&_n.dom.i2svg({node:t})};function Sc(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>ul(n))}}),Object.defineProperty(e,"node",{get:function(){if(!qr)return;const n=st.createElement("div");return n.innerHTML=e.html,n.children}}),e}function dT(e){let{children:t,main:n,mask:r,attributes:s,styles:o,transform:l}=e;if(Ch(l)&&n.found&&!r.found){const{width:c,height:f}=n,d={x:c/f/2,y:.5};s.style=bc(X(X({},o),{},{"transform-origin":"".concat(d.x+l.x/16,"em ").concat(d.y+l.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function fT(e){let{prefix:t,iconName:n,children:r,attributes:s,symbol:o}=e;const l=o===!0?"".concat(t,"-").concat(be.cssPrefix,"-").concat(n):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:X(X({},s),{},{id:l}),children:r}]}]}function Ih(e){const{icons:{main:t,mask:n},prefix:r,iconName:s,transform:o,symbol:l,title:c,maskId:f,titleId:d,extra:h,watchable:g=!1}=e,{width:y,height:x}=n.found?n:t,_=fE.includes(r),k=[be.replacementClass,s?"".concat(be.cssPrefix,"-").concat(s):""].filter(D=>h.classes.indexOf(D)===-1).filter(D=>D!==""||!!D).concat(h.classes).join(" ");let C={children:[],attributes:X(X({},h.attributes),{},{"data-prefix":r,"data-icon":s,class:k,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat(x)})};const S=_&&!~h.classes.indexOf("fa-fw")?{width:"".concat(y/x*16*.0625,"em")}:{};g&&(C.attributes[rs]=""),c&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(d||_o())},children:[c]}),delete C.attributes.title);const T=X(X({},C),{},{prefix:r,iconName:s,main:t,mask:n,maskId:f,transform:o,symbol:l,styles:X(X({},S),h.styles)}),{children:I,attributes:A}=n.found&&t.found?_a("generateAbstractMask",T)||{children:[],attributes:{}}:_a("generateAbstractIcon",T)||{children:[],attributes:{}};return T.children=I,T.attributes=A,l?fT(T):dT(T)}function _v(e){const{content:t,width:n,height:r,transform:s,title:o,extra:l,watchable:c=!1}=e,f=X(X(X({},l.attributes),o?{title:o}:{}),{},{class:l.classes.join(" ")});c&&(f[rs]="");const d=X({},l.styles);Ch(s)&&(d.transform=$E({transform:s,startCentered:!0,width:n,height:r}),d["-webkit-transform"]=d.transform);const h=bc(d);h.length>0&&(f.style=h);const g=[];return g.push({tag:"span",attributes:f,children:[t]}),o&&g.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),g}function pT(e){const{content:t,title:n,extra:r}=e,s=X(X(X({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),o=bc(r.styles);o.length>0&&(s.style=o);const l=[];return l.push({tag:"span",attributes:s,children:[t]}),n&&l.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),l}const{styles:Nf}=gr;function Op(e){const t=e[0],n=e[1],[r]=e.slice(4);let s=null;return Array.isArray(r)?s={tag:"g",attributes:{class:"".concat(be.cssPrefix,"-").concat(Ef.GROUP)},children:[{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(Ef.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(be.cssPrefix,"-").concat(Ef.PRIMARY),fill:"currentColor",d:r[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:s}}const hT={found:!1,width:512,height:512};function mT(e,t){!cx&&!be.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Pp(e,t){let n=t;return t==="fa"&&be.styleDefault!==null&&(t=ba()),new Promise((r,s)=>{if(n==="fa"){const o=Cx(e)||{};e=o.iconName||e,t=o.prefix||t}if(e&&t&&Nf[t]&&Nf[t][e]){const o=Nf[t][e];return r(Op(o))}mT(e,t),r(X(X({},hT),{},{icon:be.showMissingIcons&&e?_a("missingIconAbstract")||{}:{}}))})}const kv=()=>{},Rp=be.measurePerformance&&_u&&_u.mark&&_u.measure?_u:{mark:kv,measure:kv},oo='FA "6.7.2"',gT=e=>(Rp.mark("".concat(oo," ").concat(e," begins")),()=>Ix(e)),Ix=e=>{Rp.mark("".concat(oo," ").concat(e," ends")),Rp.measure("".concat(oo," ").concat(e),"".concat(oo," ").concat(e," begins"),"".concat(oo," ").concat(e," ends"))};var Nh={begin:gT,end:Ix};const Mu=()=>{};function Sv(e){return typeof(e.getAttribute?e.getAttribute(rs):null)=="string"}function yT(e){const t=e.getAttribute?e.getAttribute(bh):null,n=e.getAttribute?e.getAttribute(_h):null;return t&&n}function vT(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(be.replacementClass)}function xT(){return be.autoReplaceSvg===!0?Lu.replace:Lu[be.autoReplaceSvg]||Lu.replace}function wT(e){return st.createElementNS("http://www.w3.org/2000/svg",e)}function bT(e){return st.createElement(e)}function Nx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?wT:bT}=t;if(typeof e=="string")return st.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(o){r.setAttribute(o,e.attributes[o])}),(e.children||[]).forEach(function(o){r.appendChild(Nx(o,{ceFn:n}))}),r}function _T(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Lu={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(Nx(n),t)}),t.getAttribute(rs)===null&&be.keepOriginalSource){let n=st.createComment(_T(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~Sh(t).indexOf(be.replacementClass))return Lu.replace(e);const r=new RegExp("".concat(be.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const o=n[0].attributes.class.split(" ").reduce((l,c)=>(c===be.replacementClass||c.match(r)?l.toSvg.push(c):l.toNode.push(c),l),{toNode:[],toSvg:[]});n[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",o.toNode.join(" "))}const s=n.map(o=>ul(o)).join(`
`);t.setAttribute(rs,""),t.innerHTML=s}};function Cv(e){e()}function Ox(e,t){const n=typeof t=="function"?t:Mu;if(e.length===0)n();else{let r=Cv;be.mutateApproach===CE&&(r=wa.requestAnimationFrame||Cv),r(()=>{const s=xT(),o=Nh.begin("mutate");e.map(s),o(),n()})}}let Oh=!1;function Px(){Oh=!0}function Ap(){Oh=!1}let Zu=null;function Ev(e){if(!fv||!be.observeMutations)return;const{treeCallback:t=Mu,nodeCallback:n=Mu,pseudoElementsCallback:r=Mu,observeMutationsRoot:s=st}=e;Zu=new fv(o=>{if(Oh)return;const l=ba();fi(o).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!Sv(c.addedNodes[0])&&(be.searchPseudoElements&&r(c.target),t(c.target)),c.type==="attributes"&&c.target.parentNode&&be.searchPseudoElements&&r(c.target.parentNode),c.type==="attributes"&&Sv(c.target)&&~PE.indexOf(c.attributeName))if(c.attributeName==="class"&&yT(c.target)){const{prefix:f,iconName:d}=kc(Sh(c.target));c.target.setAttribute(bh,f||l),d&&c.target.setAttribute(_h,d)}else vT(c.target)&&n(c.target)})}),qr&&Zu.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function kT(){Zu&&Zu.disconnect()}function ST(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,s)=>{const o=s.split(":"),l=o[0],c=o.slice(1);return l&&c.length>0&&(r[l]=c.join(":").trim()),r},{})),n}function CT(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let s=kc(Sh(e));return s.prefix||(s.prefix=ba()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&r.length>0&&(s.iconName=JE(s.prefix,e.innerText)||Th(s.prefix,Ep(e.innerText))),!s.iconName&&be.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function ET(e){const t=fi(e.attributes).reduce((s,o)=>(s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return be.autoA11y&&(n?t["aria-labelledby"]="".concat(be.replacementClass,"-title-").concat(r||_o()):(t["aria-hidden"]="true",t.focusable="false")),t}function TT(){return{iconName:null,title:null,titleId:null,prefix:null,transform:mr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Tv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:s}=CT(e),o=ET(e),l=Ip("parseNodeAttributes",{},e);let c=t.styleParser?ST(e):[];return X({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:mr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},l)}const{styles:IT}=gr;function Rx(e){const t=be.autoReplaceSvg==="nest"?Tv(e,{styleParser:!1}):Tv(e);return~t.extra.classes.indexOf(fx)?_a("generateLayersText",e,t):_a("generateSvgReplacementMutation",e,t)}function NT(){return[...uE,...wp]}function Iv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!qr)return Promise.resolve();const n=st.documentElement.classList,r=h=>n.add("".concat(mv,"-").concat(h)),s=h=>n.remove("".concat(mv,"-").concat(h)),o=be.autoFetchSvg?NT():sx.concat(Object.keys(IT));o.includes("fa")||o.push("fa");const l=[".".concat(fx,":not([").concat(rs,"])")].concat(o.map(h=>".".concat(h,":not([").concat(rs,"])"))).join(", ");if(l.length===0)return Promise.resolve();let c=[];try{c=fi(e.querySelectorAll(l))}catch{}if(c.length>0)r("pending"),s("complete");else return Promise.resolve();const f=Nh.begin("onTree"),d=c.reduce((h,g)=>{try{const y=Rx(g);y&&h.push(y)}catch(y){cx||y.name==="MissingIcon"&&console.error(y)}return h},[]);return new Promise((h,g)=>{Promise.all(d).then(y=>{Ox(y,()=>{r("active"),r("complete"),s("pending"),typeof t=="function"&&t(),f(),h()})}).catch(y=>{f(),g(y)})})}function OT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Rx(e).then(n=>{n&&Ox([n],t)})}function PT(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:Np(t||{});let{mask:s}=n;return s&&(s=(s||{}).icon?s:Np(s||{})),e(r,X(X({},n),{},{mask:s}))}}const RT=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=mr,symbol:r=!1,mask:s=null,maskId:o=null,title:l=null,titleId:c=null,classes:f=[],attributes:d={},styles:h={}}=t;if(!e)return;const{prefix:g,iconName:y,icon:x}=e;return Sc(X({type:"icon"},e),()=>(as("beforeDOMElementCreation",{iconDefinition:e,params:t}),be.autoA11y&&(l?d["aria-labelledby"]="".concat(be.replacementClass,"-title-").concat(c||_o()):(d["aria-hidden"]="true",d.focusable="false")),Ih({icons:{main:Op(x),mask:s?Op(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:y,transform:X(X({},mr),n),symbol:r,title:l,maskId:o,titleId:c,extra:{attributes:d,styles:h,classes:f}})))};var AT={mixout(){return{icon:PT(RT)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Iv,e.nodeCallback=OT,e}}},provides(e){e.i2svg=function(t){const{node:n=st,callback:r=()=>{}}=t;return Iv(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:s,titleId:o,prefix:l,transform:c,symbol:f,mask:d,maskId:h,extra:g}=n;return new Promise((y,x)=>{Promise.all([Pp(r,l),d.iconName?Pp(d.iconName,d.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(_=>{let[k,C]=_;y([t,Ih({icons:{main:k,mask:C},prefix:l,iconName:r,transform:c,symbol:f,maskId:h,title:s,titleId:o,extra:g,watchable:!0})])}).catch(x)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:s,transform:o,styles:l}=t;const c=bc(l);c.length>0&&(r.style=c);let f;return Ch(o)&&(f=_a("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),n.push(f||s.icon),{children:n,attributes:r}}}},jT={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return Sc({type:"layer"},()=>{as("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(s=>{Array.isArray(s)?s.map(o=>{r=r.concat(o.abstract)}):r=r.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(be.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},DT={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:s={},styles:o={}}=t;return Sc({type:"counter",content:e},()=>(as("beforeDOMElementCreation",{content:e,params:t}),pT({content:e.toString(),title:n,extra:{attributes:s,styles:o,classes:["".concat(be.cssPrefix,"-layers-counter"),...r]}})))}}}},MT={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=mr,title:r=null,classes:s=[],attributes:o={},styles:l={}}=t;return Sc({type:"text",content:e},()=>(as("beforeDOMElementCreation",{content:e,params:t}),_v({content:e,transform:X(X({},mr),n),title:r,extra:{attributes:o,styles:l,classes:["".concat(be.cssPrefix,"-layers-text"),...s]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:s,extra:o}=n;let l=null,c=null;if(rx){const f=parseInt(getComputedStyle(t).fontSize,10),d=t.getBoundingClientRect();l=d.width/f,c=d.height/f}return be.autoA11y&&!r&&(o.attributes["aria-hidden"]="true"),Promise.resolve([t,_v({content:t.innerHTML,width:l,height:c,transform:s,title:r,extra:o,watchable:!0})])}}};const LT=new RegExp('"',"ug"),Nv=[1105920,1112319],Ov=X(X(X(X({},{FontAwesome:{normal:"fas",400:"fas"}}),iE),kE),gE),jp=Object.keys(Ov).reduce((e,t)=>(e[t.toLowerCase()]=Ov[t],e),{}),FT=Object.keys(jp).reduce((e,t)=>{const n=jp[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function zT(e){const t=e.replace(LT,""),n=VE(t,0),r=n>=Nv[0]&&n<=Nv[1],s=t.length===2?t[0]===t[1]:!1;return{value:Ep(s?t[0]:t),isSecondary:r||s}}function $T(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),s=isNaN(r)?"normal":r;return(jp[n]||{})[s]||FT[n]}function Pv(e,t){const n="".concat(SE).concat(t.replace(":","-"));return new Promise((r,s)=>{if(e.getAttribute(n)!==null)return r();const l=fi(e.children).filter(y=>y.getAttribute(_p)===t)[0],c=wa.getComputedStyle(e,t),f=c.getPropertyValue("font-family"),d=f.match(NE),h=c.getPropertyValue("font-weight"),g=c.getPropertyValue("content");if(l&&!d)return e.removeChild(l),r();if(d&&g!=="none"&&g!==""){const y=c.getPropertyValue("content");let x=$T(f,h);const{value:_,isSecondary:k}=zT(y),C=d[0].startsWith("FontAwesome");let S=Th(x,_),T=S;if(C){const I=KE(_);I.iconName&&I.prefix&&(S=I.iconName,x=I.prefix)}if(S&&!k&&(!l||l.getAttribute(bh)!==x||l.getAttribute(_h)!==T)){e.setAttribute(n,T),l&&e.removeChild(l);const I=TT(),{extra:A}=I;A.attributes[_p]=t,Pp(S,x).then(D=>{const L=Ih(X(X({},I),{},{icons:{main:D,mask:Ex()},prefix:x,iconName:T,extra:A,watchable:!0})),H=st.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(H,e.firstChild):e.appendChild(H),H.outerHTML=L.map(ne=>ul(ne)).join(`
`),e.removeAttribute(n),r()}).catch(s)}else r()}else r()})}function UT(e){return Promise.all([Pv(e,"::before"),Pv(e,"::after")])}function BT(e){return e.parentNode!==document.head&&!~EE.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(_p)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Rv(e){if(qr)return new Promise((t,n)=>{const r=fi(e.querySelectorAll("*")).filter(BT).map(UT),s=Nh.begin("searchPseudoElements");Px(),Promise.all(r).then(()=>{s(),Ap(),t()}).catch(()=>{s(),Ap(),n()})})}var HT={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=Rv,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=st}=t;be.searchPseudoElements&&Rv(n)}}};let Av=!1;var qT={mixout(){return{dom:{unwatch(){Px(),Av=!0}}}},hooks(){return{bootstrap(){Ev(Ip("mutationObserverCallbacks",{}))},noAuto(){kT()},watch(e){const{observeMutationsRoot:t}=e;Av?Ap():Ev(Ip("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const jv=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const s=r.toLowerCase().split("-"),o=s[0];let l=s.slice(1).join("-");if(o&&l==="h")return n.flipX=!0,n;if(o&&l==="v")return n.flipY=!0,n;if(l=parseFloat(l),isNaN(l))return n;switch(o){case"grow":n.size=n.size+l;break;case"shrink":n.size=n.size-l;break;case"left":n.x=n.x-l;break;case"right":n.x=n.x+l;break;case"up":n.y=n.y-l;break;case"down":n.y=n.y+l;break;case"rotate":n.rotate=n.rotate+l;break}return n},t)};var VT={mixout(){return{parse:{transform:e=>jv(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=jv(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:s,iconWidth:o}=t;const l={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(r.x*32,", ").concat(r.y*32,") "),f="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),d="rotate(".concat(r.rotate," 0 0)"),h={transform:"".concat(c," ").concat(f," ").concat(d)},g={transform:"translate(".concat(o/2*-1," -256)")},y={outer:l,inner:h,path:g};return{tag:"g",attributes:X({},y.outer),children:[{tag:"g",attributes:X({},y.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:X(X({},n.icon.attributes),y.path)}]}]}}}};const Of={x:0,y:0,width:"100%",height:"100%"};function Dv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function WT(e){return e.tag==="g"?e.children:[e]}var ZT={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?kc(n.split(" ").map(s=>s.trim())):Ex();return r.prefix||(r.prefix=ba()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:s,mask:o,maskId:l,transform:c}=t;const{width:f,icon:d}=s,{width:h,icon:g}=o,y=zE({transform:c,containerWidth:h,iconWidth:f}),x={tag:"rect",attributes:X(X({},Of),{},{fill:"white"})},_=d.children?{children:d.children.map(Dv)}:{},k={tag:"g",attributes:X({},y.inner),children:[Dv(X({tag:d.tag,attributes:X(X({},d.attributes),y.path)},_))]},C={tag:"g",attributes:X({},y.outer),children:[k]},S="mask-".concat(l||_o()),T="clip-".concat(l||_o()),I={tag:"mask",attributes:X(X({},Of),{},{id:S,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[x,C]},A={tag:"defs",children:[{tag:"clipPath",attributes:{id:T},children:WT(g)},I]};return n.push(A,{tag:"rect",attributes:X({fill:"currentColor","clip-path":"url(#".concat(T,")"),mask:"url(#".concat(S,")")},Of)}),{children:n,attributes:r}}}},YT={provides(e){let t=!1;wa.matchMedia&&(t=wa.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:X(X({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const o=X(X({},s),{},{attributeName:"opacity"}),l={tag:"circle",attributes:X(X({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||l.children.push({tag:"animate",attributes:X(X({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:X(X({},o),{},{values:"1;0;1;1;0;1;"})}),n.push(l),n.push({tag:"path",attributes:X(X({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:X(X({},o),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:X(X({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:X(X({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},GT={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},JT=[BE,AT,jT,DT,MT,HT,qT,VT,ZT,YT,GT];iT(JT,{mixoutsTo:_n});_n.noAuto;_n.config;_n.library;_n.dom;const Dp=_n.parse;_n.findIconDefinition;_n.toHtml;const KT=_n.icon;_n.layer;_n.text;_n.counter;var Pf={exports:{}},Rf,Mv;function XT(){if(Mv)return Rf;Mv=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Rf=e,Rf}var Af,Lv;function QT(){if(Lv)return Af;Lv=1;var e=XT();function t(){}function n(){}return n.resetWarningCache=t,Af=function(){function r(l,c,f,d,h,g){if(g!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},Af}var Fv;function eI(){return Fv||(Fv=1,Pf.exports=QT()()),Pf.exports}var tI=eI();const $e=ui(tI);function zv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zv(Object(n),!0).forEach(function(r){Ys(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yu(e){"@babel/helpers - typeof";return Yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yu(e)}function Ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nI(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function rI(e,t){if(e==null)return{};var n=nI(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mp(e){return aI(e)||sI(e)||iI(e)||oI()}function aI(e){if(Array.isArray(e))return Lp(e)}function sI(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iI(e,t){if(e){if(typeof e=="string")return Lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lp(e,t)}}function Lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oI(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lI(e){var t,n=e.beat,r=e.fade,s=e.beatFade,o=e.bounce,l=e.shake,c=e.flash,f=e.spin,d=e.spinPulse,h=e.spinReverse,g=e.pulse,y=e.fixedWidth,x=e.inverse,_=e.border,k=e.listItem,C=e.flip,S=e.size,T=e.rotation,I=e.pull,A=(t={"fa-beat":n,"fa-fade":r,"fa-beat-fade":s,"fa-bounce":o,"fa-shake":l,"fa-flash":c,"fa-spin":f,"fa-spin-reverse":h,"fa-spin-pulse":d,"fa-pulse":g,"fa-fw":y,"fa-inverse":x,"fa-border":_,"fa-li":k,"fa-flip":C===!0,"fa-flip-horizontal":C==="horizontal"||C==="both","fa-flip-vertical":C==="vertical"||C==="both"},Ys(t,"fa-".concat(S),typeof S<"u"&&S!==null),Ys(t,"fa-rotate-".concat(T),typeof T<"u"&&T!==null&&T!==0),Ys(t,"fa-pull-".concat(I),typeof I<"u"&&I!==null),Ys(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(A).map(function(D){return A[D]?D:null}).filter(function(D){return D})}function uI(e){return e=e-0,e===e}function Ax(e){return uI(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,n){return n?n.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var cI=["style"];function dI(e){return e.charAt(0).toUpperCase()+e.slice(1)}function fI(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),s=Ax(n.slice(0,r)),o=n.slice(r+1).trim();return s.startsWith("webkit")?t[dI(s)]=o:t[s]=o,t},{})}function jx(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var r=(t.children||[]).map(function(f){return jx(e,f)}),s=Object.keys(t.attributes||{}).reduce(function(f,d){var h=t.attributes[d];switch(d){case"class":f.attrs.className=h,delete t.attributes.class;break;case"style":f.attrs.style=fI(h);break;default:d.indexOf("aria-")===0||d.indexOf("data-")===0?f.attrs[d.toLowerCase()]=h:f.attrs[Ax(d)]=h}return f},{attrs:{}}),o=n.style,l=o===void 0?{}:o,c=rI(n,cI);return s.attrs.style=dr(dr({},s.attrs.style),l),e.apply(void 0,[t.tag,dr(dr({},s.attrs),c)].concat(Mp(r)))}var Dx=!1;try{Dx=!0}catch{}function pI(){if(!Dx&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function $v(e){if(e&&Yu(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Dp.icon)return Dp.icon(e);if(e===null)return null;if(e&&Yu(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function jf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ys({},e,t):{}}var Uv={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},Ve=hr.forwardRef(function(e,t){var n=dr(dr({},Uv),e),r=n.icon,s=n.mask,o=n.symbol,l=n.className,c=n.title,f=n.titleId,d=n.maskId,h=$v(r),g=jf("classes",[].concat(Mp(lI(n)),Mp((l||"").split(" ")))),y=jf("transform",typeof n.transform=="string"?Dp.transform(n.transform):n.transform),x=jf("mask",$v(s)),_=KT(h,dr(dr(dr(dr({},g),y),x),{},{symbol:o,title:c,titleId:f,maskId:d}));if(!_)return pI("Could not find icon",h),null;var k=_.abstract,C={ref:t};return Object.keys(n).forEach(function(S){Uv.hasOwnProperty(S)||(C[S]=n[S])}),hI(k[0],C)});Ve.displayName="FontAwesomeIcon";Ve.propTypes={beat:$e.bool,border:$e.bool,beatFade:$e.bool,bounce:$e.bool,className:$e.string,fade:$e.bool,flash:$e.bool,mask:$e.oneOfType([$e.object,$e.array,$e.string]),maskId:$e.string,fixedWidth:$e.bool,inverse:$e.bool,flip:$e.oneOf([!0,!1,"horizontal","vertical","both"]),icon:$e.oneOfType([$e.object,$e.array,$e.string]),listItem:$e.bool,pull:$e.oneOf(["right","left"]),pulse:$e.bool,rotation:$e.oneOf([0,90,180,270]),shake:$e.bool,size:$e.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:$e.bool,spinPulse:$e.bool,spinReverse:$e.bool,symbol:$e.oneOfType([$e.bool,$e.string]),title:$e.string,titleId:$e.string,transform:$e.oneOfType([$e.string,$e.object]),swapOpacity:$e.bool};var hI=jx.bind(null,hr.createElement);const Ge=({theme:e,children:t,className:n,isLoading:r,isBig:s,isSmall:o,isOutline:l,tooltip:c,tooltipPosition:f,isLoadingContent:d=b.jsx(Ve,{icon:MC,spin:!0}),...h})=>{const g=O.useMemo(()=>{let x="btn ";switch(l&&(x+=" btn-outline"),e){case"primary":x+=" btn-primary";break;case"secondary":x+=" btn-secondary";break;case"danger":x+=" btn-error";break;case"success":x+=" btn-success";break;case"warning":x+=" btn-warning";break;case"info":x+=" btn-info";break;case"dark":x+=" btn-dark";break;case"light":x+=" btn-light";break;case"link":x+=" btn-link";break;case"ghost":x+=" btn-ghost";break;case"custom":x="";break;default:x+=" btn-primary";break}return n&&(x+=" "+n),s&&(x+=" btn-lg"),o&&(x+=" btn-sm"),x},[l,e,n,s,o]),y={...h,className:g};return r&&(y.disabled=!0),c&&(y["data-tip"]=c,y.className+=" tooltip",f&&(y.className+=" tooltip-"+f)),b.jsx("button",{...y,children:r?d:t})},Qa=({theme:e,children:t,className:n,isLoading:r,isOutline:s,isBig:o,isButton:l,href:c,...f})=>{const d=O.useMemo(()=>{let g="link";switch(s&&(g+=" link-outline"),e){case"primary":g+=" link-primary";break;case"secondary":g+=" link-secondary";break;case"danger":g+=" link-danger";break;case"success":g+=" link-success";break;case"warning":g+=" link-warning";break;case"info":g+=" link-info";break;case"dark":g+=" link-dark";break;case"light":g+=" link-light";break;case"link":g+=" link-link";break;case"custom":g="";break;case"ghost":g+=" link-ghost";break;case"blank":g="";break;default:g+="";break}return n&&(g+=" "+n),o&&(g+=" btn-lg"),l&&(g=g.replace(/link/g,"btn")),g},[s,e,n,o,l]),h={...f,to:c||"#",className:d};return window.electron&&(c!=null&&c.startsWith("http"))&&(h.onClick=g=>{g.preventDefault(),ns.goToUrl(c)}),r&&(h["aria-disabled"]=!0),b.jsx(xh,{...h,children:t})},Ph=({label:e,options:t,description:n,className:r,...s})=>b.jsxs("div",{className:"w-full",children:[e&&b.jsx("label",{className:"block text-sm font-bold mb-2",children:e}),b.jsx("select",{className:`select select-bordered w-full ${r}`,...s,children:t.map(o=>b.jsx("option",{value:o.value,disabled:o.disabled,children:o.label},o.value))}),n&&b.jsx("p",{className:"opacity-70 text-xs italic mt-2",children:n})]}),Mx=["Ollama","OpenAI","Anthropic","Google","DeepSeek","Mistral","xAI","Groq","Replicate","OpenAI Compatible"],Df="juicebox-by-ai-juicing-user-settings",yr={get:async()=>{try{const e=localStorage.getItem(Df);return e?JSON.parse(e):void 0}catch(e){throw console.error("Failed to get user settings:",e),e}},save:async e=>{try{const n={...await yr.get(),...e};return localStorage.setItem(Df,JSON.stringify(n)),n}catch(t){throw console.error("Failed to save user settings:",t),t}},clear:async()=>{try{localStorage.removeItem(Df)}catch(e){throw console.error("Failed to clear user settings:",e),e}}};class Bs{static async getFolders(){return(await yr.get()||{}).folders||[]}static async saveFolders(t){await yr.save({folders:t})}static async createFolder(t){const n=await this.getFolders(),r=n.length>0?Math.max(...n.map(o=>o.id))+1:1,s={...t,id:r};return n.push(s),await this.saveFolders(n),s}static async updateFolder(t,n){const r=await this.getFolders(),s=r.findIndex(o=>o.id===t);if(s===-1)throw new Error("Folder not found");r[s]={...r[s],...n},await this.saveFolders(r)}static async deleteFolder(t){const r=(await this.getFolders()).filter(s=>s.id!==t);await this.saveFolders(r)}static async getAllFolders(){return this.getFolders()}static async getFolderById(t){return(await this.getFolders()).find(r=>r.id===t)||null}}const Lx=({setFolders:e})=>({toggle:async({folderId:t,isOpen:n})=>{await Bs.updateFolder(t,{isOpen:!n}),e(r=>r.map(s=>s.id===t?{...s,isOpen:!s.isOpen}:s))},rename:async({folderId:t,newName:n})=>{await Bs.updateFolder(t,{name:n}),e(r=>r.map(s=>s.id===t?{...s,name:n}:s))},delete:async({folderId:t})=>{await Bs.deleteFolder(t),e(n=>n.filter(r=>r.id!==t))},create:async({name:t})=>{if(!t.trim())return;let n=0;e(s=>(n=s.length,s));const r=await Bs.createFolder({id:1,name:t.trim(),type:"folder",isOpen:!0,parentId:null,order:n});e(s=>[...s,r])},move:async({dragId:t,hoverId:n})=>{let r=[];e(l=>{r=[...l].sort((g,y)=>g.order-y.order);const c=r.findIndex(g=>g.id===t),f=r.findIndex(g=>g.id===n),d=r[c],h=[...r];return h.splice(c,1),h.splice(f,0,d),h}),await Promise.all(r.map(async(l,c)=>{await Bs.updateFolder(l.id,{order:c})}));const o=(await Bs.getAllFolders()).sort((l,c)=>l.order-c.order);e(o)}}),Fx=({setUserSettings:e})=>({update:async t=>{const n=await yr.save(t);e(n)}});class Xs{static async getConfigs(){return(await yr.get()||{}).aiServices||[]}static async saveConfigs(t){await yr.save({aiServices:t})}static async createConfig(t){const n=await this.getConfigs(),r=n.length>0?Math.max(...n.map(o=>o.id))+1:1,s={...t,id:r};return n.push(s),await this.saveConfigs(n),s}static async updateConfig(t,n){const r=await this.getConfigs(),s=r.findIndex(o=>o.id===t);if(s===-1)throw new Error("Config not found");r[s]={...r[s],...n},await this.saveConfigs(r)}static async deleteConfig(t){const r=(await this.getConfigs()).filter(s=>s.id!==t);await this.saveConfigs(r)}static async getAllConfigs(){return this.getConfigs()}static async getConfigById(t){const r=(await this.getConfigs()).find(s=>s.id===t);if(!r)throw new Error("Config not found");return r}static async setDefaultConfig(t){const n=await this.getConfigs();if(!n.find(o=>o.id===t))throw new Error("Config not found");const s=n.map(o=>({...o,isDefault:o.id===t}));await this.saveConfigs(s)}}const zx=({setAiServices:e})=>({create:async t=>{const n=await Xs.createConfig(t);e(r=>[...r,n])},update:async({configId:t,updates:n})=>{await Xs.updateConfig(t,n),e(r=>r.map(s=>s.id===t?{...s,...n}:s))},delete:async({configId:t})=>{await Xs.deleteConfig(t),e(n=>n.filter(r=>r.id!==t))},setDefault:async({configId:t})=>{e(n=>n.map(s=>({...s,isDefault:s.id===t})))}}),mI=2,gI=["llm-configs","conversations","folders","chats"];class yI{constructor(t){ha(this,"dbName","ai-juicing-juicebox");ha(this,"storeName");ha(this,"version",mI);ha(this,"db",null);ha(this,"initPromise");this.storeName=t,this.initPromise=this.init()}async init(){return new Promise((t,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onupgradeneeded=()=>{const s=r.result;gI.forEach(o=>{s.objectStoreNames.contains(o)||s.createObjectStore(o,{keyPath:"id",autoIncrement:!0})})},r.onsuccess=()=>{this.db=r.result,t()},r.onerror=()=>{console.error(r.error),n(r.error)}})}async getStore(t){if(await this.initPromise,!this.db)throw new Error("Database not initialized");return this.db.transaction(this.storeName,t).objectStore(this.storeName)}create(t){return new Promise((n,r)=>{(async()=>{try{const s=await this.getStore("readwrite");delete t.id;const o=s.add(t);o.onsuccess=()=>{n({...t,id:o.result})},o.onerror=()=>{console.error(o.error),r(o.error)}}catch(s){r(s)}})()})}update(t,n){return new Promise((r,s)=>{(async()=>{try{const o=await this.getStore("readwrite"),l=o.get(t);l.onsuccess=()=>{const c={...l.result,...n},f=o.put(c);f.onsuccess=()=>{r()},f.onerror=()=>{s(f.error)}},l.onerror=()=>{s(l.error)}}catch(o){s(o)}})()})}delete(t){return new Promise((n,r)=>{(async()=>{try{const o=(await this.getStore("readwrite")).delete(t);o.onsuccess=()=>{n()},o.onerror=()=>{r(o.error)}}catch(s){r(s)}})()})}getAll(){return new Promise((t,n)=>{(async()=>{try{const s=(await this.getStore("readonly")).getAll();s.onsuccess=()=>{t(s.result)},s.onerror=()=>{n(s.error)}}catch(r){n(r)}})()})}getById(t){return new Promise((n,r)=>{(async()=>{try{const o=(await this.getStore("readonly")).get(t);o.onsuccess=()=>{o.result?n(o.result):r(new Error("Item not found"))},o.onerror=()=>{r(o.error)}}catch(s){r(s)}})()})}search(t,n=1,r=10){return new Promise((s,o)=>{(async()=>{try{const c=(await this.getStore("readonly")).openCursor(),f=[];let d=0;c.onsuccess=()=>{const h=c.result;if(h){const g=h.value;(t===""||JSON.stringify(g).toLowerCase().includes(t.toLowerCase()))&&(d>=(n-1)*r&&f.length<r&&f.push(g),d++),h.continue()}else s(f)},c.onerror=()=>{o(c.error)}}catch(l){o(l)}})()})}}function mo(e){return new yI(e)}class va{static create(t){return this.dbService.create(t)}static update(t,n){return this.dbService.update(t,n)}static delete(t){return this.dbService.delete(t)}static getAll(){return this.dbService.getAll()}static getDefaults(){return this.dbService.getAll()}static getById(t){return this.dbService.getById(t)}static search(t,n=1,r=10){return this.dbService.search(t,n,r)}}ha(va,"dbService",mo("conversations"));const $x=({setConversations:e})=>({create:async t=>{const n=await va.create(t);return e(r=>[n,...r]),n},rename:async({id:t,newName:n})=>{await va.update(t,{name:n}),e(r=>r.map(s=>s.id===t?{...s,name:n}:s).sort((s,o)=>new Date(o.updatedAt).getTime()-new Date(s.updatedAt).getTime()))},delete:async({id:t})=>{await va.delete(t),e(n=>n.filter(r=>r.id!==t))},update:async({id:t,partial:n})=>{await va.update(t,n),e(r=>r.map(s=>s.id===t?{...s,...n}:s).sort((s,o)=>new Date(o.updatedAt).getTime()-new Date(s.updatedAt).getTime()))}}),Su=e=>e,lo={userSettings:{},folders:[],aiServices:[],conversations:[],actions:{userSettings:Fx({setUserSettings:Su}),folders:Lx({setFolders:Su}),aiServices:zx({setAiServices:Su}),conversations:$x({setConversations:Su})}},Bv=e=>{document.documentElement.setAttribute("data-theme",e)},Ux=O.createContext(lo),vI=({children:e})=>{const[t,n]=O.useState(lo.userSettings),[r,s]=O.useState(lo.folders),[o,l]=O.useState(lo.aiServices),[c,f]=O.useState(lo.conversations),d=O.useRef(!1);O.useEffect(()=>{d.current||yr.get().then(C=>{if(d.current=!0,console.log("User settings loaded",C),!C)return;const{folders:S,aiServices:T,...I}=C;n(I),s(S||[]),l(T||[]),I.theme&&Bv(I.theme||"dim")})},[]);const h=O.useCallback(async()=>{const S=(await va.getDefaults()).sort((T,I)=>new Date(I.updatedAt).getTime()-new Date(T.updatedAt).getTime());f(S)},[]);O.useEffect(()=>{h()},[h]),O.useEffect(()=>{d.current&&t!=null&&t.theme&&Bv(t.theme||"dim")},[t==null?void 0:t.theme]),O.useEffect(()=>{d.current&&t&&yr.save(t)},[t]),O.useEffect(()=>{d.current&&yr.save({folders:r})},[r]),O.useEffect(()=>{d.current&&yr.save({aiServices:o})},[o]);const g=O.useCallback(()=>Lx({setFolders:s}),[]),y=O.useCallback(()=>zx({setAiServices:l}),[]),x=O.useCallback(()=>Fx({setUserSettings:n}),[]),_=O.useCallback(()=>$x({setConversations:f}),[]),k=O.useMemo(()=>({userSettings:t,folders:r,aiServices:o,conversations:c,actions:{userSettings:x(),folders:g(),aiServices:y(),conversations:_()}}),[t,r,o,c,x,g,y,_]);return b.jsx(Ux.Provider,{value:k,children:e})},kr=()=>{const e=O.useContext(Ux);if(!e)throw new Error("useMainContext must be used within a MainContextProvider");return e};async function Bx({url:e}){if(!e)return console.error("Invalid URL"),{success:!1,message:"Invalid URL",models:[]};try{const t=await fetch(e+"/tags");if(!t.ok)return console.error("Network response was not ok"),{success:!1,message:"Network response was not ok",models:[]};const n=await t.json();return n?n.models?{success:!0,message:"Successfully fetched models",models:n.models}:(console.error("Invalid response (Models)"),{success:!1,message:"Invalid response (Models)",models:[]}):(console.error("Invalid response (Data)"),{success:!1,message:"Invalid response (Data)",models:[]})}catch(t){return console.error("Failed to fetch models",t),{success:!1,message:"Failed to fetch models",models:[]}}}const Hx=({label:e,theme:t="primary",isSmall:n,isBig:r,className:s="",checked:o=!1,onChange:l,setTextToLeft:c=!1,...f})=>{const d=O.useMemo(()=>{const g=["radio"];switch(t){case"primary":g.push("radio-primary");break;case"secondary":g.push("radio-secondary");break;case"accent":g.push("radio-accent");break;case"success":g.push("radio-success");break;case"warning":g.push("radio-warning");break;case"info":g.push("radio-info");break;case"error":g.push("radio-error");break;case"custom":break;default:g.push("radio-primary");break}return n&&g.push("radio-sm"),r&&g.push("radio-lg"),s&&g.push(s),g.join(" ")},[t,n,r,s]),h=g=>{l&&l(g)};return b.jsx("div",{className:"form-control",children:b.jsxs("label",{className:"label cursor-pointer flex flex-row items-center gap-2",children:[c&&b.jsx("span",{className:"label-text",children:e}),b.jsx("input",{type:"radio",className:d,checked:o,onChange:h,...f}),!c&&b.jsx("span",{className:"label-text",children:e})]})})},Fp=({initialValues:e,configId:t,afterSubmit:n})=>{const{actions:r,aiServices:s}=kr(),[o,l]=O.useState(e||{id:1,name:"",service:"Ollama",url:"",apiKey:"",models:[]}),[c,f]=O.useState(!1),[d,h]=O.useState(null),[g,y]=O.useState(null),x=T=>{l({...o,[T.target.name]:T.target.value})},_=T=>{l({...o,[T.target.name]:T.target.value})},k=T=>{l(I=>{var A;return{...I,models:(A=I.models)==null?void 0:A.map(D=>({...D,isDefault:D.name===T}))}})},C=async T=>{T.preventDefault();try{if(t)await r.aiServices.update({configId:t,updates:o});else{const I=!s.some(A=>A.service===o.service);await r.aiServices.create({...o,isDefault:I})}n&&n()}catch(I){console.error(I)}},S=async()=>{f(!0),h(null),y(null);try{if(!o.url){h("Please enter a URL");return}const T=await Bx({url:o.url});if(!T.success){h(T.message);return}const I=T.models.map(A=>({name:A.name,isDefault:!1}));I.length>0&&(I[0].isDefault=!0),l(A=>({...A,models:I})),y(`Successfully loaded ${I.length} models`)}catch(T){h(T instanceof Error?T.message:"Failed to test connection")}finally{f(!1)}};return b.jsxs("form",{onSubmit:C,className:"max-w-sm mx-auto p-4 bg-base-100 rounded space-y-4 text-left",children:[b.jsx(Ph,{label:"Service",name:"service",value:o.service,onChange:_,options:[...Mx.map(T=>({label:T,value:T}))]}),o.service==="Ollama"&&b.jsxs(b.Fragment,{children:[b.jsx(Cf,{label:"URL",name:"url",type:"text",placeholder:"Ex: http://localhost:11434",value:o.url,onChange:x,topRight:b.jsx(b.Fragment,{children:b.jsx(Ge,{type:"button",onClick:()=>{l({...o,url:"http://localhost:11434/api"})},theme:"ghost",isOutline:!0,className:"btn-xs",children:"LOCAL"})})}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs(Ge,{type:"button",onClick:S,isLoading:c,disabled:!o.url,theme:"secondary",className:"w-full",children:[b.jsx(Ve,{icon:fo,className:"mr-2"}),"Test Connection & Load Models"]}),d&&b.jsx(Hu,{type:"error",children:d}),g&&b.jsx(Hu,{type:"success",children:g}),o.models&&o.models.length>0&&b.jsx("ul",{className:"space-y-2 max-h-60 overflow-y-auto",children:o.models.map(T=>b.jsx("li",{children:b.jsxs("button",{type:"button",onClick:()=>k(T.name),className:"w-full flex items-center gap-2 p-2 hover:bg-base-200 rounded-lg",children:[b.jsx(Hx,{name:"default-model",checked:!!T.isDefault,readOnly:!0,value:T.name,label:""}),b.jsx("span",{className:"flex-grow text-left",children:T.name})]})},T.name))})]})]}),o.service!=="Ollama"&&b.jsx(b.Fragment,{children:b.jsx(Cf,{label:"API Key",name:"apiKey",type:"password",placeholder:`Enter your ${o.service} API key`,value:o.apiKey||"",onChange:x})}),b.jsx(Cf,{label:"Name",name:"name",description:"Optional: Useful if you have have multiple API keys or URLs for the same service.",placeholder:"Ex: Base, ...",type:"text",value:o.name,onChange:x}),b.jsx(Ge,{type:"submit",theme:"primary",children:"Save"})]})},Hv={Ollama:{name:"Ollama",description:"Run large language models locally",logo:"/models/ollama.svg"},OpenAI:{name:"OpenAI",description:"Leading AI research company behind ChatGPT",logo:"/models/openai.svg"},Anthropic:{name:"Anthropic",description:"AI research company focused on safe and ethical AI",logo:"/models/anthropic.svg"},Google:{name:"Google",description:"Google's AI and machine learning solutions",logo:"/models/google.svg"},DeepSeek:{name:"DeepSeek",description:"Advanced AI models for various applications",logo:"/models/dot.svg"},Mistral:{name:"Mistral AI",description:"European AI company with powerful language models",logo:"/models/mistral.svg"},xAI:{name:"xAI",description:"AI company founded by Elon Musk",logo:"/models/dot.svg"},Groq:{name:"Groq",description:"High-performance AI inference platform",logo:"/models/groq.svg"},Replicate:{name:"Replicate",description:"Platform for running AI models in the cloud",logo:"/models/dot.svg"},"OpenAI Compatible":{name:"OpenAI Compatible",description:"Services compatible with OpenAI's API",logo:"/models/dot.svg"}},xI=({goToNextStep:e})=>b.jsxs("div",{className:"space-y-8 text-center h-full flex flex-col justify-center",children:[b.jsx("p",{className:"text-4xl  font-medium",children:"AI freedom is here."}),b.jsx("p",{className:"text-xl",children:"Use any and all AIs or local AIs for full privacy."}),b.jsx("div",{className:"relative overflow-hidden h-16",children:b.jsx("div",{className:"flex space-x-4 items-center justify-center h-16 flex-shrink-0",children:Object.keys(Hv).map((t,n)=>{const r=Hv[t];return r.logo.includes("dot")?null:b.jsx("div",{className:"flex-shrink-0",children:b.jsx("img",{src:`${r.logo}`,alt:r.name,className:"h-16"})},n)})})}),b.jsx("div",{className:"divider uppercase font-medium",children:"WITH"}),b.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:[{title:"Chat",description:"Just like you see everywhere."},{title:"Text editor",description:"Co-write with AI, "},{title:"Repeat",description:"Build a prompt and get a response. Rinse and Repeat. Perfect things you do often."},{title:"Chain",description:"Create prompts that feed each other to get exactly what you want."}].map((t,n)=>b.jsxs("div",{className:"flex flex-col items-center justify-start space-y-2 bg-base-300 p-4 rounded-xl",children:[b.jsx("p",{className:"text-xl font-black tracking-wider uppercase",children:t.title}),b.jsx("p",{className:"text-sm w-full text-left",children:t.description})]},n))}),b.jsx(Ge,{theme:"primary",isBig:!0,onClick:e,children:"Get Started"})]}),wI=({goToNextStep:e})=>{const[t,n]=O.useState(!0),[r,s]=O.useState(!0);O.useEffect(()=>{(async()=>{s(!0);const c=await ns.ollamaInstallCheck();n(c),s(!1)})()},[]);const o="w-full border-4 text-center border-primary hover:bg-primary block rounded-xl py-4 font-black text-lg tracking-widest";return b.jsxs("div",{className:"space-y-8 text-center h-full flex flex-col justify-center",children:[b.jsxs("p",{className:"text-4xl font-medium",children:["For the best privacy,",b.jsx("br",{})," we recommend"]}),b.jsxs("div",{className:"w-full flex flex-col items-center justify-center gap-2",children:[b.jsx("div",{className:"mx-auto",children:b.jsxs("svg",{className:"h-20",role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[b.jsx("title",{children:"Ollama"}),b.jsx("path",{fill:"#F2f2f2",d:"M16.361 10.26a.894.894 0 0 0-.558.47l-.072.148.001.207c0 .193.004.217.059.353.076.193.152.312.291.448.24.238.51.3.872.205a.86.86 0 0 0 .517-.436.752.752 0 0 0 .08-.498c-.064-.453-.33-.782-.724-.897a1.06 1.06 0 0 0-.466 0zm-9.203.005c-.305.096-.533.32-.65.639a1.187 1.187 0 0 0-.06.52c.057.309.31.59.598.667.362.095.632.033.872-.205.14-.136.215-.255.291-.448.055-.136.059-.16.059-.353l.001-.207-.072-.148a.894.894 0 0 0-.565-.472 1.02 1.02 0 0 0-.474.007Zm4.184 2c-.131.071-.223.25-.195.383.031.143.157.288.353.407.105.063.112.072.117.136.004.038-.01.146-.029.243-.02.094-.036.194-.036.222.002.074.07.195.143.253.064.052.076.054.255.059.164.005.198.001.264-.03.169-.082.212-.234.15-.525-.052-.243-.042-.28.087-.355.137-.08.281-.219.324-.314a.365.365 0 0 0-.175-.48.394.394 0 0 0-.181-.033c-.126 0-.207.03-.355.124l-.085.053-.053-.032c-.219-.13-.259-.145-.391-.143a.396.396 0 0 0-.193.032zm.39-2.195c-.373.036-.475.05-.654.086-.291.06-.68.195-.951.328-.94.46-1.589 1.226-1.787 2.114-.04.176-.045.234-.045.53 0 .294.005.357.043.524.264 1.16 1.332 2.017 2.714 2.173.3.033 1.596.033 1.896 0 1.11-.125 2.064-.727 2.493-1.571.114-.226.169-.372.22-.602.039-.167.044-.23.044-.523 0-.297-.005-.355-.045-.531-.288-1.29-1.539-2.304-3.072-2.497a6.873 6.873 0 0 0-.855-.031zm.645.937a3.283 3.283 0 0 1 1.44.514c.223.148.537.458.671.662.166.251.26.508.303.82.02.143.01.251-.043.482-.08.345-.332.705-.672.957a3.115 3.115 0 0 1-.689.348c-.382.122-.632.144-1.525.138-.582-.006-.686-.01-.853-.042-.57-.107-1.022-.334-1.35-.68-.264-.28-.385-.535-.45-.946-.03-.192.025-.509.137-.776.136-.326.488-.73.836-.963.403-.269.934-.46 1.422-.512.187-.02.586-.02.773-.002zm-5.503-11a1.653 1.653 0 0 0-.683.298C5.617.74 5.173 1.666 4.985 2.819c-.07.436-.119 1.04-.119 1.503 0 .544.064 1.24.155 1.721.02.107.031.202.023.208a8.12 8.12 0 0 1-.187.152 5.324 5.324 0 0 0-.949 1.02 5.49 5.49 0 0 0-.94 2.339 6.625 6.625 0 0 0-.023 1.357c.091.78.325 1.438.727 2.04l.13.195-.037.064c-.269.452-.498 1.105-.605 1.732-.084.496-.095.629-.095 1.294 0 .67.009.803.088 1.266.095.555.288 1.143.503 1.534.071.128.243.393.264.407.007.003-.014.067-.046.141a7.405 7.405 0 0 0-.548 1.873c-.062.417-.071.552-.071.991 0 .56.031.832.148 1.279L3.42 24h1.478l-.05-.091c-.297-.552-.325-1.575-.068-2.597.117-.472.25-.819.498-1.296l.148-.29v-.177c0-.165-.003-.184-.057-.293a.915.915 0 0 0-.194-.25 1.74 1.74 0 0 1-.385-.543c-.424-.92-.506-2.286-.208-3.451.124-.486.329-.918.544-1.154a.787.787 0 0 0 .223-.531c0-.195-.07-.355-.224-.522a3.136 3.136 0 0 1-.817-1.729c-.14-.96.114-2.005.69-2.834.563-.814 1.353-1.336 2.237-1.475.199-.033.57-.028.776.01.226.04.367.028.512-.041.179-.085.268-.19.374-.431.093-.215.165-.333.36-.576.234-.29.46-.489.822-.729.413-.27.884-.467 1.352-.561.17-.035.25-.04.569-.04.319 0 .398.005.569.04a4.07 4.07 0 0 1 1.914.997c.117.109.398.457.488.602.034.057.095.177.132.267.105.241.195.346.374.43.14.068.286.082.503.045.343-.058.607-.053.943.016 1.144.23 2.14 1.173 2.581 2.437.385 1.108.276 2.267-.296 3.153-.097.15-.193.27-.333.419-.301.322-.301.722-.001 1.053.493.539.801 1.866.708 3.036-.062.772-.26 1.463-.533 1.854a2.096 2.096 0 0 1-.224.258.916.916 0 0 0-.194.25c-.054.109-.057.128-.057.293v.178l.148.29c.248.476.38.823.498 1.295.253 1.008.231 2.01-.059 2.581a.845.845 0 0 0-.044.098c0 .006.329.009.732.009h.73l.02-.074.036-.134c.019-.076.057-.3.088-.516.029-.217.029-1.016 0-1.258-.11-.875-.295-1.57-.597-2.226-.032-.074-.053-.138-.046-.141.008-.005.057-.074.108-.152.376-.569.607-1.284.724-2.228.031-.26.031-1.378 0-1.628-.083-.645-.182-1.082-.348-1.525a6.083 6.083 0 0 0-.329-.7l-.038-.064.131-.194c.402-.604.636-1.262.727-2.04a6.625 6.625 0 0 0-.024-1.358 5.512 5.512 0 0 0-.939-2.339 5.325 5.325 0 0 0-.95-1.02 8.097 8.097 0 0 1-.186-.152.692.692 0 0 1 .023-.208c.208-1.087.201-2.443-.017-3.503-.19-.924-.535-1.658-.98-2.082-.354-.338-.716-.482-1.15-.455-.996.059-1.8 1.205-2.116 3.01a6.805 6.805 0 0 0-.097.726c0 .036-.007.066-.015.066a.96.96 0 0 1-.149-.078A4.857 4.857 0 0 0 12 3.03c-.832 0-1.687.243-2.456.698a.958.958 0 0 1-.148.078c-.008 0-.015-.03-.015-.066a6.71 6.71 0 0 0-.097-.725C8.997 1.392 8.337.319 7.46.048a2.096 2.096 0 0 0-.585-.041Zm.293 1.402c.248.197.523.759.682 1.388.03.113.06.244.069.292.007.047.026.152.041.233.067.365.098.76.102 1.24l.002.475-.12.175-.118.178h-.278c-.324 0-.646.041-.954.124l-.238.06c-.033.007-.038-.003-.057-.144a8.438 8.438 0 0 1 .016-2.323c.124-.788.413-1.501.696-1.711.067-.05.079-.049.157.013zm9.825-.012c.17.126.358.46.498.888.28.854.36 2.028.212 3.145-.019.14-.024.151-.057.144l-.238-.06a3.693 3.693 0 0 0-.954-.124h-.278l-.119-.178-.119-.175.002-.474c.004-.669.066-1.19.214-1.772.157-.623.434-1.185.68-1.382.078-.062.09-.063.159-.012z"})]})}),b.jsx("span",{className:"font-black",children:"OLLAMA"}),b.jsx("span",{className:"italic",children:"Psss..it's free. Private & secure."})]}),r&&b.jsx(b.Fragment,{children:b.jsx(Hu,{type:"info",children:"Checking Ollama installation..."})}),!r&&!t&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex flex-row gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx(Qa,{href:"https://ollama.com/download",className:`${o} no-underline`,children:"Download Ollama"}),b.jsxs("div",{className:"mt-4 w-full text-left px-3 text-sm opacity-70",children:[b.jsx("p",{children:"It's a 2 step process:"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"Download Ollama on their website"}),b.jsx("li",{children:"Install Ollama"})]})]})]}),b.jsxs("div",{className:"flex-1",children:[b.jsx(Qa,{theme:"blank",className:`${o}`,onClick:e,children:"Use online models"}),b.jsxs("div",{className:"mt-4 w-full text-left px-3 text-sm opacity-70",children:[b.jsx("p",{children:"Use any and all AIs that you know of"}),b.jsxs("ol",{className:"list-decimal list-inside",children:[b.jsx("li",{children:"OpenAI - ChatGPT"}),b.jsx("li",{children:"DeepSeek"}),b.jsx("li",{children:"Anthropic"}),b.jsx("li",{children:"Gemini"}),b.jsx("li",{children:"..."})]})]})]})]})}),!r&&t&&b.jsxs(b.Fragment,{children:[b.jsx(Hu,{type:"info",children:" Very wise of you. It's installed."}),b.jsx("p",{children:"You may proceed."}),b.jsx("div",{children:b.jsx(Ge,{theme:"primary",isBig:!0,onClick:e,children:"Continue"})})]})]})},bI=()=>{const e=di();return b.jsxs("div",{children:[b.jsx("p",{className:"text-xl text-center font-medium mb-2",children:"Setup your first AI"}),b.jsx(Fp,{afterSubmit:()=>{e("/chat")}})]})},_I=()=>{const[e,t]=O.useState(1),s={goToNextStep:()=>{t(o=>o+1)},goTo:o=>{t(o)}};return b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-r from-yellow-500 to-green-600 px-6 py-12",children:b.jsxs("div",{className:"p-10 flex flex-col h-full bg-base-200 rounded-lg shadow-lg space-y-4 max-w-2xl w-full",children:[b.jsxs("div",{className:"flex flex-col items-center justify-center",children:[b.jsx(J1,{className:"h-16"}),b.jsx(K1,{})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto",children:[e===1&&b.jsx(xI,{...s}),e===2&&b.jsx(wI,{...s}),e===3&&b.jsx(bI,{...s})]})]})})},qx=O.createContext({dragDropManager:void 0});function An(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var qv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Vv=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wv={INIT:"@@redux/INIT"+Vv(),REPLACE:"@@redux/REPLACE"+Vv()};function kI(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Vx(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(An(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(An(1));return n(Vx)(e,t)}if(typeof e!="function")throw new Error(An(2));var s=e,o=t,l=[],c=l,f=!1;function d(){c===l&&(c=l.slice())}function h(){if(f)throw new Error(An(3));return o}function g(k){if(typeof k!="function")throw new Error(An(4));if(f)throw new Error(An(5));var C=!0;return d(),c.push(k),function(){if(C){if(f)throw new Error(An(6));C=!1,d();var T=c.indexOf(k);c.splice(T,1),l=null}}}function y(k){if(!kI(k))throw new Error(An(7));if(typeof k.type>"u")throw new Error(An(8));if(f)throw new Error(An(9));try{f=!0,o=s(o,k)}finally{f=!1}for(var C=l=c,S=0;S<C.length;S++){var T=C[S];T()}return k}function x(k){if(typeof k!="function")throw new Error(An(10));s=k,y({type:Wv.REPLACE})}function _(){var k,C=g;return k={subscribe:function(T){if(typeof T!="object"||T===null)throw new Error(An(11));function I(){T.next&&T.next(h())}I();var A=C(I);return{unsubscribe:A}}},k[qv]=function(){return this},k}return y({type:Wv.INIT}),r={dispatch:y,subscribe:g,getState:h,replaceReducer:x},r[qv]=_,r}function je(e,t,...n){if(SI()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function SI(){return typeof process<"u"&&!0}function CI(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function EI(e,t){return e.filter(n=>n!==t)}function Wx(e){return typeof e=="object"}function TI(e,t){const n=new Map,r=o=>{n.set(o,n.has(o)?n.get(o)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((o,l)=>{o===1&&s.push(l)}),s}function II(e,t){return e.filter(n=>t.indexOf(n)>-1)}const Rh="dnd-core/INIT_COORDS",Cc="dnd-core/BEGIN_DRAG",Ah="dnd-core/PUBLISH_DRAG_SOURCE",Ec="dnd-core/HOVER",Tc="dnd-core/DROP",Ic="dnd-core/END_DRAG";function Zv(e,t){return{type:Rh,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const NI={type:Rh,payload:{clientOffset:null,sourceClientOffset:null}};function OI(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:o,getSourceClientOffset:l}=r,c=e.getMonitor(),f=e.getRegistry();e.dispatch(Zv(o)),PI(n,c,f);const d=jI(n,c);if(d==null){e.dispatch(NI);return}let h=null;if(o){if(!l)throw new Error("getSourceClientOffset must be defined");RI(l),h=l(d)}e.dispatch(Zv(o,h));const y=f.getSource(d).beginDrag(c,d);if(y==null)return;AI(y),f.pinSource(d);const x=f.getSourceType(d);return{type:Cc,payload:{itemType:x,item:y,sourceId:d,clientOffset:o||null,sourceClientOffset:h||null,isSourcePublic:!!s}}}}function PI(e,t,n){je(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){je(n.getSource(r),"Expected sourceIds to be registered.")})}function RI(e){je(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function AI(e){je(Wx(e),"Item must be an object.")}function jI(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function DI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){DI(e,s,n[s])})}return e}function LI(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();FI(r),UI(r).forEach((l,c)=>{const f=zI(l,c,s,r),d={type:Tc,payload:{dropResult:MI({},n,f)}};e.dispatch(d)})}}function FI(e){je(e.isDragging(),"Cannot call drop while not dragging."),je(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function zI(e,t,n,r){const s=n.getTarget(e);let o=s?s.drop(r,e):void 0;return $I(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function $I(e){je(typeof e>"u"||Wx(e),"Drop result must either be an object or undefined.")}function UI(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function BI(e){return function(){const n=e.getMonitor(),r=e.getRegistry();HI(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:Ic}}}function HI(e){je(e.isDragging(),"Cannot call endDrag while not dragging.")}function zp(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function qI(e){return function(n,{clientOffset:r}={}){VI(n);const s=n.slice(0),o=e.getMonitor(),l=e.getRegistry(),c=o.getItemType();return ZI(s,l,c),WI(s,o,l),YI(s,o,l),{type:Ec,payload:{targetIds:s,clientOffset:r||null}}}}function VI(e){je(Array.isArray(e),"Expected targetIds to be an array.")}function WI(e,t,n){je(t.isDragging(),"Cannot call hover while not dragging."),je(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];je(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const o=n.getTarget(s);je(o,"Expected targetIds to be registered.")}}function ZI(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],o=t.getTargetType(s);zp(o,n)||e.splice(r,1)}}function YI(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function GI(e){return function(){if(e.getMonitor().isDragging())return{type:Ah}}}function JI(e){return{beginDrag:OI(e),publishDragSource:GI(e),hover:qI(e),drop:LI(e),endDrag:BI(e)}}class KI{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(o){return(...l)=>{const c=o.apply(t,l);typeof c<"u"&&n(c)}}const s=JI(this);return Object.keys(s).reduce((o,l)=>{const c=s[l];return o[l]=r(c),o},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function XI(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Zx(e,t){return{x:e.x-t.x,y:e.y-t.y}}function QI(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Zx(XI(t,r),n)}function eN(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Zx(t,n)}const go=[],jh=[];go.__IS_NONE__=!0;jh.__IS_ALL__=!0;function tN(e,t){return e===go?!1:e===jh||typeof t>"u"?!0:II(t,e).length>0}class nN{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;je(typeof t=="function","listener must be a function."),je(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const o=()=>{const l=this.store.getState(),c=l.stateId;try{c===s||c===s+1&&!tN(l.dirtyHandlerIds,r)||t()}finally{s=c}};return this.store.subscribe(o)}subscribeToOffsetChange(t){je(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return je(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(je(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return zp(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(je(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),o=this.getItemType();if(o&&!zp(s,o))return!1;const l=this.getTargetIds();if(!l.length)return!1;const c=l.indexOf(t);return r?c===l.length-1:c>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return QI(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return eN(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const Yv=typeof global<"u"?global:self,Yx=Yv.MutationObserver||Yv.WebKitMutationObserver;function Gx(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function rN(e){let t=1;const n=new Yx(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const aN=typeof Yx=="function"?rN:Gx;class sN{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=aN(this.flush),this.requestErrorThrow=Gx(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class iN{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class oN{create(t){const n=this.freeTasks,r=n.length?n.pop():new iN(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Jx=new sN,lN=new oN(Jx.registerPendingError);function uN(e){Jx.enqueueTask(lN.create(e))}const Dh="dnd-core/ADD_SOURCE",Mh="dnd-core/ADD_TARGET",Lh="dnd-core/REMOVE_SOURCE",Nc="dnd-core/REMOVE_TARGET";function cN(e){return{type:Dh,payload:{sourceId:e}}}function dN(e){return{type:Mh,payload:{targetId:e}}}function fN(e){return{type:Lh,payload:{sourceId:e}}}function pN(e){return{type:Nc,payload:{targetId:e}}}function hN(e){je(typeof e.canDrag=="function","Expected canDrag to be a function."),je(typeof e.beginDrag=="function","Expected beginDrag to be a function."),je(typeof e.endDrag=="function","Expected endDrag to be a function.")}function mN(e){je(typeof e.canDrop=="function","Expected canDrop to be a function."),je(typeof e.hover=="function","Expected hover to be a function."),je(typeof e.drop=="function","Expected beginDrag to be a function.")}function $p(e,t){if(t&&Array.isArray(e)){e.forEach(n=>$p(n,!1));return}je(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Mn;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Mn||(Mn={}));let gN=0;function yN(){return gN++}function vN(e){const t=yN().toString();switch(e){case Mn.SOURCE:return`S${t}`;case Mn.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function Gv(e){switch(e[0]){case"S":return Mn.SOURCE;case"T":return Mn.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Jv(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,o]}=n.next();if(o===t)return!0;r=!!s}while(!r);return!1}class xN{addSource(t,n){$p(t),hN(n);const r=this.addHandler(Mn.SOURCE,t,n);return this.store.dispatch(cN(r)),r}addTarget(t,n){$p(t,!0),mN(n);const r=this.addHandler(Mn.TARGET,t,n);return this.store.dispatch(dN(r)),r}containsHandler(t){return Jv(this.dragSources,t)||Jv(this.dropTargets,t)}getSource(t,n=!1){return je(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return je(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return je(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return je(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return Gv(t)===Mn.SOURCE}isTargetId(t){return Gv(t)===Mn.TARGET}removeSource(t){je(this.getSource(t),"Expected an existing source."),this.store.dispatch(fN(t)),uN(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){je(this.getTarget(t),"Expected an existing target."),this.store.dispatch(pN(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);je(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){je(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=vN(t);return this.types.set(s,n),t===Mn.SOURCE?this.dragSources.set(s,r):t===Mn.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const wN=(e,t)=>e===t;function bN(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function _N(e,t,n=wN){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function kN(e=go,t){switch(t.type){case Ec:break;case Dh:case Mh:case Nc:case Lh:return go;case Cc:case Ah:case Ic:case Tc:default:return jh}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=TI(n,r);if(!(s.length>0||!_N(n,r)))return go;const l=r[r.length-1],c=n[n.length-1];return l!==c&&(l&&s.push(l),c&&s.push(c)),s}function SN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){SN(e,s,n[s])})}return e}const Kv={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function EN(e=Kv,t){const{payload:n}=t;switch(t.type){case Rh:case Cc:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Ec:return bN(e.clientOffset,n.clientOffset)?e:CN({},e,{clientOffset:n.clientOffset});case Ic:case Tc:return Kv;default:return e}}function TN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){TN(e,s,n[s])})}return e}const IN={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function NN(e=IN,t){const{payload:n}=t;switch(t.type){case Cc:return Hs({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Ah:return Hs({},e,{isSourcePublic:!0});case Ec:return Hs({},e,{targetIds:n.targetIds});case Nc:return e.targetIds.indexOf(n.targetId)===-1?e:Hs({},e,{targetIds:EI(e.targetIds,n.targetId)});case Tc:return Hs({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Ic:return Hs({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ON(e=0,t){switch(t.type){case Dh:case Mh:return e+1;case Lh:case Nc:return e-1;default:return e}}function PN(e=0){return e+1}function RN(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){RN(e,s,n[s])})}return e}function jN(e={},t){return{dirtyHandlerIds:kN(e.dirtyHandlerIds,{type:t.type,payload:AN({},t.payload,{prevTargetIds:CI(e,"dragOperation.targetIds",[])})}),dragOffset:EN(e.dragOffset,t),refCount:ON(e.refCount,t),dragOperation:NN(e.dragOperation,t),stateId:PN(e.stateId)}}function DN(e,t=void 0,n={},r=!1){const s=MN(r),o=new nN(s,new xN(s)),l=new KI(s,o),c=e(l,t,n);return l.receiveBackend(c),l}function MN(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Vx(jN,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function LN(e,t){if(e==null)return{};var n=FN(e,t),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function FN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let Xv=0;const Fu=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var zN=O.memo(function(t){var{children:n}=t,r=LN(t,["children"]);const[s,o]=$N(r);return O.useEffect(()=>{if(o){const l=Kx();return++Xv,()=>{--Xv===0&&(l[Fu]=null)}}},[]),b.jsx(qx.Provider,{value:s,children:n})});function $N(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=UN(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function UN(e,t=Kx(),n,r){const s=t;return s[Fu]||(s[Fu]={dragDropManager:DN(e,t,n,r)}),s[Fu]}function Kx(){return typeof global<"u"?global:window}var Mf,Qv;function BN(){return Qv||(Qv=1,Mf=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var l=o[s];if(!e(t[l],n[l]))return!1}return!0}return t!==t&&n!==n}),Mf}var HN=BN();const qN=ui(HN),ss=typeof window<"u"?O.useLayoutEffect:O.useEffect;function VN(e,t,n){const[r,s]=O.useState(()=>t(e)),o=O.useCallback(()=>{const l=t(e);qN(r,l)||(s(l),n&&n())},[r,e,n]);return ss(o),[r,o]}function WN(e,t,n){const[r,s]=VN(e,t,n);return ss(function(){const l=e.getHandlerId();if(l!=null)return e.subscribeToStateChange(s,{handlerIds:[l]})},[e,s]),r}function Xx(e,t,n){return WN(t,e||(()=>({})),()=>n.reconnect())}function Qx(e,t){const n=[];return typeof e!="function"&&n.push(e),O.useMemo(()=>typeof e=="function"?e():e,n)}function ZN(e){return O.useMemo(()=>e.hooks.dragSource(),[e])}function YN(e){return O.useMemo(()=>e.hooks.dragPreview(),[e])}let Lf=!1,Ff=!1;class GN{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){je(!Lf,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Lf=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Lf=!1}}isDragging(){if(!this.sourceId)return!1;je(!Ff,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ff=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ff=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let zf=!1;class JN{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}canDrop(){if(!this.targetId)return!1;je(!zf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return zf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{zf=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function KN(e,t,n){const r=n.getRegistry(),s=r.addTarget(e,t);return[s,()=>r.removeTarget(s)]}function XN(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function Up(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;const c=Object.prototype.hasOwnProperty.bind(t);for(let f=0;f<o.length;f++){const d=o[f];if(!c(d))return!1;const h=e[d],g=t[d];if(s=void 0,s===!1||s===void 0&&h!==g)return!1}return!0}function Bp(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function QN(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function e4(e){return(t=null,n=null)=>{if(!O.isValidElement(t)){const o=t;return e(o,n),o}const r=t;return QN(r),t4(r,n?o=>e(o,n):e)}}function ew(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=e4(r);t[n]=()=>s}}),t}function e0(e,t){typeof e=="function"?e(t):e.current=t}function t4(e,t){const n=e.ref;return je(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?O.cloneElement(e,{ref:r=>{e0(n,r),e0(t,r)}}):O.cloneElement(e,{ref:t})}class n4{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Up(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Up(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=ew({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,Bp(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,Bp(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class r4{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Up(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=ew({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,Bp(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function pi(){const{dragDropManager:e}=O.useContext(qx);return je(e!=null,"Expected drag drop context"),e}function a4(e,t){const n=pi(),r=O.useMemo(()=>new n4(n.getBackend()),[n]);return ss(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),ss(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function s4(){const e=pi();return O.useMemo(()=>new GN(e),[e])}class i4{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:o}=r;return o?o(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function o4(e,t,n){const r=O.useMemo(()=>new i4(e,t,n),[t,n]);return O.useEffect(()=>{r.spec=e},[e]),r}function l4(e){return O.useMemo(()=>{const t=e.type;return je(t!=null,"spec.type must be defined"),t},[e])}function u4(e,t,n){const r=pi(),s=o4(e,t,n),o=l4(e);ss(function(){if(o!=null){const[c,f]=XN(o,s,r);return t.receiveHandlerId(c),n.receiveHandlerId(c),f}},[r,t,n,s,o])}function tw(e,t){const n=Qx(e);je(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=s4(),s=a4(n.options,n.previewOptions);return u4(n,r,s),[Xx(n.collect,r,s),ZN(s),YN(s)]}function c4(e){return O.useMemo(()=>e.hooks.dropTarget(),[e])}function d4(e){const t=pi(),n=O.useMemo(()=>new r4(t.getBackend()),[t]);return ss(()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget()),[e]),n}function f4(){const e=pi();return O.useMemo(()=>new JN(e),[e])}function p4(e){const{accept:t}=e;return O.useMemo(()=>(je(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class h4{canDrop(){const t=this.spec,n=this.monitor;return t.canDrop?t.canDrop(n.getItem(),n):!0}hover(){const t=this.spec,n=this.monitor;t.hover&&t.hover(n.getItem(),n)}drop(){const t=this.spec,n=this.monitor;if(t.drop)return t.drop(n.getItem(),n)}constructor(t,n){this.spec=t,this.monitor=n}}function m4(e,t){const n=O.useMemo(()=>new h4(e,t),[t]);return O.useEffect(()=>{n.spec=e},[e]),n}function g4(e,t,n){const r=pi(),s=m4(e,t),o=p4(e);ss(function(){const[c,f]=KN(o,s,r);return t.receiveHandlerId(c),n.receiveHandlerId(c),f},[r,t,s,n,o.map(l=>l.toString()).join("|")])}function nw(e,t){const n=Qx(e),r=f4(),s=d4(n.options);return g4(n,r,s),[Xx(n.collect,r,s),c4(s)]}function rw(e){let t=null;return()=>(t==null&&(t=e()),t)}function y4(e,t){return e.filter(n=>n!==t)}function v4(e,t){const n=new Set,r=o=>n.add(o);e.forEach(r),t.forEach(r);const s=[];return n.forEach(o=>s.push(o)),s}class x4{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=v4(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=y4(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class w4{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const aw="__NATIVE_FILE__",sw="__NATIVE_URL__",iw="__NATIVE_TEXT__",ow="__NATIVE_HTML__",t0=Object.freeze(Object.defineProperty({__proto__:null,FILE:aw,HTML:ow,TEXT:iw,URL:sw},Symbol.toStringTag,{value:"Module"}));function $f(e,t,n){const r=t.reduce((s,o)=>s||e.getData(o),"");return r??n}const Hp={[aw]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[ow]:{exposeProperties:{html:(e,t)=>$f(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[sw]:{exposeProperties:{urls:(e,t)=>$f(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[iw]:{exposeProperties:{text:(e,t)=>$f(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function b4(e,t){const n=Hp[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new w4(n);return r.loadDataTransfer(t),r}function Uf(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Hp).filter(n=>{const r=Hp[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const _4=rw(()=>/firefox/i.test(navigator.userAgent)),lw=rw(()=>!!window.safari);class n0{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:o,c3s:l}=this;let c=n.length-1;if(t===n[c])return r[c];let f=0,d=l.length-1,h;for(;f<=d;){h=Math.floor(.5*(f+d));const x=n[h];if(x<t)f=h+1;else if(x>t)d=h-1;else return r[h]}c=Math.max(0,d);const g=t-n[c],y=g*g;return r[c]+s[c]*g+o[c]*y+l[c]*g*y}constructor(t,n){const{length:r}=t,s=[];for(let x=0;x<r;x++)s.push(x);s.sort((x,_)=>t[x]<t[_]?-1:1);const o=[],l=[];let c,f;for(let x=0;x<r-1;x++)c=t[x+1]-t[x],f=n[x+1]-n[x],o.push(c),l.push(f/c);const d=[l[0]];for(let x=0;x<o.length-1;x++){const _=l[x],k=l[x+1];if(_*k<=0)d.push(0);else{c=o[x];const C=o[x+1],S=c+C;d.push(3*S/((S+C)/_+(S+c)/k))}}d.push(l[l.length-1]);const h=[],g=[];let y;for(let x=0;x<d.length-1;x++){y=l[x];const _=d[x],k=1/o[x],C=_+d[x+1]-y-y;h.push((y-_-C)*k),g.push(C*k*k)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=h,this.c3s=g}}const k4=1;function uw(e){const t=e.nodeType===k4?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Cu(e){return{x:e.clientX,y:e.clientY}}function S4(e){var t;return e.nodeName==="IMG"&&(_4()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function C4(e,t,n,r){let s=e?t.width:n,o=e?t.height:r;return lw()&&e&&(o/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:o}}function E4(e,t,n,r,s){const o=S4(t),c=uw(o?e:t),f={x:n.x-c.x,y:n.y-c.y},{offsetWidth:d,offsetHeight:h}=e,{anchorX:g,anchorY:y}=r,{dragPreviewWidth:x,dragPreviewHeight:_}=C4(o,t,d,h),k=()=>{let L=new n0([0,.5,1],[f.y,f.y/h*_,f.y+_-h]).interpolate(y);return lw()&&o&&(L+=(window.devicePixelRatio-1)*_),L},C=()=>new n0([0,.5,1],[f.x,f.x/d*x,f.x+x-d]).interpolate(g),{offsetX:S,offsetY:T}=s,I=S===0||S,A=T===0||T;return{x:I?S:C(),y:A?T:k()}}class T4{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}}function I4(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){I4(e,s,n[s])})}return e}class N4{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=l=>this.handleDragStart(l,t),o=l=>this.handleSelectStart(l);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",o),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=l=>this.handleDragEnter(l,t),s=l=>this.handleDragOver(l,t),o=l=>this.handleDrop(l,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",o),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",o)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return r0({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return r0({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(t0).some(n=>t0[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=b4(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const o=this.sourceNodes.get(s);return o&&uw(o)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:o}=this;this.dragStartSourceIds=null;const l=Cu(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(o||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:l});const{dataTransfer:c}=s,f=Uf(c);if(this.monitor.isDragging()){if(c&&typeof c.setDragImage=="function"){const h=this.monitor.getSourceId(),g=this.sourceNodes.get(h),y=this.sourcePreviewNodes.get(h)||g;if(y){const{anchorX:x,anchorY:_,offsetX:k,offsetY:C}=this.getCurrentSourcePreviewNodeOptions(),I=E4(g,y,l,{anchorX:x,anchorY:_},{offsetX:k,offsetY:C});c.setDragImage(y,I.x,I.y)}}try{c==null||c.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:d}=this.getCurrentSourcePreviewNodeOptions();d?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(f)this.beginDragNativeItem(f);else{if(c&&!c.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:c}=s,f=Uf(c);f&&this.beginDragNativeItem(f,c)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:o}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,o.length>0&&this.actions.hover(o,{clientOffset:Cu(s)}),o.some(c=>this.monitor.canDropOnTarget(c))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var o;(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:o}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Cu(s),this.scheduleHover(o),(o||[]).some(c=>this.monitor.canDropOnTarget(c))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var o;s.preventDefault(),(o=this.currentNativeSource)===null||o===void 0||o.loadDataTransfer(s.dataTransfer)}else Uf(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:o}=this;this.dropTargetIds=[],this.actions.hover(o,{clientOffset:Cu(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const o=s.target;typeof o.dragDrop=="function"&&(o.tagName==="INPUT"||o.tagName==="SELECT"||o.tagName==="TEXTAREA"||o.isContentEditable||(s.preventDefault(),o.dragDrop()))},this.options=new T4(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new x4(this.isNodeInDocument)}}const O4=function(t,n,r){return new N4(t,n,r)},Eu=43200,a0=1440,s0=Symbol.for("constructDateFrom");function Fh(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&s0 in e?e[s0](t):e instanceof Date?new e.constructor(t):new Date(t)}function ka(e,t){return Fh(e,e)}let P4={};function R4(){return P4}function i0(e){const t=ka(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function zh(e,...t){const n=Fh.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function zu(e,t){const n=+ka(e)-+ka(t);return n<0?-1:n>0?1:n}function A4(e){return Fh(e,Date.now())}function j4(e,t,n){const[r,s]=zh(n==null?void 0:n.in,e,t),o=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return o*12+l}function D4(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function M4(e,t){return+ka(e)-+ka(t)}function L4(e,t){const n=ka(e);return n.setHours(23,59,59,999),n}function F4(e,t){const n=ka(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function z4(e,t){const n=ka(e);return+L4(n)==+F4(n)}function $4(e,t,n){const[r,s,o]=zh(n==null?void 0:n.in,e,e,t),l=zu(s,o),c=Math.abs(j4(s,o));if(c<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-l*c);let f=zu(s,o)===-l;z4(r)&&c===1&&zu(r,o)===1&&(f=!1);const d=l*(c-+f);return d===0?0:d}function U4(e,t,n){const r=M4(e,t)/1e3;return D4(n==null?void 0:n.roundingMethod)(r)}const B4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H4=(e,t,n)=>{let r;const s=B4[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const q4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},W4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Z4={date:Bf({formats:q4,defaultWidth:"full"}),time:Bf({formats:V4,defaultWidth:"full"}),dateTime:Bf({formats:W4,defaultWidth:"full"})},Y4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},G4=(e,t,n,r)=>Y4[e];function to(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;s=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const J4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},K4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},X4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Q4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tO={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nO=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rO={ordinalNumber:nO,era:to({values:J4,defaultWidth:"wide"}),quarter:to({values:K4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:to({values:X4,defaultWidth:"wide"}),day:to({values:Q4,defaultWidth:"wide"}),dayPeriod:to({values:eO,defaultWidth:"wide",formattingValues:tO,defaultFormattingWidth:"wide"})};function no(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const l=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],f=Array.isArray(c)?sO(c,g=>g.test(l)):aO(c,g=>g.test(l));let d;d=e.valueCallback?e.valueCallback(f):f,d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(l.length);return{value:d,rest:h}}}function aO(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function sO(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function iO(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const c=t.slice(s.length);return{value:l,rest:c}}}const oO=/^(\d+)(th|st|nd|rd)?/i,lO=/\d+/i,uO={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cO={any:[/^b/i,/^(a|c)/i]},dO={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fO={any:[/1/i,/2/i,/3/i,/4/i]},pO={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hO={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mO={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gO={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yO={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vO={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xO={ordinalNumber:iO({matchPattern:oO,parsePattern:lO,valueCallback:e=>parseInt(e,10)}),era:no({matchPatterns:uO,defaultMatchWidth:"wide",parsePatterns:cO,defaultParseWidth:"any"}),quarter:no({matchPatterns:dO,defaultMatchWidth:"wide",parsePatterns:fO,defaultParseWidth:"any",valueCallback:e=>e+1}),month:no({matchPatterns:pO,defaultMatchWidth:"wide",parsePatterns:hO,defaultParseWidth:"any"}),day:no({matchPatterns:mO,defaultMatchWidth:"wide",parsePatterns:gO,defaultParseWidth:"any"}),dayPeriod:no({matchPatterns:yO,defaultMatchWidth:"any",parsePatterns:vO,defaultParseWidth:"any"})},wO={code:"en-US",formatDistance:H4,formatLong:Z4,formatRelative:G4,localize:rO,match:xO,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bO(e,t,n){const r=R4(),s=(n==null?void 0:n.locale)??r.locale??wO,o=2520,l=zu(e,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l}),[f,d]=zh(n==null?void 0:n.in,...l>0?[t,e]:[e,t]),h=U4(d,f),g=(i0(d)-i0(f))/1e3,y=Math.round((h-g)/60);let x;if(y<2)return n!=null&&n.includeSeconds?h<5?s.formatDistance("lessThanXSeconds",5,c):h<10?s.formatDistance("lessThanXSeconds",10,c):h<20?s.formatDistance("lessThanXSeconds",20,c):h<40?s.formatDistance("halfAMinute",0,c):h<60?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",1,c):y===0?s.formatDistance("lessThanXMinutes",1,c):s.formatDistance("xMinutes",y,c);if(y<45)return s.formatDistance("xMinutes",y,c);if(y<90)return s.formatDistance("aboutXHours",1,c);if(y<a0){const _=Math.round(y/60);return s.formatDistance("aboutXHours",_,c)}else{if(y<o)return s.formatDistance("xDays",1,c);if(y<Eu){const _=Math.round(y/a0);return s.formatDistance("xDays",_,c)}else if(y<Eu*2)return x=Math.round(y/Eu),s.formatDistance("aboutXMonths",x,c)}if(x=$4(d,f),x<12){const _=Math.round(y/Eu);return s.formatDistance("xMonths",_,c)}else{const _=x%12,k=Math.trunc(x/12);return _<3?s.formatDistance("aboutXYears",k,c):_<9?s.formatDistance("overXYears",k,c):s.formatDistance("almostXYears",k+1,c)}}function cw(e,t){return bO(e,A4(e),t)}const _O=({color:e="inherit",className:t="h-8"})=>b.jsx("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:b.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"})}),kO=({color:e="inherit",className:t="h-8"})=>b.jsxs("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),b.jsx("line",{x1:"9",y1:"14",x2:"15",y2:"14"})]}),SO=({color:e,className:t="h-8"})=>b.jsx("svg",{stroke:e,className:`aspect-square ${t}`,viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:b.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),dw=({item:e,depth:t,isActive:n})=>{const r=di(),[s,o]=O.useState(!1),[l,c]=O.useState(e.name),f=O.useRef(null),d=kr(),[{isDragging:h},g]=tw(()=>({type:"FILE_ITEM",item:{id:e.id},collect:T=>({isDragging:T.isDragging()})})),[{isOver:y},x]=nw(()=>({accept:"FILE_ITEM",drop:T=>{T.id,e.id},collect:T=>({isOver:T.isOver()})})),_=()=>{o(!0)},k=()=>{l.trim()&&d.actions.conversations.rename({id:e.id,newName:l}),o(!1)};O.useEffect(()=>{s&&f.current&&f.current.focus()},[s]);const C=12+t*12,S=O.useMemo(()=>e.name?e.name:"updatedAt"in e?`Conversation: ${cw(new Date(e.updatedAt))} ago`:"Untitled",[e]);return b.jsx("li",{ref:T=>g(x(T)),children:b.jsxs("a",{href:`#chat/${e.id}`,className:`relative flex items-center py-1 hover:bg-slate-100/5 cursor-pointer group
			${n?"bg-primary/30":""}
		${h?"opacity-50 bg-slate-100/30":""} ${y?"bg-base-200":""}`,style:{paddingLeft:`${C}px`},children:[b.jsxs("div",{className:"flex items-center flex-1 py-1",children:[b.jsx("span",{className:"mr-2 ",children:b.jsx(SO,{color:"white",className:"h-4"})}),s&&b.jsx("form",{onSubmit:T=>{T.preventDefault(),k()},children:b.jsx("input",{"aria-label":"Rename item",ref:f,type:"text",value:l,onChange:T=>c(T.target.value),onBlur:k,onKeyDown:T=>{T.key==="Escape"&&(c(e.name),o(!1))},className:"border rounded px-1"})}),!s&&b.jsx(b.Fragment,{children:b.jsx("span",{className:"flex-1 pr-6 border border-transparent line-clamp-1",onClick:()=>{},onDoubleClick:_,children:S})})]}),!s&&b.jsx("button",{"aria-label":"Delete item",onClick:async T=>{T.stopPropagation(),T.preventDefault(),confirm("Are you sure you want to delete this item?")&&(await d.actions.conversations.delete({id:e.id}),n&&r("/chat"))},className:"absolute top-0 right-0 h-full px-3 hover:text-red-500 opacity-0 group-hover:opacity-30 hover:opacity-100 translate-x-full group-hover:translate-x-0",children:b.jsx(Ve,{icon:Vu})})]})})},CO=({folder:e,depth:t,activeConversationId:n})=>{const[r,s]=O.useState(!1),[o,l]=O.useState(e.name),c=O.useRef(null),f=kr(),d=O.useMemo(()=>f.conversations.filter(S=>S.folderId===e.id),[f.conversations,e.id]),[{isDragging:h},g]=tw(()=>({type:"FOLDER_ITEM",item:{id:e.id,type:"folder"},collect:S=>({isDragging:S.isDragging()})})),[{isOver:y},x]=nw(()=>({accept:["FILE_ITEM","FOLDER_ITEM"],drop:S=>{if(console.log(S),S.type==="folder"){if(S.id===e.id)return;f.actions.folders.move({dragId:S.id,hoverId:e.id})}f.actions.conversations.update({id:S.id,partial:{folderId:e.id}})},collect:S=>({isOver:S.isOver()})})),_=()=>{s(!0)},k=()=>{o.trim()&&f.actions.folders.rename({folderId:e.id,newName:o}),s(!1)};O.useEffect(()=>{r&&c.current&&c.current.focus()},[r]);const C=O.useMemo(()=>e.name?e.name:"Untitled",[e]);return b.jsxs("li",{ref:S=>g(x(S)),className:`relative flex flex-col cursor-pointer group/folder rounded-xl
		${h?"opacity-50 bg-slate-400/30":""} ${y?"bg-slate-400/30":""}`,children:[b.jsxs("div",{className:"flex items-center flex-1",children:[b.jsxs("button",{"aria-label":"Toggle item",onClick:()=>f.actions.folders.toggle({folderId:e.id,isOpen:!e.isOpen}),className:" text-yellow-600",children:[!e.isOpen&&b.jsx(_O,{color:"orange",className:"h-4"}),e.isOpen&&b.jsx(kO,{color:"orange",className:"h-4"})]}),r&&b.jsx("form",{onSubmit:S=>{S.preventDefault(),k()},children:b.jsx("input",{"aria-label":"Rename item",ref:c,type:"text",value:o,onChange:S=>l(S.target.value),onBlur:k,onKeyDown:S=>{S.key==="Escape"&&(l(e.name),s(!1))},className:"border rounded px-1"})}),!r&&b.jsx(b.Fragment,{children:b.jsx("span",{className:"flex-1 px-1 border border-transparent",onDoubleClick:_,children:C})})]}),b.jsx("button",{"aria-label":"Delete item",onClick:S=>{S.stopPropagation(),confirm("Are you sure you want to delete this item?")&&f.actions.folders.delete({folderId:e.id})},className:"absolute top-0 right-0 h-full px-3 hover:text-red-500 opacity-0 group-hover:opacity-30 hover:opacity-100 translate-x-full group-hover:translate-x-0",children:b.jsx(Ve,{icon:Vu})}),!h&&e.isOpen&&b.jsx(b.Fragment,{children:b.jsx("ul",{className:"",children:d.map(S=>b.jsx(dw,{isActive:S.id.toString()===n,item:S,depth:1},S.id))})})]})},EO=({conversationId:e})=>{const[t,n]=O.useState(!1),[r,s]=O.useState(""),o=kr(),l=O.useMemo(()=>o.conversations.filter(f=>!f.folderId),[o.conversations]),c=f=>{f.preventDefault(),o.actions.folders.create({name:r}),s(""),n(!1)};return b.jsxs(zN,{backend:O4,children:[b.jsx("ul",{className:"menu w-full",children:o.folders.map(f=>b.jsx(CO,{activeConversationId:e,folder:f,depth:0},f.id))}),b.jsxs("button",{onClick:()=>{n(!t)},className:"w-full text-left px-6 py-2 hover:bg-base-100/15 opacity-30 hover:opacity-100 rounded",children:[t&&b.jsx(b.Fragment,{children:"Cancel"}),!t&&b.jsxs(b.Fragment,{children:[b.jsx(Ve,{icon:Q1})," Folder"]})]}),t&&b.jsxs("form",{onSubmit:c,className:"overflow-hidden bg-base-200/30 rounded-xl mx-2",children:[b.jsx("input",{"aria-label":"New folder name",placeholder:"New folder name...",type:"text",autoFocus:!0,value:r,onChange:f=>s(f.target.value),className:"p-2 w-full rounded-t-xl"}),b.jsx(Ge,{theme:"primary",type:"submit",className:"w-full ",children:"Create folder"})]}),b.jsx("div",{className:"divider uppercase opacity-30 font-medium text-xs",children:"Recent"}),b.jsx("ul",{className:"menu w-full",children:l.map(f=>b.jsx(dw,{isActive:f.id.toString()===e,item:f,depth:0},f.id))})]})},Oc=O.forwardRef(({startingRows:e=1,maxRows:t=5,isDisabled:n=!1,isLoading:r=!1,className:s="",onSubmit:o,value:l,...c},f)=>{const d=O.useRef(null);O.useEffect(()=>{d.current&&(typeof f=="function"?f(d.current):f&&(f.current=d.current))},[f]);const h=()=>{const x=d.current;if(!x)return;const _=24,k=_*t,C=_*e;x.style.height=`${C}px`;const S=Math.max(C,x.scrollHeight),T=Math.min(S,k);x.style.height=`${T}px`,x.style.overflowY=S>k?"auto":"hidden"};O.useEffect(()=>{h()},[l]);const g=x=>{c.onChange&&c.onChange(x),h()},y=x=>{if(x.key==="Enter"){if(x.shiftKey)return;x.preventDefault(),o==null||o()}};return b.jsx("textarea",{ref:d,value:l,onChange:g,disabled:n||r,className:`w-full px-4 py-4 border-none resize-none focus:outline-none focus:ring-0 ${s}`,onKeyDown:y,rows:e,style:{height:`${24*e}px`,maxHeight:`${24*t}px`},...c})});Oc.displayName="ChatInputBox";const TO=[{service:"OpenAI",name:"gpt-4o",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.015,tokensOut:.06}},{service:"OpenAI",name:"gpt-4o-mini",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.01,tokensOut:.03}},{service:"OpenAI",name:"gpt-4-turbo",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.03,tokensOut:.06}},{service:"OpenAI",name:"gpt-4",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.03,tokensOut:.06}},{service:"OpenAI",name:"o3-mini",features:{isMultiModal:!1,hasStructuredData:!1,hasToolUse:!0,canStream:!0},costs:{tokensIn:.01,tokensOut:.04}},{service:"OpenAI",name:"o1",features:{isMultiModal:!0,hasStructuredData:!1,hasToolUse:!0,canStream:!0},costs:{tokensIn:.02,tokensOut:.08}},{service:"OpenAI",name:"o1-mini",features:{isMultiModal:!0,hasStructuredData:!1,hasToolUse:!0,canStream:!0},costs:{tokensIn:.01,tokensOut:.04}},{service:"OpenAI",name:"o1-preview",features:{isMultiModal:!1,hasStructuredData:!1,hasToolUse:!1,canStream:!1},costs:{tokensIn:.015,tokensOut:.06}},{service:"Anthropic",name:"claude-3-5-sonnet-20241022",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.003,tokensOut:.015}},{service:"Anthropic",name:"claude-3-5-sonnet-20240620",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.003,tokensOut:.015}},{service:"Anthropic",name:"claude-3-5-haiku-20241022",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:8e-4,tokensOut:.004}},{service:"Mistral",name:"pixtral-large-latest",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.001,tokensOut:.005}},{service:"Mistral",name:"mistral-large-latest",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.009,tokensOut:.004}},{service:"Mistral",name:"mistral-small-latest",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.003,tokensOut:.002}},{service:"Mistral",name:"pixtral-12b-2409",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.001,tokensOut:.005}},{service:"Google",name:"gemini-2.0-flash-exp",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.1,tokensOut:.3}},{service:"Google",name:"gemini-1.5-flash",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.075,tokensOut:.3}},{service:"Google",name:"gemini-1.5-pro",features:{isMultiModal:!0,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:1.25,tokensOut:5}},{service:"DeepSeek",name:"deepseek-chat",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.2,tokensOut:.6}},{service:"DeepSeek",name:"deepseek-reasoner",features:{isMultiModal:!1,hasStructuredData:!0,hasToolUse:!0,canStream:!0},costs:{tokensIn:.55,tokensOut:2.19}}],fw=({isOpen:e,onSelect:t,onCancel:n})=>{const r=kr();if(O.useLayoutEffect(()=>{if(e){const c=document.getElementById("modal-pick-ai");c==null||c.showModal()}},[e]),!e)return null;const s=r.aiServices,o=s.length>0?s.reduce((c,f)=>(c[f.service]||(c[f.service]=[]),c[f.service].push(f),c),{}):null,l=c=>TO.filter(f=>f.service===c);return b.jsxs("dialog",{id:"modal-pick-ai",className:"modal ",children:[b.jsxs("div",{className:"modal-box",children:[b.jsx("form",{method:"dialog",children:b.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",onClick:()=>{const c=document.getElementById("modal-pick-ai");c==null||c.close(),n()},children:""})}),o?b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-bold text-lg mb-4",children:"Select an AI Service"}),b.jsx("ul",{className:"menu",children:Object.entries(o).map(([c,f])=>b.jsxs("li",{children:[b.jsx("h2",{className:"menu-title uppercase",children:c}),b.jsx("ul",{children:f.map(d=>b.jsx("li",{children:d.service==="Ollama"?b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"menu-title",children:d.name}),d.models&&d.models.length>0&&b.jsx("ul",{children:d.models.map(h=>b.jsx("li",{children:b.jsxs("a",{onClick:()=>{t(d,h.name);const g=document.getElementById("modal-pick-ai");g==null||g.close()},children:[h.name,h.isDefault&&b.jsx("span",{className:"badge badge-sm badge-primary ml-2",children:"Default"})]})},h.name))})]}):b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"menu-title",children:d.name}),b.jsx("ul",{children:l(d.service).map(h=>b.jsx("li",{children:b.jsxs("a",{onClick:()=>{t(d,h.name);const g=document.getElementById("modal-pick-ai");g==null||g.close()},children:[h.name,b.jsxs("div",{className:"text-xs opacity-70",children:[h.features.isMultiModal&&"MultiModal  ",h.features.hasStructuredData&&"Structured  ",h.features.hasToolUse&&"Tools"]})]})},h.name))})]})},d.id))})]},c))})]}):b.jsxs(b.Fragment,{children:[b.jsx("h3",{className:"font-bold text-lg mb-4",children:"No AI Services Configured"}),b.jsx("button",{className:"btn btn-primary",onClick:()=>{const c=document.getElementById("modal-pick-ai");c==null||c.close(),n()},children:"Close"})]})]}),b.jsx("form",{method:"dialog",className:"modal-backdrop",children:b.jsx("button",{onClick:()=>{const c=document.getElementById("modal-pick-ai");c==null||c.close(),n()},children:"close"})})]})},o0=[{id:1,name:"Chat",description:"Normal chat view",type:"chat"},{id:2,name:"Co-authoring",description:"Collaborative document editing",type:"co-authoring"}],IO=()=>{const e=di(),t=O.useRef(null),[n,r]=O.useState(null),[s,o]=O.useState(null),[l,c]=O.useState(""),[f,d]=O.useState(!1),[h,g]=O.useState(o0[0]),[y,x]=O.useState(!1),_=kr(),k=_.aiServices,C=k.find(I=>I.id===n);O.useEffect(()=>{var I;if(!n&&k.length>0){const A=k.find(D=>D.isDefault);if(A){if(r(A.id),A.service==="Ollama"&&((I=A.models)!=null&&I.length)){const D=A.models.find(L=>L.isDefault);D&&o(D.name)}}else r(k[0].id)}},[k,n]);const S=async I=>{if(I&&I.preventDefault(),!n){alert("Please select a configuration");return}if(!l.trim()){alert("Please enter some text");return}const A={id:0,name:l.split(`
`)[0].substring(0,50),aiServiceId:n,modelName:s||void 0,instruction:"You are a helpful assistant",type:h.type,createdAt:Date.now(),updatedAt:Date.now()};try{const D=await _.actions.conversations.create(A);if(!(D!=null&&D.id)){alert("Failed to create chat");return}e(`/chat/${D.id}`,{state:{initialMessage:l}})}catch(D){console.error("Failed to create chat",D)}},T=I=>{I.preventDefault(),x(!0)};return b.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center",children:[b.jsxs("div",{className:"max-w-2xl w-full mx-auto text-center space-y-6",children:[b.jsx("h2",{className:"text-2xl logo font-bold",children:"What can I help with?"}),b.jsxs("form",{onSubmit:S,className:"bg-base-100 p-6 py-4 space-y-4 rounded-xl mx-2",children:[b.jsx(Oc,{ref:t,autoFocus:!0,className:"w-full bg-base-100 text-lg",placeholder:"Start typing here...",value:l,tabIndex:1,startingRows:2,onChange:I=>c(I.target.value),onSubmit:S}),b.jsxs("div",{className:"flex flex-row gap-4 items-center",children:[b.jsxs(Ge,{theme:"ghost",type:"button",onClick:T,tabIndex:3,className:"bg-base-100 flex flex-row gap-3 items-center",children:[b.jsx("span",{className:"relative",children:b.jsx(Ve,{icon:GC})}),b.jsxs("span",{children:[C==null?void 0:C.name,s?` (${s})`:""," "]})]}),b.jsxs(Ge,{theme:"custom",onClick:I=>{I.preventDefault(),d(!f)},tabIndex:4,className:"bg-base-100 flex flex-row gap-3 items-center",children:[b.jsx("span",{className:"relative",children:b.jsx(Ve,{icon:UC})}),b.jsx("span",{children:h.name})]}),b.jsx("div",{className:"flex-grow"}),b.jsx(Ge,{theme:"primary",tabIndex:2,type:"submit",children:b.jsx(Ve,{icon:zC})})]})]}),f&&b.jsxs("div",{className:"text-left",children:[b.jsxs("div",{className:"flex flex-row gap-2 w-full mb-2 items-center",children:[b.jsx("h3",{className:"font-xl flex-grow",children:"Select a chat view"}),b.jsx(Ge,{theme:"ghost","aria-label":"Close chat views",onClick:()=>{d(!1)},children:b.jsx(Ve,{icon:LC})})]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o0.map(I=>b.jsxs("button",{onClick:()=>{var A;g(I),d(!1),(A=t.current)==null||A.focus()},className:"bg-base-200 hover:bg-base-300 p-4 rounded-lg flex flex-col items-start cursor-pointer text-left",children:[b.jsx("h3",{className:"text-lg font-black",children:I.name}),b.jsx("p",{className:"text-sm opacity-50",children:I.description})]},I.id))})]})]}),b.jsx(fw,{isOpen:y,onSelect:(I,A)=>{r(I.id),o(A||null),x(!1)},onCancel:()=>x(!1)})]})};class $u{static create(t){return this.dbService.create(t)}static update(t,n){return this.dbService.update(t,n)}static delete(t){return this.dbService.delete(t)}static getAll(){return this.dbService.getAll()}static getByConversationId(t){const n=`"conversationId":${t}`;return this.dbService.search(n,1,50)}static getDefaults(){return this.dbService.getAll()}static getById(t){return this.dbService.getById(t)}static search(t,n=1,r=10){return this.dbService.search(t,n,r)}}ha($u,"dbService",mo("chats"));const NO=["localhost","0.0.0.0","127.0.0.1"],pw=({config:e}={})=>{const[t,n]=O.useState(!1),[r,s]=O.useState(!1),[o,l]=O.useState([]),[c,f]=O.useState(null),[d,h]=O.useState(null),[g,y]=O.useState(!1),[x,_]=O.useState(!1),[k,C]=O.useState(!1),S=O.useCallback(async()=>{y(!0);try{const L=await ns.ollamaInstallCheck();n(L),f(new Date)}finally{y(!1)}},[]),T=O.useCallback(async()=>{var L;if(!e){l(["No config provided"]);return}if(!e.url){l(["Config does not have a URL"]);return}_(!0);try{const H=(L=e.url)==null?void 0:L.replace("/api",""),ne=await fetch(H);s(ne.ok),h(new Date)}catch{s(!1)}finally{_(!1),h(new Date)}},[e]),I=O.useCallback(async()=>{await S(),await T()},[S,T]),A=O.useCallback(()=>{if(!(e!=null&&e.url))return!1;try{const L=new URL(e.url);return NO.includes(L.hostname)}catch{return!1}},[e]),D=async()=>{if(!A()){l(["This is not a local server, we cannot start and stop it."]);return}C(!0);try{await ns.ollamaServerToggle(!r)&&await I()}finally{C(!1)}};return{isInstalled:t,isRunning:r,errors:o,lastInstallCheck:c,lastRunningCheck:d,isCheckingInstall:g,isCheckingRunning:x,isTogglingServer:k,isLocalServer:A(),actions:{checkInstall:S,checkStatusWithPing:T,checkStatus:I,toggleServer:D}}};var hw="vercel.ai.error",OO=Symbol.for(hw),mw,PO=class gw extends Error{constructor({name:t,message:n,cause:r}){super(n),this[mw]=!0,this.name=t,this.cause=r}static isInstance(t){return gw.hasMarker(t,hw)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};mw=OO;var Oe=PO,yw="AI_APICallError",vw=`vercel.ai.error.${yw}`,RO=Symbol.for(vw),xw,Lt=class extends Oe{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:s,responseBody:o,cause:l,isRetryable:c=r!=null&&(r===408||r===409||r===429||r>=500),data:f}){super({name:yw,message:e,cause:l}),this[xw]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=s,this.responseBody=o,this.isRetryable=c,this.data=f}static isInstance(e){return Oe.hasMarker(e,vw)}};xw=RO;var ww="AI_EmptyResponseBodyError",bw=`vercel.ai.error.${ww}`,AO=Symbol.for(bw),_w,kw=class extends Oe{constructor({message:e="Empty response body"}={}){super({name:ww,message:e}),this[_w]=!0}static isInstance(e){return Oe.hasMarker(e,bw)}};_w=AO;function cl(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Sw="AI_InvalidArgumentError",Cw=`vercel.ai.error.${Sw}`,jO=Symbol.for(Cw),Ew,DO=class extends Oe{constructor({message:t,cause:n,argument:r}){super({name:Sw,message:t,cause:n}),this[Ew]=!0,this.argument=r}static isInstance(t){return Oe.hasMarker(t,Cw)}};Ew=jO;var Tw="AI_InvalidPromptError",Iw=`vercel.ai.error.${Tw}`,MO=Symbol.for(Iw),Nw,ya=class extends Oe{constructor({prompt:e,message:t,cause:n}){super({name:Tw,message:`Invalid prompt: ${t}`,cause:n}),this[Nw]=!0,this.prompt=e}static isInstance(e){return Oe.hasMarker(e,Iw)}};Nw=MO;var Ow="AI_InvalidResponseDataError",Pw=`vercel.ai.error.${Ow}`,LO=Symbol.for(Pw),Rw,Fr=class extends Oe{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:Ow,message:t}),this[Rw]=!0,this.data=e}static isInstance(e){return Oe.hasMarker(e,Pw)}};Rw=LO;var Aw="AI_JSONParseError",jw=`vercel.ai.error.${Aw}`,FO=Symbol.for(jw),Dw,Gu=class extends Oe{constructor({text:e,cause:t}){super({name:Aw,message:`JSON parsing failed: Text: ${e}.
Error message: ${cl(t)}`,cause:t}),this[Dw]=!0,this.text=e}static isInstance(e){return Oe.hasMarker(e,jw)}};Dw=FO;var Mw="AI_LoadAPIKeyError",Lw=`vercel.ai.error.${Mw}`,zO=Symbol.for(Lw),Fw,Tu=class extends Oe{constructor({message:e}){super({name:Mw,message:e}),this[Fw]=!0}static isInstance(e){return Oe.hasMarker(e,Lw)}};Fw=zO;var zw="AI_NoSuchModelError",$w=`vercel.ai.error.${zw}`,$O=Symbol.for($w),Uw,ri=class extends Oe{constructor({errorName:e=zw,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[Uw]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return Oe.hasMarker(e,$w)}};Uw=$O;var Bw="AI_TooManyEmbeddingValuesForCallError",Hw=`vercel.ai.error.${Bw}`,UO=Symbol.for(Hw),qw,dl=class extends Oe{constructor(e){super({name:Bw,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[qw]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Oe.hasMarker(e,Hw)}};qw=UO;var Vw="AI_TypeValidationError",Ww=`vercel.ai.error.${Vw}`,BO=Symbol.for(Ww),Zw,HO=class qp extends Oe{constructor({value:t,cause:n}){super({name:Vw,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${cl(n)}`,cause:n}),this[Zw]=!0,this.value=t}static isInstance(t){return Oe.hasMarker(t,Ww)}static wrap({value:t,cause:n}){return qp.isInstance(n)&&n.value===t?n:new qp({value:t,cause:n})}};Zw=BO;var Ju=HO,Yw="AI_UnsupportedFunctionalityError",Gw=`vercel.ai.error.${Yw}`,qO=Symbol.for(Gw),Jw,ze=class extends Oe{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Yw,message:t}),this[Jw]=!0,this.functionality=e}static isInstance(e){return Oe.hasMarker(e,Gw)}};Jw=qO;let VO=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};var Ya={exports:{}},l0;function WO(){if(l0)return Ya.exports;l0=1;const e=typeof Buffer<"u",t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(c,f,d){d==null&&f!==null&&typeof f=="object"&&(d=f,f=void 0),e&&Buffer.isBuffer(c)&&(c=c.toString()),c&&c.charCodeAt(0)===65279&&(c=c.slice(1));const h=JSON.parse(c,f);if(h===null||typeof h!="object")return h;const g=d&&d.protoAction||"error",y=d&&d.constructorAction||"error";if(g==="ignore"&&y==="ignore")return h;if(g!=="ignore"&&y!=="ignore"){if(t.test(c)===!1&&n.test(c)===!1)return h}else if(g!=="ignore"&&y==="ignore"){if(t.test(c)===!1)return h}else if(n.test(c)===!1)return h;return s(h,{protoAction:g,constructorAction:y,safe:d&&d.safe})}function s(c,{protoAction:f="error",constructorAction:d="error",safe:h}={}){let g=[c];for(;g.length;){const y=g;g=[];for(const x of y){if(f!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"__proto__")){if(h===!0)return null;if(f==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.__proto__}if(d!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"constructor")&&Object.prototype.hasOwnProperty.call(x.constructor,"prototype")){if(h===!0)return null;if(d==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.constructor}for(const _ in x){const k=x[_];k&&typeof k=="object"&&g.push(k)}}}return c}function o(c,f,d){const h=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(c,f,d)}finally{Error.stackTraceLimit=h}}function l(c,f){const d=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(c,f,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=d}}return Ya.exports=o,Ya.exports.default=o,Ya.exports.parse=o,Ya.exports.safeParse=l,Ya.exports.scan=s,Ya.exports}var ZO=WO();const $h=ui(ZO);var YO=Object.defineProperty,GO=(e,t,n)=>t in e?YO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Iu=(e,t,n)=>GO(e,typeof t!="symbol"?t+"":t,n);class u0 extends Error{constructor(t,n){super(t),Iu(this,"type"),Iu(this,"field"),Iu(this,"value"),Iu(this,"line"),this.name="ParseError",this.type=n.type,this.field=n.field,this.value=n.value,this.line=n.line}}function Hf(e){}function JO(e){const{onEvent:t=Hf,onError:n=Hf,onRetry:r=Hf,onComment:s}=e;let o="",l=!0,c,f="",d="";function h(k){const C=l?k.replace(/^\xEF\xBB\xBF/,""):k,[S,T]=KO(`${o}${C}`);for(const I of S)g(I);o=T,l=!1}function g(k){if(k===""){x();return}if(k.startsWith(":")){s&&s(k.slice(k.startsWith(": ")?2:1));return}const C=k.indexOf(":");if(C!==-1){const S=k.slice(0,C),T=k[C+1]===" "?2:1,I=k.slice(C+T);y(S,I,k);return}y(k,"",k)}function y(k,C,S){switch(k){case"event":d=C;break;case"data":f=`${f}${C}
`;break;case"id":c=C.includes("\0")?void 0:C;break;case"retry":/^\d+$/.test(C)?r(parseInt(C,10)):n(new u0(`Invalid \`retry\` value: "${C}"`,{type:"invalid-retry",value:C,line:S}));break;default:n(new u0(`Unknown field "${k.length>20?`${k.slice(0,20)}`:k}"`,{type:"unknown-field",field:k,value:C,line:S}));break}}function x(){f.length>0&&t({id:c,event:d||void 0,data:f.endsWith(`
`)?f.slice(0,-1):f}),c=void 0,f="",d=""}function _(k={}){o&&k.consume&&g(o),c=void 0,f="",d="",o=""}return{feed:h,reset:_}}function KO(e){const t=[];let n="";const r=e.length;for(let s=0;s<r;s++){const o=e[s];o==="\r"&&e[s+1]===`
`?(t.push(n),n="",s++):o==="\r"||o===`
`?(t.push(n),n=""):n+=o}return[t,n]}class XO extends TransformStream{constructor({onError:t,onRetry:n,onComment:r}={}){let s;super({start(o){s=JO({onEvent:l=>{o.enqueue(l)},onError(l){t==="terminate"?o.error(l):typeof t=="function"&&t(l)},onRetry:n,onComment:r})},transform(o){s.feed(o)}})}}var QO={};function mt(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function e3(e){return new ReadableStream({async pull(t){try{const{value:n,done:r}=await e.next();r?t.close():t.enqueue(n)}catch(n){t.error(n)}},cancel(){}})}async function t3(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}function ps(e){const t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var hs=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const s=VO(n,t);if(e==null)return s;if(n.includes(r))throw new DO({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return o=>`${e}${r}${s(o)}`},Xt=hs();function n3(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function Kw(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function es(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}var r3=()=>globalThis.fetch,a3=async({url:e,headers:t={},successfulResponseHandler:n,failedResponseHandler:r,abortSignal:s,fetch:o=r3()})=>{try{const l=await o(e,{method:"GET",headers:Kw(t),signal:s}),c=ps(l);if(!l.ok){let f;try{f=await r({response:l,url:e,requestBodyValues:{}})}catch(d){throw es(d)||Lt.isInstance(d)?d:new Lt({message:"Failed to process error response",cause:d,statusCode:l.status,url:e,responseHeaders:c,requestBodyValues:{}})}throw f.value}try{return await n({response:l,url:e,requestBodyValues:{}})}catch(f){throw f instanceof Error&&(es(f)||Lt.isInstance(f))?f:new Lt({message:"Failed to process successful response",cause:f,statusCode:l.status,url:e,responseHeaders:c,requestBodyValues:{}})}}catch(l){if(es(l))throw l;if(l instanceof TypeError&&l.message==="fetch failed"){const c=l.cause;if(c!=null)throw new Lt({message:`Cannot connect to API: ${c.message}`,cause:c,url:e,isRetryable:!0,requestBodyValues:{}})}throw l}};function Ia({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new Tu({message:`${r} API key must be a string.`});if(typeof process>"u")throw new Tu({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=QO[t],e==null)throw new Tu({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new Tu({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var Ku=Symbol.for("vercel.ai.validator");function s3(e){return{[Ku]:!0,validate:e}}function i3(e){return typeof e=="object"&&e!==null&&Ku in e&&e[Ku]===!0&&"validate"in e}function o3(e){return i3(e)?e:l3(e)}function l3(e){return s3(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function u3({value:e,schema:t}){const n=is({value:e,schema:t});if(!n.success)throw Ju.wrap({value:e,cause:n.error});return n.value}function is({value:e,schema:t}){const n=o3(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:Ju.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:Ju.wrap({value:e,cause:r})}}}function c3({text:e,schema:t}){try{const n=$h.parse(e);return t==null?n:u3({value:n,schema:t})}catch(n){throw Gu.isInstance(n)||Ju.isInstance(n)?n:new Gu({text:e,cause:n})}}function os({text:e,schema:t}){try{const n=$h.parse(e);if(t==null)return{success:!0,value:n,rawValue:n};const r=is({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(n){return{success:!1,error:Gu.isInstance(n)?n:new Gu({text:e,cause:n})}}}function ai(e){try{return $h.parse(e),!0}catch{return!1}}var d3=()=>globalThis.fetch,it=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:s,abortSignal:o,fetch:l})=>f3({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:s,abortSignal:o,fetch:l}),f3=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:s,abortSignal:o,fetch:l=d3()})=>{try{const c=await l(e,{method:"POST",headers:Kw(t),body:n.content,signal:o}),f=ps(c);if(!c.ok){let d;try{d=await s({response:c,url:e,requestBodyValues:n.values})}catch(h){throw es(h)||Lt.isInstance(h)?h:new Lt({message:"Failed to process error response",cause:h,statusCode:c.status,url:e,responseHeaders:f,requestBodyValues:n.values})}throw d.value}try{return await r({response:c,url:e,requestBodyValues:n.values})}catch(d){throw d instanceof Error&&(es(d)||Lt.isInstance(d))?d:new Lt({message:"Failed to process successful response",cause:d,statusCode:c.status,url:e,responseHeaders:f,requestBodyValues:n.values})}}catch(c){if(es(c))throw c;if(c instanceof TypeError&&c.message==="fetch failed"){const f=c.cause;if(f!=null)throw new Lt({message:`Cannot connect to API: ${f.message}`,cause:f,url:e,requestBodyValues:n.values,isRetryable:!0})}throw c}};async function So(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var Sr=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:s,requestBodyValues:o})=>{const l=await r.text(),c=ps(r);if(l.trim()==="")return{responseHeaders:c,value:new Lt({message:r.statusText,url:s,requestBodyValues:o,statusCode:r.status,responseHeaders:c,responseBody:l,isRetryable:n==null?void 0:n(r)})};try{const f=c3({text:l,schema:e});return{responseHeaders:c,value:new Lt({message:t(f),url:s,requestBodyValues:o,statusCode:r.status,responseHeaders:c,responseBody:l,data:f,isRetryable:n==null?void 0:n(r,f)})}}catch{return{responseHeaders:c,value:new Lt({message:r.statusText,url:s,requestBodyValues:o,statusCode:r.status,responseHeaders:c,responseBody:l,isRetryable:n==null?void 0:n(r)})}}},Na=e=>async({response:t})=>{const n=ps(t);if(t.body==null)throw new kw({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new XO).pipeThrough(new TransformStream({transform({data:r},s){r!=="[DONE]"&&s.enqueue(os({text:r,schema:e}))}}))}},Vt=e=>async({response:t,url:n,requestBodyValues:r})=>{const s=await t.text(),o=os({text:s,schema:e}),l=ps(t);if(!o.success)throw new Lt({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:l,responseBody:s,url:n,requestBodyValues:r});return{responseHeaders:l,value:o.value,rawValue:o.rawValue}},p3=()=>async({response:e,url:t,requestBodyValues:n})=>{const r=ps(e);if(!e.body)throw new Lt({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{const s=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(s)}}catch(s){throw new Lt({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:s})}},{btoa:h3,atob:m3}=globalThis;function g3(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=m3(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function Ur(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return h3(t)}function Vr(e){return e==null?void 0:e.replace(/\/$/,"")}const y3=Symbol("Let zodToJsonSchema decide on which parser to use"),c0={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},v3=e=>typeof e=="string"?{...c0,name:e}:{...c0,...e},x3=e=>{const t=v3(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function Xw(e,t,n,r){r!=null&&r.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Qe(e,t,n,r,s){e[t]=n,Xw(e,t,r,s)}var We;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(c=>typeof s[s[c]]!="number"),l={};for(const c of o)l[c]=s[c];return e.objectValues(l)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},e.find=(s,o)=>{for(const l of s)if(o(l))return l},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(We||(We={}));var Vp;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Vp||(Vp={}));const fe=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mr=e=>{switch(typeof e){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return isNaN(e)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(e)?fe.array:e===null?fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?fe.promise:typeof Map<"u"&&e instanceof Map?fe.map:typeof Set<"u"&&e instanceof Set?fe.set:typeof Date<"u"&&e instanceof Date?fe.date:fe.object;default:return fe.unknown}},K=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),w3=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class bn extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,f=0;for(;f<l.path.length;){const d=l.path[f];f===l.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(l))):c[d]=c[d]||{_errors:[]},c=c[d],f++}}};return s(this),r}static assert(t){if(!(t instanceof bn))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bn.create=e=>new bn(e);const si=(e,t)=>{let n;switch(e.code){case K.invalid_type:e.received===fe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,We.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:n=`Unrecognized key(s) in object: ${We.joinValues(e.keys,", ")}`;break;case K.invalid_union:n="Invalid input";break;case K.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${We.joinValues(e.options)}`;break;case K.invalid_enum_value:n=`Invalid enum value. Expected ${We.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:n="Invalid function arguments";break;case K.invalid_return_type:n="Invalid function return type";break;case K.invalid_date:n="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:We.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case K.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case K.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case K.custom:n="Invalid input";break;case K.invalid_intersection_types:n="Intersection results could not be merged";break;case K.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:n="Number must be finite";break;default:n=t.defaultError,We.assertNever(e)}return{message:n}};let Qw=si;function b3(e){Qw=e}function Xu(){return Qw}const Qu=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,o=[...n,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let c="";const f=r.filter(d=>!!d).slice().reverse();for(const d of f)c=d(l,{data:t,defaultError:c}).message;return{...s,path:o,message:c}},_3=[];function le(e,t){const n=Xu(),r=Qu({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===si?void 0:si].filter(s=>!!s)});e.common.issues.push(r)}class qt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Te;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const o=await s.key,l=await s.value;r.push({key:o,value:l})}return qt.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return Te;o.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[o.value]=l.value)}return{status:t.value,value:r}}}const Te=Object.freeze({status:"aborted"}),Gs=e=>({status:"dirty",value:e}),Qt=e=>({status:"valid",value:e}),Wp=e=>e.status==="aborted",Zp=e=>e.status==="dirty",ls=e=>e.status==="valid",Co=e=>typeof Promise<"u"&&e instanceof Promise;function ec(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function eb(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var we;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(we||(we={}));var uo,co;class vr{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const d0=(e,t)=>{if(ls(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bn(e.common.issues);return this._error=n,this._error}}};function De(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(l,c)=>{var f,d;const{message:h}=e;return l.code==="invalid_enum_value"?{message:h??c.defaultError}:typeof c.data>"u"?{message:(f=h??r)!==null&&f!==void 0?f:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(d=h??n)!==null&&d!==void 0?d:c.defaultError}},description:s}}class Le{get description(){return this._def.description}_getType(t){return Mr(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Mr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new qt,ctx:{common:t.parent.common,data:t.data,parsedType:Mr(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Co(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mr(t)},o=this._parseSync({data:t,path:s.path,parent:s});return d0(s,o)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mr(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:s});return ls(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((r=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(o=>ls(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mr(t)},s=this._parse({data:t,path:r.path,parent:r}),o=await(Co(s)?s:Promise.resolve(s));return d0(r,o)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const l=t(s),c=()=>o.addIssue({code:K.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(f=>f?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new rr({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return tr.create(this,this._def)}nullable(){return Ta.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return er.create(this)}promise(){return oi.create(this,this._def)}or(t){return No.create([this,t],this._def)}and(t){return Oo.create(this,t,this._def)}transform(t){return new rr({...De(this._def),schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Do({...De(this._def),innerType:this,defaultValue:n,typeName:ee.ZodDefault})}brand(){return new Uh({typeName:ee.ZodBranded,type:this,...De(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Mo({...De(this._def),innerType:this,catchValue:n,typeName:ee.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return fl.create(this,t)}readonly(){return Lo.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const k3=/^c[^\s-]{8,}$/i,S3=/^[0-9a-z]+$/,C3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,E3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,T3=/^[a-z0-9_-]{21}$/i,I3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,N3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,O3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,P3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let qf;const R3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,A3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,j3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,D3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,M3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,tb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",F3=new RegExp(`^${tb}$`);function nb(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function z3(e){return new RegExp(`^${nb(e)}$`)}function rb(e){let t=`${tb}T${nb(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function $3(e,t){return!!((t==="v4"||!t)&&R3.test(e)||(t==="v6"||!t)&&j3.test(e))}function U3(e,t){if(!I3.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function B3(e,t){return!!((t==="v4"||!t)&&A3.test(e)||(t==="v6"||!t)&&D3.test(e))}class Qn extends Le{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==fe.string){const o=this._getOrReturnCtx(t);return le(o,{code:K.invalid_type,expected:fe.string,received:o.parsedType}),Te}const r=new qt;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=t.data.length>o.value,c=t.data.length<o.value;(l||c)&&(s=this._getOrReturnCtx(t,s),l?le(s,{code:K.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&le(s,{code:K.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")O3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"email",code:K.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")qf||(qf=new RegExp(P3,"u")),qf.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"emoji",code:K.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")E3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"uuid",code:K.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")T3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"nanoid",code:K.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")k3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"cuid",code:K.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")S3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"cuid2",code:K.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")C3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"ulid",code:K.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),le(s,{validation:"url",code:K.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"regex",code:K.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),le(s,{code:K.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),le(s,{code:K.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),le(s,{code:K.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?rb(o).test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{code:K.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?F3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{code:K.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?z3(o).test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{code:K.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?N3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"duration",code:K.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?$3(t.data,o.version)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"ip",code:K.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?U3(t.data,o.alg)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"jwt",code:K.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?B3(t.data,o.version)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"cidr",code:K.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?M3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"base64",code:K.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?L3.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"base64url",code:K.invalid_string,message:o.message}),r.dirty()):We.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:K.invalid_string,...we.errToObj(r)})}_addCheck(t){return new Qn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...we.errToObj(t)})}url(t){return this._addCheck({kind:"url",...we.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...we.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...we.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...we.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...we.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...we.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...we.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...we.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...we.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...we.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...we.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...we.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...we.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...we.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...we.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...we.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...we.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...we.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...we.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...we.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...we.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...we.errToObj(n)})}nonempty(t){return this.min(1,we.errToObj(t))}trim(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Qn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Qn.create=e=>{var t;return new Qn({checks:[],typeName:ee.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...De(e)})};function H3(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,o=parseInt(e.toFixed(s).replace(".","")),l=parseInt(t.toFixed(s).replace(".",""));return o%l/Math.pow(10,s)}class Sa extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==fe.number){const o=this._getOrReturnCtx(t);return le(o,{code:K.invalid_type,expected:fe.number,received:o.parsedType}),Te}let r;const s=new qt;for(const o of this._def.checks)o.kind==="int"?We.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),le(r,{code:K.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),le(r,{code:K.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),le(r,{code:K.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?H3(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),le(r,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),le(r,{code:K.not_finite,message:o.message}),s.dirty()):We.assertNever(o);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,we.toString(n))}gt(t,n){return this.setLimit("min",t,!1,we.toString(n))}lte(t,n){return this.setLimit("max",t,!0,we.toString(n))}lt(t,n){return this.setLimit("max",t,!1,we.toString(n))}setLimit(t,n,r,s){return new Sa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:we.toString(s)}]})}_addCheck(t){return new Sa({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:we.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:we.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:we.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:we.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:we.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:we.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:we.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:we.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:we.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&We.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Sa.create=e=>new Sa({checks:[],typeName:ee.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class Ca extends Le{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==fe.bigint)return this._getInvalidInput(t);let r;const s=new qt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),le(r,{code:K.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),le(r,{code:K.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),le(r,{code:K.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):We.assertNever(o);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return le(n,{code:K.invalid_type,expected:fe.bigint,received:n.parsedType}),Te}gte(t,n){return this.setLimit("min",t,!0,we.toString(n))}gt(t,n){return this.setLimit("min",t,!1,we.toString(n))}lte(t,n){return this.setLimit("max",t,!0,we.toString(n))}lt(t,n){return this.setLimit("max",t,!1,we.toString(n))}setLimit(t,n,r,s){return new Ca({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:we.toString(s)}]})}_addCheck(t){return new Ca({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:we.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:we.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:we.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:we.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:we.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ca.create=e=>{var t;return new Ca({checks:[],typeName:ee.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...De(e)})};class Eo extends Le{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==fe.boolean){const r=this._getOrReturnCtx(t);return le(r,{code:K.invalid_type,expected:fe.boolean,received:r.parsedType}),Te}return Qt(t.data)}}Eo.create=e=>new Eo({typeName:ee.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...De(e)});class us extends Le{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==fe.date){const o=this._getOrReturnCtx(t);return le(o,{code:K.invalid_type,expected:fe.date,received:o.parsedType}),Te}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return le(o,{code:K.invalid_date}),Te}const r=new qt;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:K.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:K.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):We.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new us({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:we.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:we.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}us.create=e=>new us({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ee.ZodDate,...De(e)});class tc extends Le{_parse(t){if(this._getType(t)!==fe.symbol){const r=this._getOrReturnCtx(t);return le(r,{code:K.invalid_type,expected:fe.symbol,received:r.parsedType}),Te}return Qt(t.data)}}tc.create=e=>new tc({typeName:ee.ZodSymbol,...De(e)});class To extends Le{_parse(t){if(this._getType(t)!==fe.undefined){const r=this._getOrReturnCtx(t);return le(r,{code:K.invalid_type,expected:fe.undefined,received:r.parsedType}),Te}return Qt(t.data)}}To.create=e=>new To({typeName:ee.ZodUndefined,...De(e)});class Io extends Le{_parse(t){if(this._getType(t)!==fe.null){const r=this._getOrReturnCtx(t);return le(r,{code:K.invalid_type,expected:fe.null,received:r.parsedType}),Te}return Qt(t.data)}}Io.create=e=>new Io({typeName:ee.ZodNull,...De(e)});class ii extends Le{constructor(){super(...arguments),this._any=!0}_parse(t){return Qt(t.data)}}ii.create=e=>new ii({typeName:ee.ZodAny,...De(e)});class ts extends Le{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qt(t.data)}}ts.create=e=>new ts({typeName:ee.ZodUnknown,...De(e)});class Br extends Le{_parse(t){const n=this._getOrReturnCtx(t);return le(n,{code:K.invalid_type,expected:fe.never,received:n.parsedType}),Te}}Br.create=e=>new Br({typeName:ee.ZodNever,...De(e)});class nc extends Le{_parse(t){if(this._getType(t)!==fe.undefined){const r=this._getOrReturnCtx(t);return le(r,{code:K.invalid_type,expected:fe.void,received:r.parsedType}),Te}return Qt(t.data)}}nc.create=e=>new nc({typeName:ee.ZodVoid,...De(e)});class er extends Le{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==fe.array)return le(n,{code:K.invalid_type,expected:fe.array,received:n.parsedType}),Te;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,c=n.data.length<s.exactLength.value;(l||c)&&(le(n,{code:l?K.too_big:K.too_small,minimum:c?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(le(n,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(le(n,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>s.type._parseAsync(new vr(n,l,n.path,c)))).then(l=>qt.mergeArray(r,l));const o=[...n.data].map((l,c)=>s.type._parseSync(new vr(n,l,n.path,c)));return qt.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new er({...this._def,minLength:{value:t,message:we.toString(n)}})}max(t,n){return new er({...this._def,maxLength:{value:t,message:we.toString(n)}})}length(t,n){return new er({...this._def,exactLength:{value:t,message:we.toString(n)}})}nonempty(t){return this.min(1,t)}}er.create=(e,t)=>new er({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ee.ZodArray,...De(t)});function Ws(e){if(e instanceof pt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=tr.create(Ws(r))}return new pt({...e._def,shape:()=>t})}else return e instanceof er?new er({...e._def,type:Ws(e.element)}):e instanceof tr?tr.create(Ws(e.unwrap())):e instanceof Ta?Ta.create(Ws(e.unwrap())):e instanceof xr?xr.create(e.items.map(t=>Ws(t))):e}class pt extends Le{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=We.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==fe.object){const d=this._getOrReturnCtx(t);return le(d,{code:K.invalid_type,expected:fe.object,received:d.parsedType}),Te}const{status:r,ctx:s}=this._processInputParams(t),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof Br&&this._def.unknownKeys==="strip"))for(const d in s.data)l.includes(d)||c.push(d);const f=[];for(const d of l){const h=o[d],g=s.data[d];f.push({key:{status:"valid",value:d},value:h._parse(new vr(s,g,s.path,d)),alwaysSet:d in s.data})}if(this._def.catchall instanceof Br){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of c)f.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(d==="strict")c.length>0&&(le(s,{code:K.unrecognized_keys,keys:c}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of c){const g=s.data[h];f.push({key:{status:"valid",value:h},value:d._parse(new vr(s,g,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of f){const g=await h.key,y=await h.value;d.push({key:g,value:y,alwaysSet:h.alwaysSet})}return d}).then(d=>qt.mergeObjectSync(r,d)):qt.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(t){return we.errToObj,new pt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,o,l,c;const f=(l=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=we.errToObj(t).message)!==null&&c!==void 0?c:f}:{message:f}}}:{}})}strip(){return new pt({...this._def,unknownKeys:"strip"})}passthrough(){return new pt({...this._def,unknownKeys:"passthrough"})}extend(t){return new pt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new pt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ee.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new pt({...this._def,catchall:t})}pick(t){const n={};return We.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new pt({...this._def,shape:()=>n})}omit(t){const n={};return We.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new pt({...this._def,shape:()=>n})}deepPartial(){return Ws(this)}partial(t){const n={};return We.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new pt({...this._def,shape:()=>n})}required(t){const n={};return We.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof tr;)o=o._def.innerType;n[r]=o}}),new pt({...this._def,shape:()=>n})}keyof(){return ab(We.objectKeys(this.shape))}}pt.create=(e,t)=>new pt({shape:()=>e,unknownKeys:"strip",catchall:Br.create(),typeName:ee.ZodObject,...De(t)});pt.strictCreate=(e,t)=>new pt({shape:()=>e,unknownKeys:"strict",catchall:Br.create(),typeName:ee.ZodObject,...De(t)});pt.lazycreate=(e,t)=>new pt({shape:e,unknownKeys:"strip",catchall:Br.create(),typeName:ee.ZodObject,...De(t)});class No extends Le{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new bn(c.ctx.common.issues));return le(n,{code:K.invalid_union,unionErrors:l}),Te}if(n.common.async)return Promise.all(r.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const f of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=f._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:d}),d.common.issues.length&&l.push(d.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(f=>new bn(f));return le(n,{code:K.invalid_union,unionErrors:c}),Te}}get options(){return this._def.options}}No.create=(e,t)=>new No({options:e,typeName:ee.ZodUnion,...De(t)});const Dr=e=>e instanceof Ro?Dr(e.schema):e instanceof rr?Dr(e.innerType()):e instanceof Ao?[e.value]:e instanceof Ea?e.options:e instanceof jo?We.objectValues(e.enum):e instanceof Do?Dr(e._def.innerType):e instanceof To?[void 0]:e instanceof Io?[null]:e instanceof tr?[void 0,...Dr(e.unwrap())]:e instanceof Ta?[null,...Dr(e.unwrap())]:e instanceof Uh||e instanceof Lo?Dr(e.unwrap()):e instanceof Mo?Dr(e._def.innerType):[];class Pc extends Le{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.object)return le(n,{code:K.invalid_type,expected:fe.object,received:n.parsedType}),Te;const r=this.discriminator,s=n.data[r],o=this.optionsMap.get(s);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(le(n,{code:K.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const o of n){const l=Dr(o.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of l){if(s.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);s.set(c,o)}}return new Pc({typeName:ee.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...De(r)})}}function Yp(e,t){const n=Mr(e),r=Mr(t);if(e===t)return{valid:!0,data:e};if(n===fe.object&&r===fe.object){const s=We.objectKeys(t),o=We.objectKeys(e).filter(c=>s.indexOf(c)!==-1),l={...e,...t};for(const c of o){const f=Yp(e[c],t[c]);if(!f.valid)return{valid:!1};l[c]=f.data}return{valid:!0,data:l}}else if(n===fe.array&&r===fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const l=e[o],c=t[o],f=Yp(l,c);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===fe.date&&r===fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Oo extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(o,l)=>{if(Wp(o)||Wp(l))return Te;const c=Yp(o.value,l.value);return c.valid?((Zp(o)||Zp(l))&&n.dirty(),{status:n.value,value:c.data}):(le(r,{code:K.invalid_intersection_types}),Te)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Oo.create=(e,t,n)=>new Oo({left:e,right:t,typeName:ee.ZodIntersection,...De(n)});class xr extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.array)return le(r,{code:K.invalid_type,expected:fe.array,received:r.parsedType}),Te;if(r.data.length<this._def.items.length)return le(r,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&r.data.length>this._def.items.length&&(le(r,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((l,c)=>{const f=this._def.items[c]||this._def.rest;return f?f._parse(new vr(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>qt.mergeArray(n,l)):qt.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new xr({...this._def,rest:t})}}xr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xr({items:e,typeName:ee.ZodTuple,rest:null,...De(t)})};class Po extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.object)return le(r,{code:K.invalid_type,expected:fe.object,received:r.parsedType}),Te;const s=[],o=this._def.keyType,l=this._def.valueType;for(const c in r.data)s.push({key:o._parse(new vr(r,c,r.path,c)),value:l._parse(new vr(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?qt.mergeObjectAsync(n,s):qt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Le?new Po({keyType:t,valueType:n,typeName:ee.ZodRecord,...De(r)}):new Po({keyType:Qn.create(),valueType:t,typeName:ee.ZodRecord,...De(n)})}}class rc extends Le{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.map)return le(r,{code:K.invalid_type,expected:fe.map,received:r.parsedType}),Te;const s=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,f],d)=>({key:s._parse(new vr(r,c,r.path,[d,"key"])),value:o._parse(new vr(r,f,r.path,[d,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const f of l){const d=await f.key,h=await f.value;if(d.status==="aborted"||h.status==="aborted")return Te;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const f of l){const d=f.key,h=f.value;if(d.status==="aborted"||h.status==="aborted")return Te;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),c.set(d.value,h.value)}return{status:n.value,value:c}}}}rc.create=(e,t,n)=>new rc({valueType:t,keyType:e,typeName:ee.ZodMap,...De(n)});class cs extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.set)return le(r,{code:K.invalid_type,expected:fe.set,received:r.parsedType}),Te;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(le(r,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(le(r,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function l(f){const d=new Set;for(const h of f){if(h.status==="aborted")return Te;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const c=[...r.data.values()].map((f,d)=>o._parse(new vr(r,f,r.path,d)));return r.common.async?Promise.all(c).then(f=>l(f)):l(c)}min(t,n){return new cs({...this._def,minSize:{value:t,message:we.toString(n)}})}max(t,n){return new cs({...this._def,maxSize:{value:t,message:we.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}cs.create=(e,t)=>new cs({valueType:e,minSize:null,maxSize:null,typeName:ee.ZodSet,...De(t)});class Qs extends Le{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.function)return le(n,{code:K.invalid_type,expected:fe.function,received:n.parsedType}),Te;function r(c,f){return Qu({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xu(),si].filter(d=>!!d),issueData:{code:K.invalid_arguments,argumentsError:f}})}function s(c,f){return Qu({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xu(),si].filter(d=>!!d),issueData:{code:K.invalid_return_type,returnTypeError:f}})}const o={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof oi){const c=this;return Qt(async function(...f){const d=new bn([]),h=await c._def.args.parseAsync(f,o).catch(x=>{throw d.addIssue(r(f,x)),d}),g=await Reflect.apply(l,this,h);return await c._def.returns._def.type.parseAsync(g,o).catch(x=>{throw d.addIssue(s(g,x)),d})})}else{const c=this;return Qt(function(...f){const d=c._def.args.safeParse(f,o);if(!d.success)throw new bn([r(f,d.error)]);const h=Reflect.apply(l,this,d.data),g=c._def.returns.safeParse(h,o);if(!g.success)throw new bn([s(h,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Qs({...this._def,args:xr.create(t).rest(ts.create())})}returns(t){return new Qs({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Qs({args:t||xr.create([]).rest(ts.create()),returns:n||ts.create(),typeName:ee.ZodFunction,...De(r)})}}class Ro extends Le{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ro.create=(e,t)=>new Ro({getter:e,typeName:ee.ZodLazy,...De(t)});class Ao extends Le{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return le(n,{received:n.data,code:K.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ao.create=(e,t)=>new Ao({value:e,typeName:ee.ZodLiteral,...De(t)});function ab(e,t){return new Ea({values:e,typeName:ee.ZodEnum,...De(t)})}class Ea extends Le{constructor(){super(...arguments),uo.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return le(n,{expected:We.joinValues(r),received:n.parsedType,code:K.invalid_type}),Te}if(ec(this,uo)||eb(this,uo,new Set(this._def.values)),!ec(this,uo).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return le(n,{received:n.data,code:K.invalid_enum_value,options:r}),Te}return Qt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ea.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ea.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}uo=new WeakMap;Ea.create=ab;class jo extends Le{constructor(){super(...arguments),co.set(this,void 0)}_parse(t){const n=We.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==fe.string&&r.parsedType!==fe.number){const s=We.objectValues(n);return le(r,{expected:We.joinValues(s),received:r.parsedType,code:K.invalid_type}),Te}if(ec(this,co)||eb(this,co,new Set(We.getValidEnumValues(this._def.values))),!ec(this,co).has(t.data)){const s=We.objectValues(n);return le(r,{received:r.data,code:K.invalid_enum_value,options:s}),Te}return Qt(t.data)}get enum(){return this._def.values}}co=new WeakMap;jo.create=(e,t)=>new jo({values:e,typeName:ee.ZodNativeEnum,...De(t)});class oi extends Le{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.promise&&n.common.async===!1)return le(n,{code:K.invalid_type,expected:fe.promise,received:n.parsedType}),Te;const r=n.parsedType===fe.promise?n.data:Promise.resolve(n.data);return Qt(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}oi.create=(e,t)=>new oi({type:e,typeName:ee.ZodPromise,...De(t)});class rr extends Le{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:l=>{le(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return Te;const f=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return f.status==="aborted"?Te:f.status==="dirty"||n.value==="dirty"?Gs(f.value):f});{if(n.value==="aborted")return Te;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Te:c.status==="dirty"||n.value==="dirty"?Gs(c.value):c}}if(s.type==="refinement"){const l=c=>{const f=s.refinement(c,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Te:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Te:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ls(l))return l;const c=s.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>ls(l)?Promise.resolve(s.transform(l.value,o)).then(c=>({status:n.value,value:c})):l);We.assertNever(s)}}rr.create=(e,t,n)=>new rr({schema:e,typeName:ee.ZodEffects,effect:t,...De(n)});rr.createWithPreprocess=(e,t,n)=>new rr({schema:t,effect:{type:"preprocess",transform:e},typeName:ee.ZodEffects,...De(n)});class tr extends Le{_parse(t){return this._getType(t)===fe.undefined?Qt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tr.create=(e,t)=>new tr({innerType:e,typeName:ee.ZodOptional,...De(t)});class Ta extends Le{_parse(t){return this._getType(t)===fe.null?Qt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ta.create=(e,t)=>new Ta({innerType:e,typeName:ee.ZodNullable,...De(t)});class Do extends Le{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Do.create=(e,t)=>new Do({innerType:e,typeName:ee.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...De(t)});class Mo extends Le{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Co(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Mo.create=(e,t)=>new Mo({innerType:e,typeName:ee.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...De(t)});class ac extends Le{_parse(t){if(this._getType(t)!==fe.nan){const r=this._getOrReturnCtx(t);return le(r,{code:K.invalid_type,expected:fe.nan,received:r.parsedType}),Te}return{status:"valid",value:t.data}}}ac.create=e=>new ac({typeName:ee.ZodNaN,...De(e)});const q3=Symbol("zod_brand");class Uh extends Le{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class fl extends Le{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Te:o.status==="dirty"?(n.dirty(),Gs(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Te:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new fl({in:t,out:n,typeName:ee.ZodPipeline})}}class Lo extends Le{_parse(t){const n=this._def.innerType._parse(t),r=s=>(ls(s)&&(s.value=Object.freeze(s.value)),s);return Co(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Lo.create=(e,t)=>new Lo({innerType:e,typeName:ee.ZodReadonly,...De(t)});function sb(e,t={},n){return e?ii.create().superRefine((r,s)=>{var o,l;if(!e(r)){const c=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,f=(l=(o=c.fatal)!==null&&o!==void 0?o:n)!==null&&l!==void 0?l:!0,d=typeof c=="string"?{message:c}:c;s.addIssue({code:"custom",...d,fatal:f})}}):ii.create()}const V3={object:pt.lazycreate};var ee;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ee||(ee={}));const W3=(e,t={message:`Input not instance of ${e.name}`})=>sb(n=>n instanceof e,t),ib=Qn.create,ob=Sa.create,Z3=ac.create,Y3=Ca.create,lb=Eo.create,G3=us.create,J3=tc.create,K3=To.create,X3=Io.create,Q3=ii.create,eP=ts.create,tP=Br.create,nP=nc.create,rP=er.create,aP=pt.create,sP=pt.strictCreate,iP=No.create,oP=Pc.create,lP=Oo.create,uP=xr.create,cP=Po.create,dP=rc.create,fP=cs.create,pP=Qs.create,hP=Ro.create,mP=Ao.create,gP=Ea.create,yP=jo.create,vP=oi.create,f0=rr.create,xP=tr.create,wP=Ta.create,bP=rr.createWithPreprocess,_P=fl.create,kP=()=>ib().optional(),SP=()=>ob().optional(),CP=()=>lb().optional(),EP={string:e=>Qn.create({...e,coerce:!0}),number:e=>Sa.create({...e,coerce:!0}),boolean:e=>Eo.create({...e,coerce:!0}),bigint:e=>Ca.create({...e,coerce:!0}),date:e=>us.create({...e,coerce:!0})},TP=Te;var v=Object.freeze({__proto__:null,defaultErrorMap:si,setErrorMap:b3,getErrorMap:Xu,makeIssue:Qu,EMPTY_PATH:_3,addIssueToContext:le,ParseStatus:qt,INVALID:Te,DIRTY:Gs,OK:Qt,isAborted:Wp,isDirty:Zp,isValid:ls,isAsync:Co,get util(){return We},get objectUtil(){return Vp},ZodParsedType:fe,getParsedType:Mr,ZodType:Le,datetimeRegex:rb,ZodString:Qn,ZodNumber:Sa,ZodBigInt:Ca,ZodBoolean:Eo,ZodDate:us,ZodSymbol:tc,ZodUndefined:To,ZodNull:Io,ZodAny:ii,ZodUnknown:ts,ZodNever:Br,ZodVoid:nc,ZodArray:er,ZodObject:pt,ZodUnion:No,ZodDiscriminatedUnion:Pc,ZodIntersection:Oo,ZodTuple:xr,ZodRecord:Po,ZodMap:rc,ZodSet:cs,ZodFunction:Qs,ZodLazy:Ro,ZodLiteral:Ao,ZodEnum:Ea,ZodNativeEnum:jo,ZodPromise:oi,ZodEffects:rr,ZodTransformer:rr,ZodOptional:tr,ZodNullable:Ta,ZodDefault:Do,ZodCatch:Mo,ZodNaN:ac,BRAND:q3,ZodBranded:Uh,ZodPipeline:fl,ZodReadonly:Lo,custom:sb,Schema:Le,ZodSchema:Le,late:V3,get ZodFirstPartyTypeKind(){return ee},coerce:EP,any:Q3,array:rP,bigint:Y3,boolean:lb,date:G3,discriminatedUnion:oP,effect:f0,enum:gP,function:pP,instanceof:W3,intersection:lP,lazy:hP,literal:mP,map:dP,nan:Z3,nativeEnum:yP,never:tP,null:X3,nullable:wP,number:ob,object:aP,oboolean:CP,onumber:SP,optional:xP,ostring:kP,pipeline:_P,preprocess:bP,promise:vP,record:cP,set:fP,strictObject:sP,string:ib,symbol:J3,transformer:f0,tuple:uP,undefined:K3,union:iP,unknown:eP,void:nP,NEVER:TP,ZodIssueCode:K,quotelessJson:w3,ZodError:bn});function IP(){return{}}function NP(e,t){var r,s,o;const n={type:"array"};return(r=e.type)!=null&&r._def&&((o=(s=e.type)==null?void 0:s._def)==null?void 0:o.typeName)!==ee.ZodAny&&(n.items=Je(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Qe(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Qe(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Qe(n,"minItems",e.exactLength.value,e.exactLength.message,t),Qe(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function OP(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?Qe(n,"minimum",r.value,r.message,t):Qe(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Qe(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Qe(n,"maximum",r.value,r.message,t):Qe(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Qe(n,"maximum",r.value,r.message,t));break;case"multipleOf":Qe(n,"multipleOf",r.value,r.message,t);break}return n}function PP(){return{type:"boolean"}}function ub(e,t){return Je(e.type._def,t)}const RP=(e,t)=>Je(e.innerType._def,t);function cb(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((s,o)=>cb(e,t,s))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return AP(e,t)}}const AP=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":Qe(n,"minimum",r.value,r.message,t);break;case"max":Qe(n,"maximum",r.value,r.message,t);break}return n};function jP(e,t){return{...Je(e.innerType._def,t),default:e.defaultValue()}}function DP(e,t){return t.effectStrategy==="input"?Je(e.schema._def,t):{}}function MP(e){return{type:"string",enum:Array.from(e.values)}}const LP=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function FP(e,t){const n=[Je(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),Je(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return n.forEach(o=>{if(LP(o))s.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let l=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:c,...f}=o;l=f}else r=void 0;s.push(l)}}),s.length?{allOf:s,...r}:void 0}function zP(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}let Vf;const Gn={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(Vf===void 0&&(Vf=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Vf),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function db(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Qe(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Qe(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Jn(n,"email",r.message,t);break;case"format:idn-email":Jn(n,"idn-email",r.message,t);break;case"pattern:zod":Kt(n,Gn.email,r.message,t);break}break;case"url":Jn(n,"uri",r.message,t);break;case"uuid":Jn(n,"uuid",r.message,t);break;case"regex":Kt(n,r.regex,r.message,t);break;case"cuid":Kt(n,Gn.cuid,r.message,t);break;case"cuid2":Kt(n,Gn.cuid2,r.message,t);break;case"startsWith":Kt(n,RegExp(`^${Wf(r.value,t)}`),r.message,t);break;case"endsWith":Kt(n,RegExp(`${Wf(r.value,t)}$`),r.message,t);break;case"datetime":Jn(n,"date-time",r.message,t);break;case"date":Jn(n,"date",r.message,t);break;case"time":Jn(n,"time",r.message,t);break;case"duration":Jn(n,"duration",r.message,t);break;case"length":Qe(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),Qe(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{Kt(n,RegExp(Wf(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Jn(n,"ipv4",r.message,t),r.version!=="v4"&&Jn(n,"ipv6",r.message,t);break}case"base64url":Kt(n,Gn.base64url,r.message,t);break;case"jwt":Kt(n,Gn.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Kt(n,Gn.ipv4Cidr,r.message,t),r.version!=="v4"&&Kt(n,Gn.ipv6Cidr,r.message,t);break}case"emoji":Kt(n,Gn.emoji(),r.message,t);break;case"ulid":{Kt(n,Gn.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Jn(n,"binary",r.message,t);break}case"contentEncoding:base64":{Qe(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{Kt(n,Gn.base64,r.message,t);break}}break}case"nanoid":Kt(n,Gn.nanoid,r.message,t)}return n}function Wf(e,t){return t.patternStrategy==="escape"?UP(e):e}const $P=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function UP(e){let t="";for(let n=0;n<e.length;n++)$P.has(e[n])||(t+="\\"),t+=e[n];return t}function Jn(e,t,n,r){var s;e.format||(s=e.anyOf)!=null&&s.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Qe(e,"format",t,n,r)}function Kt(e,t,n,r){var s;e.pattern||(s=e.allOf)!=null&&s.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:p0(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Qe(e,"pattern",p0(t,r),n,r)}function p0(e,t){var f;if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let s="",o=!1,l=!1,c=!1;for(let d=0;d<r.length;d++){if(o){s+=r[d],o=!1;continue}if(n.i){if(l){if(r[d].match(/[a-z]/)){c?(s+=r[d],s+=`${r[d-2]}-${r[d]}`.toUpperCase(),c=!1):r[d+1]==="-"&&((f=r[d+2])!=null&&f.match(/[a-z]/))?(s+=r[d],c=!0):s+=`${r[d]}${r[d].toUpperCase()}`;continue}}else if(r[d].match(/[a-z]/)){s+=`[${r[d]}${r[d].toUpperCase()}]`;continue}}if(n.m){if(r[d]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(r[d]==="$"){s+=`($|(?=[\r
]))`;continue}}if(n.s&&r[d]==="."){s+=l?`${r[d]}\r
`:`[${r[d]}\r
]`;continue}s+=r[d],r[d]==="\\"?o=!0:l&&r[d]==="]"?l=!1:!l&&r[d]==="["&&(l=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function fb(e,t){var r,s,o,l,c,f;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((r=e.keyType)==null?void 0:r._def.typeName)===ee.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((d,h)=>({...d,[h]:Je(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",h]})??{}}),{}),additionalProperties:!1};const n={type:"object",additionalProperties:Je(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return n;if(((s=e.keyType)==null?void 0:s._def.typeName)===ee.ZodString&&((o=e.keyType._def.checks)!=null&&o.length)){const{type:d,...h}=db(e.keyType._def,t);return{...n,propertyNames:h}}else{if(((l=e.keyType)==null?void 0:l._def.typeName)===ee.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(((c=e.keyType)==null?void 0:c._def.typeName)===ee.ZodBranded&&e.keyType._def.type._def.typeName===ee.ZodString&&((f=e.keyType._def.type._def.checks)!=null&&f.length)){const{type:d,...h}=ub(e.keyType._def,t);return{...n,propertyNames:h}}}return n}function BP(e,t){if(t.mapStrategy==="record")return fb(e,t);const n=Je(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},r=Je(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function HP(e){const t=e.values,r=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),s=Array.from(new Set(r.map(o=>typeof o)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:r}}function qP(){return{not:{}}}function VP(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const sc={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function WP(e,t){if(t.target==="openApi3")return h0(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in sc&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((s,o)=>{const l=sc[o._def.typeName];return l&&!s.includes(l)?[...s,l]:s},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((s,o)=>{const l=typeof o._def.value;switch(l){case"string":case"number":case"boolean":return[...s,l];case"bigint":return[...s,"integer"];case"object":if(o._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(r.length===n.length){const s=r.filter((o,l,c)=>c.indexOf(o)===l);return{type:s.length>1?s:s[0],enum:n.reduce((o,l)=>o.includes(l._def.value)?o:[...o,l._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,s)=>[...r,...s._def.values.filter(o=>!r.includes(o))],[])};return h0(e,t)}const h0=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,s)=>Je(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function ZP(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:sc[e.innerType._def.typeName],nullable:!0}:{type:[sc[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=Je(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=Je(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function YP(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",Xw(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?Qe(n,"minimum",r.value,r.message,t):Qe(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Qe(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Qe(n,"maximum",r.value,r.message,t):Qe(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Qe(n,"maximum",r.value,r.message,t));break;case"multipleOf":Qe(n,"multipleOf",r.value,r.message,t);break}return n}function GP(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":Je(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":Je(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function JP(e,t){const n=t.target==="openAi",r={type:"object",...Object.entries(e.shape()).reduce((s,[o,l])=>{if(l===void 0||l._def===void 0)return s;let c=l.isOptional();c&&n&&(l instanceof tr&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);const f=Je(l._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});return f===void 0?s:{properties:{...s.properties,[o]:f},required:c?s.required:[...s.required,o]}},{properties:{},required:[]}),additionalProperties:GP(e,t)};return r.required.length||delete r.required,r}const KP=(e,t)=>{var r;if(t.currentPath.toString()===((r=t.propertyPath)==null?void 0:r.toString()))return Je(e.innerType._def,t);const n=Je(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:{}},n]}:{}},XP=(e,t)=>{if(t.pipeStrategy==="input")return Je(e.in._def,t);if(t.pipeStrategy==="output")return Je(e.out._def,t);const n=Je(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=Je(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(s=>s!==void 0)}};function QP(e,t){return Je(e.type._def,t)}function eR(e,t){const r={type:"array",uniqueItems:!0,items:Je(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Qe(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Qe(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function tR(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>Je(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:Je(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>Je(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function nR(){return{not:{}}}function rR(){return{}}const aR=(e,t)=>Je(e.innerType._def,t);function Je(e,t,n=!1){var l;const r=t.seen.get(e);if(t.override){const c=(l=t.override)==null?void 0:l.call(t,e,t,r,n);if(c!==y3)return c}if(r&&!n){const c=sR(r,t);if(c!==void 0)return c}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const o=oR(e,e.typeName,t);return o&&lR(e,t,o),s.jsonSchema=o,o}const sR=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:iR(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},iR=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},oR=(e,t,n)=>{switch(t){case ee.ZodString:return db(e,n);case ee.ZodNumber:return YP(e,n);case ee.ZodObject:return JP(e,n);case ee.ZodBigInt:return OP(e,n);case ee.ZodBoolean:return PP();case ee.ZodDate:return cb(e,n);case ee.ZodUndefined:return nR();case ee.ZodNull:return VP(n);case ee.ZodArray:return NP(e,n);case ee.ZodUnion:case ee.ZodDiscriminatedUnion:return WP(e,n);case ee.ZodIntersection:return FP(e,n);case ee.ZodTuple:return tR(e,n);case ee.ZodRecord:return fb(e,n);case ee.ZodLiteral:return zP(e,n);case ee.ZodEnum:return MP(e);case ee.ZodNativeEnum:return HP(e);case ee.ZodNullable:return ZP(e,n);case ee.ZodOptional:return KP(e,n);case ee.ZodMap:return BP(e,n);case ee.ZodSet:return eR(e,n);case ee.ZodLazy:return Je(e.getter()._def,n);case ee.ZodPromise:return QP(e,n);case ee.ZodNaN:case ee.ZodNever:return qP();case ee.ZodEffects:return DP(e,n);case ee.ZodAny:return IP();case ee.ZodUnknown:return rR();case ee.ZodDefault:return jP(e,n);case ee.ZodBranded:return ub(e,n);case ee.ZodReadonly:return aR(e,n);case ee.ZodCatch:return RP(e,n);case ee.ZodPipeline:return XP(e,n);case ee.ZodFunction:case ee.ZodVoid:case ee.ZodSymbol:return;default:return(r=>{})()}},lR=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),uR=(e,t)=>{const n=x3(t),r=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((f,[d,h])=>({...f,[d]:Je(h._def,{...n,currentPath:[...n.basePath,n.definitionPath,d]},!0)??{}}),{}):void 0,s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,o=Je(e._def,s===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,s]},!1)??{},l=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;l!==void 0&&(o.title=l);const c=s===void 0?r?{...o,[n.definitionPath]:r}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,s].join("/"),[n.definitionPath]:{...r,[s]:o}};return n.target==="jsonSchema7"?c.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(c.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in c||"oneOf"in c||"allOf"in c||"type"in c&&Array.isArray(c.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),c};var Fo={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},zo={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},$o={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Uo={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},Bo={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},cR=[Fo,zo,$o,Uo,Bo];Fo.code+"",zo.code+"",$o.code+"",Uo.code+"",Bo.code+"";Fo.name+"",Fo.code,zo.name+"",zo.code,$o.name+"",$o.code,Uo.name+"",Uo.code,Bo.name+"",Bo.code;cR.map(e=>e.code);function dR(e){const t=["ROOT"];let n=-1,r=null;function s(f,d,h){switch(f){case'"':{n=d,t.pop(),t.push(h),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=d,r=d,t.pop(),t.push(h),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(h),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=d,t.pop(),t.push(h),t.push("INSIDE_NUMBER");break}case"{":{n=d,t.pop(),t.push(h),t.push("INSIDE_OBJECT_START");break}case"[":{n=d,t.pop(),t.push(h),t.push("INSIDE_ARRAY_START");break}}}function o(f,d){switch(f){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=d,t.pop();break}}}function l(f,d){switch(f){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=d,t.pop();break}}}for(let f=0;f<e.length;f++){const d=e[f];switch(t[t.length-1]){case"ROOT":s(d,f,"FINISH");break;case"INSIDE_OBJECT_START":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=f,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(d){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(d){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(d,f,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(d,f);break}case"INSIDE_STRING":{switch(d){case'"':{t.pop(),n=f;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=f}break}case"INSIDE_ARRAY_START":{switch(d){case"]":{n=f,t.pop();break}default:{n=f,s(d,f,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(d){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=f,t.pop();break}default:{n=f;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(d,f,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=f;break}case"INSIDE_NUMBER":{switch(d){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=f;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,f),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(d,f);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(d,f);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,f);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const g=e.substring(r,f+1);!"false".startsWith(g)&&!"true".startsWith(g)&&!"null".startsWith(g)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(d,f):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&l(d,f)):n=f;break}}}let c=e.slice(0,n+1);for(let f=t.length-1;f>=0;f--)switch(t[f]){case"INSIDE_STRING":{c+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{c+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{c+="]";break}case"INSIDE_LITERAL":{const h=e.substring(r,e.length);"true".startsWith(h)?c+="true".slice(h.length):"false".startsWith(h)?c+="false".slice(h.length):"null".startsWith(h)&&(c+="null".slice(h.length))}}return c}function fR(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=os({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=os({text:dR(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Ho={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},qo={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Vo={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},Wo={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},Zo={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Yo={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},Go={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},Jo={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},Ko={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},Xo={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},Qo={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},el={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},pb=[Ho,qo,Vo,Wo,Zo,Yo,Go,Jo,Ko,Xo,Qo,el];Ho.code+"",qo.code+"",Vo.code+"",Wo.code+"",Zo.code+"",Yo.code+"",Go.code+"",Jo.code+"",Ko.code+"",Xo.code+"",Qo.code+"",el.code+"";Ho.name+"",Ho.code,qo.name+"",qo.code,Vo.name+"",Vo.code,Wo.name+"",Wo.code,Zo.name+"",Zo.code,Yo.name+"",Yo.code,Go.name+"",Go.code,Jo.name+"",Jo.code,Ko.name+"",Ko.code,Xo.name+"",Xo.code,Qo.name+"",Qo.code,el.name+"",el.code;pb.map(e=>e.code);function jn(e,t){const n=pb.find(r=>r.name===e);if(!n)throw new Error(`Invalid stream part type: ${e}`);return`${n.code}:${JSON.stringify(t)}
`}function pR(e,t){var n;const r=(n=void 0)!=null?n:!1;return hR(uR(e,{$refStrategy:r?"root":"none",target:"jsonSchema7"}),{validate:s=>{const o=e.safeParse(s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}var Gp=Symbol.for("vercel.ai.schema");function hR(e,{validate:t}={}){return{[Gp]:!0,_type:void 0,[Ku]:!0,jsonSchema:e,validate:t}}function mR(e){return typeof e=="object"&&e!==null&&Gp in e&&e[Gp]===!0&&"jsonSchema"in e&&"validate"in e}function Rc(e){return mR(e)?e:pR(e)}var gR=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},Ka="1.9.0",m0=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function yR(e){var t=new Set([e]),n=new Set,r=e.match(m0);if(!r)return function(){return!1};var s={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(s.prerelease!=null)return function(f){return f===e};function o(c){return n.add(c),!1}function l(c){return t.add(c),!0}return function(f){if(t.has(f))return!0;if(n.has(f))return!1;var d=f.match(m0);if(!d)return o(f);var h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};return h.prerelease!=null||s.major!==h.major?o(f):s.major===0?s.minor===h.minor&&s.patch<=h.patch?l(f):o(f):s.minor<=h.minor?l(f):o(f)}}var vR=yR(Ka),xR=Ka.split(".")[0],tl=Symbol.for("opentelemetry.js.api."+xR),nl=gR;function Bh(e,t,n,r){var s;r===void 0&&(r=!1);var o=nl[tl]=(s=nl[tl])!==null&&s!==void 0?s:{version:Ka};if(!r&&o[e]){var l=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(l.stack||l.message),!1}if(o.version!==Ka){var l=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+Ka);return n.error(l.stack||l.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+Ka+"."),!0}function rl(e){var t,n,r=(t=nl[tl])===null||t===void 0?void 0:t.version;if(!(!r||!vR(r)))return(n=nl[tl])===null||n===void 0?void 0:n[e]}function Hh(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Ka+".");var n=nl[tl];n&&delete n[e]}var wR=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o},bR=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},_R=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ro("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ro("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ro("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ro("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ro("verbose",this._namespace,t)},e}();function ro(e,t,n){var r=rl("diag");if(r)return n.unshift(t),r[e].apply(r,bR([],wR(n),!1))}var xn;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(xn||(xn={}));function kR(e,t){e<xn.NONE?e=xn.NONE:e>xn.ALL&&(e=xn.ALL),t=t||{};function n(r,s){var o=t[r];return typeof o=="function"&&e>=s?o.bind(t):function(){}}return{error:n("error",xn.ERROR),warn:n("warn",xn.WARN),info:n("info",xn.INFO),debug:n("debug",xn.DEBUG),verbose:n("verbose",xn.VERBOSE)}}var SR=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o},CR=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},ER="diag",ic=function(){function e(){function t(s){return function(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];var c=rl("diag");if(c)return c[s].apply(c,CR([],SR(o),!1))}}var n=this,r=function(s,o){var l,c,f;if(o===void 0&&(o={logLevel:xn.INFO}),s===n){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((l=d.stack)!==null&&l!==void 0?l:d.message),!1}typeof o=="number"&&(o={logLevel:o});var h=rl("diag"),g=kR((c=o.logLevel)!==null&&c!==void 0?c:xn.INFO,s);if(h&&!o.suppressOverrideMessage){var y=(f=new Error().stack)!==null&&f!==void 0?f:"<failed to generate stacktrace>";h.warn("Current logger will be overwritten from "+y),g.warn("Current logger will overwrite one already registered from "+y)}return Bh("diag",g,n,!0)};n.setLogger=r,n.disable=function(){Hh(ER,n)},n.createComponentLogger=function(s){return new _R(s)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function TR(e){return Symbol.for(e)}var IR=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,s){var o=new e(n._currentContext);return o._currentContext.set(r,s),o},n.deleteValue=function(r){var s=new e(n._currentContext);return s._currentContext.delete(r),s}}return e}(),NR=new IR,OR=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o},PR=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},RR=function(){function e(){}return e.prototype.active=function(){return NR},e.prototype.with=function(t,n,r){for(var s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return n.call.apply(n,PR([r],OR(s),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),AR=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),s,o=[],l;try{for(;(t===void 0||t-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(c){l={error:c}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o},jR=function(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Zf="context",DR=new RR,hb=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return Bh(Zf,t,ic.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var s,o=[],l=3;l<arguments.length;l++)o[l-3]=arguments[l];return(s=this._getContextManager()).with.apply(s,jR([t,n,r],AR(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return rl(Zf)||DR},e.prototype.disable=function(){this._getContextManager().disable(),Hh(Zf,ic.instance())},e}(),Jp;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Jp||(Jp={}));var mb="0000000000000000",gb="00000000000000000000000000000000",MR={traceId:gb,spanId:mb,traceFlags:Jp.NONE},yo=function(){function e(t){t===void 0&&(t=MR),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),qh=TR("OpenTelemetry Context Key SPAN");function Vh(e){return e.getValue(qh)||void 0}function LR(){return Vh(hb.getInstance().active())}function Wh(e,t){return e.setValue(qh,t)}function FR(e){return e.deleteValue(qh)}function zR(e,t){return Wh(e,new yo(t))}function yb(e){var t;return(t=Vh(e))===null||t===void 0?void 0:t.spanContext()}var $R=/^([0-9a-f]{32})$/i,UR=/^[0-9a-f]{16}$/i;function BR(e){return $R.test(e)&&e!==gb}function HR(e){return UR.test(e)&&e!==mb}function vb(e){return BR(e.traceId)&&HR(e.spanId)}function qR(e){return new yo(e)}var Yf=hb.getInstance(),xb=function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=Yf.active());var s=!!(n!=null&&n.root);if(s)return new yo;var o=r&&yb(r);return VR(o)&&vb(o)?new yo(o):new yo},e.prototype.startActiveSpan=function(t,n,r,s){var o,l,c;if(!(arguments.length<2)){arguments.length===2?c=n:arguments.length===3?(o=n,c=r):(o=n,l=r,c=s);var f=l??Yf.active(),d=this.startSpan(t,o,f),h=Wh(f,d);return Yf.with(h,c,void 0,d)}},e}();function VR(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var WR=new xb,ZR=function(){function e(t,n,r,s){this._provider=t,this.name=n,this.version=r,this.options=s}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,s){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):WR},e}(),YR=function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new xb},e}(),GR=new YR,g0=function(){function e(){}return e.prototype.getTracer=function(t,n,r){var s;return(s=this.getDelegateTracer(t,n,r))!==null&&s!==void 0?s:new ZR(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:GR},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,n,r)},e}(),oc;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(oc||(oc={}));var Gf="trace",JR=function(){function e(){this._proxyTracerProvider=new g0,this.wrapSpanContext=qR,this.isSpanContextValid=vb,this.deleteSpan=FR,this.getSpan=Vh,this.getActiveSpan=LR,this.getSpanContext=yb,this.setSpan=Wh,this.setSpanContext=zR}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=Bh(Gf,this._proxyTracerProvider,ic.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return rl(Gf)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){Hh(Gf,ic.instance()),this._proxyTracerProvider=new g0},e}(),KR=JR.getInstance(),XR=Object.defineProperty,Zh=(e,t)=>{for(var n in t)XR(e,n,{get:t[n],enumerable:!0})};function lc(e,{contentType:t,dataStreamVersion:n}){const r=new Headers(e??{});return r.has("Content-Type")||r.set("Content-Type",t),n!==void 0&&r.set("X-Vercel-AI-Data-Stream",n),r}function y0(e,{contentType:t,dataStreamVersion:n}){const r={};if(e!=null)for(const[s,o]of Object.entries(e))r[s]=o;return r["Content-Type"]==null&&(r["Content-Type"]=t),n!==void 0&&(r["X-Vercel-AI-Data-Stream"]=n),r}function v0({response:e,status:t,statusText:n,headers:r,stream:s}){e.writeHead(t??200,n,r);const o=s.getReader();(async()=>{try{for(;;){const{done:c,value:f}=await o.read();if(c)break;e.write(f)}}catch(c){throw c}finally{e.end()}})()}var wb="AI_InvalidArgumentError",bb=`vercel.ai.error.${wb}`,QR=Symbol.for(bb),_b,Xn=class extends Oe{constructor({parameter:e,value:t,message:n}){super({name:wb,message:`Invalid argument for parameter ${e}: ${n}`}),this[_b]=!0,this.parameter=e,this.value=t}static isInstance(e){return Oe.hasMarker(e,bb)}};_b=QR;var kb="AI_RetryError",Sb=`vercel.ai.error.${kb}`,eA=Symbol.for(Sb),Cb,x0=class extends Oe{constructor({message:e,reason:t,errors:n}){super({name:kb,message:e}),this[Cb]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Oe.hasMarker(e,Sb)}};Cb=eA;var tA=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async r=>Eb(r,{maxRetries:e,delayInMs:t,backoffFactor:n});async function Eb(e,{maxRetries:t,delayInMs:n,backoffFactor:r},s=[]){try{return await e()}catch(o){if(es(o)||t===0)throw o;const l=n3(o),c=[...s,o],f=c.length;if(f>t)throw new x0({message:`Failed after ${f} attempts. Last error: ${l}`,reason:"maxRetriesExceeded",errors:c});if(o instanceof Error&&Lt.isInstance(o)&&o.isRetryable===!0&&f<=t)return await t3(n),Eb(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r},c);throw f===1?o:new x0({message:`Failed after ${f} attempts with non-retryable error: '${l}'`,reason:"errorNotRetryable",errors:c})}}function nA({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new Xn({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Xn({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const t=e??2;return{maxRetries:t,retry:tA({maxRetries:t})}}function Kp({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function rA({model:e,settings:t,telemetry:n,headers:r}){var s;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((o,[l,c])=>(o[`ai.settings.${l}`]=c,o),{}),...Object.entries((s=n==null?void 0:n.metadata)!=null?s:{}).reduce((o,[l,c])=>(o[`ai.telemetry.metadata.${l}`]=c,o),{}),...Object.entries(r??{}).reduce((o,[l,c])=>(c!==void 0&&(o[`ai.request.headers.${l}`]=c),o),{})}}var aA={startSpan(){return Nu},startActiveSpan(e,t,n,r){if(typeof t=="function")return t(Nu);if(typeof n=="function")return n(Nu);if(typeof r=="function")return r(Nu)}},Nu={spanContext(){return sA},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},sA={traceId:"",spanId:"",traceFlags:0};function iA({isEnabled:e=!1,tracer:t}={}){return e?t||KR.getTracer("ai"):aA}function Xp({name:e,tracer:t,attributes:n,fn:r,endWhenDone:s=!0}){return t.startActiveSpan(e,{attributes:n},async o=>{try{const l=await r(o);return s&&o.end(),l}catch(l){try{l instanceof Error?(o.recordException({name:l.name,message:l.message,stack:l.stack}),o.setStatus({code:oc.ERROR,message:l.message})):o.setStatus({code:oc.ERROR})}finally{o.end()}throw l}})}function Js({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((n,[r,s])=>{if(s===void 0)return n;if(typeof s=="object"&&"input"in s&&typeof s.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return n;const o=s.input();return o===void 0?n:{...n,[r]:o}}if(typeof s=="object"&&"output"in s&&typeof s.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return n;const o=s.output();return o===void 0?n:{...n,[r]:o}}return{...n,[r]:s}},{})}var Tb="AI_NoObjectGeneratedError",Ib=`vercel.ai.error.${Tb}`,oA=Symbol.for(Ib),Nb,w0=class extends Oe{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:s}){super({name:Tb,message:e,cause:t}),this[Nb]=!0,this.text=n,this.response=r,this.usage=s}static isInstance(e){return Oe.hasMarker(e,Ib)}};Nb=oA;var Ob="AI_DownloadError",Pb=`vercel.ai.error.${Ob}`,lA=Symbol.for(Pb),Rb,Jf=class extends Oe{constructor({url:e,statusCode:t,statusText:n,cause:r,message:s=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:Ob,message:s,cause:r}),this[Rb]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Oe.hasMarker(e,Pb)}};Rb=lA;async function uA({url:e,fetchImplementation:t=fetch}){var n;const r=e.toString();try{const s=await t(r);if(!s.ok)throw new Jf({url:r,statusCode:s.status,statusText:s.statusText});return{data:new Uint8Array(await s.arrayBuffer()),mimeType:(n=s.headers.get("content-type"))!=null?n:void 0}}catch(s){throw Jf.isInstance(s)?s:new Jf({url:r,cause:s})}}var cA=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function dA(e){for(const{bytes:t,mimeType:n}of cA)if(e.length>=t.length&&t.every((r,s)=>e[s]===r))return n}var Ab="AI_InvalidDataContentError",jb=`vercel.ai.error.${Ab}`,fA=Symbol.for(jb),Db,b0=class extends Oe{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:Ab,message:n,cause:t}),this[Db]=!0,this.content=e}static isInstance(e){return Oe.hasMarker(e,jb)}};Db=fA;var Mb=v.union([v.string(),v.instanceof(Uint8Array),v.instanceof(ArrayBuffer),v.custom(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function pA(e){return typeof e=="string"?e:e instanceof ArrayBuffer?Ur(new Uint8Array(e)):Ur(e)}function uc(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return g3(e)}catch(t){throw new b0({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new b0({content:e})}function hA(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var Lb="AI_InvalidMessageRoleError",Fb=`vercel.ai.error.${Lb}`,mA=Symbol.for(Fb),zb,gA=class extends Oe{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:Lb,message:t}),this[zb]=!0,this.role=e}static isInstance(e){return Oe.hasMarker(e,Fb)}};zb=mA;function yA(e){try{const[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch{return{mimeType:void 0,base64Content:void 0}}}async function vA({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:r=uA}){const s=await wA(e.messages,r,t,n);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(o=>xA(o,s))]}function xA(e,t){var n,r,s,o,l,c;const f=e.role;switch(f){case"system":return{role:"system",content:e.content,providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata}:{role:"user",content:e.content.map(d=>bA(d,t)).filter(d=>d.type!=="text"||d.text!==""),providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:(o=e.providerOptions)!=null?o:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(d=>d.type!=="text"||d.text!=="").map(d=>{const{experimental_providerMetadata:h,providerOptions:g,...y}=d;return{...y,providerMetadata:g??h}}),providerMetadata:(l=e.providerOptions)!=null?l:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(d=>{var h;return{type:"tool-result",toolCallId:d.toolCallId,toolName:d.toolName,result:d.result,content:d.experimental_content,isError:d.isError,providerMetadata:(h=d.providerOptions)!=null?h:d.experimental_providerMetadata}}),providerMetadata:(c=e.providerOptions)!=null?c:e.experimental_providerMetadata};default:{const d=f;throw new gA({role:d})}}}async function wA(e,t,n,r){const s=e.filter(l=>l.role==="user").map(l=>l.content).filter(l=>Array.isArray(l)).flat().filter(l=>l.type==="image"||l.type==="file").filter(l=>!(l.type==="image"&&n===!0)).map(l=>l.type==="image"?l.image:l.data).map(l=>typeof l=="string"&&(l.startsWith("http:")||l.startsWith("https:"))?new URL(l):l).filter(l=>l instanceof URL).filter(l=>!r(l)),o=await Promise.all(s.map(async l=>({url:l,data:await t({url:l})})));return Object.fromEntries(o.map(({url:l,data:c})=>[l.toString(),c]))}function bA(e,t){var n;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let r=e.mimeType,s,o,l;const c=e.type;switch(c){case"image":s=e.image;break;case"file":s=e.data;break;default:throw new Error(`Unsupported part type: ${c}`)}try{o=typeof s=="string"?new URL(s):s}catch{o=s}if(o instanceof URL)if(o.protocol==="data:"){const{mimeType:f,base64Content:d}=yA(o.toString());if(f==null||d==null)throw new Error(`Invalid data URL format in part ${c}`);r=f,l=uc(d)}else{const f=t[o.toString()];f?(l=f.data,r??(r=f.mimeType)):l=o}else l=uc(o);switch(c){case"image":return l instanceof Uint8Array&&(r=(n=dA(l))!=null?n:r),{type:"image",image:l,mimeType:r,providerMetadata:e.experimental_providerMetadata};case"file":{if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:l instanceof Uint8Array?pA(l):l,mimeType:r,providerMetadata:e.experimental_providerMetadata}}}}function _A({maxTokens:e,temperature:t,topP:n,topK:r,presencePenalty:s,frequencyPenalty:o,stopSequences:l,seed:c}){if(e!=null){if(!Number.isInteger(e))throw new Xn({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Xn({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Xn({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new Xn({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new Xn({parameter:"topK",value:r,message:"topK must be a number"});if(s!=null&&typeof s!="number")throw new Xn({parameter:"presencePenalty",value:s,message:"presencePenalty must be a number"});if(o!=null&&typeof o!="number")throw new Xn({parameter:"frequencyPenalty",value:o,message:"frequencyPenalty must be a number"});if(c!=null&&!Number.isInteger(c))throw new Xn({parameter:"seed",value:c,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:n,topK:r,presencePenalty:s,frequencyPenalty:o,stopSequences:l!=null&&l.length>0?l:void 0,seed:c}}function kA(e){var t,n,r;const s=[];for(const o of e){let l;try{l=new URL(o.url)}catch{throw new Error(`Invalid URL: ${o.url}`)}switch(l.protocol){case"http:":case"https:":{if((t=o.contentType)!=null&&t.startsWith("image/"))s.push({type:"image",image:l});else{if(!o.contentType)throw new Error("If the attachment is not an image, it must specify a content type");s.push({type:"file",data:l,mimeType:o.contentType})}break}case"data:":{let c,f,d;try{[c,f]=o.url.split(","),d=c.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${o.url}`)}if(d==null||f==null)throw new Error(`Invalid data URL format: ${o.url}`);if((n=o.contentType)!=null&&n.startsWith("image/"))s.push({type:"image",image:uc(f)});else if((r=o.contentType)!=null&&r.startsWith("text/"))s.push({type:"text",text:hA(uc(f))});else{if(!o.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");s.push({type:"file",data:f,mimeType:o.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${l.protocol}`)}}return s}var $b="AI_MessageConversionError",Ub=`vercel.ai.error.${$b}`,SA=Symbol.for(Ub),Bb,Kf=class extends Oe{constructor({originalMessage:e,message:t}){super({name:$b,message:t}),this[Bb]=!0,this.originalMessage=e}static isInstance(e){return Oe.hasMarker(e,Ub)}};Bb=SA;function CA(e,t){var n,r;const s=(n=t==null?void 0:t.tools)!=null?n:{},o=[];for(let l=0;l<e.length;l++){const c=e[l],f=l===e.length-1,{role:d,content:h,experimental_attachments:g}=c;switch(d){case"system":{o.push({role:"system",content:h});break}case"user":{o.push({role:"user",content:g?[{type:"text",text:h},...kA(g)]:h});break}case"assistant":{if(c.parts!=null){let _=function(){o.push({role:"assistant",content:S.map(I=>{switch(I.type){case"text":return{type:"text",text:I.text};default:return{type:"tool-call",toolCallId:I.toolInvocation.toolCallId,toolName:I.toolInvocation.toolName,args:I.toolInvocation.args}}})});const T=S.filter(I=>I.type==="tool-invocation").map(I=>I.toolInvocation);T.length>0&&o.push({role:"tool",content:T.map(I=>{if(!("result"in I))throw new Kf({originalMessage:c,message:"ToolInvocation must have a result: "+JSON.stringify(I)});const{toolCallId:A,toolName:D,result:L}=I,H=s[D];return(H==null?void 0:H.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:A,toolName:D,result:H.experimental_toToolResultContent(L),experimental_content:H.experimental_toToolResultContent(L)}:{type:"tool-result",toolCallId:A,toolName:D,result:L}})}),S=[],C=!1,k++},k=0,C=!1,S=[];for(const T of c.parts)switch(T.type){case"reasoning":break;case"text":{C&&_(),S.push(T);break}case"tool-invocation":{((r=T.toolInvocation.step)!=null?r:0)!==k&&_(),S.push(T),C=!0;break}}_();break}const y=c.toolInvocations;if(y==null||y.length===0){o.push({role:"assistant",content:h});break}const x=y.reduce((_,k)=>{var C;return Math.max(_,(C=k.step)!=null?C:0)},0);for(let _=0;_<=x;_++){const k=y.filter(C=>{var S;return((S=C.step)!=null?S:0)===_});k.length!==0&&(o.push({role:"assistant",content:[...f&&h&&_===0?[{type:"text",text:h}]:[],...k.map(({toolCallId:C,toolName:S,args:T})=>({type:"tool-call",toolCallId:C,toolName:S,args:T}))]}),o.push({role:"tool",content:k.map(C=>{if(!("result"in C))throw new Kf({originalMessage:c,message:"ToolInvocation must have a result: "+JSON.stringify(C)});const{toolCallId:S,toolName:T,result:I}=C,A=s[T];return(A==null?void 0:A.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:S,toolName:T,result:A.experimental_toToolResultContent(I),experimental_content:A.experimental_toToolResultContent(I)}:{type:"tool-result",toolCallId:S,toolName:T,result:I}})}))}h&&!f&&o.push({role:"assistant",content:h});break}case"data":break;default:{const y=d;throw new Kf({originalMessage:c,message:`Unsupported role: ${y}`})}}}return o}function EA(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";const t=e.map(TA);return t.some(n=>n==="has-ui-specific-parts")?"ui-messages":t.every(n=>n==="has-core-specific-parts"||n==="message")?"messages":"other"}function TA(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var Qp=v.lazy(()=>v.union([v.null(),v.string(),v.number(),v.boolean(),v.record(v.string(),Qp),v.array(Qp)])),Rt=v.record(v.string(),v.record(v.string(),Qp)),IA=v.array(v.union([v.object({type:v.literal("text"),text:v.string()}),v.object({type:v.literal("image"),data:v.string(),mimeType:v.string().optional()})])),Hb=v.object({type:v.literal("text"),text:v.string(),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),NA=v.object({type:v.literal("image"),image:v.union([Mb,v.instanceof(URL)]),mimeType:v.string().optional(),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),OA=v.object({type:v.literal("file"),data:v.union([Mb,v.instanceof(URL)]),mimeType:v.string(),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),PA=v.object({type:v.literal("tool-call"),toolCallId:v.string(),toolName:v.string(),args:v.unknown(),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),RA=v.object({type:v.literal("tool-result"),toolCallId:v.string(),toolName:v.string(),result:v.unknown(),content:IA.optional(),isError:v.boolean().optional(),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),AA=v.object({role:v.literal("system"),content:v.string(),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),jA=v.object({role:v.literal("user"),content:v.union([v.string(),v.array(v.union([Hb,NA,OA]))]),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),DA=v.object({role:v.literal("assistant"),content:v.union([v.string(),v.array(v.union([Hb,PA]))]),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),MA=v.object({role:v.literal("tool"),content:v.array(RA),providerOptions:Rt.optional(),experimental_providerMetadata:Rt.optional()}),LA=v.union([AA,jA,DA,MA]);function FA({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new ya({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new ya({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new ya({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new ya({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){const n=EA(e.messages);if(n==="other")throw new ya({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});const r=n==="ui-messages"?CA(e.messages,{tools:t}):e.messages,s=is({value:r,schema:v.array(LA)});if(!s.success)throw new ya({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:s.error});return{type:"messages",messages:r,system:e.system}}throw new Error("unreachable")}function zA({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function $A(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var UA="JSON schema:",BA="You MUST answer with a JSON object that matches the JSON schema above.",HA="You MUST answer with JSON.";function qA({prompt:e,schema:t,schemaPrefix:n=t!=null?UA:void 0,schemaSuffix:r=t!=null?BA:HA}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,n,t!=null?JSON.stringify(t):void 0,r].filter(s=>s!=null).join(`
`)}function Xf(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{const n=t.getReader();return{async next(){const{done:r,value:s}=await n.read();return r?{done:!0,value:void 0}:{done:!1,value:s}}}},t}hs({prefix:"aiobj",size:24});var Kn=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function _0(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function VA(){let e=[],t=null,n=!1,r=_0();const s=async()=>{if(n&&e.length===0){t==null||t.close();return}if(e.length===0)return r=_0(),await r.promise,s();try{const{value:o,done:l}=await e[0].read();l?(e.shift(),e.length>0?await s():n&&(t==null||t.close())):t==null||t.enqueue(o)}catch(o){t==null||t.error(o),e.shift(),n&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(o){t=o},pull:s,async cancel(){for(const o of e)await o.cancel();e=[],n=!0}}),addStream:o=>{if(n)throw new Error("Cannot add inner stream: outer stream is closed");e.push(o.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),e.length===0&&(t==null||t.close())},terminate:()=>{n=!0,r.resolve(),e.forEach(o=>o.cancel()),e=[],t==null||t.close()}}}function WA(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}hs({prefix:"aiobj",size:24});var qb="AI_NoOutputSpecifiedError",Vb=`vercel.ai.error.${qb}`,ZA=Symbol.for(Vb),Wb,YA=class extends Oe{constructor({message:e="No output specified."}={}){super({name:qb,message:e}),this[Wb]=!0}static isInstance(e){return Oe.hasMarker(e,Vb)}};Wb=ZA;var Zb="AI_ToolExecutionError",Yb=`vercel.ai.error.${Zb}`,GA=Symbol.for(Yb),Gb,JA=class extends Oe{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:r,message:s=`Error executing tool ${t}: ${cl(r)}`}){super({name:Zb,message:s,cause:r}),this[Gb]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return Oe.hasMarker(e,Yb)}};Gb=GA;function KA(e){return e!=null&&Object.keys(e).length>0}function XA({tools:e,toolChoice:t,activeTools:n}){return KA(e)?{tools:(n!=null?Object.entries(e).filter(([s])=>n.includes(s)):Object.entries(e)).map(([s,o])=>{const l=o.type;switch(l){case void 0:case"function":return{type:"function",name:s,description:o.description,parameters:Rc(o.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:s,id:o.id,args:o.args};default:{const c=l;throw new Error(`Unsupported tool type: ${c}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var QA=/^([\s\S]*?)(\s+)(\S*)$/;function ej(e){const t=e.match(QA);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var Jb="AI_InvalidToolArgumentsError",Kb=`vercel.ai.error.${Jb}`,tj=Symbol.for(Kb),Xb,Qb=class extends Oe{constructor({toolArgs:e,toolName:t,cause:n,message:r=`Invalid arguments for tool ${t}: ${cl(n)}`}){super({name:Jb,message:r,cause:n}),this[Xb]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Oe.hasMarker(e,Kb)}};Xb=tj;var e_="AI_NoSuchToolError",t_=`vercel.ai.error.${e_}`,nj=Symbol.for(t_),n_,eh=class extends Oe{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:e_,message:n}),this[n_]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Oe.hasMarker(e,t_)}};n_=nj;var r_="AI_ToolCallRepairError",a_=`vercel.ai.error.${r_}`,rj=Symbol.for(a_),s_,aj=class extends Oe{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${cl(e)}`}){super({name:r_,message:n,cause:e}),this[s_]=!0,this.originalError=t}static isInstance(e){return Oe.hasMarker(e,a_)}};s_=rj;async function sj({toolCall:e,tools:t,repairToolCall:n,system:r,messages:s}){if(t==null)throw new eh({toolName:e.toolName});try{return await k0({toolCall:e,tools:t})}catch(o){if(n==null||!(eh.isInstance(o)||Qb.isInstance(o)))throw o;let l=null;try{l=await n({toolCall:e,tools:t,parameterSchema:({toolName:c})=>Rc(t[c].parameters).jsonSchema,system:r,messages:s,error:o})}catch(c){throw new aj({cause:c,originalError:o})}if(l==null)throw o;return await k0({toolCall:l,tools:t})}}async function k0({toolCall:e,tools:t}){const n=e.toolName,r=t[n];if(r==null)throw new eh({toolName:e.toolName,availableTools:Object.keys(t)});const s=Rc(r.parameters),o=e.args.trim()===""?is({value:{},schema:s}):os({text:e.args,schema:s});if(o.success===!1)throw new Qb({toolName:n,toolArgs:e.args,cause:o.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:o.value}}function S0({text:e="",tools:t,toolCalls:n,toolResults:r,messageId:s,generateMessageId:o}){const l=[];return l.push({role:"assistant",content:[{type:"text",text:e},...n],id:s}),r.length>0&&l.push({role:"tool",id:o(),content:r.map(c=>{const f=t[c.toolName];return(f==null?void 0:f.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,result:f.experimental_toToolResultContent(c.result),experimental_content:f.experimental_toToolResultContent(c.result)}:{type:"tool-result",toolCallId:c.toolCallId,toolName:c.toolName,result:c.result}})}),l}hs({prefix:"aitxt",size:24});hs({prefix:"msg",size:24});var ij={};Zh(ij,{object:()=>lj,text:()=>oj});var oj=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),lj=({schema:e})=>{const t=Rc(e);return{type:"object",responseFormat:({model:n})=>({type:"json",schema:n.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:n,model:r}){return r.supportsStructuredOutputs?n:qA({prompt:n,schema:t.jsonSchema})},parsePartial({text:n}){const r=fR(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const s=r.state;throw new Error(`Unsupported parse state: ${s}`)}}},parseOutput({text:n},r){const s=os({text:n});if(!s.success)throw new w0({message:"No object generated: could not parse the response.",cause:s.error,text:n,response:r.response,usage:r.usage});const o=is({value:s.value,schema:t});if(!o.success)throw new w0({message:"No object generated: response did not match schema.",cause:o.error,text:n,response:r.response,usage:r.usage});return o.value}}};function uj(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function Yh(e,t){const n=e.getReader(),r=t.getReader();let s,o,l=!1,c=!1;async function f(h){try{s==null&&(s=n.read());const g=await s;s=void 0,g.done?h.close():h.enqueue(g.value)}catch(g){h.error(g)}}async function d(h){try{o==null&&(o=r.read());const g=await o;o=void 0,g.done?h.close():h.enqueue(g.value)}catch(g){h.error(g)}}return new ReadableStream({async pull(h){try{if(l){await d(h);return}if(c){await f(h);return}s==null&&(s=n.read()),o==null&&(o=r.read());const{result:g,reader:y}=await Promise.race([s.then(x=>({result:x,reader:n})),o.then(x=>({result:x,reader:r}))]);g.done||h.enqueue(g.value),y===n?(s=void 0,g.done&&(await d(h),l=!0)):(o=void 0,g.done&&(c=!0,await f(h)))}catch(g){h.error(g)}},cancel(){n.cancel(),r.cancel()}})}function cj({tools:e,generatorStream:t,toolCallStreaming:n,tracer:r,telemetry:s,system:o,messages:l,abortSignal:c,repairToolCall:f}){let d=null;const h=new ReadableStream({start(S){d=S}}),g={},y=new Set;let x=!1,_;function k(){x&&y.size===0&&(_!=null&&d.enqueue(_),d.close())}const C=new TransformStream({async transform(S,T){const I=S.type;switch(I){case"text-delta":case"reasoning":case"response-metadata":case"error":{T.enqueue(S);break}case"tool-call-delta":{n&&(g[S.toolCallId]||(T.enqueue({type:"tool-call-streaming-start",toolCallId:S.toolCallId,toolName:S.toolName}),g[S.toolCallId]=!0),T.enqueue({type:"tool-call-delta",toolCallId:S.toolCallId,toolName:S.toolName,argsTextDelta:S.argsTextDelta}));break}case"tool-call":{try{const A=await sj({toolCall:S,tools:e,repairToolCall:f,system:o,messages:l});T.enqueue(A);const D=e[A.toolName];if(D.execute!=null){const L=Xt();y.add(L),Xp({name:"ai.toolCall",attributes:Js({telemetry:s,attributes:{...Kp({operationId:"ai.toolCall",telemetry:s}),"ai.toolCall.name":A.toolName,"ai.toolCall.id":A.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(A.args)}}}),tracer:r,fn:async H=>D.execute(A.args,{toolCallId:A.toolCallId,messages:l,abortSignal:c}).then(ne=>{d.enqueue({...A,type:"tool-result",result:ne}),y.delete(L),k();try{H.setAttributes(Js({telemetry:s,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(ne)}}}))}catch{}},ne=>{d.enqueue({type:"error",error:new JA({toolCallId:A.toolCallId,toolName:A.toolName,toolArgs:A.args,cause:ne})}),y.delete(L),k()})})}}catch(A){d.enqueue({type:"error",error:A})}break}case"finish":{_={type:"finish",finishReason:S.finishReason,logprobs:S.logprobs,usage:zA(S.usage),experimental_providerMetadata:S.providerMetadata};break}default:{const A=I;throw new Error(`Unhandled chunk type: ${A}`)}}},flush(){x=!0,k()}});return new ReadableStream({async start(S){return Promise.all([t.pipeThrough(C).pipeTo(new WritableStream({write(T){S.enqueue(T)},close(){}})),h.pipeTo(new WritableStream({write(T){S.enqueue(T)},close(){S.close()}}))])}})}var dj=hs({prefix:"aitxt",size:24}),fj=hs({prefix:"msg",size:24});function pj({model:e,tools:t,toolChoice:n,system:r,prompt:s,messages:o,maxRetries:l,abortSignal:c,headers:f,maxSteps:d=1,experimental_generateMessageId:h=fj,experimental_output:g,experimental_continueSteps:y=!1,experimental_telemetry:x,experimental_providerMetadata:_,providerOptions:k=_,experimental_toolCallStreaming:C=!1,toolCallStreaming:S=C,experimental_activeTools:T,experimental_repairToolCall:I,experimental_transform:A,onChunk:D,onError:L,onFinish:H,onStepFinish:ne,_internal:{now:ue=WA,generateId:pe=dj,currentDate:re=()=>new Date}={},...oe}){return new mj({model:e,telemetry:x,headers:f,settings:oe,maxRetries:l,abortSignal:c,system:r,prompt:s,messages:o,tools:t,toolChoice:n,toolCallStreaming:S,transforms:uj(A),activeTools:T,repairToolCall:I,maxSteps:d,output:g,continueSteps:y,providerOptions:k,onChunk:D,onError:L,onFinish:H,onStepFinish:ne,now:ue,currentDate:re,generateId:pe,generateMessageId:h})}function hj(e){if(!e)return new TransformStream({transform(s,o){o.enqueue({part:s,partialOutput:void 0})}});let t="",n="",r="";return new TransformStream({transform(s,o){if(s.type!=="text-delta"){o.enqueue({part:s,partialOutput:void 0});return}t+=s.textDelta,n+=s.textDelta;const l=e.parsePartial({text:t});if(l!=null){const c=JSON.stringify(l.partial);c!==r&&(o.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:l.partial}),r=c,n="")}},flush(s){n.length>0&&s.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:void 0})}})}var mj=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:s,abortSignal:o,system:l,prompt:c,messages:f,tools:d,toolChoice:h,toolCallStreaming:g,transforms:y,activeTools:x,repairToolCall:_,maxSteps:k,output:C,continueSteps:S,providerOptions:T,onChunk:I,onError:A,onFinish:D,onStepFinish:L,now:H,currentDate:ne,generateId:ue,generateMessageId:pe}){this.warningsPromise=new Kn,this.usagePromise=new Kn,this.finishReasonPromise=new Kn,this.providerMetadataPromise=new Kn,this.textPromise=new Kn,this.reasoningPromise=new Kn,this.toolCallsPromise=new Kn,this.toolResultsPromise=new Kn,this.requestPromise=new Kn,this.responsePromise=new Kn,this.stepsPromise=new Kn;var re;if(k<1)throw new Xn({parameter:"maxSteps",value:k,message:"maxSteps must be at least 1"});this.output=C;let oe="",se="",G="",ie;const he={id:ue(),timestamp:ne(),modelId:e.modelId,messages:[]};let ce=[],V=[],W,N,M="initial";const B=[];let R;const Ee=new TransformStream({async transform(At,Ft){Ft.enqueue(At);const{part:ye}=At;if((ye.type==="text-delta"||ye.type==="reasoning"||ye.type==="tool-call"||ye.type==="tool-result"||ye.type==="tool-call-streaming-start"||ye.type==="tool-call-delta")&&await(I==null?void 0:I({chunk:ye})),ye.type==="error"&&await(A==null?void 0:A({error:ye.error})),ye.type==="text-delta"&&(oe+=ye.textDelta,se+=ye.textDelta,G+=ye.textDelta),ye.type==="reasoning"&&(ie=(ie??"")+ye.textDelta),ye.type==="tool-call"&&ce.push(ye),ye.type==="tool-result"&&V.push(ye),ye.type==="step-finish"){const Ct=S0({text:se,tools:d??{},toolCalls:ce,toolResults:V,messageId:ye.messageId,generateMessageId:pe}),Zt=B.length;let jt="done";Zt+1<k&&(S&&ye.finishReason==="length"&&ce.length===0?jt="continue":ce.length>0&&V.length===ce.length&&(jt="tool-result"));const zn={stepType:M,text:oe,reasoning:ie,toolCalls:ce,toolResults:V,finishReason:ye.finishReason,usage:ye.usage,warnings:ye.warnings,logprobs:ye.logprobs,request:ye.request,response:{...ye.response,messages:[...he.messages,...Ct]},experimental_providerMetadata:ye.experimental_providerMetadata,isContinued:ye.isContinued};await(L==null?void 0:L(zn)),B.push(zn),ce=[],V=[],oe="",jt!=="done"&&(M=jt),jt!=="continue"&&(he.messages.push(...Ct),se="")}ye.type==="finish"&&(he.id=ye.response.id,he.timestamp=ye.response.timestamp,he.modelId=ye.response.modelId,he.headers=ye.response.headers,N=ye.usage,W=ye.finishReason)},async flush(At){var Ft;try{if(B.length===0)return;const ye=B[B.length-1];_t.warningsPromise.resolve(ye.warnings),_t.requestPromise.resolve(ye.request),_t.responsePromise.resolve(ye.response),_t.toolCallsPromise.resolve(ye.toolCalls),_t.toolResultsPromise.resolve(ye.toolResults),_t.providerMetadataPromise.resolve(ye.experimental_providerMetadata);const Ct=W??"unknown",Zt=N??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};_t.finishReasonPromise.resolve(Ct),_t.usagePromise.resolve(Zt),_t.textPromise.resolve(G),_t.reasoningPromise.resolve(ie),_t.stepsPromise.resolve(B),await(D==null?void 0:D({finishReason:Ct,logprobs:void 0,usage:Zt,text:G,reasoning:ie,toolCalls:ye.toolCalls,toolResults:ye.toolResults,request:(Ft=ye.request)!=null?Ft:{},response:ye.response,warnings:ye.warnings,experimental_providerMetadata:ye.experimental_providerMetadata,steps:B})),R.setAttributes(Js({telemetry:t,attributes:{"ai.response.finishReason":Ct,"ai.response.text":{output:()=>G},"ai.response.toolCalls":{output:()=>{var jt;return(jt=ye.toolCalls)!=null&&jt.length?JSON.stringify(ye.toolCalls):void 0}},"ai.usage.promptTokens":Zt.promptTokens,"ai.usage.completionTokens":Zt.completionTokens}}))}catch(ye){At.error(ye)}finally{R.end()}}}),Pe=VA();this.addStream=Pe.addStream,this.closeStream=Pe.close;let _e=Pe.stream;for(const At of y)_e=_e.pipeThrough(At({tools:d,stopStream(){Pe.terminate()}}));this.baseStream=_e.pipeThrough(hj(C)).pipeThrough(Ee);const{maxRetries:qe,retry:Me}=nA({maxRetries:s}),He=iA(t),ct=rA({model:e,telemetry:t,headers:n,settings:{...r,maxRetries:qe}}),fn=FA({prompt:{system:(re=C==null?void 0:C.injectIntoSystemPrompt({system:l,model:e}))!=null?re:l,prompt:c,messages:f},tools:d}),_t=this;Xp({name:"ai.streamText",attributes:Js({telemetry:t,attributes:{...Kp({operationId:"ai.streamText",telemetry:t}),...ct,"ai.prompt":{input:()=>JSON.stringify({system:l,prompt:c,messages:f})},"ai.settings.maxSteps":k}}),tracer:He,endWhenDone:!1,fn:async At=>{R=At;async function Ft({currentStep:ye,responseMessages:Ct,usage:Zt,stepType:jt,previousStepText:zn,hasLeadingWhitespace:ar,messageId:pn}){var Wr;const Zr=Ct.length===0?fn.type:"messages",Pa=[...fn.messages,...Ct],Ra=await vA({prompt:{type:Zr,system:fn.system,messages:Pa},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(Wr=e.supportsUrl)==null?void 0:Wr.bind(e)}),q={type:"regular",...XA({tools:d,toolChoice:h,activeTools:x})},{result:{stream:ae,warnings:ke,rawResponse:Re,request:Ue},doStreamSpan:ot,startTimestampMs:kn}=await Me(()=>Xp({name:"ai.streamText.doStream",attributes:Js({telemetry:t,attributes:{...Kp({operationId:"ai.streamText.doStream",telemetry:t}),...ct,"ai.prompt.format":{input:()=>Zr},"ai.prompt.messages":{input:()=>JSON.stringify(Ra)},"ai.prompt.tools":{input:()=>{var Be;return(Be=q.tools)==null?void 0:Be.map(lt=>JSON.stringify(lt))}},"ai.prompt.toolChoice":{input:()=>q.toolChoice!=null?JSON.stringify(q.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":r.frequencyPenalty,"gen_ai.request.max_tokens":r.maxTokens,"gen_ai.request.presence_penalty":r.presencePenalty,"gen_ai.request.stop_sequences":r.stopSequences,"gen_ai.request.temperature":r.temperature,"gen_ai.request.top_k":r.topK,"gen_ai.request.top_p":r.topP}}),tracer:He,endWhenDone:!1,fn:async Be=>({startTimestampMs:H(),doStreamSpan:Be,result:await e.doStream({mode:q,..._A(r),inputFormat:Zr,responseFormat:C==null?void 0:C.responseFormat({model:e}),prompt:Ra,providerMetadata:T,abortSignal:o,headers:n})})})),en=cj({tools:d,generatorStream:ae,toolCallStreaming:g,tracer:He,telemetry:t,system:l,messages:Pa,repairToolCall:_,abortSignal:o}),$n=Ue??{},Yt=[],xt=[];let It="unknown",gt={promptTokens:0,completionTokens:0,totalTokens:0},Aa,gs=!0,Sn="",Yr="",gi=jt==="continue"?zn:"",ys,tn={id:ue(),timestamp:ne(),modelId:e.modelId},Cr="",yi=!1,vs=!0,vi=!1;async function Er({controller:Be,chunk:lt}){Be.enqueue(lt),Sn+=lt.textDelta,gi+=lt.textDelta,yi=!0,vi=lt.textDelta.trimEnd()!==lt.textDelta}_t.addStream(en.pipeThrough(new TransformStream({async transform(Be,lt){var Cn,Un,En;if(gs){const nn=H()-kn;gs=!1,ot.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":nn}),ot.setAttributes({"ai.response.msToFirstChunk":nn}),lt.enqueue({type:"step-start",messageId:pn,request:$n,warnings:ke??[]})}if(Be.type==="text-delta"&&Be.textDelta.length===0)return;const ja=Be.type;switch(ja){case"text-delta":{if(S){const nn=vs&&ar?Be.textDelta.trimStart():Be.textDelta;if(nn.length===0)break;vs=!1,Cr+=nn;const xs=ej(Cr);xs!=null&&(Cr=xs.suffix,await Er({controller:lt,chunk:{type:"text-delta",textDelta:xs.prefix+xs.whitespace}}))}else await Er({controller:lt,chunk:Be});break}case"reasoning":{lt.enqueue(Be),Yr+=Be.textDelta;break}case"tool-call":{lt.enqueue(Be),Yt.push(Be);break}case"tool-result":{lt.enqueue(Be),xt.push(Be);break}case"response-metadata":{tn={id:(Cn=Be.id)!=null?Cn:tn.id,timestamp:(Un=Be.timestamp)!=null?Un:tn.timestamp,modelId:(En=Be.modelId)!=null?En:tn.modelId};break}case"finish":{gt=Be.usage,It=Be.finishReason,Aa=Be.experimental_providerMetadata,ys=Be.logprobs;const nn=H()-kn;ot.addEvent("ai.stream.finish"),ot.setAttributes({"ai.response.msToFinish":nn,"ai.response.avgCompletionTokensPerSecond":1e3*gt.completionTokens/nn});break}case"tool-call-streaming-start":case"tool-call-delta":{lt.enqueue(Be);break}case"error":{lt.enqueue(Be),It="error";break}default:{const nn=ja;throw new Error(`Unknown chunk type: ${nn}`)}}},async flush(Be){const lt=Yt.length>0?JSON.stringify(Yt):void 0;let Cn="done";ye+1<k&&(S&&It==="length"&&Yt.length===0?Cn="continue":Yt.length>0&&xt.length===Yt.length&&(Cn="tool-result")),S&&Cr.length>0&&(Cn!=="continue"||jt==="continue"&&!yi)&&(await Er({controller:Be,chunk:{type:"text-delta",textDelta:Cr}}),Cr="");try{ot.setAttributes(Js({telemetry:t,attributes:{"ai.response.finishReason":It,"ai.response.text":{output:()=>Sn},"ai.response.toolCalls":{output:()=>lt},"ai.response.id":tn.id,"ai.response.model":tn.modelId,"ai.response.timestamp":tn.timestamp.toISOString(),"ai.usage.promptTokens":gt.promptTokens,"ai.usage.completionTokens":gt.completionTokens,"gen_ai.response.finish_reasons":[It],"gen_ai.response.id":tn.id,"gen_ai.response.model":tn.modelId,"gen_ai.usage.input_tokens":gt.promptTokens,"gen_ai.usage.output_tokens":gt.completionTokens}}))}catch{}finally{ot.end()}Be.enqueue({type:"step-finish",finishReason:It,usage:gt,experimental_providerMetadata:Aa,logprobs:ys,request:$n,response:{...tn,headers:Re==null?void 0:Re.headers},warnings:ke,isContinued:Cn==="continue",messageId:pn});const Un=$A(Zt,gt);if(Cn==="done")Be.enqueue({type:"finish",finishReason:It,usage:Un,experimental_providerMetadata:Aa,logprobs:ys,response:{...tn,headers:Re==null?void 0:Re.headers}}),_t.closeStream();else{if(jt==="continue"){const En=Ct[Ct.length-1];typeof En.content=="string"?En.content+=Sn:En.content.push({text:Sn,type:"text"})}else Ct.push(...S0({text:Sn,tools:d??{},toolCalls:Yt,toolResults:xt,messageId:pn,generateMessageId:pe}));await Ft({currentStep:ye+1,responseMessages:Ct,usage:Un,stepType:Cn,previousStepText:gi,hasLeadingWhitespace:vi,messageId:Cn==="continue"?pn:pe()})}}})))}await Ft({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:pe()})}}).catch(At=>{_t.addStream(new ReadableStream({start(Ft){Ft.enqueue({type:"error",error:At}),Ft.close()}})),_t.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return Xf(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.textDelta)}})))}get fullStream(){return Xf(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(){const e=this.fullStream;for await(const t of e);}get experimental_partialOutputStream(){if(this.output==null)throw new YA;return Xf(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:n=!1}){let r="";const s=new TransformStream({async transform(l,c){c.enqueue(l),l.type==="text-delta"&&(r+=l.textDelta)}}),o=new TransformStream({transform:async(l,c)=>{const f=l.type;switch(f){case"text-delta":{c.enqueue(jn("text",l.textDelta));break}case"reasoning":{n&&c.enqueue(jn("reasoning",l.textDelta));break}case"tool-call-streaming-start":{c.enqueue(jn("tool_call_streaming_start",{toolCallId:l.toolCallId,toolName:l.toolName}));break}case"tool-call-delta":{c.enqueue(jn("tool_call_delta",{toolCallId:l.toolCallId,argsTextDelta:l.argsTextDelta}));break}case"tool-call":{c.enqueue(jn("tool_call",{toolCallId:l.toolCallId,toolName:l.toolName,args:l.args}));break}case"tool-result":{c.enqueue(jn("tool_result",{toolCallId:l.toolCallId,result:l.result}));break}case"error":{c.enqueue(jn("error",e(l.error)));break}case"step-start":{c.enqueue(jn("start_step",{messageId:l.messageId}));break}case"step-finish":{c.enqueue(jn("finish_step",{finishReason:l.finishReason,usage:t?{promptTokens:l.usage.promptTokens,completionTokens:l.usage.completionTokens}:void 0,isContinued:l.isContinued}));break}case"finish":{c.enqueue(jn("finish_message",{finishReason:l.finishReason,usage:t?{promptTokens:l.usage.promptTokens,completionTokens:l.usage.completionTokens}:void 0}));break}default:{const d=f;throw new Error(`Unknown chunk type: ${d}`)}}}});return this.fullStream.pipeThrough(s).pipeThrough(o)}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:r,data:s,getErrorMessage:o,sendUsage:l,sendReasoning:c}={}){v0({response:e,status:t,statusText:n,headers:y0(r,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:s,getErrorMessage:o,sendUsage:l,sendReasoning:c})})}pipeTextStreamToResponse(e,t){v0({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:y0(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){const t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage,sendReasoning:e==null?void 0:e.sendReasoning}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?Yh(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:t==null?void 0:t.sendUsage,sendReasoning:t==null?void 0:t.sendReasoning}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:r,getErrorMessage:s,sendUsage:o,sendReasoning:l}={}){return new Response(this.toDataStream({data:r,getErrorMessage:s,sendUsage:o,sendReasoning:l}),{status:t,statusText:n,headers:lc(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:lc(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}},gj={};Zh(gj,{mergeIntoDataStream:()=>xj,toDataStream:()=>yj,toDataStreamResponse:()=>vj});function i_(e={}){const t=new TextEncoder;let n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(r,s){s.enqueue(t.encode(r)),n+=r,e.onToken&&await e.onToken(r),e.onText&&typeof r=="string"&&await e.onText(r)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function Gh(e,t){return e.pipeThrough(new TransformStream({transform:async(n,r)=>{var s;if(typeof n=="string"){r.enqueue(n);return}if("event"in n){n.event==="on_chat_model_stream"&&C0((s=n.data)==null?void 0:s.chunk,r);return}C0(n,r)}})).pipeThrough(i_(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,r)=>{r.enqueue(jn("text",n))}}))}function yj(e,t){return Gh(e,t).pipeThrough(new TextEncoderStream)}function vj(e,t){var n;const r=Gh(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),s=t==null?void 0:t.data,o=t==null?void 0:t.init,l=s?Yh(s.stream,r):r;return new Response(l,{status:(n=o==null?void 0:o.status)!=null?n:200,statusText:o==null?void 0:o.statusText,headers:lc(o==null?void 0:o.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function xj(e,t){t.dataStream.merge(Gh(e,t.callbacks))}function C0(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{const n=e.content;for(const r of n)r.type==="text"&&t.enqueue(r.text)}}var wj={};Zh(wj,{mergeIntoDataStream:()=>kj,toDataStream:()=>bj,toDataStreamResponse:()=>_j});function Jh(e,t){const n=Sj();return e3(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(r,s){s.enqueue(n(r.delta))}})).pipeThrough(i_(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,s)=>{s.enqueue(jn("text",r))}}))}function bj(e,t){return Jh(e,t).pipeThrough(new TextEncoderStream)}function _j(e,t={}){var n;const{init:r,data:s,callbacks:o}=t,l=Jh(e,o).pipeThrough(new TextEncoderStream),c=s?Yh(s.stream,l):l;return new Response(c,{status:(n=r==null?void 0:r.status)!=null?n:200,statusText:r==null?void 0:r.statusText,headers:lc(r==null?void 0:r.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function kj(e,t){t.dataStream.merge(Jh(e,t.callbacks))}function Sj(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}function Cj({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:n="system"}){const r=[];for(const{role:s,content:o}of e)switch(s){case"system":{switch(n){case"system":{r.push({role:"system",content:o});break}case"developer":{r.push({role:"developer",content:o});break}case"remove":break;default:{const l=n;throw new Error(`Unsupported system message mode: ${l}`)}}break}case"user":{if(o.length===1&&o[0].type==="text"){r.push({role:"user",content:o[0].text});break}r.push({role:"user",content:o.map(l=>{var c,f,d;switch(l.type){case"text":return{type:"text",text:l.text};case"image":return{type:"image_url",image_url:{url:l.image instanceof URL?l.image.toString():`data:${(c=l.mimeType)!=null?c:"image/jpeg"};base64,${Ur(l.image)}`,detail:(d=(f=l.providerMetadata)==null?void 0:f.openai)==null?void 0:d.imageDetail}};case"file":{if(l.data instanceof URL)throw new ze({functionality:"'File content parts with URL data' functionality not supported."});switch(l.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:l.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:l.data,format:"mp3"}};default:throw new ze({functionality:`File content part type ${l.mimeType} in user messages`})}}}})});break}case"assistant":{let l="";const c=[];for(const f of o)switch(f.type){case"text":{l+=f.text;break}case"tool-call":{c.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)}});break}default:{const d=f;throw new Error(`Unsupported part: ${d}`)}}if(t){if(c.length>1)throw new ze({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:l,function_call:c.length>0?c[0].function:void 0})}else r.push({role:"assistant",content:l,tool_calls:c.length>0?c:void 0});break}case"tool":{for(const l of o)t?r.push({role:"function",name:l.toolName,content:JSON.stringify(l.result)}):r.push({role:"tool",tool_call_id:l.toolCallId,content:JSON.stringify(l.result)});break}default:{const l=s;throw new Error(`Unsupported role: ${l}`)}}return r}function E0(e){var t,n;return(n=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:r,logprob:s,top_logprobs:o})=>({token:r,logprob:s,topLogprobs:o?o.map(({token:l,logprob:c})=>({token:l,logprob:c})):[]})))!=null?n:void 0}function cc(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var Kh=v.object({error:v.object({message:v.string(),type:v.string().nullish(),param:v.any().nullish(),code:v.union([v.string(),v.number()]).nullish()})}),li=Sr({errorSchema:Kh,errorToMessage:e=>e.error.message});function dc({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function Ej({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:n}){var r;const s=(r=e.tools)!=null&&r.length?e.tools:void 0,o=[];if(s==null)return{tools:void 0,tool_choice:void 0,toolWarnings:o};const l=e.toolChoice;if(t){const d=[];for(const g of s)g.type==="provider-defined"?o.push({type:"unsupported-tool",tool:g}):d.push({name:g.name,description:g.description,parameters:g.parameters});if(l==null)return{functions:d,function_call:void 0,toolWarnings:o};switch(l.type){case"auto":case"none":case void 0:return{functions:d,function_call:void 0,toolWarnings:o};case"required":throw new ze({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:d,function_call:{name:l.toolName},toolWarnings:o}}}const c=[];for(const d of s)d.type==="provider-defined"?o.push({type:"unsupported-tool",tool:d}):c.push({type:"function",function:{name:d.name,description:d.description,parameters:d.parameters,strict:n?!0:void 0}});if(l==null)return{tools:c,tool_choice:void 0,toolWarnings:o};const f=l.type;switch(f){case"auto":case"none":case"required":return{tools:c,tool_choice:f,toolWarnings:o};case"tool":return{tools:c,tool_choice:{type:"function",function:{name:l.toolName}},toolWarnings:o};default:{const d=f;throw new ze({functionality:`Unsupported tool choice type: ${d}`})}}}var Tj=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:fc(this.modelId)}get defaultObjectGenerationMode(){return Oj(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:o,frequencyPenalty:l,presencePenalty:c,stopSequences:f,responseFormat:d,seed:h,providerMetadata:g}){var y,x,_,k,C,S,T,I;const A=e.type,D=[];o!=null&&D.push({type:"unsupported-setting",setting:"topK"}),(d==null?void 0:d.type)==="json"&&d.schema!=null&&!this.supportsStructuredOutputs&&D.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const L=this.settings.useLegacyFunctionCalling;if(L&&this.settings.parallelToolCalls===!0)throw new ze({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(L&&this.supportsStructuredOutputs)throw new ze({functionality:"structuredOutputs with useLegacyFunctionCalling"});T0(this.modelId)==="remove"&&t.some(ne=>ne.role==="system")&&D.push({type:"other",message:"system messages are removed for this model"});const H={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:c,response_format:(d==null?void 0:d.type)==="json"?this.supportsStructuredOutputs&&d.schema!=null?{type:"json_schema",json_schema:{schema:d.schema,strict:!0,name:(y=d.name)!=null?y:"response",description:d.description}}:{type:"json_object"}:void 0,stop:f,seed:h,max_completion_tokens:(x=g==null?void 0:g.openai)==null?void 0:x.maxCompletionTokens,store:(_=g==null?void 0:g.openai)==null?void 0:_.store,metadata:(k=g==null?void 0:g.openai)==null?void 0:k.metadata,prediction:(C=g==null?void 0:g.openai)==null?void 0:C.prediction,reasoning_effort:(T=(S=g==null?void 0:g.openai)==null?void 0:S.reasoningEffort)!=null?T:this.settings.reasoningEffort,messages:Cj({prompt:t,useLegacyFunctionCalling:L,systemMessageMode:T0(this.modelId)})};switch(fc(this.modelId)&&(H.temperature!=null&&(H.temperature=void 0,D.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),H.top_p!=null&&(H.top_p=void 0,D.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),H.frequency_penalty!=null&&(H.frequency_penalty=void 0,D.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),H.presence_penalty!=null&&(H.presence_penalty=void 0,D.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),H.logit_bias!=null&&(H.logit_bias=void 0,D.push({type:"other",message:"logitBias is not supported for reasoning models"})),H.logprobs!=null&&(H.logprobs=void 0,D.push({type:"other",message:"logprobs is not supported for reasoning models"})),H.top_logprobs!=null&&(H.top_logprobs=void 0,D.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),H.max_tokens!=null&&(H.max_completion_tokens==null&&(H.max_completion_tokens=H.max_tokens),H.max_tokens=void 0)),A){case"regular":{const{tools:ne,tool_choice:ue,functions:pe,function_call:re,toolWarnings:oe}=Ej({mode:e,useLegacyFunctionCalling:L,structuredOutputs:this.supportsStructuredOutputs});return{args:{...H,tools:ne,tool_choice:ue,functions:pe,function_call:re},warnings:[...D,...oe]}}case"object-json":return{args:{...H,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(I=e.name)!=null?I:"response",description:e.description}}:{type:"json_object"}},warnings:D};case"object-tool":return{args:L?{...H,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...H,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:D};default:{const ne=A;throw new Error(`Unsupported type: ${ne}`)}}}async doGenerate(e){var t,n,r,s,o,l,c,f;const{args:d,warnings:h}=this.getArgs(e),{responseHeaders:g,value:y}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:d,failedResponseHandler:li,successfulResponseHandler:Vt(Ij),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:x,..._}=d,k=y.choices[0],C=(t=y.usage)==null?void 0:t.completion_tokens_details,S=(n=y.usage)==null?void 0:n.prompt_tokens_details,T={openai:{}};return(C==null?void 0:C.reasoning_tokens)!=null&&(T.openai.reasoningTokens=C==null?void 0:C.reasoning_tokens),(C==null?void 0:C.accepted_prediction_tokens)!=null&&(T.openai.acceptedPredictionTokens=C==null?void 0:C.accepted_prediction_tokens),(C==null?void 0:C.rejected_prediction_tokens)!=null&&(T.openai.rejectedPredictionTokens=C==null?void 0:C.rejected_prediction_tokens),(S==null?void 0:S.cached_tokens)!=null&&(T.openai.cachedPromptTokens=S==null?void 0:S.cached_tokens),{text:(r=k.message.content)!=null?r:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&k.message.function_call?[{toolCallType:"function",toolCallId:Xt(),toolName:k.message.function_call.name,args:k.message.function_call.arguments}]:(s=k.message.tool_calls)==null?void 0:s.map(I=>{var A;return{toolCallType:"function",toolCallId:(A=I.id)!=null?A:Xt(),toolName:I.function.name,args:I.function.arguments}}),finishReason:cc(k.finish_reason),usage:{promptTokens:(l=(o=y.usage)==null?void 0:o.prompt_tokens)!=null?l:NaN,completionTokens:(f=(c=y.usage)==null?void 0:c.completion_tokens)!=null?f:NaN},rawCall:{rawPrompt:x,rawSettings:_},rawResponse:{headers:g},request:{body:JSON.stringify(d)},response:dc(y),warnings:h,logprobs:E0(k.logprobs),providerMetadata:T}}async doStream(e){var t;if((t=this.settings.simulateStreaming)!=null?t:Pj(this.modelId)){const C=await this.doGenerate(e);return{stream:new ReadableStream({start(T){if(T.enqueue({type:"response-metadata",...C.response}),C.text&&T.enqueue({type:"text-delta",textDelta:C.text}),C.toolCalls)for(const I of C.toolCalls)T.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:I.toolCallId,toolName:I.toolName,argsTextDelta:I.args}),T.enqueue({type:"tool-call",...I});T.enqueue({type:"finish",finishReason:C.finishReason,usage:C.usage,logprobs:C.logprobs,providerMetadata:C.providerMetadata}),T.close()}}),rawCall:C.rawCall,rawResponse:C.rawResponse,warnings:C.warnings}}const{args:n,warnings:r}=this.getArgs(e),s={...n,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:o,value:l}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:s,failedResponseHandler:li,successfulResponseHandler:Na(Nj),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:c,...f}=n,d=[];let h="unknown",g={promptTokens:void 0,completionTokens:void 0},y,x=!0;const{useLegacyFunctionCalling:_}=this.settings,k={openai:{}};return{stream:l.pipeThrough(new TransformStream({transform(C,S){var T,I,A,D,L,H,ne,ue,pe,re,oe,se;if(!C.success){h="error",S.enqueue({type:"error",error:C.error});return}const G=C.value;if("error"in G){h="error",S.enqueue({type:"error",error:G.error});return}if(x&&(x=!1,S.enqueue({type:"response-metadata",...dc(G)})),G.usage!=null){const{prompt_tokens:W,completion_tokens:N,prompt_tokens_details:M,completion_tokens_details:B}=G.usage;g={promptTokens:W??void 0,completionTokens:N??void 0},(B==null?void 0:B.reasoning_tokens)!=null&&(k.openai.reasoningTokens=B==null?void 0:B.reasoning_tokens),(B==null?void 0:B.accepted_prediction_tokens)!=null&&(k.openai.acceptedPredictionTokens=B==null?void 0:B.accepted_prediction_tokens),(B==null?void 0:B.rejected_prediction_tokens)!=null&&(k.openai.rejectedPredictionTokens=B==null?void 0:B.rejected_prediction_tokens),(M==null?void 0:M.cached_tokens)!=null&&(k.openai.cachedPromptTokens=M==null?void 0:M.cached_tokens)}const ie=G.choices[0];if((ie==null?void 0:ie.finish_reason)!=null&&(h=cc(ie.finish_reason)),(ie==null?void 0:ie.delta)==null)return;const he=ie.delta;he.content!=null&&S.enqueue({type:"text-delta",textDelta:he.content});const ce=E0(ie==null?void 0:ie.logprobs);ce!=null&&ce.length&&(y===void 0&&(y=[]),y.push(...ce));const V=_&&he.function_call!=null?[{type:"function",id:Xt(),function:he.function_call,index:0}]:he.tool_calls;if(V!=null)for(const W of V){const N=W.index;if(d[N]==null){if(W.type!=="function")throw new Fr({data:W,message:"Expected 'function' type."});if(W.id==null)throw new Fr({data:W,message:"Expected 'id' to be a string."});if(((T=W.function)==null?void 0:T.name)==null)throw new Fr({data:W,message:"Expected 'function.name' to be a string."});d[N]={id:W.id,type:"function",function:{name:W.function.name,arguments:(I=W.function.arguments)!=null?I:""},hasFinished:!1};const B=d[N];((A=B.function)==null?void 0:A.name)!=null&&((D=B.function)==null?void 0:D.arguments)!=null&&(B.function.arguments.length>0&&S.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:B.id,toolName:B.function.name,argsTextDelta:B.function.arguments}),ai(B.function.arguments)&&(S.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(L=B.id)!=null?L:Xt(),toolName:B.function.name,args:B.function.arguments}),B.hasFinished=!0));continue}const M=d[N];M.hasFinished||(((H=W.function)==null?void 0:H.arguments)!=null&&(M.function.arguments+=(ue=(ne=W.function)==null?void 0:ne.arguments)!=null?ue:""),S.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:M.id,toolName:M.function.name,argsTextDelta:(pe=W.function.arguments)!=null?pe:""}),((re=M.function)==null?void 0:re.name)!=null&&((oe=M.function)==null?void 0:oe.arguments)!=null&&ai(M.function.arguments)&&(S.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(se=M.id)!=null?se:Xt(),toolName:M.function.name,args:M.function.arguments}),M.hasFinished=!0))}},flush(C){var S,T;C.enqueue({type:"finish",finishReason:h,logprobs:y,usage:{promptTokens:(S=g.promptTokens)!=null?S:NaN,completionTokens:(T=g.completionTokens)!=null?T:NaN},...k!=null?{providerMetadata:k}:{}})}})),rawCall:{rawPrompt:c,rawSettings:f},rawResponse:{headers:o},request:{body:JSON.stringify(s)},warnings:r}}},o_=v.object({prompt_tokens:v.number().nullish(),completion_tokens:v.number().nullish(),prompt_tokens_details:v.object({cached_tokens:v.number().nullish()}).nullish(),completion_tokens_details:v.object({reasoning_tokens:v.number().nullish(),accepted_prediction_tokens:v.number().nullish(),rejected_prediction_tokens:v.number().nullish()}).nullish()}).nullish(),Ij=v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({message:v.object({role:v.literal("assistant").nullish(),content:v.string().nullish(),function_call:v.object({arguments:v.string(),name:v.string()}).nullish(),tool_calls:v.array(v.object({id:v.string().nullish(),type:v.literal("function"),function:v.object({name:v.string(),arguments:v.string()})})).nullish()}),index:v.number(),logprobs:v.object({content:v.array(v.object({token:v.string(),logprob:v.number(),top_logprobs:v.array(v.object({token:v.string(),logprob:v.number()}))})).nullable()}).nullish(),finish_reason:v.string().nullish()})),usage:o_}),Nj=v.union([v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({delta:v.object({role:v.enum(["assistant"]).nullish(),content:v.string().nullish(),function_call:v.object({name:v.string().optional(),arguments:v.string().optional()}).nullish(),tool_calls:v.array(v.object({index:v.number(),id:v.string().nullish(),type:v.literal("function").optional(),function:v.object({name:v.string().nullish(),arguments:v.string().nullish()})})).nullish()}).nullish(),logprobs:v.object({content:v.array(v.object({token:v.string(),logprob:v.number(),top_logprobs:v.array(v.object({token:v.string(),logprob:v.number()}))})).nullable()}).nullish(),finish_reason:v.string().nullable().optional(),index:v.number()})),usage:o_}),Kh]);function fc(e){return e==="o1"||e.startsWith("o1-")||e==="o3"||e.startsWith("o3-")}function Oj(e){return e.startsWith("gpt-4o-audio-preview")}function T0(e){var t,n;return fc(e)?(n=(t=l_[e])==null?void 0:t.systemMessageMode)!=null?n:"developer":"system"}function Pj(e){var t,n;return fc(e)?(n=(t=l_[e])==null?void 0:t.simulateStreamingByDefault)!=null?n:!0:!1}var l_={"o1-mini":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-mini-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o3-mini":{systemMessageMode:"developer",simulateStreamingByDefault:!1},"o3-mini-2025-01-31":{systemMessageMode:"developer",simulateStreamingByDefault:!1}};function Rj({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(const{role:o,content:l}of e)switch(o){case"system":throw new ya({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const c=l.map(f=>{switch(f.type){case"text":return f.text;case"image":throw new ze({functionality:"images"})}}).join("");s+=`${n}:
${c}

`;break}case"assistant":{const c=l.map(f=>{switch(f.type){case"text":return f.text;case"tool-call":throw new ze({functionality:"tool-call messages"})}}).join("");s+=`${r}:
${c}

`;break}case"tool":throw new ze({functionality:"tool messages"});default:{const c=o;throw new Error(`Unsupported role: ${c}`)}}return s+=`${r}:
`,{prompt:s,stopSequences:[`
${n}:`]}}function I0(e){return e==null?void 0:e.tokens.map((t,n)=>({token:t,logprob:e.token_logprobs[n],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[n]).map(([r,s])=>({token:r,logprob:s})):[]}))}var Aj=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:s,topP:o,topK:l,frequencyPenalty:c,presencePenalty:f,stopSequences:d,responseFormat:h,seed:g}){var y;const x=e.type,_=[];l!=null&&_.push({type:"unsupported-setting",setting:"topK"}),h!=null&&h.type!=="text"&&_.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:k,stopSequences:C}=Rj({prompt:n,inputFormat:t}),S=[...C??[],...d??[]],T={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:s,top_p:o,frequency_penalty:c,presence_penalty:f,seed:g,prompt:k,stop:S.length>0?S:void 0};switch(x){case"regular":{if((y=e.tools)!=null&&y.length)throw new ze({functionality:"tools"});if(e.toolChoice)throw new ze({functionality:"toolChoice"});return{args:T,warnings:_}}case"object-json":throw new ze({functionality:"object-json mode"});case"object-tool":throw new ze({functionality:"object-tool mode"});default:{const I=x;throw new Error(`Unsupported type: ${I}`)}}}async doGenerate(e){const{args:t,warnings:n}=this.getArgs(e),{responseHeaders:r,value:s}=await it({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:t,failedResponseHandler:li,successfulResponseHandler:Vt(jj),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:o,...l}=t,c=s.choices[0];return{text:c.text,usage:{promptTokens:s.usage.prompt_tokens,completionTokens:s.usage.completion_tokens},finishReason:cc(c.finish_reason),logprobs:I0(c.logprobs),rawCall:{rawPrompt:o,rawSettings:l},rawResponse:{headers:r},response:dc(s),warnings:n,request:{body:JSON.stringify(t)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:s,value:o}=await it({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:r,failedResponseHandler:li,successfulResponseHandler:Na(Dj),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...c}=t;let f="unknown",d={promptTokens:Number.NaN,completionTokens:Number.NaN},h,g=!0;return{stream:o.pipeThrough(new TransformStream({transform(y,x){if(!y.success){f="error",x.enqueue({type:"error",error:y.error});return}const _=y.value;if("error"in _){f="error",x.enqueue({type:"error",error:_.error});return}g&&(g=!1,x.enqueue({type:"response-metadata",...dc(_)})),_.usage!=null&&(d={promptTokens:_.usage.prompt_tokens,completionTokens:_.usage.completion_tokens});const k=_.choices[0];(k==null?void 0:k.finish_reason)!=null&&(f=cc(k.finish_reason)),(k==null?void 0:k.text)!=null&&x.enqueue({type:"text-delta",textDelta:k.text});const C=I0(k==null?void 0:k.logprobs);C!=null&&C.length&&(h===void 0&&(h=[]),h.push(...C))},flush(y){y.enqueue({type:"finish",finishReason:f,logprobs:h,usage:d})}})),rawCall:{rawPrompt:l,rawSettings:c},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(r)}}}},jj=v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({text:v.string(),finish_reason:v.string(),logprobs:v.object({tokens:v.array(v.string()),token_logprobs:v.array(v.number()),top_logprobs:v.array(v.record(v.string(),v.number())).nullable()}).nullish()})),usage:v.object({prompt_tokens:v.number(),completion_tokens:v.number()})}),Dj=v.union([v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({text:v.string(),finish_reason:v.string().nullish(),index:v.number(),logprobs:v.object({tokens:v.array(v.string()),token_logprobs:v.array(v.number()),top_logprobs:v.array(v.record(v.string(),v.number())).nullable()}).nullish()})),usage:v.object({prompt_tokens:v.number(),completion_tokens:v.number()}).nullish()}),Kh]),Mj=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new dl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:s}=await it({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:mt(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:li,successfulResponseHandler:Vt(Lj),abortSignal:n,fetch:this.config.fetch});return{embeddings:s.data.map(o=>o.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},Lj=v.object({data:v.array(v.object({embedding:v.array(v.number())})),usage:v.object({prompt_tokens:v.number()}).nullish()}),Fj={"dall-e-3":1,"dall-e-2":10},zj=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:Fj[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:s,providerOptions:o,headers:l,abortSignal:c}){var f,d,h,g;const y=[];r!=null&&y.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),s!=null&&y.push({type:"unsupported-setting",setting:"seed"});const x=(h=(d=(f=this.config._internal)==null?void 0:f.currentDate)==null?void 0:d.call(f))!=null?h:new Date,{value:_,responseHeaders:k}=await it({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:mt(this.config.headers(),l),body:{model:this.modelId,prompt:e,n:t,size:n,...(g=o.openai)!=null?g:{},response_format:"b64_json"},failedResponseHandler:li,successfulResponseHandler:Vt($j),abortSignal:c,fetch:this.config.fetch});return{images:_.data.map(C=>C.b64_json),warnings:y,response:{timestamp:x,modelId:this.modelId,headers:k}}}},$j=v.object({data:v.array(v.object({b64_json:v.string()}))});function u_(e={}){var t,n,r;const s=(t=Vr(e.baseURL))!=null?t:"https://api.openai.com/v1",o=(n=e.compatibility)!=null?n:"compatible",l=(r=e.name)!=null?r:"openai",c=()=>({Authorization:`Bearer ${Ia({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),f=(_,k={})=>new Tj(_,k,{provider:`${l}.chat`,url:({path:C})=>`${s}${C}`,headers:c,compatibility:o,fetch:e.fetch}),d=(_,k={})=>new Aj(_,k,{provider:`${l}.completion`,url:({path:C})=>`${s}${C}`,headers:c,compatibility:o,fetch:e.fetch}),h=(_,k={})=>new Mj(_,k,{provider:`${l}.embedding`,url:({path:C})=>`${s}${C}`,headers:c,fetch:e.fetch}),g=(_,k={})=>new zj(_,k,{provider:`${l}.image`,url:({path:C})=>`${s}${C}`,headers:c,fetch:e.fetch}),y=(_,k)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return _==="gpt-3.5-turbo-instruct"?d(_,k):f(_,k)},x=function(_,k){return y(_,k)};return x.languageModel=y,x.chat=f,x.completion=d,x.embedding=h,x.textEmbedding=h,x.textEmbeddingModel=h,x.image=g,x.imageModel=g,x}u_({compatibility:"strict"});var Ga={},Qf={},N0;function O0(){return N0||(N0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Allow=e.ALL=e.COLLECTION=e.ATOM=e.SPECIAL=e.INF=e._INFINITY=e.INFINITY=e.NAN=e.BOOL=e.NULL=e.OBJ=e.ARR=e.NUM=e.STR=void 0,e.STR=1,e.NUM=2,e.ARR=4,e.OBJ=8,e.NULL=16,e.BOOL=32,e.NAN=64,e.INFINITY=128,e._INFINITY=256,e.INF=e.INFINITY|e._INFINITY,e.SPECIAL=e.NULL|e.BOOL|e.INF|e.NAN,e.ATOM=e.STR|e.NUM|e.SPECIAL,e.COLLECTION=e.ARR|e.OBJ,e.ALL=e.ATOM|e.COLLECTION,e.Allow={STR:e.STR,NUM:e.NUM,ARR:e.ARR,OBJ:e.OBJ,NULL:e.NULL,BOOL:e.BOOL,NAN:e.NAN,INFINITY:e.INFINITY,_INFINITY:e._INFINITY,INF:e.INF,SPECIAL:e.SPECIAL,ATOM:e.ATOM,COLLECTION:e.COLLECTION,ALL:e.ALL},e.default=e.Allow}(Qf)),Qf}var P0;function Uj(){return P0||(P0=1,function(e){var t=Ga&&Ga.__createBinding||(Object.create?function(d,h,g,y){y===void 0&&(y=g);var x=Object.getOwnPropertyDescriptor(h,g);(!x||("get"in x?!h.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return h[g]}}),Object.defineProperty(d,y,x)}:function(d,h,g,y){y===void 0&&(y=g),d[y]=h[g]}),n=Ga&&Ga.__exportStar||function(d,h){for(var g in d)g!=="default"&&!Object.prototype.hasOwnProperty.call(h,g)&&t(h,d,g)};Object.defineProperty(e,"__esModule",{value:!0}),e.Allow=e.MalformedJSON=e.PartialJSON=e.parseJSON=e.parse=void 0;const r=O0();Object.defineProperty(e,"Allow",{enumerable:!0,get:function(){return r.Allow}}),n(O0(),e);class s extends Error{}e.PartialJSON=s;class o extends Error{}e.MalformedJSON=o;function l(d,h=r.Allow.ALL){if(typeof d!="string")throw new TypeError(`expecting str, got ${typeof d}`);if(!d.trim())throw new Error(`${d} is empty`);return c(d.trim(),h)}e.parseJSON=l;const c=(d,h)=>{const g=d.length;let y=0;const x=D=>{throw new s(`${D} at position ${y}`)},_=D=>{throw new o(`${D} at position ${y}`)},k=()=>(A(),y>=g&&x("Unexpected end of input"),d[y]==='"'?C():d[y]==="{"?S():d[y]==="["?T():d.substring(y,y+4)==="null"||r.Allow.NULL&h&&g-y<4&&"null".startsWith(d.substring(y))?(y+=4,null):d.substring(y,y+4)==="true"||r.Allow.BOOL&h&&g-y<4&&"true".startsWith(d.substring(y))?(y+=4,!0):d.substring(y,y+5)==="false"||r.Allow.BOOL&h&&g-y<5&&"false".startsWith(d.substring(y))?(y+=5,!1):d.substring(y,y+8)==="Infinity"||r.Allow.INFINITY&h&&g-y<8&&"Infinity".startsWith(d.substring(y))?(y+=8,1/0):d.substring(y,y+9)==="-Infinity"||r.Allow._INFINITY&h&&1<g-y&&g-y<9&&"-Infinity".startsWith(d.substring(y))?(y+=9,-1/0):d.substring(y,y+3)==="NaN"||r.Allow.NAN&h&&g-y<3&&"NaN".startsWith(d.substring(y))?(y+=3,NaN):I()),C=()=>{const D=y;let L=!1;for(y++;y<g&&(d[y]!=='"'||L&&d[y-1]==="\\");)L=d[y]==="\\"?!L:!1,y++;if(d.charAt(y)=='"')try{return JSON.parse(d.substring(D,++y-Number(L)))}catch(H){_(String(H))}else if(r.Allow.STR&h)try{return JSON.parse(d.substring(D,y-Number(L))+'"')}catch{return JSON.parse(d.substring(D,d.lastIndexOf("\\"))+'"')}x("Unterminated string literal")},S=()=>{y++,A();const D={};try{for(;d[y]!=="}";){if(A(),y>=g&&r.Allow.OBJ&h)return D;const L=C();A(),y++;try{const H=k();D[L]=H}catch(H){if(r.Allow.OBJ&h)return D;throw H}A(),d[y]===","&&y++}}catch{if(r.Allow.OBJ&h)return D;x("Expected '}' at end of object")}return y++,D},T=()=>{y++;const D=[];try{for(;d[y]!=="]";)D.push(k()),A(),d[y]===","&&y++}catch{if(r.Allow.ARR&h)return D;x("Expected ']' at end of array")}return y++,D},I=()=>{if(y===0){d==="-"&&_("Not sure what '-' is");try{return JSON.parse(d)}catch(L){if(r.Allow.NUM&h)try{return JSON.parse(d.substring(0,d.lastIndexOf("e")))}catch{}_(String(L))}}const D=y;for(d[y]==="-"&&y++;d[y]&&",]}".indexOf(d[y])===-1;)y++;y==g&&!(r.Allow.NUM&h)&&x("Unterminated number literal");try{return JSON.parse(d.substring(D,y))}catch{d.substring(D,y)==="-"&&x("Not sure what '-' is");try{return JSON.parse(d.substring(D,d.lastIndexOf("e")))}catch(H){_(String(H))}}},A=()=>{for(;y<g&&` 
\r	`.includes(d[y]);)y++};return k()},f=l;e.parse=f}(Ga)),Ga}var Bj=Uj();function ep(e){const t=[];for(const{content:n,role:r}of e)switch(r){case"system":{t.push({content:n,role:"system"});break}case"user":{t.push({...n.reduce((s,o)=>{if(o.type==="text")s.content+=o.text;else{if(o.type==="image"&&o.image instanceof URL)throw new ze({functionality:"Image URLs in user messages"});o.type==="image"&&o.image instanceof Uint8Array&&(s.images=s.images||[],s.images.push(Ur(o.image)))}return s},{content:""}),role:"user"});break}case"assistant":{const s=[],o=[];for(const l of n)switch(l.type){case"text":{s.push(l.text);break}case"tool-call":{o.push({function:{arguments:l.args,name:l.toolName},id:l.toolCallId,type:"function"});break}default:{const c=l;throw new Error(`Unsupported part: ${c}`)}}t.push({content:s.join(","),role:"assistant",tool_calls:o.length>0?o:void 0});break}case"tool":{t.push(...n.map(s=>({content:typeof s.result=="object"?JSON.stringify(s.result):`${s.result}`,role:"tool",tool_call_id:s.toolCallId})));break}default:{const s=r;throw new Error(`Unsupported role: ${s}`)}}return t}var Hj=class{constructor({tools:e,type:t}){this._firstMessage=!0,this._tools=e,this._toolPartial="",this._toolCalls=[],this._type=t,this._detectedToolCall=!1}get toolCalls(){return this._toolCalls}get detectedToolCall(){return this._detectedToolCall}parse({controller:e,delta:t}){var n;if(this.detectToolCall(t),!this._detectedToolCall)return!1;this._toolPartial+=t;let r=Bj.parse(this._toolPartial);Array.isArray(r)||(r=[r]);for(const[s,o]of r.entries()){const l=(n=JSON.stringify(o==null?void 0:o.parameters))!=null?n:"";if(l==="")continue;this._toolCalls[s]||(this._toolCalls[s]={function:{arguments:"",name:o.name},id:Xt(),type:"function"});const c=this._toolCalls[s];c.function.arguments=l,e.enqueue({argsTextDelta:t,toolCallId:c.id,toolCallType:"function",toolName:c.function.name,type:"tool-call-delta"})}return!0}finish({controller:e}){for(const t of this.toolCalls)e.enqueue({args:t.function.arguments,toolCallId:t.id,toolCallType:"function",toolName:t.function.name,type:"tool-call"});return this.finishReason()}detectToolCall(e){!this._tools||this._tools.length===0||this._firstMessage&&(this._type==="object-tool"?this._detectedToolCall=!0:this._type==="regular"&&(e.trim().startsWith("{")||e.trim().startsWith("["))&&(this._detectedToolCall=!0),this._firstMessage=!1)}finishReason(){return this.detectedToolCall?this._type==="object-tool"?"stop":"tool-calls":"stop"}};function qj({finishReason:e,hasToolCalls:t}){switch(e){case"stop":return t?"tool-calls":"stop";default:return"other"}}var Vj=v.object({error:v.object({code:v.string().nullable(),message:v.string(),param:v.any().nullable(),type:v.string()})}),th=Sr({errorSchema:Vj,errorToMessage:e=>e.error.message});function Wj({mode:e}){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],s=e.toolChoice;if(n===void 0)return{tools:void 0,toolWarnings:r};const o=[];for(const c of n)c.type==="provider-defined"?r.push({tool:c,type:"unsupported-tool"}):o.push({function:{description:c.description,name:c.name,parameters:c.parameters},type:"function"});if(s===void 0)return{tools:o,toolWarnings:r};const l=s.type;switch(l){case"auto":return{tools:o,toolWarnings:r};case"none":return{tools:void 0,toolWarnings:r};default:{const c=l;throw new ze({functionality:`Unsupported tool choice type: ${c}`})}}}function Zj(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!==void 0))}var Yj=class extends TransformStream{constructor(){super({flush:e=>{this.buffer.length!==0&&e.enqueue(this.buffer)},transform:(e,t)=>{for(e=this.buffer+e;;){const n=e.indexOf(`
`);if(n===-1)break;t.enqueue(e.slice(0,n)),e=e.slice(n+1)}this.buffer=e}}),this.buffer=""}},Gj=e=>async({response:t})=>{const n=ps(t);if(t.body===null)throw new kw({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new Yj).pipeThrough(new TransformStream({transform(r,s){s.enqueue(os({schema:e,text:r}))}}))}},Jj=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!1}get provider(){return this.config.provider}getArguments({frequencyPenalty:e,maxTokens:t,mode:n,presencePenalty:r,prompt:s,responseFormat:o,seed:l,stopSequences:c,temperature:f,topK:d,topP:h}){const g=n.type,y=[];o!==void 0&&o.type==="json"&&o.schema!==void 0&&!this.supportsStructuredOutputs&&y.push({details:"JSON response format schema is only supported with structuredOutputs",setting:"responseFormat",type:"unsupported-setting"});const x={format:o==null?void 0:o.type,model:this.modelId,options:Zj({f16_kv:this.settings.f16Kv,frequency_penalty:e,low_vram:this.settings.lowVram,main_gpu:this.settings.mainGpu,min_p:this.settings.minP,mirostat:this.settings.mirostat,mirostat_eta:this.settings.mirostatEta,mirostat_tau:this.settings.mirostatTau,num_batch:this.settings.numBatch,num_ctx:this.settings.numCtx,num_gpu:this.settings.numGpu,num_keep:this.settings.numKeep,num_predict:t,num_thread:this.settings.numThread,numa:this.settings.numa,penalize_newline:this.settings.penalizeNewline,presence_penalty:r,repeat_last_n:this.settings.repeatLastN,repeat_penalty:this.settings.repeatPenalty,seed:l,stop:c,temperature:f,tfs_z:this.settings.tfsZ,top_k:d,top_p:h,typical_p:this.settings.typicalP,use_mlock:this.settings.useMlock,use_mmap:this.settings.useMmap,vocab_only:this.settings.vocabOnly})};switch(g){case"regular":{const{tools:_,toolWarnings:k}=Wj({mode:n});return{args:{...x,messages:ep(s),tools:_},type:g,warnings:[...y,...k]}}case"object-json":return{args:{...x,format:this.supportsStructuredOutputs&&n.schema!==void 0?n.schema:"json",messages:ep(s)},type:g,warnings:y};case"object-tool":return{args:{...x,messages:ep(s),tool_choice:{function:{name:n.tool.name},type:"function"},tools:[{function:{description:n.tool.description,name:n.tool.name,parameters:n.tool.parameters},type:"function"}]},type:g,warnings:y};default:{const _=g;throw new Error(`Unsupported type: ${_}`)}}}async doGenerate(e){var t,n;const{args:r,warnings:s}=this.getArguments(e),o={...r,stream:!1},{responseHeaders:l,value:c}=await it({abortSignal:e.abortSignal,body:o,failedResponseHandler:th,fetch:this.config.fetch,headers:mt(this.config.headers(),e.headers),successfulResponseHandler:Vt(Kj),url:`${this.config.baseURL}/chat`}),{messages:f,...d}=o,h=(t=c.message.tool_calls)==null?void 0:t.map(g=>{var y;return{args:JSON.stringify(g.function.arguments),toolCallId:(y=g.id)!=null?y:Xt(),toolCallType:"function",toolName:g.function.name}});return{finishReason:qj({finishReason:c.done_reason,hasToolCalls:h!==void 0&&h.length>0}),rawCall:{rawPrompt:f,rawSettings:d},rawResponse:{headers:l},request:{body:JSON.stringify(o)},text:(n=c.message.content)!=null?n:void 0,toolCalls:h,usage:{completionTokens:c.eval_count||0,promptTokens:c.prompt_eval_count||0},warnings:s}}async doStream(e){if(this.settings.simulateStreaming){const x=await this.doGenerate(e),_=new ReadableStream({start(k){if(k.enqueue({type:"response-metadata",...x.response}),x.text&&k.enqueue({textDelta:x.text,type:"text-delta"}),x.toolCalls)for(const C of x.toolCalls)k.enqueue({argsTextDelta:C.args,toolCallId:C.toolCallId,toolCallType:"function",toolName:C.toolName,type:"tool-call-delta"}),k.enqueue({type:"tool-call",...C});k.enqueue({finishReason:x.finishReason,logprobs:x.logprobs,providerMetadata:x.providerMetadata,type:"finish",usage:x.usage}),k.close()}});return{rawCall:x.rawCall,rawResponse:x.rawResponse,stream:_,warnings:x.warnings}}const{args:t,type:n,warnings:r}=this.getArguments(e),{responseHeaders:s,value:o}=await it({abortSignal:e.abortSignal,body:t,failedResponseHandler:th,fetch:this.config.fetch,headers:mt(this.config.headers(),e.headers),successfulResponseHandler:Gj(Xj),url:`${this.config.baseURL}/chat`}),{messages:l,...c}=t,f=e.mode.type==="regular"?e.mode.tools:e.mode.type==="object-tool"?[e.mode.tool]:void 0,d=new Hj({tools:f,type:n});let h="other",g={completionTokens:Number.NaN,promptTokens:Number.NaN};const{experimentalStreamTools:y=!0}=this.settings;return{rawCall:{rawPrompt:l,rawSettings:c},rawResponse:{headers:s},request:{body:JSON.stringify(t)},stream:o.pipeThrough(new TransformStream({async flush(x){x.enqueue({finishReason:h,type:"finish",usage:g})},async transform(x,_){if(!x.success){_.enqueue({error:x.error,type:"error"});return}const k=x.value;if(k.done){h=d.finish({controller:_}),g={completionTokens:k.eval_count,promptTokens:k.prompt_eval_count||0};return}y&&d.parse({controller:_,delta:k.message.content})||k.message.content!==null&&_.enqueue({textDelta:k.message.content,type:"text-delta"})}})),warnings:r}}},Kj=v.object({created_at:v.string(),done:v.literal(!0),done_reason:v.string().optional().nullable(),eval_count:v.number(),eval_duration:v.number(),load_duration:v.number().optional(),message:v.object({content:v.string(),role:v.string(),tool_calls:v.array(v.object({function:v.object({arguments:v.record(v.any()),name:v.string()}),id:v.string().optional()})).optional().nullable()}),model:v.string(),prompt_eval_count:v.number().optional(),prompt_eval_duration:v.number().optional(),total_duration:v.number()}),Xj=v.discriminatedUnion("done",[v.object({created_at:v.string(),done:v.literal(!1),message:v.object({content:v.string(),role:v.string()}),model:v.string()}),v.object({created_at:v.string(),done:v.literal(!0),eval_count:v.number(),eval_duration:v.number(),load_duration:v.number().optional(),model:v.string(),prompt_eval_count:v.number().optional(),prompt_eval_duration:v.number().optional(),total_duration:v.number()})]),Qj=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){return!1}async doEmbed({abortSignal:e,values:t}){if(t.length>this.maxEmbeddingsPerCall)throw new dl({maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,modelId:this.modelId,provider:this.provider,values:t});const{responseHeaders:n,value:r}=await it({abortSignal:e,body:{input:t,model:this.modelId},failedResponseHandler:th,fetch:this.config.fetch,headers:this.config.headers(),successfulResponseHandler:Vt(eD),url:`${this.config.baseURL}/embed`});return{embeddings:r.embeddings,rawResponse:{headers:n},usage:r.prompt_eval_count?{tokens:r.prompt_eval_count}:void 0}}},eD=v.object({embeddings:v.array(v.array(v.number())),prompt_eval_count:v.number().nullable()});function c_(e={}){var t;const n=(t=Vr(e.baseURL))!=null?t:"http://127.0.0.1:11434/api",r=()=>({...e.headers}),s=(c,f={})=>new Jj(c,f,{baseURL:n,fetch:e.fetch,headers:r,provider:"ollama.chat"}),o=(c,f={})=>new Qj(c,f,{baseURL:n,fetch:e.fetch,headers:r,provider:"ollama.embedding"}),l=function(c,f){if(new.target)throw new Error("The Ollama model function cannot be called with the new keyword.");return s(c,f)};return l.chat=s,l.embedding=o,l.languageModel=s,l.textEmbedding=o,l.textEmbeddingModel=o,l}c_();var tD=v.object({type:v.literal("error"),error:v.object({type:v.string(),message:v.string()})}),R0=Sr({errorSchema:tD,errorToMessage:e=>e.error.message});function nD({prompt:e}){var t,n,r,s;const o=new Set,l=rD(e);let c;const f=[];function d(h){var g;const y=h==null?void 0:h.anthropic;return(g=y==null?void 0:y.cacheControl)!=null?g:y==null?void 0:y.cache_control}for(let h=0;h<l.length;h++){const g=l[h],y=h===l.length-1,x=g.type;switch(x){case"system":{if(c!=null)throw new ze({functionality:"Multiple system messages that are separated by user/assistant messages"});c=g.messages.map(({content:_,providerMetadata:k})=>({type:"text",text:_,cache_control:d(k)}));break}case"user":{const _=[];for(const k of g.messages){const{role:C,content:S}=k;switch(C){case"user":{for(let T=0;T<S.length;T++){const I=S[T],A=T===S.length-1,D=(t=d(I.providerMetadata))!=null?t:A?d(k.providerMetadata):void 0;switch(I.type){case"text":{_.push({type:"text",text:I.text,cache_control:D});break}case"image":{if(I.image instanceof URL)throw new ze({functionality:"Image URLs in user messages"});_.push({type:"image",source:{type:"base64",media_type:(n=I.mimeType)!=null?n:"image/jpeg",data:Ur(I.image)},cache_control:D});break}case"file":{if(I.data instanceof URL)throw new ze({functionality:"Image URLs in user messages"});if(I.mimeType!=="application/pdf")throw new ze({functionality:"Non-PDF files in user messages"});o.add("pdfs-2024-09-25"),_.push({type:"document",source:{type:"base64",media_type:"application/pdf",data:I.data},cache_control:D});break}}}break}case"tool":{for(let T=0;T<S.length;T++){const I=S[T],A=T===S.length-1,D=(r=d(I.providerMetadata))!=null?r:A?d(k.providerMetadata):void 0,L=I.content!=null?I.content.map(H=>{var ne;switch(H.type){case"text":return{type:"text",text:H.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(ne=H.mimeType)!=null?ne:"image/jpeg",data:H.data},cache_control:void 0}}}):JSON.stringify(I.result);_.push({type:"tool_result",tool_use_id:I.toolCallId,content:L,is_error:I.isError,cache_control:D})}break}default:{const T=C;throw new Error(`Unsupported role: ${T}`)}}}f.push({role:"user",content:_});break}case"assistant":{const _=[];for(let k=0;k<g.messages.length;k++){const C=g.messages[k],S=k===g.messages.length-1,{content:T}=C;for(let I=0;I<T.length;I++){const A=T[I],D=I===T.length-1,L=(s=d(A.providerMetadata))!=null?s:D?d(C.providerMetadata):void 0;switch(A.type){case"text":{_.push({type:"text",text:y&&S&&D?A.text.trim():A.text,cache_control:L});break}case"tool-call":{_.push({type:"tool_use",id:A.toolCallId,name:A.toolName,input:A.args,cache_control:L});break}}}}f.push({role:"assistant",content:_});break}default:{const _=x;throw new Error(`Unsupported type: ${_}`)}}}return{prompt:{system:c,messages:f},betas:o}}function rD(e){const t=[];let n;for(const r of e){const{role:s}=r;switch(s){case"system":{(n==null?void 0:n.type)!=="system"&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(r);break}case"assistant":{(n==null?void 0:n.type)!=="assistant"&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(r);break}case"user":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}case"tool":{(n==null?void 0:n.type)!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}default:{const o=s;throw new Error(`Unsupported role: ${o}`)}}}return t}function A0(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function aD(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],s=new Set;if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:s};const o=[];for(const f of n)switch(f.type){case"function":o.push({name:f.name,description:f.description,input_schema:f.parameters});break;case"provider-defined":switch(s.add("computer-use-2024-10-22"),f.id){case"anthropic.computer_20241022":o.push({name:f.name,type:"computer_20241022",display_width_px:f.args.displayWidthPx,display_height_px:f.args.displayHeightPx,display_number:f.args.displayNumber});break;case"anthropic.text_editor_20241022":o.push({name:f.name,type:"text_editor_20241022"});break;case"anthropic.bash_20241022":o.push({name:f.name,type:"bash_20241022"});break;default:r.push({type:"unsupported-tool",tool:f});break}break;default:r.push({type:"unsupported-tool",tool:f});break}const l=e.toolChoice;if(l==null)return{tools:o,tool_choice:void 0,toolWarnings:r,betas:s};const c=l.type;switch(c){case"auto":return{tools:o,tool_choice:{type:"auto"},toolWarnings:r,betas:s};case"required":return{tools:o,tool_choice:{type:"any"},toolWarnings:r,betas:s};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:s};case"tool":return{tools:o,tool_choice:{type:"tool",name:l.toolName},toolWarnings:r,betas:s};default:{const f=c;throw new ze({functionality:`Unsupported tool choice type: ${f}`})}}}var sD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:o,frequencyPenalty:l,presencePenalty:c,stopSequences:f,responseFormat:d,seed:h}){const g=e.type,y=[];l!=null&&y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),c!=null&&y.push({type:"unsupported-setting",setting:"presencePenalty"}),h!=null&&y.push({type:"unsupported-setting",setting:"seed"}),d!=null&&d.type!=="text"&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:x,betas:_}=nD({prompt:t}),k={model:this.modelId,max_tokens:n??4096,temperature:r,top_k:o,top_p:s,stop_sequences:f,system:x.system,messages:x.messages};switch(g){case"regular":{const{tools:C,tool_choice:S,toolWarnings:T,betas:I}=aD(e);return{args:{...k,tools:C,tool_choice:S},warnings:[...y,...T],betas:new Set([..._,...I])}}case"object-json":throw new ze({functionality:"json-mode object generation"});case"object-tool":{const{name:C,description:S,parameters:T}=e.tool;return{args:{...k,tools:[{name:C,description:S,input_schema:T}],tool_choice:{type:"tool",name:C}},warnings:y,betas:_}}default:{const C=g;throw new Error(`Unsupported type: ${C}`)}}}async getHeaders({betas:e,headers:t}){return mt(await So(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,n,r;return(r=(n=(t=this.config).buildRequestUrl)==null?void 0:n.call(t,this.config.baseURL,e))!=null?r:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,n,r;return(r=(n=(t=this.config).transformRequestBody)==null?void 0:n.call(t,e))!=null?r:e}async doGenerate(e){var t,n,r,s;const{args:o,warnings:l,betas:c}=await this.getArgs(e),{responseHeaders:f,value:d}=await it({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:c,headers:e.headers}),body:this.transformRequestBody(o),failedResponseHandler:R0,successfulResponseHandler:Vt(iD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:h,...g}=o;let y="";for(const _ of d.content)_.type==="text"&&(y+=_.text);let x;if(d.content.some(_=>_.type==="tool_use")){x=[];for(const _ of d.content)_.type==="tool_use"&&x.push({toolCallType:"function",toolCallId:_.id,toolName:_.name,args:JSON.stringify(_.input)})}return{text:y,toolCalls:x,finishReason:A0(d.stop_reason),usage:{promptTokens:d.usage.input_tokens,completionTokens:d.usage.output_tokens},rawCall:{rawPrompt:h,rawSettings:g},rawResponse:{headers:f},response:{id:(t=d.id)!=null?t:void 0,modelId:(n=d.model)!=null?n:void 0},warnings:l,providerMetadata:{anthropic:{cacheCreationInputTokens:(r=d.usage.cache_creation_input_tokens)!=null?r:null,cacheReadInputTokens:(s=d.usage.cache_read_input_tokens)!=null?s:null}},request:{body:JSON.stringify(o)}}}async doStream(e){const{args:t,warnings:n,betas:r}=await this.getArgs(e),s={...t,stream:!0},{responseHeaders:o,value:l}=await it({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:r,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:R0,successfulResponseHandler:Na(oD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:c,...f}=t;let d="unknown";const h={promptTokens:Number.NaN,completionTokens:Number.NaN},g={};let y;return{stream:l.pipeThrough(new TransformStream({transform(x,_){var k,C,S,T;if(!x.success){_.enqueue({type:"error",error:x.error});return}const I=x.value;switch(I.type){case"ping":return;case"content_block_start":{const A=I.content_block.type;switch(A){case"text":return;case"tool_use":{g[I.index]={toolCallId:I.content_block.id,toolName:I.content_block.name,jsonText:""};return}default:{const D=A;throw new Error(`Unsupported content block type: ${D}`)}}}case"content_block_stop":{if(g[I.index]!=null){const A=g[I.index];_.enqueue({type:"tool-call",toolCallType:"function",toolCallId:A.toolCallId,toolName:A.toolName,args:A.jsonText}),delete g[I.index]}return}case"content_block_delta":{const A=I.delta.type;switch(A){case"text_delta":{_.enqueue({type:"text-delta",textDelta:I.delta.text});return}case"input_json_delta":{const D=g[I.index];_.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:D.toolCallId,toolName:D.toolName,argsTextDelta:I.delta.partial_json}),D.jsonText+=I.delta.partial_json;return}default:{const D=A;throw new Error(`Unsupported delta type: ${D}`)}}}case"message_start":{h.promptTokens=I.message.usage.input_tokens,h.completionTokens=I.message.usage.output_tokens,y={anthropic:{cacheCreationInputTokens:(k=I.message.usage.cache_creation_input_tokens)!=null?k:null,cacheReadInputTokens:(C=I.message.usage.cache_read_input_tokens)!=null?C:null}},_.enqueue({type:"response-metadata",id:(S=I.message.id)!=null?S:void 0,modelId:(T=I.message.model)!=null?T:void 0});return}case"message_delta":{h.completionTokens=I.usage.output_tokens,d=A0(I.delta.stop_reason);return}case"message_stop":{_.enqueue({type:"finish",finishReason:d,usage:h,providerMetadata:y});return}case"error":{_.enqueue({type:"error",error:I.error});return}default:{const A=I;throw new Error(`Unsupported chunk type: ${A}`)}}}})),rawCall:{rawPrompt:c,rawSettings:f},rawResponse:{headers:o},warnings:n,request:{body:JSON.stringify(s)}}}},iD=v.object({type:v.literal("message"),id:v.string().nullish(),model:v.string().nullish(),content:v.array(v.discriminatedUnion("type",[v.object({type:v.literal("text"),text:v.string()}),v.object({type:v.literal("tool_use"),id:v.string(),name:v.string(),input:v.unknown()})])),stop_reason:v.string().nullish(),usage:v.object({input_tokens:v.number(),output_tokens:v.number(),cache_creation_input_tokens:v.number().nullish(),cache_read_input_tokens:v.number().nullish()})}),oD=v.discriminatedUnion("type",[v.object({type:v.literal("message_start"),message:v.object({id:v.string().nullish(),model:v.string().nullish(),usage:v.object({input_tokens:v.number(),output_tokens:v.number(),cache_creation_input_tokens:v.number().nullish(),cache_read_input_tokens:v.number().nullish()})})}),v.object({type:v.literal("content_block_start"),index:v.number(),content_block:v.discriminatedUnion("type",[v.object({type:v.literal("text"),text:v.string()}),v.object({type:v.literal("tool_use"),id:v.string(),name:v.string()})])}),v.object({type:v.literal("content_block_delta"),index:v.number(),delta:v.discriminatedUnion("type",[v.object({type:v.literal("input_json_delta"),partial_json:v.string()}),v.object({type:v.literal("text_delta"),text:v.string()})])}),v.object({type:v.literal("content_block_stop"),index:v.number()}),v.object({type:v.literal("error"),error:v.object({type:v.string(),message:v.string()})}),v.object({type:v.literal("message_delta"),delta:v.object({stop_reason:v.string().nullish()}),usage:v.object({output_tokens:v.number()})}),v.object({type:v.literal("message_stop")}),v.object({type:v.literal("ping")})]),lD=v.object({command:v.string(),restart:v.boolean().optional()});function uD(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:lD,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var cD=v.object({command:v.enum(["view","create","str_replace","insert","undo_edit"]),path:v.string(),file_text:v.string().optional(),insert_line:v.number().int().optional(),new_str:v.string().optional(),old_str:v.string().optional(),view_range:v.array(v.number().int()).optional()});function dD(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:cD,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var fD=v.object({action:v.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:v.array(v.number().int()).optional(),text:v.string().optional()});function pD(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:fD,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var hD={bash_20241022:uD,textEditor_20241022:dD,computer_20241022:pD};function d_(e={}){var t;const n=(t=Vr(e.baseURL))!=null?t:"https://api.anthropic.com/v1",r=()=>({"anthropic-version":"2023-06-01","x-api-key":Ia({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),s=(l,c={})=>new sD(l,c,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:e.fetch}),o=function(l,c){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(l,c)};return o.languageModel=s,o.chat=s,o.messages=s,o.textEmbeddingModel=l=>{throw new ri({modelId:l,modelType:"textEmbeddingModel"})},o.tools=hD,o}d_();function fr(e){if(mD(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};const{type:t,description:n,required:r,properties:s,items:o,allOf:l,anyOf:c,oneOf:f,format:d,const:h,minLength:g,enum:y}=e,x={};return n&&(x.description=n),r&&(x.required=r),d&&(x.format=d),h!==void 0&&(x.enum=[h]),t&&(Array.isArray(t)?t.includes("null")?(x.type=t.filter(_=>_!=="null")[0],x.nullable=!0):x.type=t:t==="null"?x.type="null":x.type=t),y!==void 0&&(x.enum=y),s!=null&&(x.properties=Object.entries(s).reduce((_,[k,C])=>(_[k]=fr(C),_),{})),o&&(x.items=Array.isArray(o)?o.map(fr):fr(o)),l&&(x.allOf=l.map(fr)),c&&(x.anyOf=c.map(fr)),f&&(x.oneOf=f.map(fr)),g!==void 0&&(x.minLength=g),x}function mD(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)}function gD(e){var t,n;const r=[],s=[];let o=!0;for(const{role:l,content:c}of e)switch(l){case"system":{if(!o)throw new ze({functionality:"system messages are only supported at the beginning of the conversation"});r.push({text:c});break}case"user":{o=!1;const f=[];for(const d of c)switch(d.type){case"text":{f.push({text:d.text});break}case"image":{f.push(d.image instanceof URL?{fileData:{mimeType:(t=d.mimeType)!=null?t:"image/jpeg",fileUri:d.image.toString()}}:{inlineData:{mimeType:(n=d.mimeType)!=null?n:"image/jpeg",data:Ur(d.image)}});break}case"file":{f.push(d.data instanceof URL?{fileData:{mimeType:d.mimeType,fileUri:d.data.toString()}}:{inlineData:{mimeType:d.mimeType,data:d.data}});break}default:{const h=d;throw new ze({functionality:`prompt part: ${h}`})}}s.push({role:"user",parts:f});break}case"assistant":{o=!1,s.push({role:"model",parts:c.map(f=>{switch(f.type){case"text":return f.text.length===0?void 0:{text:f.text};case"tool-call":return{functionCall:{name:f.toolName,args:f.args}}}}).filter(f=>f!==void 0)});break}case"tool":{o=!1,s.push({role:"user",parts:c.map(f=>({functionResponse:{name:f.toolName,response:{name:f.toolName,content:f.result}}}))});break}default:{const f=l;throw new Error(`Unsupported role: ${f}`)}}return{systemInstruction:r.length>0?{parts:r}:void 0,contents:s}}function j0(e){return e.includes("/")?e:`models/${e}`}var yD=v.object({error:v.object({code:v.number().nullable(),message:v.string(),status:v.string()})}),nh=Sr({errorSchema:yD,errorToMessage:e=>e.error.message});function vD(e,t,n){var r,s;const o=(r=e.tools)!=null&&r.length?e.tools:void 0,l=[];if(t)return{tools:n?{googleSearch:{}}:{googleSearchRetrieval:{}},toolConfig:void 0,toolWarnings:l};if(o==null)return{tools:void 0,toolConfig:void 0,toolWarnings:l};const c=[];for(const h of o)h.type==="provider-defined"?l.push({type:"unsupported-tool",tool:h}):c.push({name:h.name,description:(s=h.description)!=null?s:"",parameters:fr(h.parameters)});const f=e.toolChoice;if(f==null)return{tools:{functionDeclarations:c},toolConfig:void 0,toolWarnings:l};const d=f.type;switch(d){case"auto":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:l};case"none":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:l};case"required":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:l};case"tool":return{tools:{functionDeclarations:c},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[f.toolName]}},toolWarnings:l};default:{const h=d;throw new ze({functionality:`Unsupported tool choice type: ${h}`})}}}function D0({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"RECITATION":case"SAFETY":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";default:return"unknown"}}var xD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!0}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:o,frequencyPenalty:l,presencePenalty:c,stopSequences:f,responseFormat:d,seed:h}){var g,y;const x=e.type,_=[];h!=null&&_.push({type:"unsupported-setting",setting:"seed"});const k={maxOutputTokens:n,temperature:r,topK:o,topP:s,frequencyPenalty:l,presencePenalty:c,stopSequences:f,responseMimeType:(d==null?void 0:d.type)==="json"?"application/json":void 0,responseSchema:(d==null?void 0:d.type)==="json"&&d.schema!=null&&this.supportsStructuredOutputs?fr(d.schema):void 0,...this.settings.audioTimestamp&&{audioTimestamp:this.settings.audioTimestamp}},{contents:C,systemInstruction:S}=gD(t);switch(x){case"regular":{const{tools:T,toolConfig:I,toolWarnings:A}=vD(e,(g=this.settings.useSearchGrounding)!=null?g:!1,this.modelId.includes("gemini-2"));return{args:{generationConfig:k,contents:C,systemInstruction:S,safetySettings:this.settings.safetySettings,tools:T,toolConfig:I,cachedContent:this.settings.cachedContent},warnings:[..._,...A]}}case"object-json":return{args:{generationConfig:{...k,responseMimeType:"application/json",responseSchema:e.schema!=null&&this.supportsStructuredOutputs?fr(e.schema):void 0},contents:C,systemInstruction:S,safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:_};case"object-tool":return{args:{generationConfig:k,contents:C,tools:{functionDeclarations:[{name:e.tool.name,description:(y=e.tool.description)!=null?y:"",parameters:fr(e.tool.parameters)}]},toolConfig:{functionCallingConfig:{mode:"ANY"}},safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:_};default:{const T=x;throw new Error(`Unsupported type: ${T}`)}}}supportsUrl(e){return this.config.isSupportedUrl(e)}async doGenerate(e){var t,n,r,s,o,l,c,f;const{args:d,warnings:h}=await this.getArgs(e),g=JSON.stringify(d),y=mt(await So(this.config.headers),e.headers),{responseHeaders:x,value:_}=await it({url:`${this.config.baseURL}/${j0(this.modelId)}:generateContent`,headers:y,body:d,failedResponseHandler:nh,successfulResponseHandler:Vt(wD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:k,...C}=d,S=_.candidates[0],T=M0({parts:(n=(t=S.content)==null?void 0:t.parts)!=null?n:[],generateId:this.config.generateId}),I=_.usageMetadata;return{text:L0((s=(r=S.content)==null?void 0:r.parts)!=null?s:[]),toolCalls:T,finishReason:D0({finishReason:S.finishReason,hasToolCalls:T!=null&&T.length>0}),usage:{promptTokens:(o=I==null?void 0:I.promptTokenCount)!=null?o:NaN,completionTokens:(l=I==null?void 0:I.candidatesTokenCount)!=null?l:NaN},rawCall:{rawPrompt:k,rawSettings:C},rawResponse:{headers:x},warnings:h,providerMetadata:{google:{groundingMetadata:(c=S.groundingMetadata)!=null?c:null,safetyRatings:(f=S.safetyRatings)!=null?f:null}},request:{body:g}}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=JSON.stringify(t),s=mt(await So(this.config.headers),e.headers),{responseHeaders:o,value:l}=await it({url:`${this.config.baseURL}/${j0(this.modelId)}:streamGenerateContent?alt=sse`,headers:s,body:t,failedResponseHandler:nh,successfulResponseHandler:Na(bD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:c,...f}=t;let d="unknown",h={promptTokens:Number.NaN,completionTokens:Number.NaN},g;const y=this.config.generateId;let x=!1;return{stream:l.pipeThrough(new TransformStream({transform(_,k){var C,S,T,I,A;if(!_.success){k.enqueue({type:"error",error:_.error});return}const D=_.value,L=D.usageMetadata;L!=null&&(h={promptTokens:(C=L.promptTokenCount)!=null?C:NaN,completionTokens:(S=L.candidatesTokenCount)!=null?S:NaN});const H=(T=D.candidates)==null?void 0:T[0];if(H==null)return;H.finishReason!=null&&(d=D0({finishReason:H.finishReason,hasToolCalls:x}),g={google:{groundingMetadata:(I=H.groundingMetadata)!=null?I:null,safetyRatings:(A=H.safetyRatings)!=null?A:null}});const ne=H.content;if(ne==null)return;const ue=L0(ne.parts);ue!=null&&k.enqueue({type:"text-delta",textDelta:ue});const pe=M0({parts:ne.parts,generateId:y});if(pe!=null)for(const re of pe)k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:re.toolCallId,toolName:re.toolName,argsTextDelta:re.args}),k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:re.toolCallId,toolName:re.toolName,args:re.args}),x=!0},flush(_){_.enqueue({type:"finish",finishReason:d,usage:h,providerMetadata:g})}})),rawCall:{rawPrompt:c,rawSettings:f},rawResponse:{headers:o},warnings:n,request:{body:r}}}};function M0({parts:e,generateId:t}){const n=e.filter(r=>"functionCall"in r);return n.length===0?void 0:n.map(r=>({toolCallType:"function",toolCallId:t(),toolName:r.functionCall.name,args:JSON.stringify(r.functionCall.args)}))}function L0(e){const t=e.filter(n=>"text"in n);return t.length===0?void 0:t.map(n=>n.text).join("")}var f_=v.object({role:v.string(),parts:v.array(v.union([v.object({text:v.string()}),v.object({functionCall:v.object({name:v.string(),args:v.unknown()})})]))}),p_=v.object({webSearchQueries:v.array(v.string()).nullish(),retrievalQueries:v.array(v.string()).nullish(),searchEntryPoint:v.object({renderedContent:v.string()}).nullish(),groundingChunks:v.array(v.object({web:v.object({uri:v.string(),title:v.string()}).nullish(),retrievedContext:v.object({uri:v.string(),title:v.string()}).nullish()})).nullish(),groundingSupports:v.array(v.object({segment:v.object({startIndex:v.number().nullish(),endIndex:v.number().nullish(),text:v.string().nullish()}),segment_text:v.string().nullish(),groundingChunkIndices:v.array(v.number()).nullish(),supportChunkIndices:v.array(v.number()).nullish(),confidenceScores:v.array(v.number()).nullish(),confidenceScore:v.array(v.number()).nullish()})).nullish(),retrievalMetadata:v.union([v.object({webDynamicRetrievalScore:v.number()}),v.object({})]).nullish()}),h_=v.object({category:v.string(),probability:v.string(),probabilityScore:v.number().nullish(),severity:v.string().nullish(),severityScore:v.number().nullish(),blocked:v.boolean().nullish()}),wD=v.object({candidates:v.array(v.object({content:f_.nullish(),finishReason:v.string().nullish(),safetyRatings:v.array(h_).nullish(),groundingMetadata:p_.nullish()})),usageMetadata:v.object({promptTokenCount:v.number().nullish(),candidatesTokenCount:v.number().nullish(),totalTokenCount:v.number().nullish()}).nullish()}),bD=v.object({candidates:v.array(v.object({content:f_.nullish(),finishReason:v.string().nullish(),safetyRatings:v.array(h_).nullish(),groundingMetadata:p_.nullish()})).nullish(),usageMetadata:v.object({promptTokenCount:v.number().nullish(),candidatesTokenCount:v.number().nullish(),totalTokenCount:v.number().nullish()}).nullish()}),_D=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){return 2048}get supportsParallelCalls(){return!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new dl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const r=mt(await So(this.config.headers),t),{responseHeaders:s,value:o}=await it({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:r,body:{requests:e.map(l=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:l}]},outputDimensionality:this.settings.outputDimensionality}))},failedResponseHandler:nh,successfulResponseHandler:Vt(kD),abortSignal:n,fetch:this.config.fetch});return{embeddings:o.embeddings.map(l=>l.values),usage:void 0,rawResponse:{headers:s}}}},kD=v.object({embeddings:v.array(v.object({values:v.array(v.number())}))});function SD(e){return e.toString().startsWith("https://generativelanguage.googleapis.com/v1beta/files/")}function m_(e={}){var t;const n=(t=Vr(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",r=()=>({"x-goog-api-key":Ia({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers}),s=(c,f={})=>{var d;return new xD(c,f,{provider:"google.generative-ai",baseURL:n,headers:r,generateId:(d=e.generateId)!=null?d:Xt,isSupportedUrl:SD,fetch:e.fetch})},o=(c,f={})=>new _D(c,f,{provider:"google.generative-ai",baseURL:n,headers:r,fetch:e.fetch}),l=function(c,f){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return s(c,f)};return l.languageModel=s,l.chat=s,l.generativeAI=s,l.embedding=o,l.textEmbedding=o,l.textEmbeddingModel=o,l}m_();function CD(e){const t=[];for(let n=0;n<e.length;n++){const{role:r,content:s}=e[n],o=n===e.length-1;switch(r){case"system":{t.push({role:"system",content:s});break}case"user":{t.push({role:"user",content:s.map(l=>{var c;switch(l.type){case"text":return{type:"text",text:l.text};case"image":return{type:"image_url",image_url:l.image instanceof URL?l.image.toString():`data:${(c=l.mimeType)!=null?c:"image/jpeg"};base64,${Ur(l.image)}`};case"file":throw new ze({functionality:"File content parts in user messages"})}})});break}case"assistant":{let l="";const c=[];for(const f of s)switch(f.type){case"text":{l+=f.text;break}case"tool-call":{c.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)}});break}default:{const d=f;throw new Error(`Unsupported part: ${d}`)}}t.push({role:"assistant",content:l,prefix:o?!0:void 0,tool_calls:c.length>0?c:void 0});break}case"tool":{for(const l of s)t.push({role:"tool",name:l.toolName,content:JSON.stringify(l.result),tool_call_id:l.toolCallId});break}default:{const l=r;throw new Error(`Unsupported role: ${l}`)}}}return t}function F0(e){switch(e){case"stop":return"stop";case"length":case"model_length":return"length";case"tool_calls":return"tool-calls";default:return"unknown"}}var ED=v.object({object:v.literal("error"),message:v.string(),type:v.string(),param:v.string().nullable(),code:v.string().nullable()}),rh=Sr({errorSchema:ED,errorToMessage:e=>e.message});function z0({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function TD(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const s=[];for(const c of n)c.type==="provider-defined"?r.push({type:"unsupported-tool",tool:c}):s.push({type:"function",function:{name:c.name,description:c.description,parameters:c.parameters}});const o=e.toolChoice;if(o==null)return{tools:s,tool_choice:void 0,toolWarnings:r};const l=o.type;switch(l){case"auto":case"none":return{tools:s,tool_choice:l,toolWarnings:r};case"required":return{tools:s,tool_choice:"any",toolWarnings:r};case"tool":return{tools:s.filter(c=>c.function.name===o.toolName),tool_choice:"any",toolWarnings:r};default:{const c=l;throw new ze({functionality:`Unsupported tool choice type: ${c}`})}}}var ID=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:o,frequencyPenalty:l,presencePenalty:c,stopSequences:f,responseFormat:d,seed:h}){const g=e.type,y=[];o!=null&&y.push({type:"unsupported-setting",setting:"topK"}),l!=null&&y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),c!=null&&y.push({type:"unsupported-setting",setting:"presencePenalty"}),f!=null&&y.push({type:"unsupported-setting",setting:"stopSequences"}),d!=null&&d.type==="json"&&d.schema!=null&&y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const x={model:this.modelId,safe_prompt:this.settings.safePrompt,max_tokens:n,temperature:r,top_p:s,random_seed:h,response_format:(d==null?void 0:d.type)==="json"?{type:"json_object"}:void 0,messages:CD(t)};switch(g){case"regular":{const{tools:_,tool_choice:k,toolWarnings:C}=TD(e);return{args:{...x,tools:_,tool_choice:k},warnings:[...y,...C]}}case"object-json":return{args:{...x,response_format:{type:"json_object"}},warnings:y};case"object-tool":return{args:{...x,tool_choice:"any",tools:[{type:"function",function:e.tool}]},warnings:y};default:{const _=g;throw new Error(`Unsupported type: ${_}`)}}}async doGenerate(e){var t,n;const{args:r,warnings:s}=this.getArgs(e),{responseHeaders:o,value:l}=await it({url:`${this.config.baseURL}/chat/completions`,headers:mt(this.config.headers(),e.headers),body:r,failedResponseHandler:rh,successfulResponseHandler:Vt(ND),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:c,...f}=r,d=l.choices[0];let h=(t=d.message.content)!=null?t:void 0;const g=c[c.length-1];return g.role==="assistant"&&(h!=null&&h.startsWith(g.content))&&(h=h.slice(g.content.length)),{text:h,toolCalls:(n=d.message.tool_calls)==null?void 0:n.map(y=>({toolCallType:"function",toolCallId:y.id,toolName:y.function.name,args:y.function.arguments})),finishReason:F0(d.finish_reason),usage:{promptTokens:l.usage.prompt_tokens,completionTokens:l.usage.completion_tokens},rawCall:{rawPrompt:c,rawSettings:f},rawResponse:{headers:o},request:{body:JSON.stringify(r)},response:z0(l),warnings:s}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0},{responseHeaders:s,value:o}=await it({url:`${this.config.baseURL}/chat/completions`,headers:mt(this.config.headers(),e.headers),body:r,failedResponseHandler:rh,successfulResponseHandler:Na(OD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...c}=t;let f="unknown",d={promptTokens:Number.NaN,completionTokens:Number.NaN},h=0,g=!1;return{stream:o.pipeThrough(new TransformStream({transform(y,x){if(!y.success){x.enqueue({type:"error",error:y.error});return}h++;const _=y.value;h===1&&x.enqueue({type:"response-metadata",...z0(_)}),_.usage!=null&&(d={promptTokens:_.usage.prompt_tokens,completionTokens:_.usage.completion_tokens});const k=_.choices[0];if((k==null?void 0:k.finish_reason)!=null&&(f=F0(k.finish_reason)),(k==null?void 0:k.delta)==null)return;const C=k.delta;if(h<=2){const S=l[l.length-1];if(S.role==="assistant"&&C.content===S.content.trimEnd()){C.content.length<S.content.length&&(g=!0);return}}if(C.content!=null&&(x.enqueue({type:"text-delta",textDelta:g?C.content.trimStart():C.content}),g=!1),C.tool_calls!=null)for(const S of C.tool_calls)x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:S.id,toolName:S.function.name,argsTextDelta:S.function.arguments}),x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:S.id,toolName:S.function.name,args:S.function.arguments})},flush(y){y.enqueue({type:"finish",finishReason:f,usage:d})}})),rawCall:{rawPrompt:l,rawSettings:c},rawResponse:{headers:s},request:{body:JSON.stringify(r)},warnings:n}}},ND=v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({message:v.object({role:v.literal("assistant"),content:v.string().nullable(),tool_calls:v.array(v.object({id:v.string(),function:v.object({name:v.string(),arguments:v.string()})})).nullish()}),index:v.number(),finish_reason:v.string().nullish()})),object:v.literal("chat.completion"),usage:v.object({prompt_tokens:v.number(),completion_tokens:v.number()})}),OD=v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({delta:v.object({role:v.enum(["assistant"]).optional(),content:v.string().nullish(),tool_calls:v.array(v.object({id:v.string(),function:v.object({name:v.string(),arguments:v.string()})})).nullish()}),finish_reason:v.string().nullish(),index:v.number()})),usage:v.object({prompt_tokens:v.number(),completion_tokens:v.number()}).nullish()}),PD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:32}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!1}async doEmbed({values:e,abortSignal:t,headers:n}){if(e.length>this.maxEmbeddingsPerCall)throw new dl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:s}=await it({url:`${this.config.baseURL}/embeddings`,headers:mt(this.config.headers(),n),body:{model:this.modelId,input:e,encoding_format:"float"},failedResponseHandler:rh,successfulResponseHandler:Vt(RD),abortSignal:t,fetch:this.config.fetch});return{embeddings:s.data.map(o=>o.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},RD=v.object({data:v.array(v.object({embedding:v.array(v.number())})),usage:v.object({prompt_tokens:v.number()}).nullish()});function g_(e={}){var t;const n=(t=Vr(e.baseURL))!=null?t:"https://api.mistral.ai/v1",r=()=>({Authorization:`Bearer ${Ia({apiKey:e.apiKey,environmentVariableName:"MISTRAL_API_KEY",description:"Mistral"})}`,...e.headers}),s=(c,f={})=>new ID(c,f,{provider:"mistral.chat",baseURL:n,headers:r,fetch:e.fetch}),o=(c,f={})=>new PD(c,f,{provider:"mistral.embedding",baseURL:n,headers:r,fetch:e.fetch}),l=function(c,f){if(new.target)throw new Error("The Mistral model function cannot be called with the new keyword.");return s(c,f)};return l.languageModel=s,l.chat=s,l.embedding=o,l.textEmbedding=o,l.textEmbeddingModel=o,l}g_();function ao(e){var t,n;return(n=(t=e==null?void 0:e.providerMetadata)==null?void 0:t.openaiCompatible)!=null?n:{}}function AD(e){const t=[];for(const{role:n,content:r,...s}of e){const o=ao({...s});switch(n){case"system":{t.push({role:"system",content:r,...o});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text,...ao(r[0])});break}t.push({role:"user",content:r.map(l=>{var c;const f=ao(l);switch(l.type){case"text":return{type:"text",text:l.text,...f};case"image":return{type:"image_url",image_url:{url:l.image instanceof URL?l.image.toString():`data:${(c=l.mimeType)!=null?c:"image/jpeg"};base64,${Ur(l.image)}`},...f};case"file":throw new ze({functionality:"File content parts in user messages"})}}),...o});break}case"assistant":{let l="";const c=[];for(const f of r){const d=ao(f);switch(f.type){case"text":{l+=f.text;break}case"tool-call":{c.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)},...d});break}default:{const h=f;throw new Error(`Unsupported part: ${h}`)}}}t.push({role:"assistant",content:l,tool_calls:c.length>0?c:void 0,...o});break}case"tool":{for(const l of r){const c=ao(l);t.push({role:"tool",tool_call_id:l.toolCallId,content:JSON.stringify(l.result),...c})}break}default:{const l=n;throw new Error(`Unsupported role: ${l}`)}}}return t}function pc({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function hc(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var jD=v.object({error:v.object({message:v.string(),type:v.string().nullish(),param:v.any().nullish(),code:v.union([v.string(),v.number()]).nullish()})}),Xh={errorSchema:jD};function DD({mode:e,structuredOutputs:t}){var n;const r=(n=e.tools)!=null&&n.length?e.tools:void 0,s=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:s};const o=e.toolChoice,l=[];for(const f of r)f.type==="provider-defined"?s.push({type:"unsupported-tool",tool:f}):l.push({type:"function",function:{name:f.name,description:f.description,parameters:f.parameters}});if(o==null)return{tools:l,tool_choice:void 0,toolWarnings:s};const c=o.type;switch(c){case"auto":case"none":case"required":return{tools:l,tool_choice:c,toolWarnings:s};case"tool":return{tools:l,tool_choice:{type:"function",function:{name:o.toolName}},toolWarnings:s};default:{const f=c;throw new ze({functionality:`Unsupported tool choice type: ${f}`})}}}var Qh=class{constructor(e,t,n){this.specificationVersion="v1";var r,s;this.modelId=e,this.settings=t,this.config=n;const o=(r=n.errorStructure)!=null?r:Xh;this.chunkSchema=LD(o.errorSchema),this.failedResponseHandler=Sr(o),this.supportsStructuredOutputs=(s=n.supportsStructuredOutputs)!=null?s:!1}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:o,frequencyPenalty:l,presencePenalty:c,providerMetadata:f,stopSequences:d,responseFormat:h,seed:g}){var y,x;const _=e.type,k=[];o!=null&&k.push({type:"unsupported-setting",setting:"topK"}),(h==null?void 0:h.type)==="json"&&h.schema!=null&&!this.supportsStructuredOutputs&&k.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const C={model:this.modelId,user:this.settings.user,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:c,response_format:(h==null?void 0:h.type)==="json"?this.supportsStructuredOutputs===!0&&h.schema!=null?{type:"json_schema",json_schema:{schema:h.schema,name:(y=h.name)!=null?y:"response",description:h.description}}:{type:"json_object"}:void 0,stop:d,seed:g,...f==null?void 0:f[this.providerOptionsName],messages:AD(t)};switch(_){case"regular":{const{tools:S,tool_choice:T,toolWarnings:I}=DD({mode:e,structuredOutputs:this.supportsStructuredOutputs});return{args:{...C,tools:S,tool_choice:T},warnings:[...k,...I]}}case"object-json":return{args:{...C,response_format:this.supportsStructuredOutputs===!0&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,name:(x=e.name)!=null?x:"response",description:e.description}}:{type:"json_object"}},warnings:k};case"object-tool":return{args:{...C,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:k};default:{const S=_;throw new Error(`Unsupported type: ${S}`)}}}async doGenerate(e){var t,n,r,s,o,l,c,f,d;const{args:h,warnings:g}=this.getArgs({...e}),y=JSON.stringify(h),{responseHeaders:x,value:_,rawValue:k}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:h,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Vt(MD),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:C,...S}=h,T=_.choices[0],I=(n=(t=this.config.metadataExtractor)==null?void 0:t.extractMetadata)==null?void 0:n.call(t,{parsedBody:k});return{text:(r=T.message.content)!=null?r:void 0,reasoning:(s=T.message.reasoning_content)!=null?s:void 0,toolCalls:(o=T.message.tool_calls)==null?void 0:o.map(A=>{var D;return{toolCallType:"function",toolCallId:(D=A.id)!=null?D:Xt(),toolName:A.function.name,args:A.function.arguments}}),finishReason:hc(T.finish_reason),usage:{promptTokens:(c=(l=_.usage)==null?void 0:l.prompt_tokens)!=null?c:NaN,completionTokens:(d=(f=_.usage)==null?void 0:f.completion_tokens)!=null?d:NaN},...I&&{providerMetadata:I},rawCall:{rawPrompt:C,rawSettings:S},rawResponse:{headers:x},response:pc(_),warnings:g,request:{body:y}}}async doStream(e){var t;if(this.settings.simulateStreaming){const _=await this.doGenerate(e);return{stream:new ReadableStream({start(C){if(C.enqueue({type:"response-metadata",..._.response}),_.reasoning&&C.enqueue({type:"reasoning",textDelta:_.reasoning}),_.text&&C.enqueue({type:"text-delta",textDelta:_.text}),_.toolCalls)for(const S of _.toolCalls)C.enqueue({type:"tool-call",...S});C.enqueue({type:"finish",finishReason:_.finishReason,usage:_.usage,logprobs:_.logprobs,providerMetadata:_.providerMetadata}),C.close()}}),rawCall:_.rawCall,rawResponse:_.rawResponse,warnings:_.warnings}}const{args:n,warnings:r}=this.getArgs({...e}),s=JSON.stringify({...n,stream:!0}),o=(t=this.config.metadataExtractor)==null?void 0:t.createStreamExtractor(),{responseHeaders:l,value:c}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:{...n,stream:!0},failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Na(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...d}=n,h=[];let g="unknown",y={promptTokens:void 0,completionTokens:void 0},x=!0;return{stream:c.pipeThrough(new TransformStream({transform(_,k){var C,S,T,I,A,D,L,H,ne,ue,pe,re,oe,se;if(!_.success){g="error",k.enqueue({type:"error",error:_.error});return}const G=_.value;if(o==null||o.processChunk(_.rawValue),"error"in G){g="error",k.enqueue({type:"error",error:G.error.message});return}x&&(x=!1,k.enqueue({type:"response-metadata",...pc(G)})),G.usage!=null&&(y={promptTokens:(C=G.usage.prompt_tokens)!=null?C:void 0,completionTokens:(S=G.usage.completion_tokens)!=null?S:void 0});const ie=G.choices[0];if((ie==null?void 0:ie.finish_reason)!=null&&(g=hc(ie.finish_reason)),(ie==null?void 0:ie.delta)==null)return;const he=ie.delta;if(he.reasoning_content!=null&&k.enqueue({type:"reasoning",textDelta:he.reasoning_content}),he.content!=null&&k.enqueue({type:"text-delta",textDelta:he.content}),he.tool_calls!=null)for(const ce of he.tool_calls){const V=ce.index;if(h[V]==null){if(ce.type!=="function")throw new Fr({data:ce,message:"Expected 'function' type."});if(ce.id==null)throw new Fr({data:ce,message:"Expected 'id' to be a string."});if(((T=ce.function)==null?void 0:T.name)==null)throw new Fr({data:ce,message:"Expected 'function.name' to be a string."});h[V]={id:ce.id,type:"function",function:{name:ce.function.name,arguments:(I=ce.function.arguments)!=null?I:""},hasFinished:!1};const N=h[V];((A=N.function)==null?void 0:A.name)!=null&&((D=N.function)==null?void 0:D.arguments)!=null&&(N.function.arguments.length>0&&k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:N.id,toolName:N.function.name,argsTextDelta:N.function.arguments}),ai(N.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(L=N.id)!=null?L:Xt(),toolName:N.function.name,args:N.function.arguments}),N.hasFinished=!0));continue}const W=h[V];W.hasFinished||(((H=ce.function)==null?void 0:H.arguments)!=null&&(W.function.arguments+=(ue=(ne=ce.function)==null?void 0:ne.arguments)!=null?ue:""),k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:W.id,toolName:W.function.name,argsTextDelta:(pe=ce.function.arguments)!=null?pe:""}),((re=W.function)==null?void 0:re.name)!=null&&((oe=W.function)==null?void 0:oe.arguments)!=null&&ai(W.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(se=W.id)!=null?se:Xt(),toolName:W.function.name,args:W.function.arguments}),W.hasFinished=!0))}},flush(_){var k,C;const S=o==null?void 0:o.buildMetadata();_.enqueue({type:"finish",finishReason:g,usage:{promptTokens:(k=y.promptTokens)!=null?k:NaN,completionTokens:(C=y.completionTokens)!=null?C:NaN},...S&&{providerMetadata:S}})}})),rawCall:{rawPrompt:f,rawSettings:d},rawResponse:{headers:l},warnings:r,request:{body:s}}}},MD=v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({message:v.object({role:v.literal("assistant").nullish(),content:v.string().nullish(),reasoning_content:v.string().nullish(),tool_calls:v.array(v.object({id:v.string().nullish(),type:v.literal("function"),function:v.object({name:v.string(),arguments:v.string()})})).nullish()}),finish_reason:v.string().nullish()})),usage:v.object({prompt_tokens:v.number().nullish(),completion_tokens:v.number().nullish()}).nullish()}),LD=e=>v.union([v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({delta:v.object({role:v.enum(["assistant"]).nullish(),content:v.string().nullish(),reasoning_content:v.string().nullish(),tool_calls:v.array(v.object({index:v.number(),id:v.string().nullish(),type:v.literal("function").optional(),function:v.object({name:v.string().nullish(),arguments:v.string().nullish()})})).nullish()}).nullish(),finish_reason:v.string().nullish()})),usage:v.object({prompt_tokens:v.number().nullish(),completion_tokens:v.number().nullish()}).nullish()}),e]);function FD({prompt:e,inputFormat:t,user:n="user",assistant:r="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(const{role:o,content:l}of e)switch(o){case"system":throw new ya({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const c=l.map(f=>{switch(f.type){case"text":return f.text;case"image":throw new ze({functionality:"images"})}}).join("");s+=`${n}:
${c}

`;break}case"assistant":{const c=l.map(f=>{switch(f.type){case"text":return f.text;case"tool-call":throw new ze({functionality:"tool-call messages"})}}).join("");s+=`${r}:
${c}

`;break}case"tool":throw new ze({functionality:"tool messages"});default:{const c=o;throw new Error(`Unsupported role: ${c}`)}}return s+=`${r}:
`,{prompt:s,stopSequences:[`
${n}:`]}}var zD=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0;var r;this.modelId=e,this.settings=t,this.config=n;const s=(r=n.errorStructure)!=null?r:Xh;this.chunkSchema=UD(s.errorSchema),this.failedResponseHandler=Sr(s)}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,inputFormat:t,prompt:n,maxTokens:r,temperature:s,topP:o,topK:l,frequencyPenalty:c,presencePenalty:f,stopSequences:d,responseFormat:h,seed:g,providerMetadata:y}){var x;const _=e.type,k=[];l!=null&&k.push({type:"unsupported-setting",setting:"topK"}),h!=null&&h.type!=="text"&&k.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:C,stopSequences:S}=FD({prompt:n,inputFormat:t}),T=[...S??[],...d??[]],I={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,suffix:this.settings.suffix,user:this.settings.user,max_tokens:r,temperature:s,top_p:o,frequency_penalty:c,presence_penalty:f,seed:g,...y==null?void 0:y[this.providerOptionsName],prompt:C,stop:T.length>0?T:void 0};switch(_){case"regular":{if((x=e.tools)!=null&&x.length)throw new ze({functionality:"tools"});if(e.toolChoice)throw new ze({functionality:"toolChoice"});return{args:I,warnings:k}}case"object-json":throw new ze({functionality:"object-json mode"});case"object-tool":throw new ze({functionality:"object-tool mode"});default:{const A=_;throw new Error(`Unsupported type: ${A}`)}}}async doGenerate(e){var t,n,r,s;const{args:o,warnings:l}=this.getArgs(e),{responseHeaders:c,value:f}=await it({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:o,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Vt($D),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:d,...h}=o,g=f.choices[0];return{text:g.text,usage:{promptTokens:(n=(t=f.usage)==null?void 0:t.prompt_tokens)!=null?n:NaN,completionTokens:(s=(r=f.usage)==null?void 0:r.completion_tokens)!=null?s:NaN},finishReason:hc(g.finish_reason),rawCall:{rawPrompt:d,rawSettings:h},rawResponse:{headers:c},response:pc(f),warnings:l,request:{body:JSON.stringify(o)}}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0},{responseHeaders:s,value:o}=await it({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:r,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Na(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:l,...c}=t;let f="unknown",d={promptTokens:Number.NaN,completionTokens:Number.NaN},h=!0;return{stream:o.pipeThrough(new TransformStream({transform(g,y){if(!g.success){f="error",y.enqueue({type:"error",error:g.error});return}const x=g.value;if("error"in x){f="error",y.enqueue({type:"error",error:x.error});return}h&&(h=!1,y.enqueue({type:"response-metadata",...pc(x)})),x.usage!=null&&(d={promptTokens:x.usage.prompt_tokens,completionTokens:x.usage.completion_tokens});const _=x.choices[0];(_==null?void 0:_.finish_reason)!=null&&(f=hc(_.finish_reason)),(_==null?void 0:_.text)!=null&&y.enqueue({type:"text-delta",textDelta:_.text})},flush(g){g.enqueue({type:"finish",finishReason:f,usage:d})}})),rawCall:{rawPrompt:l,rawSettings:c},rawResponse:{headers:s},warnings:n,request:{body:JSON.stringify(r)}}}},$D=v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({text:v.string(),finish_reason:v.string()})),usage:v.object({prompt_tokens:v.number(),completion_tokens:v.number()}).nullish()}),UD=e=>v.union([v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({text:v.string(),finish_reason:v.string().nullish(),index:v.number()})),usage:v.object({prompt_tokens:v.number(),completion_tokens:v.number()}).nullish()}),e]),BD=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.config.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.config.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:n}){var r;if(e.length>this.maxEmbeddingsPerCall)throw new dl({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:s,value:o}=await it({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:mt(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Sr((r=this.config.errorStructure)!=null?r:Xh),successfulResponseHandler:Vt(HD),abortSignal:n,fetch:this.config.fetch});return{embeddings:o.data.map(l=>l.embedding),usage:o.usage?{tokens:o.usage.prompt_tokens}:void 0,rawResponse:{headers:s}}}},HD=v.object({data:v.array(v.object({embedding:v.array(v.number())})),usage:v.object({prompt_tokens:v.number()}).nullish()});function qD(e){const t=Vr(e.baseURL),n=e.name,r=()=>({...e.apiKey&&{Authorization:`Bearer ${e.apiKey}`},...e.headers}),s=h=>({provider:`${n}.${h}`,url:({path:g})=>{const y=new URL(`${t}${g}`);return e.queryParams&&(y.search=new URLSearchParams(e.queryParams).toString()),y.toString()},headers:r,fetch:e.fetch}),o=(h,g={})=>l(h,g),l=(h,g={})=>new Qh(h,g,{...s("chat"),defaultObjectGenerationMode:"tool"}),c=(h,g={})=>new zD(h,g,s("completion")),f=(h,g={})=>new BD(h,g,s("embedding")),d=(h,g)=>o(h,g);return d.languageModel=o,d.chatModel=l,d.completionModel=c,d.textEmbeddingModel=f,d}function VD(e){return["grok-2-1212","grok-2-vision-1212"].includes(e)}var WD=v.object({code:v.string(),error:v.string()}),ZD={errorSchema:WD,errorToMessage:e=>e.error};function y_(e={}){var t;const n=Vr((t=e.baseURL)!=null?t:"https://api.x.ai/v1"),r=()=>({Authorization:`Bearer ${Ia({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"})}`,...e.headers}),s=(l,c={})=>{const f=VD(l);return new Qh(l,c,{provider:"xai.chat",url:({path:d})=>`${n}${d}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:f?"json":"tool",errorStructure:ZD,supportsStructuredOutputs:f})},o=(l,c)=>s(l,c);return o.languageModel=s,o.chat=s,o.textEmbeddingModel=l=>{throw new ri({modelId:l,modelType:"textEmbeddingModel"})},o}y_();var $0=e=>{var t,n;return e==null?void 0:{deepseek:{promptCacheHitTokens:(t=e.prompt_cache_hit_tokens)!=null?t:NaN,promptCacheMissTokens:(n=e.prompt_cache_miss_tokens)!=null?n:NaN}}},YD={extractMetadata:({parsedBody:e})=>{const t=is({value:e,schema:GD});return!t.success||t.value.usage==null?void 0:$0(t.value.usage)},createStreamExtractor:()=>{let e;return{processChunk:t=>{var n,r;const s=is({value:t,schema:JD});s.success&&((r=(n=s.value.choices)==null?void 0:n[0])==null?void 0:r.finish_reason)==="stop"&&s.value.usage&&(e=s.value.usage)},buildMetadata:()=>$0(e)}}},v_=v.object({prompt_cache_hit_tokens:v.number().nullish(),prompt_cache_miss_tokens:v.number().nullish()}),GD=v.object({usage:v_.nullish()}),JD=v.object({choices:v.array(v.object({finish_reason:v.string().nullish()})).nullish(),usage:v_.nullish()});function x_(e={}){var t;const n=Vr((t=e.baseURL)!=null?t:"https://api.deepseek.com/v1"),r=()=>({Authorization:`Bearer ${Ia({apiKey:e.apiKey,environmentVariableName:"DEEPSEEK_API_KEY",description:"DeepSeek API key"})}`,...e.headers}),s=(l,c={})=>new Qh(l,c,{provider:"deepseek.chat",url:({path:f})=>`${n}${f}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:"json",metadataExtractor:YD}),o=(l,c)=>s(l,c);return o.languageModel=s,o.chat=s,o.textEmbeddingModel=l=>{throw new ri({modelId:l,modelType:"textEmbeddingModel"})},o}x_();function KD(e){const t=[];for(const{role:n,content:r}of e)switch(n){case"system":{t.push({role:"system",content:r});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text});break}t.push({role:"user",content:r.map(s=>{var o;switch(s.type){case"text":return{type:"text",text:s.text};case"image":return{type:"image_url",image_url:{url:s.image instanceof URL?s.image.toString():`data:${(o=s.mimeType)!=null?o:"image/jpeg"};base64,${Ur(s.image)}`}};case"file":throw new ze({functionality:"File content parts in user messages"})}})});break}case"assistant":{let s="";const o=[];for(const l of r)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{o.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.args)}});break}default:{const c=l;throw new Error(`Unsupported part: ${c}`)}}t.push({role:"assistant",content:s,tool_calls:o.length>0?o:void 0});break}case"tool":{for(const s of r)t.push({role:"tool",tool_call_id:s.toolCallId,content:JSON.stringify(s.result)});break}default:{const s=n;throw new Error(`Unsupported role: ${s}`)}}return t}function U0({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}var w_=v.object({error:v.object({message:v.string(),type:v.string()})}),B0=Sr({errorSchema:w_,errorToMessage:e=>e.error.message});function XD({mode:e}){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const s=e.toolChoice,o=[];for(const c of n)c.type==="provider-defined"?r.push({type:"unsupported-tool",tool:c}):o.push({type:"function",function:{name:c.name,description:c.description,parameters:c.parameters}});if(s==null)return{tools:o,tool_choice:void 0,toolWarnings:r};const l=s.type;switch(l){case"auto":case"none":case"required":return{tools:o,tool_choice:l,toolWarnings:r};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:s.toolName}},toolWarnings:r};default:{const c=l;throw new ze({functionality:`Unsupported tool choice type: ${c}`})}}}function H0(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var QD=class{constructor(e,t,n){this.specificationVersion="v1",this.supportsStructuredOutputs=!1,this.defaultObjectGenerationMode="json",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:s,topK:o,frequencyPenalty:l,presencePenalty:c,stopSequences:f,responseFormat:d,seed:h,stream:g}){const y=e.type,x=[];o!=null&&x.push({type:"unsupported-setting",setting:"topK"}),d!=null&&d.type==="json"&&d.schema!=null&&x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const _={model:this.modelId,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:s,frequency_penalty:l,presence_penalty:c,stop:f,seed:h,response_format:g===!1&&(d==null?void 0:d.type)==="json"?{type:"json_object"}:void 0,messages:KD(t)};switch(y){case"regular":{const{tools:k,tool_choice:C,toolWarnings:S}=XD({mode:e});return{args:{..._,tools:k,tool_choice:C},warnings:[...x,...S]}}case"object-json":return{args:{..._,response_format:g===!1?{type:"json_object"}:void 0},warnings:x};case"object-tool":return{args:{..._,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:x};default:{const k=y;throw new Error(`Unsupported type: ${k}`)}}}async doGenerate(e){var t,n,r,s,o,l;const{args:c,warnings:f}=this.getArgs({...e,stream:!1}),d=JSON.stringify(c),{responseHeaders:h,value:g}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:c,failedResponseHandler:B0,successfulResponseHandler:Vt(eM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:y,...x}=c,_=g.choices[0];return{text:(t=_.message.content)!=null?t:void 0,toolCalls:(n=_.message.tool_calls)==null?void 0:n.map(k=>{var C;return{toolCallType:"function",toolCallId:(C=k.id)!=null?C:Xt(),toolName:k.function.name,args:k.function.arguments}}),finishReason:H0(_.finish_reason),usage:{promptTokens:(s=(r=g.usage)==null?void 0:r.prompt_tokens)!=null?s:NaN,completionTokens:(l=(o=g.usage)==null?void 0:o.completion_tokens)!=null?l:NaN},rawCall:{rawPrompt:y,rawSettings:x},rawResponse:{headers:h},response:U0(g),warnings:f,request:{body:d}}}async doStream(e){const{args:t,warnings:n}=this.getArgs({...e,stream:!0}),r=JSON.stringify({...t,stream:!0}),{responseHeaders:s,value:o}=await it({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:mt(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:B0,successfulResponseHandler:Na(tM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...c}=t,f=[];let d="unknown",h={promptTokens:void 0,completionTokens:void 0},g=!0;return{stream:o.pipeThrough(new TransformStream({transform(y,x){var _,k,C,S,T,I,A,D,L,H,ne,ue,pe,re,oe;if(!y.success){d="error",x.enqueue({type:"error",error:y.error});return}const se=y.value;if("error"in se){d="error",x.enqueue({type:"error",error:se.error});return}g&&(g=!1,x.enqueue({type:"response-metadata",...U0(se)})),((_=se.x_groq)==null?void 0:_.usage)!=null&&(h={promptTokens:(k=se.x_groq.usage.prompt_tokens)!=null?k:void 0,completionTokens:(C=se.x_groq.usage.completion_tokens)!=null?C:void 0});const G=se.choices[0];if((G==null?void 0:G.finish_reason)!=null&&(d=H0(G.finish_reason)),(G==null?void 0:G.delta)==null)return;const ie=G.delta;if(ie.content!=null&&x.enqueue({type:"text-delta",textDelta:ie.content}),ie.tool_calls!=null)for(const he of ie.tool_calls){const ce=he.index;if(f[ce]==null){if(he.type!=="function")throw new Fr({data:he,message:"Expected 'function' type."});if(he.id==null)throw new Fr({data:he,message:"Expected 'id' to be a string."});if(((S=he.function)==null?void 0:S.name)==null)throw new Fr({data:he,message:"Expected 'function.name' to be a string."});f[ce]={id:he.id,type:"function",function:{name:he.function.name,arguments:(T=he.function.arguments)!=null?T:""},hasFinished:!1};const W=f[ce];((I=W.function)==null?void 0:I.name)!=null&&((A=W.function)==null?void 0:A.arguments)!=null&&(W.function.arguments.length>0&&x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:W.id,toolName:W.function.name,argsTextDelta:W.function.arguments}),ai(W.function.arguments)&&(x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(D=W.id)!=null?D:Xt(),toolName:W.function.name,args:W.function.arguments}),W.hasFinished=!0));continue}const V=f[ce];V.hasFinished||(((L=he.function)==null?void 0:L.arguments)!=null&&(V.function.arguments+=(ne=(H=he.function)==null?void 0:H.arguments)!=null?ne:""),x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:V.id,toolName:V.function.name,argsTextDelta:(ue=he.function.arguments)!=null?ue:""}),((pe=V.function)==null?void 0:pe.name)!=null&&((re=V.function)==null?void 0:re.arguments)!=null&&ai(V.function.arguments)&&(x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(oe=V.id)!=null?oe:Xt(),toolName:V.function.name,args:V.function.arguments}),V.hasFinished=!0))}},flush(y){var x,_;y.enqueue({type:"finish",finishReason:d,usage:{promptTokens:(x=h.promptTokens)!=null?x:NaN,completionTokens:(_=h.completionTokens)!=null?_:NaN}})}})),rawCall:{rawPrompt:l,rawSettings:c},rawResponse:{headers:s},warnings:n,request:{body:r}}}},eM=v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({message:v.object({role:v.literal("assistant").nullish(),content:v.string().nullish(),tool_calls:v.array(v.object({id:v.string().nullish(),type:v.literal("function"),function:v.object({name:v.string(),arguments:v.string()})})).nullish()}),index:v.number(),finish_reason:v.string().nullish()})),usage:v.object({prompt_tokens:v.number().nullish(),completion_tokens:v.number().nullish()}).nullish()}),tM=v.union([v.object({id:v.string().nullish(),created:v.number().nullish(),model:v.string().nullish(),choices:v.array(v.object({delta:v.object({role:v.enum(["assistant"]).nullish(),content:v.string().nullish(),tool_calls:v.array(v.object({index:v.number(),id:v.string().nullish(),type:v.literal("function").optional(),function:v.object({name:v.string().nullish(),arguments:v.string().nullish()})})).nullish()}).nullish(),finish_reason:v.string().nullable().optional(),index:v.number()})),x_groq:v.object({usage:v.object({prompt_tokens:v.number().nullish(),completion_tokens:v.number().nullish()}).nullish()}).nullish()}),w_]);function b_(e={}){var t;const n=(t=Vr(e.baseURL))!=null?t:"https://api.groq.com/openai/v1",r=()=>({Authorization:`Bearer ${Ia({apiKey:e.apiKey,environmentVariableName:"GROQ_API_KEY",description:"Groq"})}`,...e.headers}),s=(c,f={})=>new QD(c,f,{provider:"groq.chat",url:({path:d})=>`${n}${d}`,headers:r,fetch:e.fetch}),o=(c,f)=>{if(new.target)throw new Error("The Groq model function cannot be called with the new keyword.");return s(c,f)},l=function(c,f){return o(c,f)};return l.languageModel=o,l.chat=s,l.textEmbeddingModel=c=>{throw new ri({modelId:c,modelType:"textEmbeddingModel"})},l}b_();var nM=v.object({detail:v.string().optional(),error:v.string().optional()}),q0=Sr({errorSchema:nM,errorToMessage:e=>{var t,n;return(n=(t=e.detail)!=null?t:e.error)!=null?n:"Unknown Replicate error"}}),rM=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get provider(){return this.config.provider}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:1}async doGenerate({prompt:e,n:t,aspectRatio:n,size:r,seed:s,providerOptions:o,headers:l,abortSignal:c}){var f,d,h,g;const y=[],[x,_]=this.modelId.split(":"),k=(h=(d=(f=this.config._internal)==null?void 0:f.currentDate)==null?void 0:d.call(f))!=null?h:new Date,{value:{output:C},responseHeaders:S}=await it({url:_!=null?`${this.config.baseURL}/predictions`:`${this.config.baseURL}/models/${x}/predictions`,headers:mt(await So(this.config.headers),l,{prefer:"wait"}),body:{input:{prompt:e,aspect_ratio:n,size:r,seed:s,num_outputs:t,...(g=o.replicate)!=null?g:{}},..._!=null?{version:_}:{}},successfulResponseHandler:Vt(aM),failedResponseHandler:q0,abortSignal:c,fetch:this.config.fetch}),T=Array.isArray(C)?C:[C];return{images:await Promise.all(T.map(async A=>{const{value:D}=await a3({url:A,successfulResponseHandler:p3(),failedResponseHandler:q0,abortSignal:c,fetch:this.config.fetch});return D})),warnings:y,response:{timestamp:k,modelId:this.modelId,headers:S}}}},aM=v.object({output:v.union([v.array(v.string()),v.string()])});function sM(e={}){const t=(n,r)=>{var s;return new rM(n,r??{},{provider:"replicate",baseURL:(s=e.baseURL)!=null?s:"https://api.replicate.com/v1",headers:{Authorization:`Bearer ${Ia({apiKey:e.apiToken,environmentVariableName:"REPLICATE_API_TOKEN",description:"Replicate"})}`,...e.headers},fetch:e.fetch})};return{image:t,imageModel:t,languageModel:()=>{throw new ri({modelId:"languageModel",modelType:"languageModel"})},textEmbeddingModel:()=>{throw new ri({modelId:"textEmbeddingModel",modelType:"textEmbeddingModel"})}}}const iM=({aiService:e,modelName:t})=>{switch(e==null?void 0:e.service){case"Ollama":{if(!e.url)throw new Error("No Ollama URL found");return c_({baseURL:e.url})(t)}case"OpenAI":{if(!e.apiKey)throw new Error("No OpenAI API key found");return u_({apiKey:e.apiKey,compatibility:"strict"})(t)}case"Anthropic":{if(!e.apiKey)throw new Error("No Anthropic URL found");return d_({apiKey:e.apiKey})(t)}case"Google":{if(!e.apiKey)throw new Error("No Google API key found");return m_({apiKey:e.apiKey})(t)}case"Mistral":return g_({apiKey:e.apiKey})(t);case"xAI":return y_({apiKey:e.apiKey})(t);case"DeepSeek":return x_({apiKey:e.apiKey})(t);case"Groq":return b_({apiKey:e.apiKey})(t);case"Replicate":throw e.apiKey?(sM({apiToken:e.apiKey,baseURL:e.url}),new Error("Replicate not implemented")):new Error("No Replicate API key found");case"OpenAI Compatible":{if(!e.url)throw new Error("No OpenAI Compatible API key found");return qD({apiKey:e.apiKey,baseURL:e.url,name:""})(t)}default:return null}},em=()=>({actions:{streamMessage:O.useCallback(async({chats:t,streamingCallback:n,chatHistory:r=20,aiService:s,modelName:o})=>{try{const l=iM({aiService:s,modelName:o});if(!l)throw new Error("No SDK found");const c=pj({model:l,messages:t.slice(-r).map(d=>({role:d.role,content:d.text}))});let f="";for await(const d of c.textStream)f+=d,n&&n({fullText:f,delta:d});return f}catch(l){console.error(l)}},[])}}),__=O.createContext(void 0),oM=({children:e})=>{const[t,n]=O.useState(null),[r,s]=O.useState([]),[o,l]=O.useState(!1),[c,f]=O.useState([]),d=O.useRef(!1);kr();const h=em(),g=O.useCallback(async T=>{if(o)return;l(!0);const I=await va.getById(T);if(!I){l(!1),n(null),s([]);return}n(I);const A=await $u.getByConversationId(T);s(A||[]),l(!1)},[o]);O.useEffect(()=>{(async()=>{if(!(t!=null&&t.aiServiceId))return;const I=await Xs.getAllConfigs();I&&f(I)})()},[t]);const y=O.useMemo(()=>{if(t!=null&&t.aiServiceId)return c.find(T=>T.id===t.aiServiceId)},[c,t==null?void 0:t.aiServiceId]),x=pw({config:y}),_=O.useCallback(async T=>{if(!t){console.warn("No conversation found");return}await va.update((T==null?void 0:T.id)||t.id,T),n(I=>I?{...I,...T}:null)},[t]);O.useEffect(()=>{if(d.current||t!=null&&t.aiGeneratedTitle||r.length<2||!(t!=null&&t.aiServiceId)||!y||!t.modelName)return;(async()=>{if(d.current||(d.current=!0,!t.modelName))return;const I=await h.actions.streamMessage({aiService:y,modelName:t.modelName,chats:[{role:"system",text:"You are an expert at finding titles for conversations",id:0,createdAt:0,conversationId:0},{role:"user",text:`I need a title for this conversation, it needs to concise and descriptive. <chats>${r.map(A=>`<chat><from>${A.role}</from><messages>${A.text}</message></chat>`)}</chats>  Just give me the title and nothing else. No quotes, no mention of "Title", just the title. Be strict with yourself.`,id:1,conversationId:t.id,createdAt:Date.now()}]});if(d.current=!1,I){const A=I.replace(/<think>[\s\S]*?<\/think>/g,"").trim().replace(/["']/g,"").replace(/[*_`#]/g,"").trim();if(!A)return;await _({id:t.id,name:A,aiGeneratedTitle:!0})}})()},[t,y,r,_,h.actions]);const k=O.useCallback(async T=>{if(!t){console.warn("No conversation found");return}const I={...T,conversationId:T.conversationId||t.id,createdAt:Date.now(),id:0,role:T.role||"user",text:T.text||""};T.conversationId||(T.conversationId=t.id),T.createdAt||(T.createdAt=Date.now());const A=await $u.create(I);if(!A){console.warn("Failed to create chat");return}return s(D=>[...D,A]),A},[t]),C=O.useCallback(async T=>{if(!r.find(A=>A.id===T)){console.warn("Chat not found");return}await $u.delete(T),s(A=>A.filter(D=>D.id!==T))},[r]),S={conversation:t,chats:r,isLoading:o,selectedConfig:y,configChecker:x,actions:{getByConversationId:g,update:_,chat:{add:k,delete:C}}};return b.jsx(__.Provider,{value:S,children:e})},Ac=()=>{const e=O.useContext(__);if(e===void 0)throw new Error("useConversation must be used within a ConversationProvider");return e};function lM(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const uM=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,cM=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dM={};function V0(e,t){return(dM.jsx?cM:uM).test(e)}const fM=/[ \t\n\f\r]/g;function pM(e){return typeof e=="object"?e.type==="text"?W0(e.value):!1:W0(e)}function W0(e){return e.replace(fM,"")===""}class pl{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}pl.prototype.property={};pl.prototype.normal={};pl.prototype.space=null;function k_(e,t){const n={},r={};let s=-1;for(;++s<e.length;)Object.assign(n,e[s].property),Object.assign(r,e[s].normal);return new pl(n,r,t)}function ah(e){return e.toLowerCase()}class Fn{constructor(t,n){this.property=t,this.attribute=n}}Fn.prototype.space=null;Fn.prototype.boolean=!1;Fn.prototype.booleanish=!1;Fn.prototype.overloadedBoolean=!1;Fn.prototype.number=!1;Fn.prototype.commaSeparated=!1;Fn.prototype.spaceSeparated=!1;Fn.prototype.commaOrSpaceSeparated=!1;Fn.prototype.mustUseProperty=!1;Fn.prototype.defined=!1;let hM=0;const Ae=ms(),St=ms(),S_=ms(),Q=ms(),tt=ms(),ei=ms(),vn=ms();function ms(){return 2**++hM}const sh=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ae,booleanish:St,commaOrSpaceSeparated:vn,commaSeparated:ei,number:Q,overloadedBoolean:S_,spaceSeparated:tt},Symbol.toStringTag,{value:"Module"})),tp=Object.keys(sh);class tm extends Fn{constructor(t,n,r,s){let o=-1;if(super(t,n),Z0(this,"space",s),typeof r=="number")for(;++o<tp.length;){const l=tp[o];Z0(this,tp[o],(r&sh[l])===sh[l])}}}tm.prototype.defined=!0;function Z0(e,t,n){n&&(e[t]=n)}const mM={}.hasOwnProperty;function hi(e){const t={},n={};let r;for(r in e.properties)if(mM.call(e.properties,r)){const s=e.properties[r],o=new tm(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[ah(r)]=r,n[ah(o.attribute)]=r}return new pl(t,n,e.space)}const C_=hi({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),E_=hi({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function T_(e,t){return t in e?e[t]:t}function I_(e,t){return T_(e,t.toLowerCase())}const N_=hi({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:I_,properties:{xmlns:null,xmlnsXLink:null}}),O_=hi({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:St,ariaAutoComplete:null,ariaBusy:St,ariaChecked:St,ariaColCount:Q,ariaColIndex:Q,ariaColSpan:Q,ariaControls:tt,ariaCurrent:null,ariaDescribedBy:tt,ariaDetails:null,ariaDisabled:St,ariaDropEffect:tt,ariaErrorMessage:null,ariaExpanded:St,ariaFlowTo:tt,ariaGrabbed:St,ariaHasPopup:null,ariaHidden:St,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tt,ariaLevel:Q,ariaLive:null,ariaModal:St,ariaMultiLine:St,ariaMultiSelectable:St,ariaOrientation:null,ariaOwns:tt,ariaPlaceholder:null,ariaPosInSet:Q,ariaPressed:St,ariaReadOnly:St,ariaRelevant:null,ariaRequired:St,ariaRoleDescription:tt,ariaRowCount:Q,ariaRowIndex:Q,ariaRowSpan:Q,ariaSelected:St,ariaSetSize:Q,ariaSort:null,ariaValueMax:Q,ariaValueMin:Q,ariaValueNow:Q,ariaValueText:null,role:null}}),gM=hi({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:I_,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ei,acceptCharset:tt,accessKey:tt,action:null,allow:null,allowFullScreen:Ae,allowPaymentRequest:Ae,allowUserMedia:Ae,alt:null,as:null,async:Ae,autoCapitalize:null,autoComplete:tt,autoFocus:Ae,autoPlay:Ae,blocking:tt,capture:null,charSet:null,checked:Ae,cite:null,className:tt,cols:Q,colSpan:null,content:null,contentEditable:St,controls:Ae,controlsList:tt,coords:Q|ei,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ae,defer:Ae,dir:null,dirName:null,disabled:Ae,download:S_,draggable:St,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ae,formTarget:null,headers:tt,height:Q,hidden:Ae,high:Q,href:null,hrefLang:null,htmlFor:tt,httpEquiv:tt,id:null,imageSizes:null,imageSrcSet:null,inert:Ae,inputMode:null,integrity:null,is:null,isMap:Ae,itemId:null,itemProp:tt,itemRef:tt,itemScope:Ae,itemType:tt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ae,low:Q,manifest:null,max:null,maxLength:Q,media:null,method:null,min:null,minLength:Q,multiple:Ae,muted:Ae,name:null,nonce:null,noModule:Ae,noValidate:Ae,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ae,optimum:Q,pattern:null,ping:tt,placeholder:null,playsInline:Ae,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ae,referrerPolicy:null,rel:tt,required:Ae,reversed:Ae,rows:Q,rowSpan:Q,sandbox:tt,scope:null,scoped:Ae,seamless:Ae,selected:Ae,shadowRootClonable:Ae,shadowRootDelegatesFocus:Ae,shadowRootMode:null,shape:null,size:Q,sizes:null,slot:null,span:Q,spellCheck:St,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Q,step:null,style:null,tabIndex:Q,target:null,title:null,translate:null,type:null,typeMustMatch:Ae,useMap:null,value:St,width:Q,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tt,axis:null,background:null,bgColor:null,border:Q,borderColor:null,bottomMargin:Q,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ae,declare:Ae,event:null,face:null,frame:null,frameBorder:null,hSpace:Q,leftMargin:Q,link:null,longDesc:null,lowSrc:null,marginHeight:Q,marginWidth:Q,noResize:Ae,noHref:Ae,noShade:Ae,noWrap:Ae,object:null,profile:null,prompt:null,rev:null,rightMargin:Q,rules:null,scheme:null,scrolling:St,standby:null,summary:null,text:null,topMargin:Q,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Q,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ae,disableRemotePlayback:Ae,prefix:null,property:null,results:Q,security:null,unselectable:null}}),yM=hi({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:T_,properties:{about:vn,accentHeight:Q,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Q,amplitude:Q,arabicForm:null,ascent:Q,attributeName:null,attributeType:null,azimuth:Q,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Q,by:null,calcMode:null,capHeight:Q,className:tt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Q,diffuseConstant:Q,direction:null,display:null,dur:null,divisor:Q,dominantBaseline:null,download:Ae,dx:null,dy:null,edgeMode:null,editable:null,elevation:Q,enableBackground:null,end:null,event:null,exponent:Q,externalResourcesRequired:null,fill:null,fillOpacity:Q,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ei,g2:ei,glyphName:ei,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Q,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Q,horizOriginX:Q,horizOriginY:Q,id:null,ideographic:Q,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Q,k:Q,k1:Q,k2:Q,k3:Q,k4:Q,kernelMatrix:vn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Q,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Q,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Q,overlineThickness:Q,paintOrder:null,panose1:null,path:null,pathLength:Q,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Q,pointsAtY:Q,pointsAtZ:Q,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vn,rev:vn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vn,requiredFeatures:vn,requiredFonts:vn,requiredFormats:vn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Q,specularExponent:Q,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Q,strikethroughThickness:Q,string:null,stroke:null,strokeDashArray:vn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Q,strokeOpacity:Q,strokeWidth:null,style:null,surfaceScale:Q,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vn,tabIndex:Q,tableValues:null,target:null,targetX:Q,targetY:Q,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Q,underlineThickness:Q,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Q,values:null,vAlphabetic:Q,vMathematical:Q,vectorEffect:null,vHanging:Q,vIdeographic:Q,version:null,vertAdvY:Q,vertOriginX:Q,vertOriginY:Q,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Q,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),vM=/^data[-\w.:]+$/i,Y0=/-[a-z]/g,xM=/[A-Z]/g;function wM(e,t){const n=ah(t);let r=t,s=Fn;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&vM.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(Y0,_M);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!Y0.test(o)){let l=o.replace(xM,bM);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}s=tm}return new s(r,t)}function bM(e){return"-"+e.toLowerCase()}function _M(e){return e.charAt(1).toUpperCase()}const kM={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},SM=k_([E_,C_,N_,O_,gM],"html"),nm=k_([E_,C_,N_,O_,yM],"svg");function CM(e){return e.join(" ").trim()}var qs={},np,G0;function EM(){if(G0)return np;G0=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,f=`
`,d="/",h="*",g="",y="comment",x="declaration";np=function(k,C){if(typeof k!="string")throw new TypeError("First argument must be a string");if(!k)return[];C=C||{};var S=1,T=1;function I(se){var G=se.match(t);G&&(S+=G.length);var ie=se.lastIndexOf(f);T=~ie?se.length-ie:T+se.length}function A(){var se={line:S,column:T};return function(G){return G.position=new D(se),ne(),G}}function D(se){this.start=se,this.end={line:S,column:T},this.source=C.source}D.prototype.content=k;function L(se){var G=new Error(C.source+":"+S+":"+T+": "+se);if(G.reason=se,G.filename=C.source,G.line=S,G.column=T,G.source=k,!C.silent)throw G}function H(se){var G=se.exec(k);if(G){var ie=G[0];return I(ie),k=k.slice(ie.length),G}}function ne(){H(n)}function ue(se){var G;for(se=se||[];G=pe();)G!==!1&&se.push(G);return se}function pe(){var se=A();if(!(d!=k.charAt(0)||h!=k.charAt(1))){for(var G=2;g!=k.charAt(G)&&(h!=k.charAt(G)||d!=k.charAt(G+1));)++G;if(G+=2,g===k.charAt(G-1))return L("End of comment missing");var ie=k.slice(2,G-2);return T+=2,I(ie),k=k.slice(G),T+=2,se({type:y,comment:ie})}}function re(){var se=A(),G=H(r);if(G){if(pe(),!H(s))return L("property missing ':'");var ie=H(o),he=se({type:x,property:_(G[0].replace(e,g)),value:ie?_(ie[0].replace(e,g)):g});return H(l),he}}function oe(){var se=[];ue(se);for(var G;G=re();)G!==!1&&(se.push(G),ue(se));return se}return ne(),oe()};function _(k){return k?k.replace(c,g):g}return np}var J0;function TM(){if(J0)return qs;J0=1;var e=qs&&qs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qs,"__esModule",{value:!0}),qs.default=n;var t=e(EM());function n(r,s){var o=null;if(!r||typeof r!="string")return o;var l=(0,t.default)(r),c=typeof s=="function";return l.forEach(function(f){if(f.type==="declaration"){var d=f.property,h=f.value;c?s(d,h,f):h&&(o=o||{},o[d]=h)}}),o}return qs}var IM=TM();const K0=ui(IM),NM=K0.default||K0,P_=R_("end"),rm=R_("start");function R_(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function OM(e){const t=rm(e),n=P_(e);if(t&&n)return{start:t,end:n}}function vo(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?X0(e.position):"start"in e||"end"in e?X0(e):"line"in e||"column"in e?ih(e):""}function ih(e){return Q0(e&&e.line)+":"+Q0(e&&e.column)}function X0(e){return ih(e&&e.start)+"-"+ih(e&&e.end)}function Q0(e){return e&&typeof e=="number"?e:1}class Wt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},l=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(l=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const f=r.indexOf(":");f===-1?o.ruleId=r:(o.source=r.slice(0,f),o.ruleId=r.slice(f+1))}if(!o.place&&o.ancestors&&o.ancestors){const f=o.ancestors[o.ancestors.length-1];f&&(o.place=f.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=s,this.line=c?c.line:void 0,this.name=vo(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Wt.prototype.file="";Wt.prototype.name="";Wt.prototype.reason="";Wt.prototype.message="";Wt.prototype.stack="";Wt.prototype.column=void 0;Wt.prototype.line=void 0;Wt.prototype.ancestors=void 0;Wt.prototype.cause=void 0;Wt.prototype.fatal=void 0;Wt.prototype.place=void 0;Wt.prototype.ruleId=void 0;Wt.prototype.source=void 0;const am={}.hasOwnProperty,PM=new Map,RM=/[A-Z]/g,AM=/-([a-z])/g,jM=new Set(["table","tbody","thead","tfoot","tr"]),DM=new Set(["td","th"]),A_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function MM(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=qM(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=HM(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?nm:SM,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=j_(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function j_(e,t,n){if(t.type==="element")return LM(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return FM(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return $M(e,t,n);if(t.type==="mdxjsEsm")return zM(e,t);if(t.type==="root")return UM(e,t,n);if(t.type==="text")return BM(e,t)}function LM(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=nm,e.schema=s),e.ancestors.push(t);const o=M_(e,t.tagName,!1),l=VM(e,t);let c=im(e,t);return jM.has(t.tagName)&&(c=c.filter(function(f){return typeof f=="string"?!pM(f):!0})),D_(e,l,o,t),sm(l,c),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function FM(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}al(e,t.position)}function zM(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);al(e,t.position)}function $M(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=nm,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:M_(e,t.name,!0),l=WM(e,t),c=im(e,t);return D_(e,l,o,t),sm(l,c),e.ancestors.pop(),e.schema=r,e.create(t,o,l,n)}function UM(e,t,n){const r={};return sm(r,im(e,t)),e.create(t,e.Fragment,r,n)}function BM(e,t){return t.value}function D_(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function sm(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function HM(e,t,n){return r;function r(s,o,l,c){const d=Array.isArray(l.children)?n:t;return c?d(o,l,c):d(o,l)}}function qM(e,t){return n;function n(r,s,o,l){const c=Array.isArray(o.children),f=rm(r);return t(s,o,l,c,{columnNumber:f?f.column-1:void 0,fileName:e,lineNumber:f?f.line:void 0},void 0)}}function VM(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&am.call(t.properties,s)){const o=ZM(e,s,t.properties[s]);if(o){const[l,c]=o;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&DM.has(t.tagName)?r=c:n[l]=c}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function WM(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(n,e.evaluater.evaluateExpression(c.argument))}else al(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const c=r.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else al(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function im(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:PM;for(;++r<t.children.length;){const o=t.children[r];let l;if(e.passKeys){const f=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(f){const d=s.get(f)||0;l=f+"-"+d,s.set(f,d+1)}}const c=j_(e,o,l);c!==void 0&&n.push(c)}return n}function ZM(e,t,n){const r=wM(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?lM(n):CM(n)),r.property==="style"){let s=typeof n=="object"?n:YM(e,String(n));return e.stylePropertyNameCase==="css"&&(s=GM(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?kM[r.property]||r.property:r.attribute,n]}}function YM(e,t){const n={};try{NM(t,r)}catch(s){if(!e.ignoreInvalidStyle){const o=s,l=new Wt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=A_+"#cannot-parse-style-attribute",l}}return n;function r(s,o){let l=s;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(AM,KM)),n[l]=o}}function M_(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,l;for(;++o<s.length;){const c=V0(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}r=l}else r=V0(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return am.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);al(e)}function al(e,t){const n=new Wt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=A_+"#cannot-handle-mdx-estrees-without-createevaluater",n}function GM(e){const t={};let n;for(n in e)am.call(e,n)&&(t[JM(n)]=e[n]);return t}function JM(e){let t=e.replace(RM,XM);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function KM(e,t){return t.toUpperCase()}function XM(e){return"-"+e.toLowerCase()}const rp={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},QM={};function e5(e,t){const n=QM,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return L_(e,r,s)}function L_(e,t,n){if(t5(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return e1(e.children,t,n)}return Array.isArray(e)?e1(e,t,n):""}function e1(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=L_(e[s],t,n);return r.join("")}function t5(e){return!!(e&&typeof e=="object")}const t1=document.createElement("i");function om(e){const t="&"+e+";";t1.innerHTML=t;const n=t1.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function wr(e,t,n,r){const s=e.length;let o=0,l;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)l=Array.from(r),l.unshift(t,n),e.splice(...l);else for(n&&e.splice(t,n);o<r.length;)l=r.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function Ln(e,t){return e.length>0?(wr(e,e.length,0,t),e):t}const n1={}.hasOwnProperty;function n5(e){const t={};let n=-1;for(;++n<e.length;)r5(t,e[n]);return t}function r5(e,t){let n;for(n in t){const s=(n1.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let l;if(o)for(l in o){n1.call(s,l)||(s[l]=[]);const c=o[l];a5(s[l],Array.isArray(c)?c:c?[c]:[])}}}function a5(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);wr(e,0,0,r)}function F_(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ti(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const pr=Oa(/[A-Za-z]/),wn=Oa(/[\dA-Za-z]/),s5=Oa(/[#-'*+\--9=?A-Z^-~]/);function oh(e){return e!==null&&(e<32||e===127)}const lh=Oa(/\d/),i5=Oa(/[\dA-Fa-f]/),o5=Oa(/[!-/:-@[-`{-~]/);function Ne(e){return e!==null&&e<-2}function dn(e){return e!==null&&(e<0||e===32)}function Ke(e){return e===-2||e===-1||e===32}const l5=Oa(new RegExp("\\p{P}|\\p{S}","u")),u5=Oa(/\s/);function Oa(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function mi(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let l="";if(o===37&&wn(e.charCodeAt(n+1))&&wn(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(n+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),s=1):l=""}else l=String.fromCharCode(o);l&&(t.push(e.slice(r,n),encodeURIComponent(l)),r=n+s+1,l=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function nt(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(f){return Ke(f)?(e.enter(n),c(f)):t(f)}function c(f){return Ke(f)&&o++<s?(e.consume(f),c):(e.exit(n),t(f))}}const c5={tokenize:d5};function d5(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),nt(e,t,"linePrefix")}function s(c){return e.enter("paragraph"),o(c)}function o(c){const f=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Ne(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),l)}}const f5={tokenize:p5},r1={tokenize:h5};function p5(e){const t=this,n=[];let r=0,s,o,l;return c;function c(I){if(r<n.length){const A=n[r];return t.containerState=A[1],e.attempt(A[0].continuation,f,d)(I)}return d(I)}function f(I){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&T();const A=t.events.length;let D=A,L;for(;D--;)if(t.events[D][0]==="exit"&&t.events[D][1].type==="chunkFlow"){L=t.events[D][1].end;break}S(r);let H=A;for(;H<t.events.length;)t.events[H][1].end={...L},H++;return wr(t.events,D+1,0,t.events.slice(A)),t.events.length=H,d(I)}return c(I)}function d(I){if(r===n.length){if(!s)return y(I);if(s.currentConstruct&&s.currentConstruct.concrete)return _(I);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(r1,h,g)(I)}function h(I){return s&&T(),S(r),y(I)}function g(I){return t.parser.lazy[t.now().line]=r!==n.length,l=t.now().offset,_(I)}function y(I){return t.containerState={},e.attempt(r1,x,_)(I)}function x(I){return r++,n.push([t.currentConstruct,t.containerState]),y(I)}function _(I){if(I===null){s&&T(),S(0),e.consume(I);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),k(I)}function k(I){if(I===null){C(e.exit("chunkFlow"),!0),S(0),e.consume(I);return}return Ne(I)?(e.consume(I),C(e.exit("chunkFlow")),r=0,t.interrupt=void 0,c):(e.consume(I),k)}function C(I,A){const D=t.sliceStream(I);if(A&&D.push(null),I.previous=o,o&&(o.next=I),o=I,s.defineSkip(I.start),s.write(D),t.parser.lazy[I.start.line]){let L=s.events.length;for(;L--;)if(s.events[L][1].start.offset<l&&(!s.events[L][1].end||s.events[L][1].end.offset>l))return;const H=t.events.length;let ne=H,ue,pe;for(;ne--;)if(t.events[ne][0]==="exit"&&t.events[ne][1].type==="chunkFlow"){if(ue){pe=t.events[ne][1].end;break}ue=!0}for(S(r),L=H;L<t.events.length;)t.events[L][1].end={...pe},L++;wr(t.events,ne+1,0,t.events.slice(H)),t.events.length=L}}function S(I){let A=n.length;for(;A-- >I;){const D=n[A];t.containerState=D[1],D[0].exit.call(t,e)}n.length=I}function T(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function h5(e,t,n){return nt(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function a1(e){if(e===null||dn(e)||u5(e))return 1;if(l5(e))return 2}function lm(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const uh={name:"attention",resolveAll:m5,tokenize:g5};function m5(e,t){let n=-1,r,s,o,l,c,f,d,h;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;f=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const g={...e[r][1].end},y={...e[n][1].start};s1(g,-f),s1(y,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...e[r][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:y},o={type:f>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[r][1].end={...l.start},e[n][1].start={...c.end},d=[],e[r][1].end.offset-e[r][1].start.offset&&(d=Ln(d,[["enter",e[r][1],t],["exit",e[r][1],t]])),d=Ln(d,[["enter",s,t],["enter",l,t],["exit",l,t],["enter",o,t]]),d=Ln(d,lm(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),d=Ln(d,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(h=2,d=Ln(d,[["enter",e[n][1],t],["exit",e[n][1],t]])):h=0,wr(e,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function g5(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=a1(r);let o;return l;function l(f){return o=f,e.enter("attentionSequence"),c(f)}function c(f){if(f===o)return e.consume(f),c;const d=e.exit("attentionSequence"),h=a1(f),g=!h||h===2&&s||n.includes(f),y=!s||s===2&&h||n.includes(r);return d._open=!!(o===42?g:g&&(s||!y)),d._close=!!(o===42?y:y&&(h||!g)),t(f)}}function s1(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const y5={name:"autolink",tokenize:v5};function v5(e,t,n){let r=0;return s;function s(x){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(x){return pr(x)?(e.consume(x),l):x===64?n(x):d(x)}function l(x){return x===43||x===45||x===46||wn(x)?(r=1,c(x)):d(x)}function c(x){return x===58?(e.consume(x),r=0,f):(x===43||x===45||x===46||wn(x))&&r++<32?(e.consume(x),c):(r=0,d(x))}function f(x){return x===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):x===null||x===32||x===60||oh(x)?n(x):(e.consume(x),f)}function d(x){return x===64?(e.consume(x),h):s5(x)?(e.consume(x),d):n(x)}function h(x){return wn(x)?g(x):n(x)}function g(x){return x===46?(e.consume(x),r=0,h):x===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(x),e.exit("autolinkMarker"),e.exit("autolink"),t):y(x)}function y(x){if((x===45||wn(x))&&r++<63){const _=x===45?y:g;return e.consume(x),_}return n(x)}}const jc={partial:!0,tokenize:x5};function x5(e,t,n){return r;function r(o){return Ke(o)?nt(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||Ne(o)?t(o):n(o)}}const z_={continuation:{tokenize:b5},exit:_5,name:"blockQuote",tokenize:w5};function w5(e,t,n){const r=this;return s;function s(l){if(l===62){const c=r.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return n(l)}function o(l){return Ke(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function b5(e,t,n){const r=this;return s;function s(l){return Ke(l)?nt(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(z_,t,n)(l)}}function _5(e){e.exit("blockQuote")}const $_={name:"characterEscape",tokenize:k5};function k5(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return o5(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const U_={name:"characterReference",tokenize:S5};function S5(e,t,n){const r=this;let s=0,o,l;return c;function c(g){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),f}function f(g){return g===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(g),e.exit("characterReferenceMarkerNumeric"),d):(e.enter("characterReferenceValue"),o=31,l=wn,h(g))}function d(g){return g===88||g===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(g),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=i5,h):(e.enter("characterReferenceValue"),o=7,l=lh,h(g))}function h(g){if(g===59&&s){const y=e.exit("characterReferenceValue");return l===wn&&!om(r.sliceSerialize(y))?n(g):(e.enter("characterReferenceMarker"),e.consume(g),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(g)&&s++<o?(e.consume(g),h):n(g)}}const i1={partial:!0,tokenize:E5},o1={concrete:!0,name:"codeFenced",tokenize:C5};function C5(e,t,n){const r=this,s={partial:!0,tokenize:D};let o=0,l=0,c;return f;function f(L){return d(L)}function d(L){const H=r.events[r.events.length-1];return o=H&&H[1].type==="linePrefix"?H[2].sliceSerialize(H[1],!0).length:0,c=L,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(L)}function h(L){return L===c?(l++,e.consume(L),h):l<3?n(L):(e.exit("codeFencedFenceSequence"),Ke(L)?nt(e,g,"whitespace")(L):g(L))}function g(L){return L===null||Ne(L)?(e.exit("codeFencedFence"),r.interrupt?t(L):e.check(i1,k,A)(L)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),y(L))}function y(L){return L===null||Ne(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),g(L)):Ke(L)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),nt(e,x,"whitespace")(L)):L===96&&L===c?n(L):(e.consume(L),y)}function x(L){return L===null||Ne(L)?g(L):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),_(L))}function _(L){return L===null||Ne(L)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),g(L)):L===96&&L===c?n(L):(e.consume(L),_)}function k(L){return e.attempt(s,A,C)(L)}function C(L){return e.enter("lineEnding"),e.consume(L),e.exit("lineEnding"),S}function S(L){return o>0&&Ke(L)?nt(e,T,"linePrefix",o+1)(L):T(L)}function T(L){return L===null||Ne(L)?e.check(i1,k,A)(L):(e.enter("codeFlowValue"),I(L))}function I(L){return L===null||Ne(L)?(e.exit("codeFlowValue"),T(L)):(e.consume(L),I)}function A(L){return e.exit("codeFenced"),t(L)}function D(L,H,ne){let ue=0;return pe;function pe(ie){return L.enter("lineEnding"),L.consume(ie),L.exit("lineEnding"),re}function re(ie){return L.enter("codeFencedFence"),Ke(ie)?nt(L,oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ie):oe(ie)}function oe(ie){return ie===c?(L.enter("codeFencedFenceSequence"),se(ie)):ne(ie)}function se(ie){return ie===c?(ue++,L.consume(ie),se):ue>=l?(L.exit("codeFencedFenceSequence"),Ke(ie)?nt(L,G,"whitespace")(ie):G(ie)):ne(ie)}function G(ie){return ie===null||Ne(ie)?(L.exit("codeFencedFence"),H(ie)):ne(ie)}}}function E5(e,t,n){const r=this;return s;function s(l){return l===null?n(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}const ap={name:"codeIndented",tokenize:I5},T5={partial:!0,tokenize:N5};function I5(e,t,n){const r=this;return s;function s(d){return e.enter("codeIndented"),nt(e,o,"linePrefix",5)(d)}function o(d){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(d):n(d)}function l(d){return d===null?f(d):Ne(d)?e.attempt(T5,l,f)(d):(e.enter("codeFlowValue"),c(d))}function c(d){return d===null||Ne(d)?(e.exit("codeFlowValue"),l(d)):(e.consume(d),c)}function f(d){return e.exit("codeIndented"),t(d)}}function N5(e,t,n){const r=this;return s;function s(l){return r.parser.lazy[r.now().line]?n(l):Ne(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),s):nt(e,o,"linePrefix",5)(l)}function o(l){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Ne(l)?s(l):n(l)}}const O5={name:"codeText",previous:R5,resolve:P5,tokenize:A5};function P5(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function R5(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function A5(e,t,n){let r=0,s,o;return l;function l(g){return e.enter("codeText"),e.enter("codeTextSequence"),c(g)}function c(g){return g===96?(e.consume(g),r++,c):(e.exit("codeTextSequence"),f(g))}function f(g){return g===null?n(g):g===32?(e.enter("space"),e.consume(g),e.exit("space"),f):g===96?(o=e.enter("codeTextSequence"),s=0,h(g)):Ne(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("codeTextData"),d(g))}function d(g){return g===null||g===32||g===96||Ne(g)?(e.exit("codeTextData"),f(g)):(e.consume(g),d)}function h(g){return g===96?(e.consume(g),s++,h):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(o.type="codeTextData",d(g))}}class j5{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&so(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),so(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),so(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);so(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);so(this.left,n.reverse())}}}function so(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function B_(e){const t={};let n=-1,r,s,o,l,c,f,d;const h=new j5(e);for(;++n<h.length;){for(;n in t;)n=t[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(f=r[1]._tokenizer.events,o=0,o<f.length&&f[o][1].type==="lineEndingBlank"&&(o+=2),o<f.length&&f[o][1].type==="content"))for(;++o<f.length&&f[o][1].type!=="content";)f[o][1].type==="chunkText"&&(f[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,D5(h,n)),n=t[n],d=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(s&&(h.get(s)[1].type="lineEndingBlank"),l[1].type="lineEnding",s=o);else if(l[1].type!=="linePrefix")break;s&&(r[1].end={...h.get(s)[1].start},c=h.slice(s,n),c.unshift(r),h.splice(s,n-s+1,c))}}return wr(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function D5(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[],l=n._tokenizer||r.parser[n.contentType](n.start),c=l.events,f=[],d={};let h,g,y=-1,x=n,_=0,k=0;const C=[k];for(;x;){for(;e.get(++s)[1]!==x;);o.push(s),x._tokenizer||(h=r.sliceStream(x),x.next||h.push(null),g&&l.defineSkip(x.start),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),x._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=x,x=x.next}for(x=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(k=y+1,C.push(k),x._tokenizer=void 0,x.previous=void 0,x=x.next);for(l.events=[],x?(x._tokenizer=void 0,x.previous=void 0):C.pop(),y=C.length;y--;){const S=c.slice(C[y],C[y+1]),T=o.pop();f.push([T,T+S.length-1]),e.splice(T,2,S)}for(f.reverse(),y=-1;++y<f.length;)d[_+f[y][0]]=_+f[y][1],_+=f[y][1]-f[y][0]-1;return d}const M5={resolve:F5,tokenize:z5},L5={partial:!0,tokenize:$5};function F5(e){return B_(e),e}function z5(e,t){let n;return r;function r(c){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(c)}function s(c){return c===null?o(c):Ne(c)?e.check(L5,l,o)(c):(e.consume(c),s)}function o(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function $5(e,t,n){const r=this;return s;function s(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),nt(e,o,"linePrefix")}function o(l){if(l===null||Ne(l))return n(l);const c=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(r.parser.constructs.flow,n,t)(l)}}function H_(e,t,n,r,s,o,l,c,f){const d=f||Number.POSITIVE_INFINITY;let h=0;return g;function g(S){return S===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(S),e.exit(o),y):S===null||S===32||S===41||oh(S)?n(S):(e.enter(r),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),k(S))}function y(S){return S===62?(e.enter(o),e.consume(S),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),x(S))}function x(S){return S===62?(e.exit("chunkString"),e.exit(c),y(S)):S===null||S===60||Ne(S)?n(S):(e.consume(S),S===92?_:x)}function _(S){return S===60||S===62||S===92?(e.consume(S),x):x(S)}function k(S){return!h&&(S===null||S===41||dn(S))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(r),t(S)):h<d&&S===40?(e.consume(S),h++,k):S===41?(e.consume(S),h--,k):S===null||S===32||S===40||oh(S)?n(S):(e.consume(S),S===92?C:k)}function C(S){return S===40||S===41||S===92?(e.consume(S),k):k(S)}}function q_(e,t,n,r,s,o){const l=this;let c=0,f;return d;function d(x){return e.enter(r),e.enter(s),e.consume(x),e.exit(s),e.enter(o),h}function h(x){return c>999||x===null||x===91||x===93&&!f||x===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(x):x===93?(e.exit(o),e.enter(s),e.consume(x),e.exit(s),e.exit(r),t):Ne(x)?(e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===null||x===91||x===93||Ne(x)||c++>999?(e.exit("chunkString"),h(x)):(e.consume(x),f||(f=!Ke(x)),x===92?y:g)}function y(x){return x===91||x===92||x===93?(e.consume(x),c++,g):g(x)}}function V_(e,t,n,r,s,o){let l;return c;function c(y){return y===34||y===39||y===40?(e.enter(r),e.enter(s),e.consume(y),e.exit(s),l=y===40?41:y,f):n(y)}function f(y){return y===l?(e.enter(s),e.consume(y),e.exit(s),e.exit(r),t):(e.enter(o),d(y))}function d(y){return y===l?(e.exit(o),f(l)):y===null?n(y):Ne(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),nt(e,d,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===l||y===null||Ne(y)?(e.exit("chunkString"),d(y)):(e.consume(y),y===92?g:h)}function g(y){return y===l||y===92?(e.consume(y),h):h(y)}}function xo(e,t){let n;return r;function r(s){return Ne(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Ke(s)?nt(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const U5={name:"definition",tokenize:H5},B5={partial:!0,tokenize:q5};function H5(e,t,n){const r=this;let s;return o;function o(x){return e.enter("definition"),l(x)}function l(x){return q_.call(r,e,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(x)}function c(x){return s=ti(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),x===58?(e.enter("definitionMarker"),e.consume(x),e.exit("definitionMarker"),f):n(x)}function f(x){return dn(x)?xo(e,d)(x):d(x)}function d(x){return H_(e,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(x)}function h(x){return e.attempt(B5,g,g)(x)}function g(x){return Ke(x)?nt(e,y,"whitespace")(x):y(x)}function y(x){return x===null||Ne(x)?(e.exit("definition"),r.parser.defined.push(s),t(x)):n(x)}}function q5(e,t,n){return r;function r(c){return dn(c)?xo(e,s)(c):n(c)}function s(c){return V_(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Ke(c)?nt(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Ne(c)?t(c):n(c)}}const V5={name:"hardBreakEscape",tokenize:W5};function W5(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return Ne(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const Z5={name:"headingAtx",resolve:Y5,tokenize:G5};function Y5(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},wr(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function G5(e,t,n){let r=0;return s;function s(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&r++<6?(e.consume(h),l):h===null||dn(h)?(e.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(e.enter("atxHeadingSequence"),f(h)):h===null||Ne(h)?(e.exit("atxHeading"),t(h)):Ke(h)?nt(e,c,"whitespace")(h):(e.enter("atxHeadingText"),d(h))}function f(h){return h===35?(e.consume(h),f):(e.exit("atxHeadingSequence"),c(h))}function d(h){return h===null||h===35||dn(h)?(e.exit("atxHeadingText"),c(h)):(e.consume(h),d)}}const J5=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],l1=["pre","script","style","textarea"],K5={concrete:!0,name:"htmlFlow",resolveTo:e6,tokenize:t6},X5={partial:!0,tokenize:r6},Q5={partial:!0,tokenize:n6};function e6(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function t6(e,t,n){const r=this;let s,o,l,c,f;return d;function d(R){return h(R)}function h(R){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(R),g}function g(R){return R===33?(e.consume(R),y):R===47?(e.consume(R),o=!0,k):R===63?(e.consume(R),s=3,r.interrupt?t:N):pr(R)?(e.consume(R),l=String.fromCharCode(R),C):n(R)}function y(R){return R===45?(e.consume(R),s=2,x):R===91?(e.consume(R),s=5,c=0,_):pr(R)?(e.consume(R),s=4,r.interrupt?t:N):n(R)}function x(R){return R===45?(e.consume(R),r.interrupt?t:N):n(R)}function _(R){const Ee="CDATA[";return R===Ee.charCodeAt(c++)?(e.consume(R),c===Ee.length?r.interrupt?t:oe:_):n(R)}function k(R){return pr(R)?(e.consume(R),l=String.fromCharCode(R),C):n(R)}function C(R){if(R===null||R===47||R===62||dn(R)){const Ee=R===47,Pe=l.toLowerCase();return!Ee&&!o&&l1.includes(Pe)?(s=1,r.interrupt?t(R):oe(R)):J5.includes(l.toLowerCase())?(s=6,Ee?(e.consume(R),S):r.interrupt?t(R):oe(R)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(R):o?T(R):I(R))}return R===45||wn(R)?(e.consume(R),l+=String.fromCharCode(R),C):n(R)}function S(R){return R===62?(e.consume(R),r.interrupt?t:oe):n(R)}function T(R){return Ke(R)?(e.consume(R),T):pe(R)}function I(R){return R===47?(e.consume(R),pe):R===58||R===95||pr(R)?(e.consume(R),A):Ke(R)?(e.consume(R),I):pe(R)}function A(R){return R===45||R===46||R===58||R===95||wn(R)?(e.consume(R),A):D(R)}function D(R){return R===61?(e.consume(R),L):Ke(R)?(e.consume(R),D):I(R)}function L(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(e.consume(R),f=R,H):Ke(R)?(e.consume(R),L):ne(R)}function H(R){return R===f?(e.consume(R),f=null,ue):R===null||Ne(R)?n(R):(e.consume(R),H)}function ne(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||dn(R)?D(R):(e.consume(R),ne)}function ue(R){return R===47||R===62||Ke(R)?I(R):n(R)}function pe(R){return R===62?(e.consume(R),re):n(R)}function re(R){return R===null||Ne(R)?oe(R):Ke(R)?(e.consume(R),re):n(R)}function oe(R){return R===45&&s===2?(e.consume(R),he):R===60&&s===1?(e.consume(R),ce):R===62&&s===4?(e.consume(R),M):R===63&&s===3?(e.consume(R),N):R===93&&s===5?(e.consume(R),W):Ne(R)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(X5,B,se)(R)):R===null||Ne(R)?(e.exit("htmlFlowData"),se(R)):(e.consume(R),oe)}function se(R){return e.check(Q5,G,B)(R)}function G(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),ie}function ie(R){return R===null||Ne(R)?se(R):(e.enter("htmlFlowData"),oe(R))}function he(R){return R===45?(e.consume(R),N):oe(R)}function ce(R){return R===47?(e.consume(R),l="",V):oe(R)}function V(R){if(R===62){const Ee=l.toLowerCase();return l1.includes(Ee)?(e.consume(R),M):oe(R)}return pr(R)&&l.length<8?(e.consume(R),l+=String.fromCharCode(R),V):oe(R)}function W(R){return R===93?(e.consume(R),N):oe(R)}function N(R){return R===62?(e.consume(R),M):R===45&&s===2?(e.consume(R),N):oe(R)}function M(R){return R===null||Ne(R)?(e.exit("htmlFlowData"),B(R)):(e.consume(R),M)}function B(R){return e.exit("htmlFlow"),t(R)}}function n6(e,t,n){const r=this;return s;function s(l){return Ne(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):n(l)}function o(l){return r.parser.lazy[r.now().line]?n(l):t(l)}}function r6(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(jc,t,n)}}const a6={name:"htmlText",tokenize:s6};function s6(e,t,n){const r=this;let s,o,l;return c;function c(N){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(N),f}function f(N){return N===33?(e.consume(N),d):N===47?(e.consume(N),D):N===63?(e.consume(N),I):pr(N)?(e.consume(N),ne):n(N)}function d(N){return N===45?(e.consume(N),h):N===91?(e.consume(N),o=0,_):pr(N)?(e.consume(N),T):n(N)}function h(N){return N===45?(e.consume(N),x):n(N)}function g(N){return N===null?n(N):N===45?(e.consume(N),y):Ne(N)?(l=g,ce(N)):(e.consume(N),g)}function y(N){return N===45?(e.consume(N),x):g(N)}function x(N){return N===62?he(N):N===45?y(N):g(N)}function _(N){const M="CDATA[";return N===M.charCodeAt(o++)?(e.consume(N),o===M.length?k:_):n(N)}function k(N){return N===null?n(N):N===93?(e.consume(N),C):Ne(N)?(l=k,ce(N)):(e.consume(N),k)}function C(N){return N===93?(e.consume(N),S):k(N)}function S(N){return N===62?he(N):N===93?(e.consume(N),S):k(N)}function T(N){return N===null||N===62?he(N):Ne(N)?(l=T,ce(N)):(e.consume(N),T)}function I(N){return N===null?n(N):N===63?(e.consume(N),A):Ne(N)?(l=I,ce(N)):(e.consume(N),I)}function A(N){return N===62?he(N):I(N)}function D(N){return pr(N)?(e.consume(N),L):n(N)}function L(N){return N===45||wn(N)?(e.consume(N),L):H(N)}function H(N){return Ne(N)?(l=H,ce(N)):Ke(N)?(e.consume(N),H):he(N)}function ne(N){return N===45||wn(N)?(e.consume(N),ne):N===47||N===62||dn(N)?ue(N):n(N)}function ue(N){return N===47?(e.consume(N),he):N===58||N===95||pr(N)?(e.consume(N),pe):Ne(N)?(l=ue,ce(N)):Ke(N)?(e.consume(N),ue):he(N)}function pe(N){return N===45||N===46||N===58||N===95||wn(N)?(e.consume(N),pe):re(N)}function re(N){return N===61?(e.consume(N),oe):Ne(N)?(l=re,ce(N)):Ke(N)?(e.consume(N),re):ue(N)}function oe(N){return N===null||N===60||N===61||N===62||N===96?n(N):N===34||N===39?(e.consume(N),s=N,se):Ne(N)?(l=oe,ce(N)):Ke(N)?(e.consume(N),oe):(e.consume(N),G)}function se(N){return N===s?(e.consume(N),s=void 0,ie):N===null?n(N):Ne(N)?(l=se,ce(N)):(e.consume(N),se)}function G(N){return N===null||N===34||N===39||N===60||N===61||N===96?n(N):N===47||N===62||dn(N)?ue(N):(e.consume(N),G)}function ie(N){return N===47||N===62||dn(N)?ue(N):n(N)}function he(N){return N===62?(e.consume(N),e.exit("htmlTextData"),e.exit("htmlText"),t):n(N)}function ce(N){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),V}function V(N){return Ke(N)?nt(e,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(N):W(N)}function W(N){return e.enter("htmlTextData"),l(N)}}const um={name:"labelEnd",resolveAll:u6,resolveTo:c6,tokenize:d6},i6={tokenize:f6},o6={tokenize:p6},l6={tokenize:h6};function u6(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&wr(e,0,e.length,n),e}function c6(e,t){let n=e.length,r=0,s,o,l,c;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(l){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(l=n);const f={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},d={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",f,t],["enter",d,t]],c=Ln(c,e.slice(o+1,o+r+3)),c=Ln(c,[["enter",h,t]]),c=Ln(c,lm(t.parser.constructs.insideSpan.null,e.slice(o+r+4,l-3),t)),c=Ln(c,[["exit",h,t],e[l-2],e[l-1],["exit",d,t]]),c=Ln(c,e.slice(l+1)),c=Ln(c,[["exit",f,t]]),wr(e,o,e.length,c),e}function d6(e,t,n){const r=this;let s=r.events.length,o,l;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return c;function c(y){return o?o._inactive?g(y):(l=r.parser.defined.includes(ti(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(y),e.exit("labelMarker"),e.exit("labelEnd"),f):n(y)}function f(y){return y===40?e.attempt(i6,h,l?h:g)(y):y===91?e.attempt(o6,h,l?d:g)(y):l?h(y):g(y)}function d(y){return e.attempt(l6,h,g)(y)}function h(y){return t(y)}function g(y){return o._balanced=!0,n(y)}}function f6(e,t,n){return r;function r(g){return e.enter("resource"),e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),s}function s(g){return dn(g)?xo(e,o)(g):o(g)}function o(g){return g===41?h(g):H_(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return dn(g)?xo(e,f)(g):h(g)}function c(g){return n(g)}function f(g){return g===34||g===39||g===40?V_(e,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function d(g){return dn(g)?xo(e,h)(g):h(g)}function h(g){return g===41?(e.enter("resourceMarker"),e.consume(g),e.exit("resourceMarker"),e.exit("resource"),t):n(g)}}function p6(e,t,n){const r=this;return s;function s(c){return q_.call(r,e,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return r.parser.defined.includes(ti(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(c):n(c)}function l(c){return n(c)}}function h6(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const m6={name:"labelStartImage",resolveAll:um.resolveAll,tokenize:g6};function g6(e,t,n){const r=this;return s;function s(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(c):t(c)}}const y6={name:"labelStartLink",resolveAll:um.resolveAll,tokenize:v6};function v6(e,t,n){const r=this;return s;function s(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const sp={name:"lineEnding",tokenize:x6};function x6(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),nt(e,t,"linePrefix")}}const Uu={name:"thematicBreak",tokenize:w6};function w6(e,t,n){let r=0,s;return o;function o(d){return e.enter("thematicBreak"),l(d)}function l(d){return s=d,c(d)}function c(d){return d===s?(e.enter("thematicBreakSequence"),f(d)):r>=3&&(d===null||Ne(d))?(e.exit("thematicBreak"),t(d)):n(d)}function f(d){return d===s?(e.consume(d),r++,f):(e.exit("thematicBreakSequence"),Ke(d)?nt(e,c,"whitespace")(d):c(d))}}const cn={continuation:{tokenize:S6},exit:E6,name:"list",tokenize:k6},b6={partial:!0,tokenize:T6},_6={partial:!0,tokenize:C6};function k6(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,l=0;return c;function c(x){const _=r.containerState.type||(x===42||x===43||x===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||x===r.containerState.marker:lh(x)){if(r.containerState.type||(r.containerState.type=_,e.enter(_,{_container:!0})),_==="listUnordered")return e.enter("listItemPrefix"),x===42||x===45?e.check(Uu,n,d)(x):d(x);if(!r.interrupt||x===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),f(x)}return n(x)}function f(x){return lh(x)&&++l<10?(e.consume(x),f):(!r.interrupt||l<2)&&(r.containerState.marker?x===r.containerState.marker:x===41||x===46)?(e.exit("listItemValue"),d(x)):n(x)}function d(x){return e.enter("listItemMarker"),e.consume(x),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||x,e.check(jc,r.interrupt?n:h,e.attempt(b6,y,g))}function h(x){return r.containerState.initialBlankLine=!0,o++,y(x)}function g(x){return Ke(x)?(e.enter("listItemPrefixWhitespace"),e.consume(x),e.exit("listItemPrefixWhitespace"),y):n(x)}function y(x){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(x)}}function S6(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(jc,s,o);function s(c){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,nt(e,t,"listItemIndent",r.containerState.size+1)(c)}function o(c){return r.containerState.furtherBlankLines||!Ke(c)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,l(c)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(_6,t,l)(c))}function l(c){return r.containerState._closeFlow=!0,r.interrupt=void 0,nt(e,e.attempt(cn,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function C6(e,t,n){const r=this;return nt(e,s,"listItemIndent",r.containerState.size+1);function s(o){const l=r.events[r.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===r.containerState.size?t(o):n(o)}}function E6(e){e.exit(this.containerState.type)}function T6(e,t,n){const r=this;return nt(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const l=r.events[r.events.length-1];return!Ke(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const u1={name:"setextUnderline",resolveTo:I6,tokenize:N6};function I6(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const l={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",l,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=l,e.push(["exit",l,t]),e}function N6(e,t,n){const r=this;let s;return o;function o(d){let h=r.events.length,g;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){g=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||g)?(e.enter("setextHeadingLine"),s=d,l(d)):n(d)}function l(d){return e.enter("setextHeadingLineSequence"),c(d)}function c(d){return d===s?(e.consume(d),c):(e.exit("setextHeadingLineSequence"),Ke(d)?nt(e,f,"lineSuffix")(d):f(d))}function f(d){return d===null||Ne(d)?(e.exit("setextHeadingLine"),t(d)):n(d)}}const O6={tokenize:P6};function P6(e){const t=this,n=e.attempt(jc,r,e.attempt(this.parser.constructs.flowInitial,s,nt(e,e.attempt(this.parser.constructs.flow,s,e.attempt(M5,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const R6={resolveAll:Z_()},A6=W_("string"),j6=W_("text");function W_(e){return{resolveAll:Z_(e==="text"?D6:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,l,c);return l;function l(h){return d(h)?o(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),f}function f(h){return d(h)?(n.exit("data"),o(h)):(n.consume(h),f)}function d(h){if(h===null)return!0;const g=s[h];let y=-1;if(g)for(;++y<g.length;){const x=g[y];if(!x.previous||x.previous.call(r,r.previous))return!0}return!1}}}function Z_(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function D6(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,l=-1,c=0,f;for(;o--;){const d=s[o];if(typeof d=="string"){for(l=d.length;d.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(d===-2)f=!0,c++;else if(d!==-1){o++;break}}if(c){const d={type:n===e.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:r.start._bufferIndex+l,_index:r.start._index+o,line:r.end.line,column:r.end.column-c,offset:r.end.offset-c},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(e.splice(n,0,["enter",d,t],["exit",d,t]),n+=2)}n++}return e}const M6={42:cn,43:cn,45:cn,48:cn,49:cn,50:cn,51:cn,52:cn,53:cn,54:cn,55:cn,56:cn,57:cn,62:z_},L6={91:U5},F6={[-2]:ap,[-1]:ap,32:ap},z6={35:Z5,42:Uu,45:[u1,Uu],60:K5,61:u1,95:Uu,96:o1,126:o1},$6={38:U_,92:$_},U6={[-5]:sp,[-4]:sp,[-3]:sp,33:m6,38:U_,42:uh,60:[y5,a6],91:y6,92:[V5,$_],93:um,95:uh,96:O5},B6={null:[uh,R6]},H6={null:[42,95]},q6={null:[]},V6=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:H6,contentInitial:L6,disable:q6,document:M6,flow:z6,flowInitial:F6,insideSpan:B6,string:$6,text:U6},Symbol.toStringTag,{value:"Module"}));function W6(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let l=[],c=[];const f={attempt:H(D),check:H(L),consume:T,enter:I,exit:A,interrupt:H(L,{interrupt:!0})},d={code:null,containerState:{},defineSkip:k,events:[],now:_,parser:e,previous:null,sliceSerialize:y,sliceStream:x,write:g};let h=t.tokenize.call(d,f);return t.resolveAll&&o.push(t),d;function g(re){return l=Ln(l,re),C(),l[l.length-1]!==null?[]:(ne(t,0),d.events=lm(o,d.events,d),d.events)}function y(re,oe){return Y6(x(re),oe)}function x(re){return Z6(l,re)}function _(){const{_bufferIndex:re,_index:oe,line:se,column:G,offset:ie}=r;return{_bufferIndex:re,_index:oe,line:se,column:G,offset:ie}}function k(re){s[re.line]=re.column,pe()}function C(){let re;for(;r._index<l.length;){const oe=l[r._index];if(typeof oe=="string")for(re=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===re&&r._bufferIndex<oe.length;)S(oe.charCodeAt(r._bufferIndex));else S(oe)}}function S(re){h=h(re)}function T(re){Ne(re)?(r.line++,r.column=1,r.offset+=re===-3?2:1,pe()):re!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===l[r._index].length&&(r._bufferIndex=-1,r._index++)),d.previous=re}function I(re,oe){const se=oe||{};return se.type=re,se.start=_(),d.events.push(["enter",se,d]),c.push(se),se}function A(re){const oe=c.pop();return oe.end=_(),d.events.push(["exit",oe,d]),oe}function D(re,oe){ne(re,oe.from)}function L(re,oe){oe.restore()}function H(re,oe){return se;function se(G,ie,he){let ce,V,W,N;return Array.isArray(G)?B(G):"tokenize"in G?B([G]):M(G);function M(_e){return qe;function qe(Me){const He=Me!==null&&_e[Me],ct=Me!==null&&_e.null,fn=[...Array.isArray(He)?He:He?[He]:[],...Array.isArray(ct)?ct:ct?[ct]:[]];return B(fn)(Me)}}function B(_e){return ce=_e,V=0,_e.length===0?he:R(_e[V])}function R(_e){return qe;function qe(Me){return N=ue(),W=_e,_e.partial||(d.currentConstruct=_e),_e.name&&d.parser.constructs.disable.null.includes(_e.name)?Pe():_e.tokenize.call(oe?Object.assign(Object.create(d),oe):d,f,Ee,Pe)(Me)}}function Ee(_e){return re(W,N),ie}function Pe(_e){return N.restore(),++V<ce.length?R(ce[V]):he}}}function ne(re,oe){re.resolveAll&&!o.includes(re)&&o.push(re),re.resolve&&wr(d.events,oe,d.events.length-oe,re.resolve(d.events.slice(oe),d)),re.resolveTo&&(d.events=re.resolveTo(d.events,d))}function ue(){const re=_(),oe=d.previous,se=d.currentConstruct,G=d.events.length,ie=Array.from(c);return{from:G,restore:he};function he(){r=re,d.previous=oe,d.currentConstruct=se,d.events.length=G,c=ie,pe()}}function pe(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function Z6(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let l;if(n===s)l=[e[n].slice(r,o)];else{if(l=e.slice(n,s),r>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(r):l.shift()}o>0&&l.push(e[s].slice(0,o))}return l}function Y6(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&s)continue;l=" ";break}default:l=String.fromCharCode(o)}s=o===-2,r.push(l)}return r.join("")}function G6(e){const r={constructs:n5([V6,...(e||{}).extensions||[]]),content:s(c5),defined:[],document:s(f5),flow:s(O6),lazy:{},string:s(A6),text:s(j6)};return r;function s(o){return l;function l(c){return W6(r,o,c)}}}function J6(e){for(;!B_(e););return e}const c1=/[\0\t\n\r]/g;function K6(){let e=1,t="",n=!0,r;return s;function s(o,l,c){const f=[];let d,h,g,y,x;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),g=0,t="",n&&(o.charCodeAt(0)===65279&&g++,n=void 0);g<o.length;){if(c1.lastIndex=g,d=c1.exec(o),y=d&&d.index!==void 0?d.index:o.length,x=o.charCodeAt(y),!d){t=o.slice(g);break}if(x===10&&g===y&&r)f.push(-3),r=void 0;else switch(r&&(f.push(-5),r=void 0),g<y&&(f.push(o.slice(g,y)),e+=y-g),x){case 0:{f.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,f.push(-2);e++<h;)f.push(-1);break}case 10:{f.push(-4),e=1;break}default:r=!0,e=1}g=y+1}return c&&(r&&f.push(-5),t&&f.push(t),f.push(null)),f}}const X6=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Q6(e){return e.replace(X6,eL)}function eL(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return F_(n.slice(o?2:1),o?16:10)}return om(n)||e}const Y_={}.hasOwnProperty;function tL(e,t,n){return typeof t!="string"&&(n=t,t=void 0),nL(n)(J6(G6(n).document().write(K6()(e,t,!0))))}function nL(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(zn),autolinkProtocol:ue,autolinkEmail:ue,atxHeading:o(ye),blockQuote:o(ct),characterEscape:ue,characterReference:ue,codeFenced:o(fn),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(fn,l),codeText:o(_t,l),codeTextData:ue,data:ue,codeFlowValue:ue,definition:o(At),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(Ft),hardBreakEscape:o(Ct),hardBreakTrailing:o(Ct),htmlFlow:o(Zt,l),htmlFlowData:ue,htmlText:o(Zt,l),htmlTextData:ue,image:o(jt),label:l,link:o(zn),listItem:o(pn),listItemValue:y,listOrdered:o(ar,g),listUnordered:o(ar),paragraph:o(Wr),reference:R,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(ye),strong:o(Zr),thematicBreak:o(Ra)},exit:{atxHeading:f(),atxHeadingSequence:D,autolink:f(),autolinkEmail:He,autolinkProtocol:Me,blockQuote:f(),characterEscapeValue:pe,characterReferenceMarkerHexadecimal:Pe,characterReferenceMarkerNumeric:Pe,characterReferenceValue:_e,characterReference:qe,codeFenced:f(C),codeFencedFence:k,codeFencedFenceInfo:x,codeFencedFenceMeta:_,codeFlowValue:pe,codeIndented:f(S),codeText:f(ie),codeTextData:pe,data:pe,definition:f(),definitionDestinationString:A,definitionLabelString:T,definitionTitleString:I,emphasis:f(),hardBreakEscape:f(oe),hardBreakTrailing:f(oe),htmlFlow:f(se),htmlFlowData:pe,htmlText:f(G),htmlTextData:pe,image:f(ce),label:W,labelText:V,lineEnding:re,link:f(he),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Ee,resourceDestinationString:N,resourceTitleString:M,resource:B,setextHeading:f(ne),setextHeadingLineSequence:H,setextHeadingText:L,strong:f(),thematicBreak:f()}};G_(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(q){let ae={type:"root",children:[]};const ke={stack:[ae],tokenStack:[],config:t,enter:c,exit:d,buffer:l,resume:h,data:n},Re=[];let Ue=-1;for(;++Ue<q.length;)if(q[Ue][1].type==="listOrdered"||q[Ue][1].type==="listUnordered")if(q[Ue][0]==="enter")Re.push(Ue);else{const ot=Re.pop();Ue=s(q,ot,Ue)}for(Ue=-1;++Ue<q.length;){const ot=t[q[Ue][0]];Y_.call(ot,q[Ue][1].type)&&ot[q[Ue][1].type].call(Object.assign({sliceSerialize:q[Ue][2].sliceSerialize},ke),q[Ue][1])}if(ke.tokenStack.length>0){const ot=ke.tokenStack[ke.tokenStack.length-1];(ot[1]||d1).call(ke,void 0,ot[0])}for(ae.position={start:ga(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:ga(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},Ue=-1;++Ue<t.transforms.length;)ae=t.transforms[Ue](ae)||ae;return ae}function s(q,ae,ke){let Re=ae-1,Ue=-1,ot=!1,kn,en,$n,Yt;for(;++Re<=ke;){const xt=q[Re];switch(xt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{xt[0]==="enter"?Ue++:Ue--,Yt=void 0;break}case"lineEndingBlank":{xt[0]==="enter"&&(kn&&!Yt&&!Ue&&!$n&&($n=Re),Yt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Yt=void 0}if(!Ue&&xt[0]==="enter"&&xt[1].type==="listItemPrefix"||Ue===-1&&xt[0]==="exit"&&(xt[1].type==="listUnordered"||xt[1].type==="listOrdered")){if(kn){let It=Re;for(en=void 0;It--;){const gt=q[It];if(gt[1].type==="lineEnding"||gt[1].type==="lineEndingBlank"){if(gt[0]==="exit")continue;en&&(q[en][1].type="lineEndingBlank",ot=!0),gt[1].type="lineEnding",en=It}else if(!(gt[1].type==="linePrefix"||gt[1].type==="blockQuotePrefix"||gt[1].type==="blockQuotePrefixWhitespace"||gt[1].type==="blockQuoteMarker"||gt[1].type==="listItemIndent"))break}$n&&(!en||$n<en)&&(kn._spread=!0),kn.end=Object.assign({},en?q[en][1].start:xt[1].end),q.splice(en||Re,0,["exit",kn,xt[2]]),Re++,ke++}if(xt[1].type==="listItemPrefix"){const It={type:"listItem",_spread:!1,start:Object.assign({},xt[1].start),end:void 0};kn=It,q.splice(Re,0,["enter",It,xt[2]]),Re++,ke++,$n=void 0,Yt=!0}}}return q[ae][1]._spread=ot,ke}function o(q,ae){return ke;function ke(Re){c.call(this,q(Re),Re),ae&&ae.call(this,Re)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(q,ae,ke){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([ae,ke||void 0]),q.position={start:ga(ae.start),end:void 0}}function f(q){return ae;function ae(ke){q&&q.call(this,ke),d.call(this,ke)}}function d(q,ae){const ke=this.stack.pop(),Re=this.tokenStack.pop();if(Re)Re[0].type!==q.type&&(ae?ae.call(this,q,Re[0]):(Re[1]||d1).call(this,q,Re[0]));else throw new Error("Cannot close `"+q.type+"` ("+vo({start:q.start,end:q.end})+"): its not open");ke.position.end=ga(q.end)}function h(){return e5(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(q){if(this.data.expectingFirstListItemValue){const ae=this.stack[this.stack.length-2];ae.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function x(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.lang=q}function _(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.meta=q}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=q.replace(/(\r?\n|\r)$/g,"")}function T(q){const ae=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ae,ke.identifier=ti(this.sliceSerialize(q)).toLowerCase()}function I(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.title=q}function A(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.url=q}function D(q){const ae=this.stack[this.stack.length-1];if(!ae.depth){const ke=this.sliceSerialize(q).length;ae.depth=ke}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function H(q){const ae=this.stack[this.stack.length-1];ae.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function ne(){this.data.setextHeadingSlurpLineEnding=void 0}function ue(q){const ke=this.stack[this.stack.length-1].children;let Re=ke[ke.length-1];(!Re||Re.type!=="text")&&(Re=Pa(),Re.position={start:ga(q.start),end:void 0},ke.push(Re)),this.stack.push(Re)}function pe(q){const ae=this.stack.pop();ae.value+=this.sliceSerialize(q),ae.position.end=ga(q.end)}function re(q){const ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ke=ae.children[ae.children.length-1];ke.position.end=ga(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ae.type)&&(ue.call(this,q),pe.call(this,q))}function oe(){this.data.atHardBreak=!0}function se(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=q}function G(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=q}function ie(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.value=q}function he(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ae,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function ce(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=ae,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function V(q){const ae=this.sliceSerialize(q),ke=this.stack[this.stack.length-2];ke.label=Q6(ae),ke.identifier=ti(ae).toLowerCase()}function W(){const q=this.stack[this.stack.length-1],ae=this.resume(),ke=this.stack[this.stack.length-1];if(this.data.inReference=!0,ke.type==="link"){const Re=q.children;ke.children=Re}else ke.alt=ae}function N(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.url=q}function M(){const q=this.resume(),ae=this.stack[this.stack.length-1];ae.title=q}function B(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function Ee(q){const ae=this.resume(),ke=this.stack[this.stack.length-1];ke.label=ae,ke.identifier=ti(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function Pe(q){this.data.characterReferenceType=q.type}function _e(q){const ae=this.sliceSerialize(q),ke=this.data.characterReferenceType;let Re;ke?(Re=F_(ae,ke==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Re=om(ae);const Ue=this.stack[this.stack.length-1];Ue.value+=Re}function qe(q){const ae=this.stack.pop();ae.position.end=ga(q.end)}function Me(q){pe.call(this,q);const ae=this.stack[this.stack.length-1];ae.url=this.sliceSerialize(q)}function He(q){pe.call(this,q);const ae=this.stack[this.stack.length-1];ae.url="mailto:"+this.sliceSerialize(q)}function ct(){return{type:"blockquote",children:[]}}function fn(){return{type:"code",lang:null,meta:null,value:""}}function _t(){return{type:"inlineCode",value:""}}function At(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ft(){return{type:"emphasis",children:[]}}function ye(){return{type:"heading",depth:0,children:[]}}function Ct(){return{type:"break"}}function Zt(){return{type:"html",value:""}}function jt(){return{type:"image",title:null,url:"",alt:null}}function zn(){return{type:"link",title:null,url:"",children:[]}}function ar(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function pn(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function Wr(){return{type:"paragraph",children:[]}}function Zr(){return{type:"strong",children:[]}}function Pa(){return{type:"text",value:""}}function Ra(){return{type:"thematicBreak"}}}function ga(e){return{line:e.line,column:e.column,offset:e.offset}}function G_(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?G_(e,r):rL(e,r)}}function rL(e,t){let n;for(n in t)if(Y_.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function d1(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+vo({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+vo({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+vo({start:t.start,end:t.end})+") is still open")}function aL(e){const t=this;t.parser=n;function n(r){return tL(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function sL(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function iL(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function oL(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s}function lL(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function uL(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cL(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=mi(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let l,c=e.footnoteCounts.get(r);c===void 0?(c=0,e.footnoteOrder.push(r),l=e.footnoteOrder.length):l=o+1,c+=1,e.footnoteCounts.set(r,c);const f={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,f);const d={type:"element",tagName:"sup",properties:{},children:[f]};return e.patch(t,d),e.applyData(t,d)}function dL(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fL(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function J_(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const l=s[s.length-1];return l&&l.type==="text"?l.value+=r:s.push({type:"text",value:r}),s}function pL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return J_(e,t);const s={src:mi(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function hL(e,t){const n={src:mi(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function mL(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function gL(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return J_(e,t);const s={href:mi(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function yL(e,t){const n={href:mi(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function vL(e,t,n){const r=e.all(t),s=n?xL(n):K_(t),o={},l=[];if(typeof t.checked=="boolean"){const h=r[0];let g;h&&h.type==="element"&&h.tagName==="p"?g=h:(g={type:"element",tagName:"p",properties:{},children:[]},r.unshift(g)),g.children.length>0&&g.children.unshift({type:"text",value:" "}),g.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<r.length;){const h=r[c];(s||c!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!s?l.push(...h.children):l.push(h)}const f=r[r.length-1];f&&(s||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`});const d={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,d),e.applyData(t,d)}function xL(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=K_(n[r])}return t}function K_(e){const t=e.spread;return t??e.children.length>1}function wL(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const l=r[s];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function bL(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _L(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kL(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function SL(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],l),s.push(l)}if(n.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},c=rm(t.children[1]),f=P_(t.children[t.children.length-1]);c&&f&&(l.position={start:c,end:f}),s.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function CL(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",l=n&&n.type==="table"?n.align:void 0,c=l?l.length:t.children.length;let f=-1;const d=[];for(;++f<c;){const g=t.children[f],y={},x=l?l[f]:void 0;x&&(y.align=x);let _={type:"element",tagName:o,properties:y,children:[]};g&&(_.children=e.all(g),e.patch(g,_),_=e.applyData(g,_)),d.push(_)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(d,!0)};return e.patch(t,h),e.applyData(t,h)}function EL(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const f1=9,p1=32;function TL(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push(h1(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push(h1(t.slice(s),s>0,!1)),o.join("")}function h1(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===f1||o===p1;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===f1||o===p1;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function IL(e,t){const n={type:"text",value:TL(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function NL(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const OL={blockquote:sL,break:iL,code:oL,delete:lL,emphasis:uL,footnoteReference:cL,heading:dL,html:fL,imageReference:pL,image:hL,inlineCode:mL,linkReference:gL,link:yL,listItem:vL,list:wL,paragraph:bL,root:_L,strong:kL,table:SL,tableCell:EL,tableRow:CL,text:IL,thematicBreak:NL,toml:Ou,yaml:Ou,definition:Ou,footnoteDefinition:Ou};function Ou(){}const X_=-1,Dc=0,wo=1,mc=2,cm=3,dm=4,fm=5,pm=6,Q_=7,ek=8,m1=typeof self=="object"?self:globalThis,PL=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,l]=t[s];switch(o){case Dc:case X_:return n(l,s);case wo:{const c=n([],s);for(const f of l)c.push(r(f));return c}case mc:{const c=n({},s);for(const[f,d]of l)c[r(f)]=r(d);return c}case cm:return n(new Date(l),s);case dm:{const{source:c,flags:f}=l;return n(new RegExp(c,f),s)}case fm:{const c=n(new Map,s);for(const[f,d]of l)c.set(r(f),r(d));return c}case pm:{const c=n(new Set,s);for(const f of l)c.add(r(f));return c}case Q_:{const{name:c,message:f}=l;return n(new m1[c](f),s)}case ek:return n(BigInt(l),s);case"BigInt":return n(Object(BigInt(l)),s);case"ArrayBuffer":return n(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return n(new DataView(c),l)}}return n(new m1[o](l),s)};return r},g1=e=>PL(new Map,e)(0),Vs="",{toString:RL}={},{keys:AL}=Object,io=e=>{const t=typeof e;if(t!=="object"||!e)return[Dc,t];const n=RL.call(e).slice(8,-1);switch(n){case"Array":return[wo,Vs];case"Object":return[mc,Vs];case"Date":return[cm,Vs];case"RegExp":return[dm,Vs];case"Map":return[fm,Vs];case"Set":return[pm,Vs];case"DataView":return[wo,n]}return n.includes("Array")?[wo,n]:n.includes("Error")?[Q_,n]:[mc,n]},Pu=([e,t])=>e===Dc&&(t==="function"||t==="symbol"),jL=(e,t,n,r)=>{const s=(l,c)=>{const f=r.push(l)-1;return n.set(c,f),f},o=l=>{if(n.has(l))return n.get(l);let[c,f]=io(l);switch(c){case Dc:{let h=l;switch(f){case"bigint":c=ek,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+f);h=null;break;case"undefined":return s([X_],l)}return s([c,h],l)}case wo:{if(f){let y=l;return f==="DataView"?y=new Uint8Array(l.buffer):f==="ArrayBuffer"&&(y=new Uint8Array(l)),s([f,[...y]],l)}const h=[],g=s([c,h],l);for(const y of l)h.push(o(y));return g}case mc:{if(f)switch(f){case"BigInt":return s([f,l.toString()],l);case"Boolean":case"Number":case"String":return s([f,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const h=[],g=s([c,h],l);for(const y of AL(l))(e||!Pu(io(l[y])))&&h.push([o(y),o(l[y])]);return g}case cm:return s([c,l.toISOString()],l);case dm:{const{source:h,flags:g}=l;return s([c,{source:h,flags:g}],l)}case fm:{const h=[],g=s([c,h],l);for(const[y,x]of l)(e||!(Pu(io(y))||Pu(io(x))))&&h.push([o(y),o(x)]);return g}case pm:{const h=[],g=s([c,h],l);for(const y of l)(e||!Pu(io(y)))&&h.push(o(y));return g}}const{message:d}=l;return s([c,{name:f,message:d}],l)};return o},y1=(e,{json:t,lossy:n}={})=>{const r=[];return jL(!(t||n),!!t,new Map,r)(e),r},gc=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?g1(y1(e,t)):structuredClone(e):(e,t)=>g1(y1(e,t));function DL(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function ML(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function LL(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||DL,r=e.options.footnoteBackLabel||ML,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let f=-1;for(;++f<e.footnoteOrder.length;){const d=e.footnoteById.get(e.footnoteOrder[f]);if(!d)continue;const h=e.all(d),g=String(d.identifier).toUpperCase(),y=mi(g.toLowerCase());let x=0;const _=[],k=e.footnoteCounts.get(g);for(;k!==void 0&&++x<=k;){_.length>0&&_.push({type:"text",value:" "});let T=typeof n=="string"?n:n(f,x);typeof T=="string"&&(T={type:"text",value:T}),_.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+y+(x>1?"-"+x:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(f,x),className:["data-footnote-backref"]},children:Array.isArray(T)?T:[T]})}const C=h[h.length-1];if(C&&C.type==="element"&&C.tagName==="p"){const T=C.children[C.children.length-1];T&&T.type==="text"?T.value+=" ":C.children.push({type:"text",value:" "}),C.children.push(..._)}else h.push(..._);const S={type:"element",tagName:"li",properties:{id:t+"fn-"+y},children:e.wrap(h,!0)};e.patch(d,S),c.push(S)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...gc(l),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const tk=function(e){if(e==null)return UL;if(typeof e=="function")return Mc(e);if(typeof e=="object")return Array.isArray(e)?FL(e):zL(e);if(typeof e=="string")return $L(e);throw new Error("Expected function, string, or object as test")};function FL(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=tk(e[n]);return Mc(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function zL(e){const t=e;return Mc(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function $L(e){return Mc(t);function t(n){return n&&n.type===e}}function Mc(e){return t;function t(n,r,s){return!!(BL(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function UL(){return!0}function BL(e){return e!==null&&typeof e=="object"&&"type"in e}const nk=[],HL=!0,v1=!1,qL="skip";function VL(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=tk(s),l=r?-1:1;c(e,void 0,[])();function c(f,d,h){const g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){const x=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+(f.type+(x?"<"+x+">":""))+")"})}return y;function y(){let x=nk,_,k,C;if((!t||o(f,d,h[h.length-1]||void 0))&&(x=WL(n(f,h)),x[0]===v1))return x;if("children"in f&&f.children){const S=f;if(S.children&&x[0]!==qL)for(k=(r?S.children.length:-1)+l,C=h.concat(S);k>-1&&k<S.children.length;){const T=S.children[k];if(_=c(T,k,C)(),_[0]===v1)return _;k=typeof _[1]=="number"?_[1]:k+l}}return x}}}function WL(e){return Array.isArray(e)?e:typeof e=="number"?[HL,e]:e==null?nk:[e]}function rk(e,t,n,r){let s,o,l;typeof t=="function"?(o=void 0,l=t,s=n):(o=t,l=n,s=r),VL(e,o,c,s);function c(f,d){const h=d[d.length-1],g=h?h.children.indexOf(f):void 0;return l(f,g,h)}}const ch={}.hasOwnProperty,ZL={};function YL(e,t){const n=t||ZL,r=new Map,s=new Map,o=new Map,l={...OL,...n.handlers},c={all:d,applyData:JL,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:l,one:f,options:n,patch:GL,wrap:XL};return rk(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const g=h.type==="definition"?r:s,y=String(h.identifier).toUpperCase();g.has(y)||g.set(y,h)}}),c;function f(h,g){const y=h.type,x=c.handlers[y];if(ch.call(c.handlers,y)&&x)return x(c,h,g);if(c.options.passThrough&&c.options.passThrough.includes(y)){if("children"in h){const{children:k,...C}=h,S=gc(C);return S.children=c.all(h),S}return gc(h)}return(c.options.unknownHandler||KL)(c,h,g)}function d(h){const g=[];if("children"in h){const y=h.children;let x=-1;for(;++x<y.length;){const _=c.one(y[x],h);if(_){if(x&&y[x-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=x1(_.value)),!Array.isArray(_)&&_.type==="element")){const k=_.children[0];k&&k.type==="text"&&(k.value=x1(k.value))}Array.isArray(_)?g.push(..._):g.push(_)}}}return g}}function GL(e,t){e.position&&(t.position=OM(e))}function JL(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const l="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:l}}n.type==="element"&&o&&Object.assign(n.properties,gc(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function KL(e,t){const n=t.data||{},r="value"in t&&!(ch.call(n,"hProperties")||ch.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function XL(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function x1(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function w1(e,t){const n=YL(e,t),r=n.one(e,void 0),s=LL(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function QL(e,t){return e&&"run"in e?async function(n,r){const s=w1(n,{file:r,...t});await e.run(s,r)}:function(n,r){return w1(n,{file:r,...e||t})}}function b1(e){if(e)throw e}var ip,_1;function e9(){if(_1)return ip;_1=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,s=function(d){return typeof Array.isArray=="function"?Array.isArray(d):t.call(d)==="[object Array]"},o=function(d){if(!d||t.call(d)!=="[object Object]")return!1;var h=e.call(d,"constructor"),g=d.constructor&&d.constructor.prototype&&e.call(d.constructor.prototype,"isPrototypeOf");if(d.constructor&&!h&&!g)return!1;var y;for(y in d);return typeof y>"u"||e.call(d,y)},l=function(d,h){n&&h.name==="__proto__"?n(d,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):d[h.name]=h.newValue},c=function(d,h){if(h==="__proto__")if(e.call(d,h)){if(r)return r(d,h).value}else return;return d[h]};return ip=function f(){var d,h,g,y,x,_,k=arguments[0],C=1,S=arguments.length,T=!1;for(typeof k=="boolean"&&(T=k,k=arguments[1]||{},C=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});C<S;++C)if(d=arguments[C],d!=null)for(h in d)g=c(k,h),y=c(d,h),k!==y&&(T&&y&&(o(y)||(x=s(y)))?(x?(x=!1,_=g&&s(g)?g:[]):_=g&&o(g)?g:{},l(k,{name:h,newValue:f(T,_,y)})):typeof y<"u"&&l(k,{name:h,newValue:y}));return k},ip}var t9=e9();const op=ui(t9);function dh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function n9(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const l=s.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...s);function c(f,...d){const h=e[++o];let g=-1;if(f){l(f);return}for(;++g<s.length;)(d[g]===null||d[g]===void 0)&&(d[g]=s[g]);s=d,h?r9(h,c)(...d):l(null,...d)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function r9(e,t){let n;return r;function r(...l){const c=e.length>l.length;let f;c&&l.push(s);try{f=e.apply(this,l)}catch(d){const h=d;if(c&&n)throw h;return s(h)}c||(f&&f.then&&typeof f.then=="function"?f.then(o,s):f instanceof Error?s(f):o(f))}function s(l,...c){n||(n=!0,t(l,...c))}function o(l){s(null,l)}}const cr={basename:a9,dirname:s9,extname:i9,join:o9,sep:"/"};function a9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');hl(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let l=-1,c=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else l<0&&(o=!0,l=s+1),c>-1&&(e.codePointAt(s)===t.codePointAt(c--)?c<0&&(r=s):(c=-1,r=l));return n===r?r=l:r<0&&(r=e.length),e.slice(n,r)}function s9(e){if(hl(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function i9(e){hl(e);let t=e.length,n=-1,r=0,s=-1,o=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){r=t+1;break}continue}n<0&&(l=!0,n=t+1),c===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function o9(...e){let t=-1,n;for(;++t<e.length;)hl(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":l9(n)}function l9(e){hl(e);const t=e.codePointAt(0)===47;let n=u9(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function u9(e,t){let n="",r=0,s=-1,o=0,l=-1,c,f;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(s===l-1||o===1))if(s!==l-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(f=n.lastIndexOf("/"),f!==n.length-1){f<0?(n="",r=0):(n=n.slice(0,f),r=n.length-1-n.lastIndexOf("/")),s=l,o=0;continue}}else if(n.length>0){n="",r=0,s=l,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,l):n=e.slice(s+1,l),r=l-s-1;s=l,o=0}else c===46&&o>-1?o++:o=-1}return n}function hl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const c9={cwd:d9};function d9(){return"/"}function fh(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function f9(e){if(typeof e=="string")e=new URL(e);else if(!fh(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return p9(e)}function p9(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const lp=["history","path","basename","stem","extname","dirname"];class ak{constructor(t){let n;t?fh(t)?n={path:t}:typeof t=="string"||h9(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":c9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<lp.length;){const o=lp[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)lp.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?cr.basename(this.path):void 0}set basename(t){cp(t,"basename"),up(t,"basename"),this.path=cr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?cr.dirname(this.path):void 0}set dirname(t){k1(this.basename,"dirname"),this.path=cr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?cr.extname(this.path):void 0}set extname(t){if(up(t,"extname"),k1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=cr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){fh(t)&&(t=f9(t)),cp(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?cr.basename(this.path,this.extname):void 0}set stem(t){cp(t,"stem"),up(t,"stem"),this.path=cr.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new Wt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function up(e,t){if(e&&e.includes(cr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+cr.sep+"`")}function cp(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function k1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function h9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const m9=function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},g9={}.hasOwnProperty;class hm extends m9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=n9()}copy(){const t=new hm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(op(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(pp("data",this.frozen),this.namespace[t]=n,this):g9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(pp("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ru(t),r=this.parser||this.Parser;return dp("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),dp("process",this.parser||this.Parser),fp("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,l){const c=Ru(t),f=r.parse(c);r.run(f,c,function(h,g,y){if(h||!g||!y)return d(h);const x=g,_=r.stringify(x,y);x9(_)?y.value=_:y.result=_,d(h,y)});function d(h,g){h||!g?l(h):o?o(g):n(void 0,g)}}}processSync(t){let n=!1,r;return this.freeze(),dp("processSync",this.parser||this.Parser),fp("processSync",this.compiler||this.Compiler),this.process(t,s),C1("processSync","process",n),r;function s(o,l){n=!0,b1(o),r=l}}run(t,n,r){S1(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(l,c){const f=Ru(n);s.run(t,f,d);function d(h,g,y){const x=g||t;h?c(h):l?l(x):r(void 0,x,y)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),C1("runSync","run",r),s;function o(l,c){b1(l),s=c,r=!0}}stringify(t,n){this.freeze();const r=Ru(n),s=this.compiler||this.Compiler;return fp("stringify",s),S1(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(pp("use",this.frozen),t!=null)if(typeof t=="function")f(t,n);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(d){if(typeof d=="function")f(d,[]);else if(typeof d=="object")if(Array.isArray(d)){const[h,...g]=d;f(h,g)}else l(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function l(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(d.plugins),d.settings&&(s.settings=op(!0,s.settings,d.settings))}function c(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){const g=d[h];o(g)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function f(d,h){let g=-1,y=-1;for(;++g<r.length;)if(r[g][0]===d){y=g;break}if(y===-1)r.push([d,...h]);else if(h.length>0){let[x,..._]=h;const k=r[y][1];dh(k)&&dh(x)&&(x=op(!0,k,x)),r[y]=[d,x,..._]}}}}const y9=new hm().freeze();function dp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function fp(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function pp(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function S1(e){if(!dh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function C1(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ru(e){return v9(e)?e:new ak(e)}function v9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function x9(e){return typeof e=="string"||w9(e)}function w9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const b9="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",E1=[],T1={allowDangerousHtml:!0},_9=/^(https?|ircs?|mailto|xmpp)$/i,k9=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Au(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",s=e.className,o=e.components,l=e.disallowedElements,c=e.rehypePlugins||E1,f=e.remarkPlugins||E1,d=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...T1}:T1,h=e.skipHtml,g=e.unwrapDisallowed,y=e.urlTransform||S9,x=y9().use(aL).use(f).use(QL,d).use(c),_=new ak;typeof r=="string"&&(_.value=r);for(const T of k9)Object.hasOwn(e,T.from)&&(""+T.from+(T.to?"use `"+T.to+"` instead":"remove it")+b9+T.id,void 0);const k=x.parse(_);let C=x.runSync(k,_);return s&&(C={type:"element",tagName:"div",properties:{className:s},children:C.type==="root"?C.children:[C]}),rk(C,S),MM(C,{Fragment:b.Fragment,components:o,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function S(T,I,A){if(T.type==="raw"&&A&&typeof I=="number")return h?A.children.splice(I,1):A.children[I]={type:"text",value:T.value},I;if(T.type==="element"){let D;for(D in rp)if(Object.hasOwn(rp,D)&&Object.hasOwn(T.properties,D)){const L=T.properties[D],H=rp[D];(H===null||H.includes(T.tagName))&&(T.properties[D]=y(String(L||""),D,T))}}if(T.type==="element"){let D=t?!t.includes(T.tagName):l?l.includes(T.tagName):!1;if(!D&&n&&typeof I=="number"&&(D=!n(T,I,A)),D&&A&&typeof I=="number")return g&&T.children?A.children.splice(I,1,...T.children):A.children.splice(I,1),I}}}function S9(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||_9.test(e.slice(0,t))?e:""}const yc=({chat:e,maxWidth:t})=>{const[n,r]=O.useState(!0),s=Ac(),o=O.useMemo(()=>{if(!e.text)return{response:""};if(!e.text.includes("<think>"))return{response:e.text};if(e.text.includes("<think>")&&e.text.includes("</think>")){const[l,c,f]=e.text.match(/<think>(.*?)<\/think>(.*)/s)||[];return{thinking:c,response:f}}if(e.text.includes("<think>")){const[l,c]=e.text.match(/<think>(.*)$/s)||[];return{thinking:c,isThinking:!0}}return{response:e.text}},[e.text]);return e.role==="user"?b.jsx("div",{className:`${t||""} group pt-12 px-4 lg:px-0`,children:b.jsxs("div",{className:"flex justify-end items-start gap-4",children:[b.jsx("div",{className:"",children:b.jsx(Ge,{theme:"custom",isOutline:!0,isSmall:!0,className:"opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 p-2 hover:text-red-500",onClick:()=>s==null?void 0:s.actions.chat.delete(e.id),children:b.jsx(Ve,{icon:qu})})}),b.jsx("div",{className:"max-w-lg px-4 rounded-xl bg-base-200",children:b.jsxs("div",{className:"markdown",children:[o.thinking&&b.jsxs(b.Fragment,{children:[b.jsx(Ge,{theme:"ghost",isSmall:!0,onClick:()=>r(!n),className:`mb-2 ${o.isThinking?"animate-pulse":""}`,children:n?"Hide thinking":"Show thinking"}),n&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"opacity-50 mb-6 max-w-full",children:b.jsx(Au,{children:o.thinking})})})]}),o.response&&b.jsx(Au,{children:o.response})]})})]})}):b.jsx("div",{className:`${t||""} group pt-4 px-4 lg:px-0`,children:b.jsxs("div",{className:"flex flex-row gap-2 items-start",children:[b.jsx("div",{className:"flex-grow",children:b.jsxs("div",{className:"markdown",children:[!e.text&&b.jsx(b.Fragment,{children:b.jsx(Ve,{icon:Xa,spin:!0})}),o.thinking&&b.jsxs(b.Fragment,{children:[b.jsx(Ge,{theme:"custom",isSmall:!0,onClick:()=>r(!n),className:`mb-2 ${o.isThinking?"animate-pulse":""}`,children:n?"Hide thinking":"Show thinking"}),n&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"opacity-50 mb-6",children:b.jsx(Au,{children:o.thinking})})})]}),o.response&&b.jsx(Au,{children:o.response})]})}),b.jsx("div",{className:"",children:b.jsx(Ge,{theme:"custom",isOutline:!0,isSmall:!0,className:"opacity-0 group-hover:opacity-100 -translate-x-2 group-hover:translate-x-0 p-2 hover:text-red-500",onClick:()=>s==null?void 0:s.actions.chat.delete(e.id),children:b.jsx(Ve,{icon:qu})})})]})})},hp="max-w-3xl w-full mx-2 lg:mx-auto",C9=()=>{const e=Hr(),t=di(),n=Ac(),r=n==null?void 0:n.conversation,s=n==null?void 0:n.chats,o=hr.useRef(null),l=em(),[c,f]=O.useState(!1),d=hr.useRef(!1),h=hr.useRef(null),[g,y]=O.useState(void 0),x=hr.useRef(!1),[_,k]=O.useState("");O.useEffect(()=>{o.current&&o.current.scrollTo({top:o.current.scrollHeight,behavior:"smooth"})},[n==null?void 0:n.chats,g]);const C=O.useCallback(I=>{y(I.fullText)},[]),S=O.useCallback(async I=>{if(c||d.current)return;const A=I||_;if(!A.trim())return;const D=await(n==null?void 0:n.actions.chat.add({role:"user",text:A}));if(!D){alert("Failed to send message");return}if(!r){alert("Invalid conversation");return}if(!n.selectedConfig){alert("Invalid config");return}try{f(!0),d.current=!0,k(""),setTimeout(()=>{var H;(H=h.current)==null||H.focus()},0);const L=await l.actions.streamMessage({aiService:n.selectedConfig,modelName:r.modelName||"",text:A,chats:[...s,D],streamingCallback:C});d.current=!1,f(!1),y(void 0),L&&(await(n==null?void 0:n.actions.chat.add({role:"assistant",text:L})),setTimeout(()=>{o.current&&o.current.scrollTo({top:o.current.scrollHeight,behavior:"smooth"})},20))}catch(L){f(!1),d.current=!1,console.error("Failed to generate AI response",L),alert("Failed to generate AI response")}},[c,_,n==null?void 0:n.actions.chat,n.selectedConfig,r,l.actions,s,C]);O.useEffect(()=>{var A;!r||n.isLoading||!((A=e.state)!=null&&A.initialMessage)||x.current||d.current||parseInt(e.pathname.split("/").pop()||"0")!==r.id||(x.current=!0,t(e.pathname,{replace:!0}),S(e.state.initialMessage))},[r,n.isLoading,e.pathname,e.state,t,S]);const T=async I=>{I.preventDefault(),await S()};return b.jsx("div",{className:"w-full h-full",children:b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",ref:o,children:[b.jsx("div",{className:"h-8"}),s.map(I=>b.jsx(yc,{chat:I,maxWidth:hp},I.id)),(g||c)&&b.jsx(b.Fragment,{children:b.jsx(yc,{maxWidth:hp,chat:{id:-1,role:"assistant",text:g||"",createdAt:Date.now(),conversationId:(r==null?void 0:r.id)||0}})}),!n.selectedConfig&&b.jsx("p",{className:"text-red-500 text-center",children:"No config"}),b.jsx("div",{className:"h-12"})]}),b.jsx("form",{onSubmit:T,className:"py-4 relative",children:b.jsxs("div",{className:`${hp} flex gap-2 bg-base-100 rounded-xl`,children:[b.jsx(Oc,{id:"chat-input",ref:h,autoFocus:!0,disabled:c,maxRows:6,value:_,onChange:I=>{c||k(I.target.value)},onSubmit:S,className:`flex-1 border-transparent ${c?"opacity-50":""}`,placeholder:"Type your message..."}),b.jsx(Ge,{isLoading:c,type:"submit",theme:"custom",className:"absolute right-2 top-2 opacity-0",children:"Send"})]})})]})})},E9=()=>{var A;const e=Ac(),t=e==null?void 0:e.conversation,n=e==null?void 0:e.chats,r=hr.useRef(null),s=em(),[o,l]=O.useState(!1),c=hr.useRef(!1),[f,d]=O.useState(void 0),[h,g]=O.useState(""),[y,x]=O.useState(""),[_,k]=O.useState("");O.useEffect(()=>{r.current&&r.current.scrollTo({top:r.current.scrollHeight,behavior:"smooth"})},[n,f]);const C=O.useCallback(D=>{d(D.fullText)},[]),S=()=>{const D=window.getSelection();if(!D)return;const L=D.toString();L&&k(L)},T=O.useCallback(async()=>{var H;if(o||!h.trim()||c.current)return;const D=_?`Selected text: "${_}"

Message: ${h}`:h,L=await(e==null?void 0:e.actions.chat.add({role:"user",text:D}));if(!L||!t||!e.selectedConfig){alert("Failed to send message");return}if(!((H=e.conversation)!=null&&H.modelName)){alert("Invalid conversation");return}try{l(!0),c.current=!0;const ne=await s.actions.streamMessage({aiService:e.selectedConfig,modelName:e.conversation.modelName,chats:[...n,L],streamingCallback:C});l(!1),c.current=!1,d(void 0),ne&&(await(e==null?void 0:e.actions.chat.add({role:"assistant",text:ne})),g(""),k(""))}catch(ne){l(!1),c.current=!1,console.error("Failed to generate AI response",ne),alert("Failed to generate AI response")}},[o,h,_,e==null?void 0:e.actions.chat,e.selectedConfig,(A=e.conversation)==null?void 0:A.modelName,t,s.actions,n,C]),I=async D=>{D.preventDefault(),await T()};return b.jsxs("div",{className:"w-full h-full flex",children:[b.jsxs("div",{className:"w-[400px] min-w-[200px] max-w-[600px] flex flex-col border-r border-base-300",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1",ref:r,children:[b.jsx("div",{className:"h-8"}),n.map(D=>b.jsx("div",{className:`${D.role==="user"?"bg-base-300":""}`,children:b.jsx(yc,{chat:D,maxWidth:"max-w-full mx-4"})},D.id)),f&&b.jsx("div",{className:"bg-base-300",children:b.jsx(yc,{maxWidth:"max-w-full mx-4",chat:{id:-1,role:"assistant",text:f,createdAt:Date.now(),conversationId:(t==null?void 0:t.id)||0}})})]}),b.jsxs("form",{onSubmit:I,className:"p-4 bg-base-200",children:[_&&b.jsxs("div",{className:"mb-2 p-2 bg-base-300 rounded text-sm",children:[b.jsx("div",{className:"font-semibold text-xs",children:"Selected text:"}),b.jsx("div",{className:"truncate",children:_})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx(Oc,{id:"chat-input",autoFocus:!0,disabled:o,maxRows:3,value:h,onChange:D=>!o&&g(D.target.value),className:`flex-1 px-3 py-2 border-transparent ${o?"opacity-50":""}`,placeholder:"Type a message...",onSubmit:T}),b.jsx(Ge,{type:"submit",theme:"custom",className:"opacity-0 absolute right-0 top-0 h-0 w-0",children:"Send"})]})]})]}),b.jsx("div",{className:"flex-1 h-full rounded-r-6xl border-l border-base-100",children:b.jsx("textarea",{value:y,onChange:D=>x(D.target.value),onSelect:S,className:"w-full h-full resize-none p-4 pt-12 focus:outline-none border-0",placeholder:"Enter or paste your text here..."})})]})},T9=({toggleMenu:e,isMenuOpen:t,conversationId:n})=>{var f,d,h,g;const r=Ac(),s=r==null?void 0:r.conversation,o=O.useRef(void 0),[l,c]=O.useState(!1);return kr(),O.useEffect(()=>{n&&(r!=null&&r.isLoading||o.current!==parseInt(n)&&(r==null||r.actions.getByConversationId(parseInt(n)),o.current=parseInt(n)))},[n,r==null?void 0:r.actions,r==null?void 0:r.isLoading]),O.useEffect(()=>{var y;r!=null&&r.selectedConfig&&((y=r==null?void 0:r.selectedConfig)==null||y.service)},[r==null?void 0:r.selectedConfig,r==null?void 0:r.configChecker]),r!=null&&r.isLoading||(r==null?void 0:r.isLoading)===void 0?b.jsx(b.Fragment,{children:"Loading..."}):s?b.jsxs(b.Fragment,{children:[b.jsx(fw,{isOpen:l,onSelect:(y,x)=>{r==null||r.actions.update({aiServiceId:y.id,modelName:x||void 0}),c(!1)},onCancel:()=>c(!1)}),b.jsxs("div",{className:"absolute top-0 right-3 w-full flex flex-row gap-2 items-center ",children:[b.jsx("div",{className:"flex-grow"}),b.jsxs(Ge,{theme:"ghost",onClick:()=>c(!0),className:"rounded-tr-3xl rounded-b-none rounded-l-none flex flex-row gap-3 items-center",children:[((f=r==null?void 0:r.selectedConfig)==null?void 0:f.service)==="Ollama"&&b.jsxs(b.Fragment,{children:[(r==null?void 0:r.configChecker.isRunning)&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"})}),!(r!=null&&r.configChecker.isRunning)&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"})})]}),b.jsx("span",{children:((d=r.selectedConfig)==null?void 0:d.name)||"No config"}),((h=r.conversation)==null?void 0:h.modelName)&&b.jsx("span",{children:(g=r.conversation)==null?void 0:g.modelName})]})]}),s.type==="chat"&&b.jsx(b.Fragment,{children:b.jsx(C9,{})}),s.type==="co-authoring"&&b.jsx(b.Fragment,{children:b.jsx(E9,{})})]}):b.jsx(b.Fragment,{children:"Conversation not found"})},I9=()=>{const[e,t]=O.useState(!0),{conversationId:n}=L2(),r=O.useMemo(()=>window.location.hostname==="localhost",[]),s=()=>{t(!e)};return b.jsxs("div",{className:"h-screen relative flex overflow-hidden",children:[b.jsxs("div",{className:`absolute h-full w-64 transition-transform duration-300 ${e?"translate-x-0":"-translate-x-full"} flex flex-col`,children:[b.jsxs("div",{className:"flex justify-between items-center mt-6 pb-6",children:[b.jsx(X1,{}),b.jsx(Ge,{"aria-label":"Hide menu",theme:"ghost",onClick:s,children:b.jsx(Ve,{icon:ZC})})]}),b.jsx("div",{className:"w-full block px-3 pb-2",children:b.jsxs(Qa,{href:"/chat",theme:"primary",isButton:!0,className:"w-full",children:[b.jsx(Ve,{icon:Q1})," Chat"]})}),b.jsx("div",{className:"flex-grow w-full overflow-y-auto overflow-x-hidden",children:b.jsx(EO,{conversationId:n})}),b.jsxs("ul",{className:"menu w-full border-t border-base-100",children:[b.jsx("li",{children:b.jsxs(Qa,{href:"/settings",theme:"custom",className:"",children:[b.jsx(Ve,{icon:HC})," Settings"]})}),r&&b.jsx("li",{children:b.jsxs(Qa,{href:"/welcome",theme:"custom",className:"",children:[b.jsx(Ve,{icon:JC})," Onboarding"]})})]})]}),b.jsx("div",{className:`flex-1 transition-all duration-300 p-4 pl-0 ${e?"ml-64":"ml-0 pl-4"} relative`,children:b.jsxs("div",{id:"chat-content",className:"h-full rounded-xl overflow-hidden relative",children:[!n&&b.jsx(IO,{}),n&&b.jsx(T9,{toggleMenu:s,isMenuOpen:e,conversationId:n}),b.jsx("div",{className:"absolute top-0 left-0 flex flex-row gap-2 items-center ",children:!e&&b.jsx(Ge,{"aria-label":"Hide menu",onClick:s,theme:"ghost",children:b.jsx(Ve,{icon:YC})})})]})})]})},I1=()=>b.jsx(oM,{children:b.jsx(I9,{})}),N1=()=>{const e=di(),t=O.useRef(!1),[n,r]=O.useState(null),s=O.useCallback(async()=>{if(t.current)return;t.current=!0;const o=await Xs.getAllConfigs();r(o)},[]);return O.useEffect(()=>{s()},[s]),O.useEffect(()=>{if(n){if(n&&n.length>0){e("chat");return}e("welcome")}},[n,t,e]),b.jsx(b.Fragment,{})},ds=({children:e,title:t})=>b.jsxs("div",{className:"bg-base-200 p-4 rounded flex flex-col space-y-4",children:[t&&b.jsx("h2",{className:"text-xl",children:t}),e]}),N9=()=>{const[e,t]=O.useState(null),[n,r]=O.useState(!1),s=O.useCallback(async()=>{r(!0);try{const o=await ns.systemInfoGet();t(o)}finally{r(!1)}},[]);return O.useEffect(()=>{s()},[s]),b.jsx(ds,{title:"System Information",children:n?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ve,{icon:Xa,className:"animate-spin"}),b.jsx("span",{children:"Loading system information..."})]}):e?b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold mb-2",children:"Operating System"}),b.jsxs("div",{className:"space-y-1 text-sm",children:[b.jsxs("p",{children:["Platform: ",e.os.platform]}),b.jsxs("p",{children:["Distribution: ",e.os.distro]}),b.jsxs("p",{children:["Release: ",e.os.release]}),b.jsxs("p",{children:["Architecture: ",e.os.arch]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold mb-2",children:"CPU"}),b.jsxs("div",{className:"space-y-1 text-sm",children:[b.jsxs("p",{children:["Model: ",e.cpu.brand]}),b.jsxs("p",{children:["Manufacturer: ",e.cpu.manufacturer]}),b.jsxs("p",{children:["Cores: ",e.cpu.cores]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold mb-2",children:"Memory"}),b.jsxs("div",{className:"space-y-1 text-sm",children:[b.jsxs("p",{children:["Total: ",(e.memory.total/(1024*1024*1024)).toFixed(2)," GB"]}),b.jsxs("p",{children:["Free: ",(e.memory.free/(1024*1024*1024)).toFixed(2)," GB"]}),b.jsxs("p",{children:["Used: ",((e.memory.total-e.memory.free)/(1024*1024*1024)).toFixed(2)," GB"]})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold mb-2",children:"Storage"}),b.jsxs("div",{className:"space-y-1 text-sm",children:[b.jsxs("p",{children:["Total: ",(e.disk.total/(1024*1024*1024)).toFixed(2)," GB"]}),b.jsxs("p",{children:["Free: ",(e.disk.free/(1024*1024*1024)).toFixed(2)," GB"]}),b.jsxs("p",{children:["Used: ",((e.disk.total-e.disk.free)/(1024*1024*1024)).toFixed(2)," GB"]})]})]}),e.graphics.controllers.length>0&&b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("h3",{className:"font-bold mb-2",children:"Graphics"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.graphics.controllers.map((o,l)=>b.jsxs("div",{className:"space-y-1 text-sm",children:[b.jsxs("p",{children:["Model: ",o.model]}),o.vram>0&&b.jsxs("p",{children:["VRAM: ",(o.vram/1024).toFixed(2)," GB"]})]},l))})]})]}):b.jsx("div",{className:"text-gray-500",children:"Unable to load system information"})})},O9=({configChecker:e})=>{const t=n=>n?cw(n,{addSuffix:!0}):"Never";return b.jsxs(ds,{title:"Status",children:[b.jsxs("div",{className:"flex items-center gap-3 ",children:[b.jsx("div",{className:`w-3 h-3 rounded-full ${e.isRunning?"bg-green-500":"bg-red-500"}`}),b.jsxs("span",{className:"flex-grow",children:["Ollama Status: ",e.isRunning?"Online":"Offline"]}),b.jsx(Ge,{theme:"ghost",isLoading:e.isCheckingRunning,onClick:e.actions.checkStatus,children:b.jsx(Ve,{icon:fo,className:e.isCheckingRunning?"animate-spin":""})})]}),e.isLocalServer&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex items-center gap-3 bg-base-200 pl-8 pr-4 rounded",children:[b.jsx(Ve,{icon:e.isCheckingInstall?Xa:e.isInstalled?lv:Vu,className:`text-xl ${e.isCheckingInstall?"animate-spin":e.isInstalled?"text-green-500":"text-red-500"}`}),b.jsxs("div",{className:"flex-grow",children:[b.jsxs("span",{className:"block",children:["Ollama Installed: ",e.isInstalled?"Yes":"No"]}),b.jsxs("span",{className:"text-sm opacity-50 relative -top-2",children:["Last checked: ",t(e.lastInstallCheck)]}),e.isLocalServer&&b.jsx(b.Fragment,{children:!e.isInstalled&&b.jsxs(ds,{title:"Installation",children:[b.jsx("p",{children:"Looks like you don't have Ollama installed on your computer."}),b.jsxs("p",{children:["You can either follow the instructions on this page: ",b.jsx("a",{href:"https://ollama.com/download",target:"_blank",children:"Download Ollama yourself"}),"."]}),b.jsx("p",{children:"Or you can use the button below to install Ollama automatically."})]})})]}),b.jsx(Ge,{theme:"ghost",isLoading:e.isCheckingInstall,onClick:e.actions.checkInstall,children:b.jsx(Ve,{icon:fo,className:e.isCheckingInstall?"animate-spin":""})})]})}),b.jsxs("div",{className:"flex items-center gap-3 bg-base-200 pl-8 pr-4 rounded",children:[b.jsx(Ve,{icon:e.isCheckingRunning?Xa:e.isRunning?lv:Vu,className:`text-xl ${e.isCheckingRunning?"animate-spin":e.isRunning?"text-green-500":"text-red-500"}`}),b.jsxs("div",{className:"flex-grow",children:[b.jsxs("span",{className:"block",children:["Ollama Server Running: ",e.isRunning?"Yes":"No"]}),b.jsxs("span",{className:"text-sm opacity-50 relative -top-2",children:["Last checked: ",t(e.lastRunningCheck)]})]}),b.jsx(Ge,{theme:"ghost",isLoading:e.isCheckingRunning,onClick:e.actions.checkStatusWithPing,children:b.jsx(Ve,{icon:fo,className:e.isCheckingRunning?"animate-spin":""})})]}),b.jsxs("div",{className:"flex flex-row gap-2 items-center pt-4",children:[b.jsx(Ge,{onClick:e.actions.toggleServer,theme:"primary",isOutline:!0,disabled:e.isTogglingServer||!e.isLocalServer,children:e.isTogglingServer?b.jsxs(b.Fragment,{children:[b.jsx(Ve,{icon:Xa,className:"animate-spin mr-2"}),e.isRunning?"Stopping Server...":"Starting Server..."]}):e.isRunning?"Stop Server":"Start Server"}),!e.isLocalServer&&b.jsx("p",{className:"text-red-500",children:"This is not a local server, we cannot start and stop it."})]})]})},P9=({configChecker:e,selectedConfig:t,configs:n})=>{const[r,s]=O.useState([]),[o,l]=O.useState(!1),c=hr.useRef(!1),[f,d]=O.useState(!1),[h,g]=O.useState([]),[y,x]=O.useState(!1),_=O.useCallback(async()=>{if(c.current||!t||!e.isRunning||o)return;const S=n.find(T=>T.id===t);if(S&&S.url){c.current=!0,l(!0);try{const T=await Bx({url:S.url});c.current=!1,T.success&&s(T.models)}finally{l(!1)}}},[t,e.isRunning,o,n]);O.useEffect(()=>{!t||!e.isRunning||o||r.length>0||_()},[_,o,e.isRunning,r.length,t]);const k=async S=>{if(confirm(`Are you sure you want to remove ${S}?`))try{await ns.ollamaModelRemove(S),_()}catch(T){console.error("Error removing model:",T)}},C=O.useCallback(async()=>{if(!y){x(!0);try{const S=await ns.ollamaModelRemote();g(S),x(!1)}catch(S){x(!1),console.error(S)}}},[y]);return b.jsxs(ds,{title:"Models",children:[o&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ve,{icon:Xa,className:"animate-spin"}),b.jsx("span",{children:"Loading models..."})]})}),!o&&b.jsxs(b.Fragment,{children:[r.length===0&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"opacity-70 italic",children:"No models found"})}),r.length>0&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(S=>b.jsx("div",{className:"bg-base-300 p-4 rounded",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-bold",children:S.name}),b.jsxs("div",{className:"text-sm opacity-50",children:["Size: ",(S.size/(1024*1024*1024)).toFixed(1),"GB"]})]}),b.jsx(Ge,{theme:"danger",isSmall:!0,onClick:()=>k(S.name),children:b.jsx(Ve,{icon:qu})})]})},S.name))})})]}),b.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[b.jsxs(Ge,{theme:"primary",isOutline:!0,onClick:_,isLoading:o,children:[b.jsx(Ve,{icon:fo,className:"mr-2"}),"Refresh Models"]}),b.jsx(Ge,{theme:"primary",isOutline:!0,disabled:!0,onClick:()=>{d(!f),C()},children:"Download New Models (Coming soon)"})]}),f&&b.jsxs(b.Fragment,{children:[y&&b.jsx(b.Fragment,{children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(Ve,{icon:Xa,className:"animate-spin"}),b.jsx("span",{children:"Loading remote models..."})]})}),!y&&b.jsxs(b.Fragment,{children:[h.length===0&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"opacity-70 italic",children:"No models found"})}),h.length>0&&b.jsx(b.Fragment,{children:b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(S=>b.jsx("div",{className:"bg-base-300 p-4 rounded",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("div",{className:"font-bold",children:S.name}),b.jsx("div",{className:"text-sm opacity-50"})]}),b.jsx(Ge,{theme:"primary",isSmall:!0,onClick:()=>{},children:"Download"})]})},S.name))})})]})]})]})},R9=()=>{const[e,t]=O.useState([]),[n,r]=O.useState(null),s=O.useRef(!1),o=hr.useRef(null),l=O.useMemo(()=>e.find(h=>h.id===n),[e,n]),c=pw({config:l}),{isRunning:f}=c;O.useEffect(()=>{l&&o.current!==l.id&&(c.isCheckingInstall||c.isCheckingRunning||(o.current=l.id,c.actions.checkStatus()))},[c.actions,l,c.isCheckingInstall,c.isCheckingRunning]);const d=O.useCallback(async()=>{if(s.current)return;s.current=!0;const h=await Xs.getAllConfigs();t(h),h.length>0&&(n||r(h[0].id)),s.current=!1},[n]);return O.useEffect(()=>{d()},[d]),b.jsxs("div",{className:"space-y-8",children:[b.jsx(ds,{title:"Test configuration",children:b.jsx(Ph,{label:"Select LLM Configuration",value:(n==null?void 0:n.toString())||"",onChange:h=>r(parseInt(h.target.value)),options:[{value:"",label:"Select LLM Configuration",disabled:!0},...e.map(h=>({value:h.id.toString(),label:h.name}))]})}),n&&b.jsxs(b.Fragment,{children:[b.jsx(O9,{configChecker:c}),f&&b.jsx(b.Fragment,{children:b.jsx(P9,{configChecker:c,selectedConfig:n,configs:e})})]}),b.jsx(N9,{})]})},A9=()=>{const[e,t]=O.useState(!1),[n,r]=O.useState(!1),[s,o]=O.useState(!1),l=async()=>{try{t(!0);const f=["llm-configs","conversations","folders"],d={};for(const x of f){const _=mo(x);d[x]=await _.getAll()}if(s){const x=mo("chats");d.chats=await x.getAll()}else d.chats=[];const h=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),g=URL.createObjectURL(h),y=document.createElement("a");y.href=g,y.download=`juicebox-backup-${new Date().toISOString()}.json`,document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(g)}catch(f){console.error("Export failed:",f),alert("Export failed. Please try again.")}finally{t(!1)}},c=async f=>{var d;try{r(!0);const h=(d=f.target.files)==null?void 0:d[0];if(!h)return;const g=await h.text(),y=JSON.parse(g);if(!(_=>typeof _=="object"&&_!==null&&["llm-configs","conversations","folders","chats"].every(C=>C in _&&Array.isArray(_[C])))(y))throw new Error("Invalid import data format");for(const[_,k]of Object.entries(y)){const C=mo(_);for(const S of k)await C.create(S)}alert("Import successful! Please refresh the page.")}catch(h){console.error("Import failed:",h),alert("Import failed. Please check the file format and try again.")}finally{r(!1),f.target&&(f.target.value="")}};return b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"checkbox",id:"includeChats",checked:s,onChange:f=>o(f.target.checked),className:""}),b.jsx("label",{htmlFor:"includeChats",className:"t",children:"Include chat history in export"})]}),b.jsxs("div",{className:"flex gap-4 items-center",children:[b.jsxs(Ge,{theme:"ghost",onClick:l,disabled:e,className:"flex items-center gap-2",children:[b.jsx(Ve,{icon:qC,className:"h-5 w-5"}),e?"Exporting...":"Export Data"]}),b.jsxs("div",{className:"relative",children:[b.jsxs(Ge,{theme:"ghost",disabled:n,className:"flex items-center gap-2",children:[b.jsx(Ve,{icon:VC,className:"h-5 w-5"}),n?"Importing...":"Import Data"]}),b.jsx("input",{"aria-label":"Import Data",type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".json",onChange:c,disabled:n})]})]})]})},j9=()=>b.jsxs("div",{className:"space-y-6 max-w-2xl w-full mx-auto",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Settings"}),b.jsx(ds,{title:"Import <> Export",children:b.jsx(A9,{})})]}),D9=[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"cupcake",label:"Cupcake"},{value:"bumblebee",label:"Bumblebee"},{value:"emerald",label:"Emerald"},{value:"corporate",label:"Corporate"},{value:"synthwave",label:"Synthwave"},{value:"retro",label:"Retro"},{value:"cyberpunk",label:"Cyberpunk"},{value:"valentine",label:"Valentine"},{value:"halloween",label:"Halloween"},{value:"garden",label:"Garden"},{value:"forest",label:"Forest"},{value:"aqua",label:"Aqua"},{value:"lofi",label:"Lo-Fi"},{value:"pastel",label:"Pastel"},{value:"fantasy",label:"Fantasy"},{value:"wireframe",label:"Wireframe"},{value:"black",label:"Black"},{value:"luxury",label:"Luxury"},{value:"dracula",label:"Dracula"},{value:"cmyk",label:"CMYK"},{value:"autumn",label:"Autumn"},{value:"business",label:"Business"},{value:"acid",label:"Acid"},{value:"lemonade",label:"Lemonade"},{value:"night",label:"Night"},{value:"coffee",label:"Coffee"},{value:"winter",label:"Winter"},{value:"dim",label:"Dim"},{value:"nord",label:"Nord"},{value:"sunset",label:"Sunset"}],O1=()=>{const{userSettings:e,actions:t}=kr(),n=r=>{const s=r.target.value;t.userSettings.update({theme:s})};return b.jsxs("div",{className:"w-full max-w-2xl mx-auto px-4 space-y-8",children:[b.jsx("div",{className:"flex flex-row gap-2 items-center pt-8",children:b.jsx("h1",{className:"text-2xl font-bold flex-grow",children:"Theme Settings"})}),b.jsx(ds,{title:"Theme selection",children:b.jsx(Ph,{label:"Select Theme",options:D9,value:(e==null?void 0:e.theme)||"dim",onChange:n,description:"Choose your preferred theme for the application"})})]})},P1=({id:e,title:t,message:n,children:r})=>b.jsx("dialog",{id:e,className:"modal",children:b.jsxs("div",{className:"modal-box",children:[b.jsx("form",{method:"dialog",children:b.jsx("button",{className:"btn btn-sm btn-circle btn-ghost absolute right-2 top-2",children:""})}),t&&b.jsx("h3",{className:"font-bold text-lg",children:t}),n&&b.jsx("p",{className:"py-4",children:n}),r]})}),R1=e=>{const t=document.getElementById(e);t==null||t.showModal()},A1=e=>{const t=document.getElementById(e);t==null||t.close()},mp="new-config-modal",gp="edit-config-modal",M9=()=>{const{aiServices:e,actions:t}=kr(),[n,r]=O.useState(null),s=async c=>{await t.aiServices.delete({configId:c})},o=async c=>{try{await t.aiServices.setDefault({configId:c})}catch(f){console.error("Error setting default config:",f)}},l=[...Mx].sort().reduce((c,f)=>{const d=e.filter(h=>h.service===f);return d.length>0&&(c[f]=d),c},{});return b.jsxs("div",{className:"w-full max-w-2xl mx-auto px-4 space-y-8",children:[b.jsxs("div",{className:"flex flex-row gap-2 items-center pt-8",children:[b.jsx("h1",{className:"text-2xl font-bold flex-grow",children:"Your AI services"}),b.jsx(Ge,{onClick:()=>R1(mp),theme:"primary",className:"flex-shrink-0",children:"Add service"})]}),b.jsx("p",{className:"italic",children:"Adding services allows you to connect to different AI models. We recommend Ollama for the most privacy."}),b.jsx("div",{className:"space-y-8",children:Object.entries(l).map(([c,f])=>b.jsxs("div",{className:"space-y-4",children:[b.jsx("h2",{className:"text-xl font-semibold border-b border-base-300 pb-2",children:c}),b.jsx("ul",{className:"space-y-4",children:f.map(d=>b.jsxs("li",{className:"bg-base-200 p-4 rounded-xl flex flex-col gap-4",children:[b.jsx("p",{className:"text-xl font-black",children:d.name}),b.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[b.jsx(Ge,{onClick:()=>{r(d),R1(gp)},theme:"secondary",isOutline:!0,isSmall:!0,children:"Edit"}),b.jsx(Ge,{onClick:()=>s(d.id),theme:"danger",isOutline:!0,isSmall:!0,children:b.jsx(Ve,{icon:qu})}),b.jsx("div",{className:"flex-grow"}),b.jsx(Hx,{name:"default-config",label:"Default",theme:d.isDefault?"primary":"custom",isSmall:!0,setTextToLeft:!0,checked:!!d.isDefault,onChange:h=>{h.target.checked&&o(d.id)},value:d.id.toString()})]})]},d.id))})]},c))}),b.jsx(P1,{id:mp,title:"Create New Config",children:b.jsx(Fp,{afterSubmit:()=>{A1(mp)}})}),b.jsx(P1,{id:gp,title:"Edit Config",children:n&&b.jsx(Fp,{initialValues:n,configId:n.id,afterSubmit:()=>{r(null),A1(gp)}})})]})},L9=()=>{const t=Hr().pathname.split("/settings/")[1]||"theme";return b.jsxs("div",{className:"flex h-screen",children:[b.jsxs("nav",{className:"min-w-3xs max-w-[250px] w-full bg-base-200 pt-8 flex flex-col gap-4",children:[b.jsx(X1,{}),b.jsxs(Qa,{href:"/chat",theme:"custom",className:"w-full text-left px-4 pr-2 py-2 hover:bg-base-300",children:[b.jsx(Ve,{icon:$C,className:"mr-1"})," Back"]}),b.jsx("ul",{className:"menu rounded-box w-full",children:[{href:"/settings/theme",text:"Theme"},{href:"/settings/llm-configs",text:"Your AI services"},{href:"/settings/settings",text:"General options"},{href:"/settings/ollama",text:"Local Ollama"}].map(({href:n,text:r})=>{const s=t===n.replace("/settings/","");return b.jsx("li",{children:b.jsx(Qa,{theme:"custom",href:n,className:s?"bg-primary/30":"",children:r})},n)})})]}),b.jsx("main",{className:"w-full p-4 h-full bg-base-100 overflow-y-auto",children:b.jsxs(V1,{children:[b.jsx(Dn,{path:"/",element:b.jsx(O1,{})}),b.jsx(Dn,{path:"/theme",element:b.jsx(O1,{})}),b.jsx(Dn,{path:"/llm-configs",element:b.jsx(M9,{})}),b.jsx(Dn,{path:"/settings",element:b.jsx(j9,{})}),b.jsx(Dn,{path:"/ollama",element:b.jsx(R9,{})})]})})]})};function F9(){return b.jsx(vI,{children:b.jsx(bC,{children:b.jsxs(V1,{children:[b.jsx(Dn,{path:"/",element:b.jsx(N1,{})}),b.jsx(Dn,{path:"/chat",element:b.jsx(I1,{})}),b.jsx(Dn,{path:"/chat/:conversationId",element:b.jsx(I1,{})}),b.jsx(Dn,{path:"/welcome",element:b.jsx(_I,{})}),b.jsx(Dn,{path:"/settings/*",element:b.jsx(L9,{})}),b.jsx(Dn,{path:"*",element:b.jsx(N1,{})})," "]})})})}o2.createRoot(document.getElementById("root")).render(b.jsx(O.StrictMode,{children:b.jsx(F9,{})}));
